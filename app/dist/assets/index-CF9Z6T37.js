var RF=Object.defineProperty;var IF=(e,t,r)=>t in e?RF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ke=(e,t,r)=>IF(e,typeof t!="symbol"?t+"":t,r);function NF(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var F0={exports:{}},Xu={},q0={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT;function LF(){if(RT)return ot;RT=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(V){return V===null||typeof V!="object"?null:(V=m&&V[m]||V["@@iterator"],typeof V=="function"?V:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function b(V,K,se){this.props=V,this.context=K,this.refs=S,this.updater=se||y}b.prototype.isReactComponent={},b.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},b.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function k(){}k.prototype=b.prototype;function C(V,K,se){this.props=V,this.context=K,this.refs=S,this.updater=se||y}var $=C.prototype=new k;$.constructor=C,w($,b.prototype),$.isPureReactComponent=!0;var L=Array.isArray,T=Object.prototype.hasOwnProperty,P={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function N(V,K,se){var he,me={},ne=null,ve=null;if(K!=null)for(he in K.ref!==void 0&&(ve=K.ref),K.key!==void 0&&(ne=""+K.key),K)T.call(K,he)&&!O.hasOwnProperty(he)&&(me[he]=K[he]);var we=arguments.length-2;if(we===1)me.children=se;else if(1<we){for(var de=Array(we),Ae=0;Ae<we;Ae++)de[Ae]=arguments[Ae+2];me.children=de}if(V&&V.defaultProps)for(he in we=V.defaultProps,we)me[he]===void 0&&(me[he]=we[he]);return{$$typeof:e,type:V,key:ne,ref:ve,props:me,_owner:P.current}}function R(V,K){return{$$typeof:e,type:V.type,key:K,ref:V.ref,props:V.props,_owner:V._owner}}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function j(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(se){return K[se]})}var A=/\/+/g;function I(V,K){return typeof V=="object"&&V!==null&&V.key!=null?j(""+V.key):K.toString(36)}function B(V,K,se,he,me){var ne=typeof V;(ne==="undefined"||ne==="boolean")&&(V=null);var ve=!1;if(V===null)ve=!0;else switch(ne){case"string":case"number":ve=!0;break;case"object":switch(V.$$typeof){case e:case t:ve=!0}}if(ve)return ve=V,me=me(ve),V=he===""?"."+I(ve,0):he,L(me)?(se="",V!=null&&(se=V.replace(A,"$&/")+"/"),B(me,K,se,"",function(Ae){return Ae})):me!=null&&(D(me)&&(me=R(me,se+(!me.key||ve&&ve.key===me.key?"":(""+me.key).replace(A,"$&/")+"/")+V)),K.push(me)),1;if(ve=0,he=he===""?".":he+":",L(V))for(var we=0;we<V.length;we++){ne=V[we];var de=he+I(ne,we);ve+=B(ne,K,se,de,me)}else if(de=g(V),typeof de=="function")for(V=de.call(V),we=0;!(ne=V.next()).done;)ne=ne.value,de=he+I(ne,we++),ve+=B(ne,K,se,de,me);else if(ne==="object")throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return ve}function F(V,K,se){if(V==null)return V;var he=[],me=0;return B(V,he,"","",function(ne){return K.call(se,ne,me++)}),he}function U(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(se){(V._status===0||V._status===-1)&&(V._status=1,V._result=se)},function(se){(V._status===0||V._status===-1)&&(V._status=2,V._result=se)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var Y={current:null},W={transition:null},Q={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:W,ReactCurrentOwner:P};function Z(){throw Error("act(...) is not supported in production builds of React.")}return ot.Children={map:F,forEach:function(V,K,se){F(V,function(){K.apply(this,arguments)},se)},count:function(V){var K=0;return F(V,function(){K++}),K},toArray:function(V){return F(V,function(K){return K})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},ot.Component=b,ot.Fragment=r,ot.Profiler=a,ot.PureComponent=C,ot.StrictMode=n,ot.Suspense=d,ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,ot.act=Z,ot.cloneElement=function(V,K,se){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var he=w({},V.props),me=V.key,ne=V.ref,ve=V._owner;if(K!=null){if(K.ref!==void 0&&(ne=K.ref,ve=P.current),K.key!==void 0&&(me=""+K.key),V.type&&V.type.defaultProps)var we=V.type.defaultProps;for(de in K)T.call(K,de)&&!O.hasOwnProperty(de)&&(he[de]=K[de]===void 0&&we!==void 0?we[de]:K[de])}var de=arguments.length-2;if(de===1)he.children=se;else if(1<de){we=Array(de);for(var Ae=0;Ae<de;Ae++)we[Ae]=arguments[Ae+2];he.children=we}return{$$typeof:e,type:V.type,key:me,ref:ne,props:he,_owner:ve}},ot.createContext=function(V){return V={$$typeof:i,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:o,_context:V},V.Consumer=V},ot.createElement=N,ot.createFactory=function(V){var K=N.bind(null,V);return K.type=V,K},ot.createRef=function(){return{current:null}},ot.forwardRef=function(V){return{$$typeof:c,render:V}},ot.isValidElement=D,ot.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:U}},ot.memo=function(V,K){return{$$typeof:f,type:V,compare:K===void 0?null:K}},ot.startTransition=function(V){var K=W.transition;W.transition={};try{V()}finally{W.transition=K}},ot.unstable_act=Z,ot.useCallback=function(V,K){return Y.current.useCallback(V,K)},ot.useContext=function(V){return Y.current.useContext(V)},ot.useDebugValue=function(){},ot.useDeferredValue=function(V){return Y.current.useDeferredValue(V)},ot.useEffect=function(V,K){return Y.current.useEffect(V,K)},ot.useId=function(){return Y.current.useId()},ot.useImperativeHandle=function(V,K,se){return Y.current.useImperativeHandle(V,K,se)},ot.useInsertionEffect=function(V,K){return Y.current.useInsertionEffect(V,K)},ot.useLayoutEffect=function(V,K){return Y.current.useLayoutEffect(V,K)},ot.useMemo=function(V,K){return Y.current.useMemo(V,K)},ot.useReducer=function(V,K,se){return Y.current.useReducer(V,K,se)},ot.useRef=function(V){return Y.current.useRef(V)},ot.useState=function(V){return Y.current.useState(V)},ot.useSyncExternalStore=function(V,K,se){return Y.current.useSyncExternalStore(V,K,se)},ot.useTransition=function(){return Y.current.useTransition()},ot.version="18.3.1",ot}var IT;function nC(){return IT||(IT=1,q0.exports=LF()),q0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function BF(){if(NT)return Xu;NT=1;var e=nC(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(c,d,f){var p,m={},g=null,y=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(y=d.ref);for(p in d)n.call(d,p)&&!o.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:t,type:c,key:g,ref:y,props:m,_owner:a.current}}return Xu.Fragment=r,Xu.jsx=i,Xu.jsxs=i,Xu}var LT;function zF(){return LT||(LT=1,F0.exports=BF()),F0.exports}var l=zF(),_=nC();const H=dt(_),FF=NF({__proto__:null,default:H},[_]);var kh={},H0={exports:{}},un={},U0={exports:{}},V0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function qF(){return BT||(BT=1,function(e){function t(W,Q){var Z=W.length;W.push(Q);e:for(;0<Z;){var V=Z-1>>>1,K=W[V];if(0<a(K,Q))W[V]=Q,W[Z]=K,Z=V;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var Q=W[0],Z=W.pop();if(Z!==Q){W[0]=Z;e:for(var V=0,K=W.length,se=K>>>1;V<se;){var he=2*(V+1)-1,me=W[he],ne=he+1,ve=W[ne];if(0>a(me,Z))ne<K&&0>a(ve,me)?(W[V]=ve,W[ne]=Z,V=ne):(W[V]=me,W[he]=Z,V=he);else if(ne<K&&0>a(ve,Z))W[V]=ve,W[ne]=Z,V=ne;else break e}}return Q}function a(W,Q){var Z=W.sortIndex-Q.sortIndex;return Z!==0?Z:W.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var d=[],f=[],p=1,m=null,g=3,y=!1,w=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(W){for(var Q=r(f);Q!==null;){if(Q.callback===null)n(f);else if(Q.startTime<=W)n(f),Q.sortIndex=Q.expirationTime,t(d,Q);else break;Q=r(f)}}function L(W){if(S=!1,$(W),!w)if(r(d)!==null)w=!0,U(T);else{var Q=r(f);Q!==null&&Y(L,Q.startTime-W)}}function T(W,Q){w=!1,S&&(S=!1,k(N),N=-1),y=!0;var Z=g;try{for($(Q),m=r(d);m!==null&&(!(m.expirationTime>Q)||W&&!j());){var V=m.callback;if(typeof V=="function"){m.callback=null,g=m.priorityLevel;var K=V(m.expirationTime<=Q);Q=e.unstable_now(),typeof K=="function"?m.callback=K:m===r(d)&&n(d),$(Q)}else n(d);m=r(d)}if(m!==null)var se=!0;else{var he=r(f);he!==null&&Y(L,he.startTime-Q),se=!1}return se}finally{m=null,g=Z,y=!1}}var P=!1,O=null,N=-1,R=5,D=-1;function j(){return!(e.unstable_now()-D<R)}function A(){if(O!==null){var W=e.unstable_now();D=W;var Q=!0;try{Q=O(!0,W)}finally{Q?I():(P=!1,O=null)}}else P=!1}var I;if(typeof C=="function")I=function(){C(A)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,F=B.port2;B.port1.onmessage=A,I=function(){F.postMessage(null)}}else I=function(){b(A,0)};function U(W){O=W,P||(P=!0,I())}function Y(W,Q){N=b(function(){W(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,U(T))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(W){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var Z=g;g=Q;try{return W()}finally{g=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,Q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Z=g;g=W;try{return Q()}finally{g=Z}},e.unstable_scheduleCallback=function(W,Q,Z){var V=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?V+Z:V):Z=V,W){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Z+K,W={id:p++,callback:Q,priorityLevel:W,startTime:Z,expirationTime:K,sortIndex:-1},Z>V?(W.sortIndex=Z,t(f,W),r(d)===null&&W===r(f)&&(S?(k(N),N=-1):S=!0,Y(L,Z-V))):(W.sortIndex=K,t(d,W),w||y||(w=!0,U(T))),W},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(W){var Q=g;return function(){var Z=g;g=Q;try{return W.apply(this,arguments)}finally{g=Z}}}}(V0)),V0}var zT;function HF(){return zT||(zT=1,U0.exports=qF()),U0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function UF(){if(FT)return un;FT=1;var e=nC(),t=HF();function r(s){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function o(s,u){i(s,u),i(s+"Capture",u)}function i(s,u){for(a[s]=u,s=0;s<u.length;s++)n.add(u[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(s){return d.call(m,s)?!0:d.call(p,s)?!1:f.test(s)?m[s]=!0:(p[s]=!0,!1)}function y(s,u,h,x){if(h!==null&&h.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return x?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,u,h,x){if(u===null||typeof u>"u"||y(s,u,h,x))return!0;if(x)return!1;if(h!==null)switch(h.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function S(s,u,h,x,E,M,q){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=x,this.attributeNamespace=E,this.mustUseProperty=h,this.propertyName=s,this.type=u,this.sanitizeURL=M,this.removeEmptyString=q}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0];b[u]=new S(u,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function C(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var u=s.replace(k,C);b[u]=new S(u,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var u=s.replace(k,C);b[u]=new S(u,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(k,C);b[u]=new S(u,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function $(s,u,h,x){var E=b.hasOwnProperty(u)?b[u]:null;(E!==null?E.type!==0:x||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,h,E,x)&&(h=null),x||E===null?g(u)&&(h===null?s.removeAttribute(u):s.setAttribute(u,""+h)):E.mustUseProperty?s[E.propertyName]=h===null?E.type===3?!1:"":h:(u=E.attributeName,x=E.attributeNamespace,h===null?s.removeAttribute(u):(E=E.type,h=E===3||E===4&&h===!0?"":""+h,x?s.setAttributeNS(x,u,h):s.setAttribute(u,h))))}var L=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),P=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),j=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),W=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Object.assign,V;function K(s){if(V===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);V=u&&u[1]||""}return`
`+V+s}var se=!1;function he(s,u){if(!s||se)return"";se=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ie){var x=ie}Reflect.construct(s,[],u)}else{try{u.call()}catch(ie){x=ie}s.call(u.prototype)}else{try{throw Error()}catch(ie){x=ie}s()}}catch(ie){if(ie&&x&&typeof ie.stack=="string"){for(var E=ie.stack.split(`
`),M=x.stack.split(`
`),q=E.length-1,X=M.length-1;1<=q&&0<=X&&E[q]!==M[X];)X--;for(;1<=q&&0<=X;q--,X--)if(E[q]!==M[X]){if(q!==1||X!==1)do if(q--,X--,0>X||E[q]!==M[X]){var ee=`
`+E[q].replace(" at new "," at ");return s.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",s.displayName)),ee}while(1<=q&&0<=X);break}}}finally{se=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?K(s):""}function me(s){switch(s.tag){case 5:return K(s.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return s=he(s.type,!1),s;case 11:return s=he(s.type.render,!1),s;case 1:return s=he(s.type,!0),s;default:return""}}function ne(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case P:return"Portal";case R:return"Profiler";case N:return"StrictMode";case I:return"Suspense";case B:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case j:return(s.displayName||"Context")+".Consumer";case D:return(s._context.displayName||"Context")+".Provider";case A:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return u=s.displayName||null,u!==null?u:ne(s.type)||"Memo";case U:u=s._payload,s=s._init;try{return ne(s(u))}catch{}}return null}function ve(s){var u=s.type;switch(s.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=u.render,s=s.displayName||s.name||"",u.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(u);case 8:return u===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function we(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function de(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ae(s){var u=de(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),x=""+s[u];if(!s.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var E=h.get,M=h.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return E.call(this)},set:function(q){x=""+q,M.call(this,q)}}),Object.defineProperty(s,u,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function(q){x=""+q},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function _e(s){s._valueTracker||(s._valueTracker=Ae(s))}function le(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var h=u.getValue(),x="";return s&&(x=de(s)?s.checked?"true":"false":s.value),s=x,s!==h?(u.setValue(s),!0):!1}function Je(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function G(s,u){var h=u.checked;return Z({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function pe(s,u){var h=u.defaultValue==null?"":u.defaultValue,x=u.checked!=null?u.checked:u.defaultChecked;h=we(u.value!=null?u.value:h),s._wrapperState={initialChecked:x,initialValue:h,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ce(s,u){u=u.checked,u!=null&&$(s,"checked",u,!1)}function He(s,u){Ce(s,u);var h=we(u.value),x=u.type;if(h!=null)x==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(x==="submit"||x==="reset"){s.removeAttribute("value");return}u.hasOwnProperty("value")?re(s,u.type,h):u.hasOwnProperty("defaultValue")&&re(s,u.type,we(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(s.defaultChecked=!!u.defaultChecked)}function je(s,u,h){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var x=u.type;if(!(x!=="submit"&&x!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+s._wrapperState.initialValue,h||u===s.value||(s.value=u),s.defaultValue=u}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function re(s,u,h){(u!=="number"||Je(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var Se=Array.isArray;function ye(s,u,h,x){if(s=s.options,u){u={};for(var E=0;E<h.length;E++)u["$"+h[E]]=!0;for(h=0;h<s.length;h++)E=u.hasOwnProperty("$"+s[h].value),s[h].selected!==E&&(s[h].selected=E),E&&x&&(s[h].defaultSelected=!0)}else{for(h=""+we(h),u=null,E=0;E<s.length;E++){if(s[E].value===h){s[E].selected=!0,x&&(s[E].defaultSelected=!0);return}u!==null||s[E].disabled||(u=s[E])}u!==null&&(u.selected=!0)}}function Pe(s,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return Z({},u,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ze(s,u){var h=u.value;if(h==null){if(h=u.children,u=u.defaultValue,h!=null){if(u!=null)throw Error(r(92));if(Se(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),h=u}s._wrapperState={initialValue:we(h)}}function lt(s,u){var h=we(u.value),x=we(u.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),u.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),x!=null&&(s.defaultValue=""+x)}function We(s){var u=s.textContent;u===s._wrapperState.initialValue&&u!==""&&u!==null&&(s.value=u)}function st(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ge(s,u){return s==null||s==="http://www.w3.org/1999/xhtml"?st(u):s==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var De,xt=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,h,x,E){MSApp.execUnsafeLocalFunction(function(){return s(u,h,x,E)})}:s}(function(s,u){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=u;else{for(De=De||document.createElement("div"),De.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=De.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}});function Nt(s,u){if(u){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=u;return}}s.textContent=u}var Qt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xr=["Webkit","ms","Moz","O"];Object.keys(Qt).forEach(function(s){xr.forEach(function(u){u=u+s.charAt(0).toUpperCase()+s.substring(1),Qt[u]=Qt[s]})});function at(s,u,h){return u==null||typeof u=="boolean"||u===""?"":h||typeof u!="number"||u===0||Qt.hasOwnProperty(s)&&Qt[s]?(""+u).trim():u+"px"}function J(s,u){s=s.style;for(var h in u)if(u.hasOwnProperty(h)){var x=h.indexOf("--")===0,E=at(h,u[h],x);h==="float"&&(h="cssFloat"),x?s.setProperty(h,E):s[h]=E}}var $e=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ve(s,u){if(u){if($e[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Lt(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lr=null;function ct(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Or=null,br=null,Bn=null;function ti(s){if(s=Iu(s)){if(typeof Or!="function")throw Error(r(280));var u=s.stateNode;u&&(u=qp(u),Or(s.stateNode,s.type,u))}}function sa(s){br?Bn?Bn.push(s):Bn=[s]:br=s}function ri(){if(br){var s=br,u=Bn;if(Bn=br=null,ti(s),u)for(s=0;s<u.length;s++)ti(u[s])}}function la(s,u){return s(u)}function co(){}var uo=!1;function Pr(s,u,h){if(uo)return s(u,h);uo=!0;try{return la(s,u,h)}finally{uo=!1,(br!==null||Bn!==null)&&(co(),ri())}}function zn(s,u){var h=s.stateNode;if(h===null)return null;var x=qp(h);if(x===null)return null;h=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Ma=!1;if(c)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Ma=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{Ma=!1}function ni(s,u,h,x,E,M,q,X,ee){var ie=Array.prototype.slice.call(arguments,3);try{u.apply(h,ie)}catch(be){this.onError(be)}}var yu=!1,bp=null,wp=!1,ix=null,q9={onError:function(s){yu=!0,bp=s}};function H9(s,u,h,x,E,M,q,X,ee){yu=!1,bp=null,ni.apply(q9,arguments)}function U9(s,u,h,x,E,M,q,X,ee){if(H9.apply(this,arguments),yu){if(yu){var ie=bp;yu=!1,bp=null}else throw Error(r(198));wp||(wp=!0,ix=ie)}}function Ji(s){var u=s,h=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,u.flags&4098&&(h=u.return),s=u.return;while(s)}return u.tag===3?h:null}function a4(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function o4(s){if(Ji(s)!==s)throw Error(r(188))}function V9(s){var u=s.alternate;if(!u){if(u=Ji(s),u===null)throw Error(r(188));return u!==s?null:s}for(var h=s,x=u;;){var E=h.return;if(E===null)break;var M=E.alternate;if(M===null){if(x=E.return,x!==null){h=x;continue}break}if(E.child===M.child){for(M=E.child;M;){if(M===h)return o4(E),s;if(M===x)return o4(E),u;M=M.sibling}throw Error(r(188))}if(h.return!==x.return)h=E,x=M;else{for(var q=!1,X=E.child;X;){if(X===h){q=!0,h=E,x=M;break}if(X===x){q=!0,x=E,h=M;break}X=X.sibling}if(!q){for(X=M.child;X;){if(X===h){q=!0,h=M,x=E;break}if(X===x){q=!0,x=M,h=E;break}X=X.sibling}if(!q)throw Error(r(189))}}if(h.alternate!==x)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:u}function i4(s){return s=V9(s),s!==null?s4(s):null}function s4(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var u=s4(s);if(u!==null)return u;s=s.sibling}return null}var l4=t.unstable_scheduleCallback,c4=t.unstable_cancelCallback,W9=t.unstable_shouldYield,Y9=t.unstable_requestPaint,tr=t.unstable_now,G9=t.unstable_getCurrentPriorityLevel,sx=t.unstable_ImmediatePriority,u4=t.unstable_UserBlockingPriority,Sp=t.unstable_NormalPriority,K9=t.unstable_LowPriority,d4=t.unstable_IdlePriority,Ep=null,Ra=null;function Q9(s){if(Ra&&typeof Ra.onCommitFiberRoot=="function")try{Ra.onCommitFiberRoot(Ep,s,void 0,(s.current.flags&128)===128)}catch{}}var ca=Math.clz32?Math.clz32:Z9,X9=Math.log,J9=Math.LN2;function Z9(s){return s>>>=0,s===0?32:31-(X9(s)/J9|0)|0}var jp=64,Cp=4194304;function vu(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function $p(s,u){var h=s.pendingLanes;if(h===0)return 0;var x=0,E=s.suspendedLanes,M=s.pingedLanes,q=h&268435455;if(q!==0){var X=q&~E;X!==0?x=vu(X):(M&=q,M!==0&&(x=vu(M)))}else q=h&~E,q!==0?x=vu(q):M!==0&&(x=vu(M));if(x===0)return 0;if(u!==0&&u!==x&&!(u&E)&&(E=x&-x,M=u&-u,E>=M||E===16&&(M&4194240)!==0))return u;if(x&4&&(x|=h&16),u=s.entangledLanes,u!==0)for(s=s.entanglements,u&=x;0<u;)h=31-ca(u),E=1<<h,x|=s[h],u&=~E;return x}function ez(s,u){switch(s){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tz(s,u){for(var h=s.suspendedLanes,x=s.pingedLanes,E=s.expirationTimes,M=s.pendingLanes;0<M;){var q=31-ca(M),X=1<<q,ee=E[q];ee===-1?(!(X&h)||X&x)&&(E[q]=ez(X,u)):ee<=u&&(s.expiredLanes|=X),M&=~X}}function lx(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function f4(){var s=jp;return jp<<=1,!(jp&4194240)&&(jp=64),s}function cx(s){for(var u=[],h=0;31>h;h++)u.push(s);return u}function xu(s,u,h){s.pendingLanes|=u,u!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,u=31-ca(u),s[u]=h}function rz(s,u){var h=s.pendingLanes&~u;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=u,s.mutableReadLanes&=u,s.entangledLanes&=u,u=s.entanglements;var x=s.eventTimes;for(s=s.expirationTimes;0<h;){var E=31-ca(h),M=1<<E;u[E]=0,x[E]=-1,s[E]=-1,h&=~M}}function ux(s,u){var h=s.entangledLanes|=u;for(s=s.entanglements;h;){var x=31-ca(h),E=1<<x;E&u|s[x]&u&&(s[x]|=u),h&=~E}}var $t=0;function p4(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var h4,dx,m4,g4,y4,fx=!1,Tp=[],ai=null,oi=null,ii=null,bu=new Map,wu=new Map,si=[],nz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v4(s,u){switch(s){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":bu.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(u.pointerId)}}function Su(s,u,h,x,E,M){return s===null||s.nativeEvent!==M?(s={blockedOn:u,domEventName:h,eventSystemFlags:x,nativeEvent:M,targetContainers:[E]},u!==null&&(u=Iu(u),u!==null&&dx(u)),s):(s.eventSystemFlags|=x,u=s.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),s)}function az(s,u,h,x,E){switch(u){case"focusin":return ai=Su(ai,s,u,h,x,E),!0;case"dragenter":return oi=Su(oi,s,u,h,x,E),!0;case"mouseover":return ii=Su(ii,s,u,h,x,E),!0;case"pointerover":var M=E.pointerId;return bu.set(M,Su(bu.get(M)||null,s,u,h,x,E)),!0;case"gotpointercapture":return M=E.pointerId,wu.set(M,Su(wu.get(M)||null,s,u,h,x,E)),!0}return!1}function x4(s){var u=Zi(s.target);if(u!==null){var h=Ji(u);if(h!==null){if(u=h.tag,u===13){if(u=a4(h),u!==null){s.blockedOn=u,y4(s.priority,function(){m4(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function kp(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var h=hx(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var x=new h.constructor(h.type,h);lr=x,h.target.dispatchEvent(x),lr=null}else return u=Iu(h),u!==null&&dx(u),s.blockedOn=h,!1;u.shift()}return!0}function b4(s,u,h){kp(s)&&h.delete(u)}function oz(){fx=!1,ai!==null&&kp(ai)&&(ai=null),oi!==null&&kp(oi)&&(oi=null),ii!==null&&kp(ii)&&(ii=null),bu.forEach(b4),wu.forEach(b4)}function Eu(s,u){s.blockedOn===u&&(s.blockedOn=null,fx||(fx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oz)))}function ju(s){function u(E){return Eu(E,s)}if(0<Tp.length){Eu(Tp[0],s);for(var h=1;h<Tp.length;h++){var x=Tp[h];x.blockedOn===s&&(x.blockedOn=null)}}for(ai!==null&&Eu(ai,s),oi!==null&&Eu(oi,s),ii!==null&&Eu(ii,s),bu.forEach(u),wu.forEach(u),h=0;h<si.length;h++)x=si[h],x.blockedOn===s&&(x.blockedOn=null);for(;0<si.length&&(h=si[0],h.blockedOn===null);)x4(h),h.blockedOn===null&&si.shift()}var cl=L.ReactCurrentBatchConfig,Ap=!0;function iz(s,u,h,x){var E=$t,M=cl.transition;cl.transition=null;try{$t=1,px(s,u,h,x)}finally{$t=E,cl.transition=M}}function sz(s,u,h,x){var E=$t,M=cl.transition;cl.transition=null;try{$t=4,px(s,u,h,x)}finally{$t=E,cl.transition=M}}function px(s,u,h,x){if(Ap){var E=hx(s,u,h,x);if(E===null)Px(s,u,x,Op,h),v4(s,x);else if(az(E,s,u,h,x))x.stopPropagation();else if(v4(s,x),u&4&&-1<nz.indexOf(s)){for(;E!==null;){var M=Iu(E);if(M!==null&&h4(M),M=hx(s,u,h,x),M===null&&Px(s,u,x,Op,h),M===E)break;E=M}E!==null&&x.stopPropagation()}else Px(s,u,x,null,h)}}var Op=null;function hx(s,u,h,x){if(Op=null,s=ct(x),s=Zi(s),s!==null)if(u=Ji(s),u===null)s=null;else if(h=u.tag,h===13){if(s=a4(u),s!==null)return s;s=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null);return Op=s,null}function w4(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(G9()){case sx:return 1;case u4:return 4;case Sp:case K9:return 16;case d4:return 536870912;default:return 16}default:return 16}}var li=null,mx=null,Pp=null;function S4(){if(Pp)return Pp;var s,u=mx,h=u.length,x,E="value"in li?li.value:li.textContent,M=E.length;for(s=0;s<h&&u[s]===E[s];s++);var q=h-s;for(x=1;x<=q&&u[h-x]===E[M-x];x++);return Pp=E.slice(s,1<x?1-x:void 0)}function _p(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function Dp(){return!0}function E4(){return!1}function yn(s){function u(h,x,E,M,q){this._reactName=h,this._targetInst=E,this.type=x,this.nativeEvent=M,this.target=q,this.currentTarget=null;for(var X in s)s.hasOwnProperty(X)&&(h=s[X],this[X]=h?h(M):M[X]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Dp:E4,this.isPropagationStopped=E4,this}return Z(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Dp)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Dp)},persist:function(){},isPersistent:Dp}),u}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gx=yn(ul),Cu=Z({},ul,{view:0,detail:0}),lz=yn(Cu),yx,vx,$u,Mp=Z({},Cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bx,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==$u&&($u&&s.type==="mousemove"?(yx=s.screenX-$u.screenX,vx=s.screenY-$u.screenY):vx=yx=0,$u=s),yx)},movementY:function(s){return"movementY"in s?s.movementY:vx}}),j4=yn(Mp),cz=Z({},Mp,{dataTransfer:0}),uz=yn(cz),dz=Z({},Cu,{relatedTarget:0}),xx=yn(dz),fz=Z({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),pz=yn(fz),hz=Z({},ul,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),mz=yn(hz),gz=Z({},ul,{data:0}),C4=yn(gz),yz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bz(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=xz[s])?!!u[s]:!1}function bx(){return bz}var wz=Z({},Cu,{key:function(s){if(s.key){var u=yz[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=_p(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vz[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bx,charCode:function(s){return s.type==="keypress"?_p(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_p(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Sz=yn(wz),Ez=Z({},Mp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$4=yn(Ez),jz=Z({},Cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bx}),Cz=yn(jz),$z=Z({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tz=yn($z),kz=Z({},Mp,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Az=yn(kz),Oz=[9,13,27,32],wx=c&&"CompositionEvent"in window,Tu=null;c&&"documentMode"in document&&(Tu=document.documentMode);var Pz=c&&"TextEvent"in window&&!Tu,T4=c&&(!wx||Tu&&8<Tu&&11>=Tu),k4=" ",A4=!1;function O4(s,u){switch(s){case"keyup":return Oz.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P4(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var dl=!1;function _z(s,u){switch(s){case"compositionend":return P4(u);case"keypress":return u.which!==32?null:(A4=!0,k4);case"textInput":return s=u.data,s===k4&&A4?null:s;default:return null}}function Dz(s,u){if(dl)return s==="compositionend"||!wx&&O4(s,u)?(s=S4(),Pp=mx=li=null,dl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return T4&&u.locale!=="ko"?null:u.data;default:return null}}var Mz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _4(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!Mz[s.type]:u==="textarea"}function D4(s,u,h,x){sa(x),u=Bp(u,"onChange"),0<u.length&&(h=new gx("onChange","change",null,h,x),s.push({event:h,listeners:u}))}var ku=null,Au=null;function Rz(s){X4(s,0)}function Rp(s){var u=gl(s);if(le(u))return s}function Iz(s,u){if(s==="change")return u}var M4=!1;if(c){var Sx;if(c){var Ex="oninput"in document;if(!Ex){var R4=document.createElement("div");R4.setAttribute("oninput","return;"),Ex=typeof R4.oninput=="function"}Sx=Ex}else Sx=!1;M4=Sx&&(!document.documentMode||9<document.documentMode)}function I4(){ku&&(ku.detachEvent("onpropertychange",N4),Au=ku=null)}function N4(s){if(s.propertyName==="value"&&Rp(Au)){var u=[];D4(u,Au,s,ct(s)),Pr(Rz,u)}}function Nz(s,u,h){s==="focusin"?(I4(),ku=u,Au=h,ku.attachEvent("onpropertychange",N4)):s==="focusout"&&I4()}function Lz(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Rp(Au)}function Bz(s,u){if(s==="click")return Rp(u)}function zz(s,u){if(s==="input"||s==="change")return Rp(u)}function Fz(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var ua=typeof Object.is=="function"?Object.is:Fz;function Ou(s,u){if(ua(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var h=Object.keys(s),x=Object.keys(u);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var E=h[x];if(!d.call(u,E)||!ua(s[E],u[E]))return!1}return!0}function L4(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function B4(s,u){var h=L4(s);s=0;for(var x;h;){if(h.nodeType===3){if(x=s+h.textContent.length,s<=u&&x>=u)return{node:h,offset:u-s};s=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=L4(h)}}function z4(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?z4(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function F4(){for(var s=window,u=Je();u instanceof s.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)s=u.contentWindow;else break;u=Je(s.document)}return u}function jx(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}function qz(s){var u=F4(),h=s.focusedElem,x=s.selectionRange;if(u!==h&&h&&h.ownerDocument&&z4(h.ownerDocument.documentElement,h)){if(x!==null&&jx(h)){if(u=x.start,s=x.end,s===void 0&&(s=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(s,h.value.length);else if(s=(u=h.ownerDocument||document)&&u.defaultView||window,s.getSelection){s=s.getSelection();var E=h.textContent.length,M=Math.min(x.start,E);x=x.end===void 0?M:Math.min(x.end,E),!s.extend&&M>x&&(E=x,x=M,M=E),E=B4(h,M);var q=B4(h,x);E&&q&&(s.rangeCount!==1||s.anchorNode!==E.node||s.anchorOffset!==E.offset||s.focusNode!==q.node||s.focusOffset!==q.offset)&&(u=u.createRange(),u.setStart(E.node,E.offset),s.removeAllRanges(),M>x?(s.addRange(u),s.extend(q.node,q.offset)):(u.setEnd(q.node,q.offset),s.addRange(u)))}}for(u=[],s=h;s=s.parentNode;)s.nodeType===1&&u.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<u.length;h++)s=u[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Hz=c&&"documentMode"in document&&11>=document.documentMode,fl=null,Cx=null,Pu=null,$x=!1;function q4(s,u,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;$x||fl==null||fl!==Je(x)||(x=fl,"selectionStart"in x&&jx(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Pu&&Ou(Pu,x)||(Pu=x,x=Bp(Cx,"onSelect"),0<x.length&&(u=new gx("onSelect","select",null,u,h),s.push({event:u,listeners:x}),u.target=fl)))}function Ip(s,u){var h={};return h[s.toLowerCase()]=u.toLowerCase(),h["Webkit"+s]="webkit"+u,h["Moz"+s]="moz"+u,h}var pl={animationend:Ip("Animation","AnimationEnd"),animationiteration:Ip("Animation","AnimationIteration"),animationstart:Ip("Animation","AnimationStart"),transitionend:Ip("Transition","TransitionEnd")},Tx={},H4={};c&&(H4=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function Np(s){if(Tx[s])return Tx[s];if(!pl[s])return s;var u=pl[s],h;for(h in u)if(u.hasOwnProperty(h)&&h in H4)return Tx[s]=u[h];return s}var U4=Np("animationend"),V4=Np("animationiteration"),W4=Np("animationstart"),Y4=Np("transitionend"),G4=new Map,K4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ci(s,u){G4.set(s,u),o(u,[s])}for(var kx=0;kx<K4.length;kx++){var Ax=K4[kx],Uz=Ax.toLowerCase(),Vz=Ax[0].toUpperCase()+Ax.slice(1);ci(Uz,"on"+Vz)}ci(U4,"onAnimationEnd"),ci(V4,"onAnimationIteration"),ci(W4,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(Y4,"onTransitionEnd"),i("onMouseEnter",["mouseout","mouseover"]),i("onMouseLeave",["mouseout","mouseover"]),i("onPointerEnter",["pointerout","pointerover"]),i("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wz=new Set("cancel close invalid load scroll toggle".split(" ").concat(_u));function Q4(s,u,h){var x=s.type||"unknown-event";s.currentTarget=h,U9(x,u,void 0,s),s.currentTarget=null}function X4(s,u){u=(u&4)!==0;for(var h=0;h<s.length;h++){var x=s[h],E=x.event;x=x.listeners;e:{var M=void 0;if(u)for(var q=x.length-1;0<=q;q--){var X=x[q],ee=X.instance,ie=X.currentTarget;if(X=X.listener,ee!==M&&E.isPropagationStopped())break e;Q4(E,X,ie),M=ee}else for(q=0;q<x.length;q++){if(X=x[q],ee=X.instance,ie=X.currentTarget,X=X.listener,ee!==M&&E.isPropagationStopped())break e;Q4(E,X,ie),M=ee}}}if(wp)throw s=ix,wp=!1,ix=null,s}function Bt(s,u){var h=u[Nx];h===void 0&&(h=u[Nx]=new Set);var x=s+"__bubble";h.has(x)||(J4(u,s,2,!1),h.add(x))}function Ox(s,u,h){var x=0;u&&(x|=4),J4(h,s,x,u)}var Lp="_reactListening"+Math.random().toString(36).slice(2);function Du(s){if(!s[Lp]){s[Lp]=!0,n.forEach(function(h){h!=="selectionchange"&&(Wz.has(h)||Ox(h,!1,s),Ox(h,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[Lp]||(u[Lp]=!0,Ox("selectionchange",!1,u))}}function J4(s,u,h,x){switch(w4(u)){case 1:var E=iz;break;case 4:E=sz;break;default:E=px}h=E.bind(null,u,h,s),E=void 0,!Ma||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),x?E!==void 0?s.addEventListener(u,h,{capture:!0,passive:E}):s.addEventListener(u,h,!0):E!==void 0?s.addEventListener(u,h,{passive:E}):s.addEventListener(u,h,!1)}function Px(s,u,h,x,E){var M=x;if(!(u&1)&&!(u&2)&&x!==null)e:for(;;){if(x===null)return;var q=x.tag;if(q===3||q===4){var X=x.stateNode.containerInfo;if(X===E||X.nodeType===8&&X.parentNode===E)break;if(q===4)for(q=x.return;q!==null;){var ee=q.tag;if((ee===3||ee===4)&&(ee=q.stateNode.containerInfo,ee===E||ee.nodeType===8&&ee.parentNode===E))return;q=q.return}for(;X!==null;){if(q=Zi(X),q===null)return;if(ee=q.tag,ee===5||ee===6){x=M=q;continue e}X=X.parentNode}}x=x.return}Pr(function(){var ie=M,be=ct(h),Ee=[];e:{var xe=G4.get(s);if(xe!==void 0){var Ie=gx,Be=s;switch(s){case"keypress":if(_p(h)===0)break e;case"keydown":case"keyup":Ie=Sz;break;case"focusin":Be="focus",Ie=xx;break;case"focusout":Be="blur",Ie=xx;break;case"beforeblur":case"afterblur":Ie=xx;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=j4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=uz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Cz;break;case U4:case V4:case W4:Ie=pz;break;case Y4:Ie=Tz;break;case"scroll":Ie=lz;break;case"wheel":Ie=Az;break;case"copy":case"cut":case"paste":Ie=mz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=$4}var ze=(u&4)!==0,rr=!ze&&s==="scroll",ae=ze?xe!==null?xe+"Capture":null:xe;ze=[];for(var te=ie,oe;te!==null;){oe=te;var Te=oe.stateNode;if(oe.tag===5&&Te!==null&&(oe=Te,ae!==null&&(Te=zn(te,ae),Te!=null&&ze.push(Mu(te,Te,oe)))),rr)break;te=te.return}0<ze.length&&(xe=new Ie(xe,Be,null,h,be),Ee.push({event:xe,listeners:ze}))}}if(!(u&7)){e:{if(xe=s==="mouseover"||s==="pointerover",Ie=s==="mouseout"||s==="pointerout",xe&&h!==lr&&(Be=h.relatedTarget||h.fromElement)&&(Zi(Be)||Be[fo]))break e;if((Ie||xe)&&(xe=be.window===be?be:(xe=be.ownerDocument)?xe.defaultView||xe.parentWindow:window,Ie?(Be=h.relatedTarget||h.toElement,Ie=ie,Be=Be?Zi(Be):null,Be!==null&&(rr=Ji(Be),Be!==rr||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Ie=null,Be=ie),Ie!==Be)){if(ze=j4,Te="onMouseLeave",ae="onMouseEnter",te="mouse",(s==="pointerout"||s==="pointerover")&&(ze=$4,Te="onPointerLeave",ae="onPointerEnter",te="pointer"),rr=Ie==null?xe:gl(Ie),oe=Be==null?xe:gl(Be),xe=new ze(Te,te+"leave",Ie,h,be),xe.target=rr,xe.relatedTarget=oe,Te=null,Zi(be)===ie&&(ze=new ze(ae,te+"enter",Be,h,be),ze.target=oe,ze.relatedTarget=rr,Te=ze),rr=Te,Ie&&Be)t:{for(ze=Ie,ae=Be,te=0,oe=ze;oe;oe=hl(oe))te++;for(oe=0,Te=ae;Te;Te=hl(Te))oe++;for(;0<te-oe;)ze=hl(ze),te--;for(;0<oe-te;)ae=hl(ae),oe--;for(;te--;){if(ze===ae||ae!==null&&ze===ae.alternate)break t;ze=hl(ze),ae=hl(ae)}ze=null}else ze=null;Ie!==null&&Z4(Ee,xe,Ie,ze,!1),Be!==null&&rr!==null&&Z4(Ee,rr,Be,ze,!0)}}e:{if(xe=ie?gl(ie):window,Ie=xe.nodeName&&xe.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&xe.type==="file")var Fe=Iz;else if(_4(xe))if(M4)Fe=zz;else{Fe=Lz;var Ye=Nz}else(Ie=xe.nodeName)&&Ie.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(Fe=Bz);if(Fe&&(Fe=Fe(s,ie))){D4(Ee,Fe,h,be);break e}Ye&&Ye(s,xe,ie),s==="focusout"&&(Ye=xe._wrapperState)&&Ye.controlled&&xe.type==="number"&&re(xe,"number",xe.value)}switch(Ye=ie?gl(ie):window,s){case"focusin":(_4(Ye)||Ye.contentEditable==="true")&&(fl=Ye,Cx=ie,Pu=null);break;case"focusout":Pu=Cx=fl=null;break;case"mousedown":$x=!0;break;case"contextmenu":case"mouseup":case"dragend":$x=!1,q4(Ee,h,be);break;case"selectionchange":if(Hz)break;case"keydown":case"keyup":q4(Ee,h,be)}var Ge;if(wx)e:{switch(s){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else dl?O4(s,h)&&(et="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(et="onCompositionStart");et&&(T4&&h.locale!=="ko"&&(dl||et!=="onCompositionStart"?et==="onCompositionEnd"&&dl&&(Ge=S4()):(li=be,mx="value"in li?li.value:li.textContent,dl=!0)),Ye=Bp(ie,et),0<Ye.length&&(et=new C4(et,s,null,h,be),Ee.push({event:et,listeners:Ye}),Ge?et.data=Ge:(Ge=P4(h),Ge!==null&&(et.data=Ge)))),(Ge=Pz?_z(s,h):Dz(s,h))&&(ie=Bp(ie,"onBeforeInput"),0<ie.length&&(be=new C4("onBeforeInput","beforeinput",null,h,be),Ee.push({event:be,listeners:ie}),be.data=Ge))}X4(Ee,u)})}function Mu(s,u,h){return{instance:s,listener:u,currentTarget:h}}function Bp(s,u){for(var h=u+"Capture",x=[];s!==null;){var E=s,M=E.stateNode;E.tag===5&&M!==null&&(E=M,M=zn(s,h),M!=null&&x.unshift(Mu(s,M,E)),M=zn(s,u),M!=null&&x.push(Mu(s,M,E))),s=s.return}return x}function hl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Z4(s,u,h,x,E){for(var M=u._reactName,q=[];h!==null&&h!==x;){var X=h,ee=X.alternate,ie=X.stateNode;if(ee!==null&&ee===x)break;X.tag===5&&ie!==null&&(X=ie,E?(ee=zn(h,M),ee!=null&&q.unshift(Mu(h,ee,X))):E||(ee=zn(h,M),ee!=null&&q.push(Mu(h,ee,X)))),h=h.return}q.length!==0&&s.push({event:u,listeners:q})}var Yz=/\r\n?/g,Gz=/\u0000|\uFFFD/g;function e$(s){return(typeof s=="string"?s:""+s).replace(Yz,`
`).replace(Gz,"")}function zp(s,u,h){if(u=e$(u),e$(s)!==u&&h)throw Error(r(425))}function Fp(){}var _x=null,Dx=null;function Mx(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Rx=typeof setTimeout=="function"?setTimeout:void 0,Kz=typeof clearTimeout=="function"?clearTimeout:void 0,t$=typeof Promise=="function"?Promise:void 0,Qz=typeof queueMicrotask=="function"?queueMicrotask:typeof t$<"u"?function(s){return t$.resolve(null).then(s).catch(Xz)}:Rx;function Xz(s){setTimeout(function(){throw s})}function Ix(s,u){var h=u,x=0;do{var E=h.nextSibling;if(s.removeChild(h),E&&E.nodeType===8)if(h=E.data,h==="/$"){if(x===0){s.removeChild(E),ju(u);return}x--}else h!=="$"&&h!=="$?"&&h!=="$!"||x++;h=E}while(h);ju(u)}function ui(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return s}function r$(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return s;u--}else h==="/$"&&u++}s=s.previousSibling}return null}var ml=Math.random().toString(36).slice(2),Ia="__reactFiber$"+ml,Ru="__reactProps$"+ml,fo="__reactContainer$"+ml,Nx="__reactEvents$"+ml,Jz="__reactListeners$"+ml,Zz="__reactHandles$"+ml;function Zi(s){var u=s[Ia];if(u)return u;for(var h=s.parentNode;h;){if(u=h[fo]||h[Ia]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(s=r$(s);s!==null;){if(h=s[Ia])return h;s=r$(s)}return u}s=h,h=s.parentNode}return null}function Iu(s){return s=s[Ia]||s[fo],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function gl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function qp(s){return s[Ru]||null}var Lx=[],yl=-1;function di(s){return{current:s}}function zt(s){0>yl||(s.current=Lx[yl],Lx[yl]=null,yl--)}function _t(s,u){yl++,Lx[yl]=s.current,s.current=u}var fi={},Lr=di(fi),an=di(!1),es=fi;function vl(s,u){var h=s.type.contextTypes;if(!h)return fi;var x=s.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===u)return x.__reactInternalMemoizedMaskedChildContext;var E={},M;for(M in h)E[M]=u[M];return x&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=u,s.__reactInternalMemoizedMaskedChildContext=E),E}function on(s){return s=s.childContextTypes,s!=null}function Hp(){zt(an),zt(Lr)}function n$(s,u,h){if(Lr.current!==fi)throw Error(r(168));_t(Lr,u),_t(an,h)}function a$(s,u,h){var x=s.stateNode;if(u=u.childContextTypes,typeof x.getChildContext!="function")return h;x=x.getChildContext();for(var E in x)if(!(E in u))throw Error(r(108,ve(s)||"Unknown",E));return Z({},h,x)}function Up(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||fi,es=Lr.current,_t(Lr,s),_t(an,an.current),!0}function o$(s,u,h){var x=s.stateNode;if(!x)throw Error(r(169));h?(s=a$(s,u,es),x.__reactInternalMemoizedMergedChildContext=s,zt(an),zt(Lr),_t(Lr,s)):zt(an),_t(an,h)}var po=null,Vp=!1,Bx=!1;function i$(s){po===null?po=[s]:po.push(s)}function eF(s){Vp=!0,i$(s)}function pi(){if(!Bx&&po!==null){Bx=!0;var s=0,u=$t;try{var h=po;for($t=1;s<h.length;s++){var x=h[s];do x=x(!0);while(x!==null)}po=null,Vp=!1}catch(E){throw po!==null&&(po=po.slice(s+1)),l4(sx,pi),E}finally{$t=u,Bx=!1}}return null}var xl=[],bl=0,Wp=null,Yp=0,Fn=[],qn=0,ts=null,ho=1,mo="";function rs(s,u){xl[bl++]=Yp,xl[bl++]=Wp,Wp=s,Yp=u}function s$(s,u,h){Fn[qn++]=ho,Fn[qn++]=mo,Fn[qn++]=ts,ts=s;var x=ho;s=mo;var E=32-ca(x)-1;x&=~(1<<E),h+=1;var M=32-ca(u)+E;if(30<M){var q=E-E%5;M=(x&(1<<q)-1).toString(32),x>>=q,E-=q,ho=1<<32-ca(u)+E|h<<E|x,mo=M+s}else ho=1<<M|h<<E|x,mo=s}function zx(s){s.return!==null&&(rs(s,1),s$(s,1,0))}function Fx(s){for(;s===Wp;)Wp=xl[--bl],xl[bl]=null,Yp=xl[--bl],xl[bl]=null;for(;s===ts;)ts=Fn[--qn],Fn[qn]=null,mo=Fn[--qn],Fn[qn]=null,ho=Fn[--qn],Fn[qn]=null}var vn=null,xn=null,Ht=!1,da=null;function l$(s,u){var h=Wn(5,null,null,0);h.elementType="DELETED",h.stateNode=u,h.return=s,u=s.deletions,u===null?(s.deletions=[h],s.flags|=16):u.push(h)}function c$(s,u){switch(s.tag){case 5:var h=s.type;return u=u.nodeType!==1||h.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(s.stateNode=u,vn=s,xn=ui(u.firstChild),!0):!1;case 6:return u=s.pendingProps===""||u.nodeType!==3?null:u,u!==null?(s.stateNode=u,vn=s,xn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(h=ts!==null?{id:ho,overflow:mo}:null,s.memoizedState={dehydrated:u,treeContext:h,retryLane:1073741824},h=Wn(18,null,null,0),h.stateNode=u,h.return=s,s.child=h,vn=s,xn=null,!0):!1;default:return!1}}function qx(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Hx(s){if(Ht){var u=xn;if(u){var h=u;if(!c$(s,u)){if(qx(s))throw Error(r(418));u=ui(h.nextSibling);var x=vn;u&&c$(s,u)?l$(x,h):(s.flags=s.flags&-4097|2,Ht=!1,vn=s)}}else{if(qx(s))throw Error(r(418));s.flags=s.flags&-4097|2,Ht=!1,vn=s}}}function u$(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;vn=s}function Gp(s){if(s!==vn)return!1;if(!Ht)return u$(s),Ht=!0,!1;var u;if((u=s.tag!==3)&&!(u=s.tag!==5)&&(u=s.type,u=u!=="head"&&u!=="body"&&!Mx(s.type,s.memoizedProps)),u&&(u=xn)){if(qx(s))throw d$(),Error(r(418));for(;u;)l$(s,u),u=ui(u.nextSibling)}if(u$(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(u===0){xn=ui(s.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++}s=s.nextSibling}xn=null}}else xn=vn?ui(s.stateNode.nextSibling):null;return!0}function d$(){for(var s=xn;s;)s=ui(s.nextSibling)}function wl(){xn=vn=null,Ht=!1}function Ux(s){da===null?da=[s]:da.push(s)}var tF=L.ReactCurrentBatchConfig;function Nu(s,u,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var x=h.stateNode}if(!x)throw Error(r(147,s));var E=x,M=""+s;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===M?u.ref:(u=function(q){var X=E.refs;q===null?delete X[M]:X[M]=q},u._stringRef=M,u)}if(typeof s!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,s))}return s}function Kp(s,u){throw s=Object.prototype.toString.call(u),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s))}function f$(s){var u=s._init;return u(s._payload)}function p$(s){function u(ae,te){if(s){var oe=ae.deletions;oe===null?(ae.deletions=[te],ae.flags|=16):oe.push(te)}}function h(ae,te){if(!s)return null;for(;te!==null;)u(ae,te),te=te.sibling;return null}function x(ae,te){for(ae=new Map;te!==null;)te.key!==null?ae.set(te.key,te):ae.set(te.index,te),te=te.sibling;return ae}function E(ae,te){return ae=wi(ae,te),ae.index=0,ae.sibling=null,ae}function M(ae,te,oe){return ae.index=oe,s?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<te?(ae.flags|=2,te):oe):(ae.flags|=2,te)):(ae.flags|=1048576,te)}function q(ae){return s&&ae.alternate===null&&(ae.flags|=2),ae}function X(ae,te,oe,Te){return te===null||te.tag!==6?(te=R0(oe,ae.mode,Te),te.return=ae,te):(te=E(te,oe),te.return=ae,te)}function ee(ae,te,oe,Te){var Fe=oe.type;return Fe===O?be(ae,te,oe.props.children,Te,oe.key):te!==null&&(te.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===U&&f$(Fe)===te.type)?(Te=E(te,oe.props),Te.ref=Nu(ae,te,oe),Te.return=ae,Te):(Te=xh(oe.type,oe.key,oe.props,null,ae.mode,Te),Te.ref=Nu(ae,te,oe),Te.return=ae,Te)}function ie(ae,te,oe,Te){return te===null||te.tag!==4||te.stateNode.containerInfo!==oe.containerInfo||te.stateNode.implementation!==oe.implementation?(te=I0(oe,ae.mode,Te),te.return=ae,te):(te=E(te,oe.children||[]),te.return=ae,te)}function be(ae,te,oe,Te,Fe){return te===null||te.tag!==7?(te=us(oe,ae.mode,Te,Fe),te.return=ae,te):(te=E(te,oe),te.return=ae,te)}function Ee(ae,te,oe){if(typeof te=="string"&&te!==""||typeof te=="number")return te=R0(""+te,ae.mode,oe),te.return=ae,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case T:return oe=xh(te.type,te.key,te.props,null,ae.mode,oe),oe.ref=Nu(ae,null,te),oe.return=ae,oe;case P:return te=I0(te,ae.mode,oe),te.return=ae,te;case U:var Te=te._init;return Ee(ae,Te(te._payload),oe)}if(Se(te)||Q(te))return te=us(te,ae.mode,oe,null),te.return=ae,te;Kp(ae,te)}return null}function xe(ae,te,oe,Te){var Fe=te!==null?te.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Fe!==null?null:X(ae,te,""+oe,Te);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case T:return oe.key===Fe?ee(ae,te,oe,Te):null;case P:return oe.key===Fe?ie(ae,te,oe,Te):null;case U:return Fe=oe._init,xe(ae,te,Fe(oe._payload),Te)}if(Se(oe)||Q(oe))return Fe!==null?null:be(ae,te,oe,Te,null);Kp(ae,oe)}return null}function Ie(ae,te,oe,Te,Fe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return ae=ae.get(oe)||null,X(te,ae,""+Te,Fe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case T:return ae=ae.get(Te.key===null?oe:Te.key)||null,ee(te,ae,Te,Fe);case P:return ae=ae.get(Te.key===null?oe:Te.key)||null,ie(te,ae,Te,Fe);case U:var Ye=Te._init;return Ie(ae,te,oe,Ye(Te._payload),Fe)}if(Se(Te)||Q(Te))return ae=ae.get(oe)||null,be(te,ae,Te,Fe,null);Kp(te,Te)}return null}function Be(ae,te,oe,Te){for(var Fe=null,Ye=null,Ge=te,et=te=0,Er=null;Ge!==null&&et<oe.length;et++){Ge.index>et?(Er=Ge,Ge=null):Er=Ge.sibling;var mt=xe(ae,Ge,oe[et],Te);if(mt===null){Ge===null&&(Ge=Er);break}s&&Ge&&mt.alternate===null&&u(ae,Ge),te=M(mt,te,et),Ye===null?Fe=mt:Ye.sibling=mt,Ye=mt,Ge=Er}if(et===oe.length)return h(ae,Ge),Ht&&rs(ae,et),Fe;if(Ge===null){for(;et<oe.length;et++)Ge=Ee(ae,oe[et],Te),Ge!==null&&(te=M(Ge,te,et),Ye===null?Fe=Ge:Ye.sibling=Ge,Ye=Ge);return Ht&&rs(ae,et),Fe}for(Ge=x(ae,Ge);et<oe.length;et++)Er=Ie(Ge,ae,et,oe[et],Te),Er!==null&&(s&&Er.alternate!==null&&Ge.delete(Er.key===null?et:Er.key),te=M(Er,te,et),Ye===null?Fe=Er:Ye.sibling=Er,Ye=Er);return s&&Ge.forEach(function(Si){return u(ae,Si)}),Ht&&rs(ae,et),Fe}function ze(ae,te,oe,Te){var Fe=Q(oe);if(typeof Fe!="function")throw Error(r(150));if(oe=Fe.call(oe),oe==null)throw Error(r(151));for(var Ye=Fe=null,Ge=te,et=te=0,Er=null,mt=oe.next();Ge!==null&&!mt.done;et++,mt=oe.next()){Ge.index>et?(Er=Ge,Ge=null):Er=Ge.sibling;var Si=xe(ae,Ge,mt.value,Te);if(Si===null){Ge===null&&(Ge=Er);break}s&&Ge&&Si.alternate===null&&u(ae,Ge),te=M(Si,te,et),Ye===null?Fe=Si:Ye.sibling=Si,Ye=Si,Ge=Er}if(mt.done)return h(ae,Ge),Ht&&rs(ae,et),Fe;if(Ge===null){for(;!mt.done;et++,mt=oe.next())mt=Ee(ae,mt.value,Te),mt!==null&&(te=M(mt,te,et),Ye===null?Fe=mt:Ye.sibling=mt,Ye=mt);return Ht&&rs(ae,et),Fe}for(Ge=x(ae,Ge);!mt.done;et++,mt=oe.next())mt=Ie(Ge,ae,et,mt.value,Te),mt!==null&&(s&&mt.alternate!==null&&Ge.delete(mt.key===null?et:mt.key),te=M(mt,te,et),Ye===null?Fe=mt:Ye.sibling=mt,Ye=mt);return s&&Ge.forEach(function(MF){return u(ae,MF)}),Ht&&rs(ae,et),Fe}function rr(ae,te,oe,Te){if(typeof oe=="object"&&oe!==null&&oe.type===O&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case T:e:{for(var Fe=oe.key,Ye=te;Ye!==null;){if(Ye.key===Fe){if(Fe=oe.type,Fe===O){if(Ye.tag===7){h(ae,Ye.sibling),te=E(Ye,oe.props.children),te.return=ae,ae=te;break e}}else if(Ye.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===U&&f$(Fe)===Ye.type){h(ae,Ye.sibling),te=E(Ye,oe.props),te.ref=Nu(ae,Ye,oe),te.return=ae,ae=te;break e}h(ae,Ye);break}else u(ae,Ye);Ye=Ye.sibling}oe.type===O?(te=us(oe.props.children,ae.mode,Te,oe.key),te.return=ae,ae=te):(Te=xh(oe.type,oe.key,oe.props,null,ae.mode,Te),Te.ref=Nu(ae,te,oe),Te.return=ae,ae=Te)}return q(ae);case P:e:{for(Ye=oe.key;te!==null;){if(te.key===Ye)if(te.tag===4&&te.stateNode.containerInfo===oe.containerInfo&&te.stateNode.implementation===oe.implementation){h(ae,te.sibling),te=E(te,oe.children||[]),te.return=ae,ae=te;break e}else{h(ae,te);break}else u(ae,te);te=te.sibling}te=I0(oe,ae.mode,Te),te.return=ae,ae=te}return q(ae);case U:return Ye=oe._init,rr(ae,te,Ye(oe._payload),Te)}if(Se(oe))return Be(ae,te,oe,Te);if(Q(oe))return ze(ae,te,oe,Te);Kp(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,te!==null&&te.tag===6?(h(ae,te.sibling),te=E(te,oe),te.return=ae,ae=te):(h(ae,te),te=R0(oe,ae.mode,Te),te.return=ae,ae=te),q(ae)):h(ae,te)}return rr}var Sl=p$(!0),h$=p$(!1),Qp=di(null),Xp=null,El=null,Vx=null;function Wx(){Vx=El=Xp=null}function Yx(s){var u=Qp.current;zt(Qp),s._currentValue=u}function Gx(s,u,h){for(;s!==null;){var x=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),s===h)break;s=s.return}}function jl(s,u){Xp=s,Vx=El=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&u&&(sn=!0),s.firstContext=null)}function Hn(s){var u=s._currentValue;if(Vx!==s)if(s={context:s,memoizedValue:u,next:null},El===null){if(Xp===null)throw Error(r(308));El=s,Xp.dependencies={lanes:0,firstContext:s}}else El=El.next=s;return u}var ns=null;function Kx(s){ns===null?ns=[s]:ns.push(s)}function m$(s,u,h,x){var E=u.interleaved;return E===null?(h.next=h,Kx(u)):(h.next=E.next,E.next=h),u.interleaved=h,go(s,x)}function go(s,u){s.lanes|=u;var h=s.alternate;for(h!==null&&(h.lanes|=u),h=s,s=s.return;s!==null;)s.childLanes|=u,h=s.alternate,h!==null&&(h.childLanes|=u),h=s,s=s.return;return h.tag===3?h.stateNode:null}var hi=!1;function Qx(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g$(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function yo(s,u){return{eventTime:s,lane:u,tag:0,payload:null,callback:null,next:null}}function mi(s,u,h){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,ft&2){var E=x.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),x.pending=u,go(s,h)}return E=x.interleaved,E===null?(u.next=u,Kx(x)):(u.next=E.next,E.next=u),x.interleaved=u,go(s,h)}function Jp(s,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194240)!==0)){var x=u.lanes;x&=s.pendingLanes,h|=x,u.lanes=h,ux(s,h)}}function y$(s,u){var h=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var E=null,M=null;if(h=h.firstBaseUpdate,h!==null){do{var q={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};M===null?E=M=q:M=M.next=q,h=h.next}while(h!==null);M===null?E=M=u:M=M.next=u}else E=M=u;h={baseState:x.baseState,firstBaseUpdate:E,lastBaseUpdate:M,shared:x.shared,effects:x.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=u}function Zp(s,u,h,x){var E=s.updateQueue;hi=!1;var M=E.firstBaseUpdate,q=E.lastBaseUpdate,X=E.shared.pending;if(X!==null){E.shared.pending=null;var ee=X,ie=ee.next;ee.next=null,q===null?M=ie:q.next=ie,q=ee;var be=s.alternate;be!==null&&(be=be.updateQueue,X=be.lastBaseUpdate,X!==q&&(X===null?be.firstBaseUpdate=ie:X.next=ie,be.lastBaseUpdate=ee))}if(M!==null){var Ee=E.baseState;q=0,be=ie=ee=null,X=M;do{var xe=X.lane,Ie=X.eventTime;if((x&xe)===xe){be!==null&&(be=be.next={eventTime:Ie,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var Be=s,ze=X;switch(xe=u,Ie=h,ze.tag){case 1:if(Be=ze.payload,typeof Be=="function"){Ee=Be.call(Ie,Ee,xe);break e}Ee=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=ze.payload,xe=typeof Be=="function"?Be.call(Ie,Ee,xe):Be,xe==null)break e;Ee=Z({},Ee,xe);break e;case 2:hi=!0}}X.callback!==null&&X.lane!==0&&(s.flags|=64,xe=E.effects,xe===null?E.effects=[X]:xe.push(X))}else Ie={eventTime:Ie,lane:xe,tag:X.tag,payload:X.payload,callback:X.callback,next:null},be===null?(ie=be=Ie,ee=Ee):be=be.next=Ie,q|=xe;if(X=X.next,X===null){if(X=E.shared.pending,X===null)break;xe=X,X=xe.next,xe.next=null,E.lastBaseUpdate=xe,E.shared.pending=null}}while(!0);if(be===null&&(ee=Ee),E.baseState=ee,E.firstBaseUpdate=ie,E.lastBaseUpdate=be,u=E.shared.interleaved,u!==null){E=u;do q|=E.lane,E=E.next;while(E!==u)}else M===null&&(E.shared.lanes=0);is|=q,s.lanes=q,s.memoizedState=Ee}}function v$(s,u,h){if(s=u.effects,u.effects=null,s!==null)for(u=0;u<s.length;u++){var x=s[u],E=x.callback;if(E!==null){if(x.callback=null,x=h,typeof E!="function")throw Error(r(191,E));E.call(x)}}}var Lu={},Na=di(Lu),Bu=di(Lu),zu=di(Lu);function as(s){if(s===Lu)throw Error(r(174));return s}function Xx(s,u){switch(_t(zu,u),_t(Bu,s),_t(Na,Lu),s=u.nodeType,s){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:ge(null,"");break;default:s=s===8?u.parentNode:u,u=s.namespaceURI||null,s=s.tagName,u=ge(u,s)}zt(Na),_t(Na,u)}function Cl(){zt(Na),zt(Bu),zt(zu)}function x$(s){as(zu.current);var u=as(Na.current),h=ge(u,s.type);u!==h&&(_t(Bu,s),_t(Na,h))}function Jx(s){Bu.current===s&&(zt(Na),zt(Bu))}var Yt=di(0);function eh(s){for(var u=s;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Zx=[];function e0(){for(var s=0;s<Zx.length;s++)Zx[s]._workInProgressVersionPrimary=null;Zx.length=0}var th=L.ReactCurrentDispatcher,t0=L.ReactCurrentBatchConfig,os=0,Gt=null,pr=null,wr=null,rh=!1,Fu=!1,qu=0,rF=0;function Br(){throw Error(r(321))}function r0(s,u){if(u===null)return!1;for(var h=0;h<u.length&&h<s.length;h++)if(!ua(s[h],u[h]))return!1;return!0}function n0(s,u,h,x,E,M){if(os=M,Gt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,th.current=s===null||s.memoizedState===null?iF:sF,s=h(x,E),Fu){M=0;do{if(Fu=!1,qu=0,25<=M)throw Error(r(301));M+=1,wr=pr=null,u.updateQueue=null,th.current=lF,s=h(x,E)}while(Fu)}if(th.current=oh,u=pr!==null&&pr.next!==null,os=0,wr=pr=Gt=null,rh=!1,u)throw Error(r(300));return s}function a0(){var s=qu!==0;return qu=0,s}function La(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?Gt.memoizedState=wr=s:wr=wr.next=s,wr}function Un(){if(pr===null){var s=Gt.alternate;s=s!==null?s.memoizedState:null}else s=pr.next;var u=wr===null?Gt.memoizedState:wr.next;if(u!==null)wr=u,pr=s;else{if(s===null)throw Error(r(310));pr=s,s={memoizedState:pr.memoizedState,baseState:pr.baseState,baseQueue:pr.baseQueue,queue:pr.queue,next:null},wr===null?Gt.memoizedState=wr=s:wr=wr.next=s}return wr}function Hu(s,u){return typeof u=="function"?u(s):u}function o0(s){var u=Un(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var x=pr,E=x.baseQueue,M=h.pending;if(M!==null){if(E!==null){var q=E.next;E.next=M.next,M.next=q}x.baseQueue=E=M,h.pending=null}if(E!==null){M=E.next,x=x.baseState;var X=q=null,ee=null,ie=M;do{var be=ie.lane;if((os&be)===be)ee!==null&&(ee=ee.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),x=ie.hasEagerState?ie.eagerState:s(x,ie.action);else{var Ee={lane:be,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};ee===null?(X=ee=Ee,q=x):ee=ee.next=Ee,Gt.lanes|=be,is|=be}ie=ie.next}while(ie!==null&&ie!==M);ee===null?q=x:ee.next=X,ua(x,u.memoizedState)||(sn=!0),u.memoizedState=x,u.baseState=q,u.baseQueue=ee,h.lastRenderedState=x}if(s=h.interleaved,s!==null){E=s;do M=E.lane,Gt.lanes|=M,is|=M,E=E.next;while(E!==s)}else E===null&&(h.lanes=0);return[u.memoizedState,h.dispatch]}function i0(s){var u=Un(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var x=h.dispatch,E=h.pending,M=u.memoizedState;if(E!==null){h.pending=null;var q=E=E.next;do M=s(M,q.action),q=q.next;while(q!==E);ua(M,u.memoizedState)||(sn=!0),u.memoizedState=M,u.baseQueue===null&&(u.baseState=M),h.lastRenderedState=M}return[M,x]}function b$(){}function w$(s,u){var h=Gt,x=Un(),E=u(),M=!ua(x.memoizedState,E);if(M&&(x.memoizedState=E,sn=!0),x=x.queue,s0(j$.bind(null,h,x,s),[s]),x.getSnapshot!==u||M||wr!==null&&wr.memoizedState.tag&1){if(h.flags|=2048,Uu(9,E$.bind(null,h,x,E,u),void 0,null),Sr===null)throw Error(r(349));os&30||S$(h,u,E)}return E}function S$(s,u,h){s.flags|=16384,s={getSnapshot:u,value:h},u=Gt.updateQueue,u===null?(u={lastEffect:null,stores:null},Gt.updateQueue=u,u.stores=[s]):(h=u.stores,h===null?u.stores=[s]:h.push(s))}function E$(s,u,h,x){u.value=h,u.getSnapshot=x,C$(u)&&$$(s)}function j$(s,u,h){return h(function(){C$(u)&&$$(s)})}function C$(s){var u=s.getSnapshot;s=s.value;try{var h=u();return!ua(s,h)}catch{return!0}}function $$(s){var u=go(s,1);u!==null&&ma(u,s,1,-1)}function T$(s){var u=La();return typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hu,lastRenderedState:s},u.queue=s,s=s.dispatch=oF.bind(null,Gt,s),[u.memoizedState,s]}function Uu(s,u,h,x){return s={tag:s,create:u,destroy:h,deps:x,next:null},u=Gt.updateQueue,u===null?(u={lastEffect:null,stores:null},Gt.updateQueue=u,u.lastEffect=s.next=s):(h=u.lastEffect,h===null?u.lastEffect=s.next=s:(x=h.next,h.next=s,s.next=x,u.lastEffect=s)),s}function k$(){return Un().memoizedState}function nh(s,u,h,x){var E=La();Gt.flags|=s,E.memoizedState=Uu(1|u,h,void 0,x===void 0?null:x)}function ah(s,u,h,x){var E=Un();x=x===void 0?null:x;var M=void 0;if(pr!==null){var q=pr.memoizedState;if(M=q.destroy,x!==null&&r0(x,q.deps)){E.memoizedState=Uu(u,h,M,x);return}}Gt.flags|=s,E.memoizedState=Uu(1|u,h,M,x)}function A$(s,u){return nh(8390656,8,s,u)}function s0(s,u){return ah(2048,8,s,u)}function O$(s,u){return ah(4,2,s,u)}function P$(s,u){return ah(4,4,s,u)}function _$(s,u){if(typeof u=="function")return s=s(),u(s),function(){u(null)};if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function D$(s,u,h){return h=h!=null?h.concat([s]):null,ah(4,4,_$.bind(null,u,s),h)}function l0(){}function M$(s,u){var h=Un();u=u===void 0?null:u;var x=h.memoizedState;return x!==null&&u!==null&&r0(u,x[1])?x[0]:(h.memoizedState=[s,u],s)}function R$(s,u){var h=Un();u=u===void 0?null:u;var x=h.memoizedState;return x!==null&&u!==null&&r0(u,x[1])?x[0]:(s=s(),h.memoizedState=[s,u],s)}function I$(s,u,h){return os&21?(ua(h,u)||(h=f4(),Gt.lanes|=h,is|=h,s.baseState=!0),u):(s.baseState&&(s.baseState=!1,sn=!0),s.memoizedState=h)}function nF(s,u){var h=$t;$t=h!==0&&4>h?h:4,s(!0);var x=t0.transition;t0.transition={};try{s(!1),u()}finally{$t=h,t0.transition=x}}function N$(){return Un().memoizedState}function aF(s,u,h){var x=xi(s);if(h={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null},L$(s))B$(u,h);else if(h=m$(s,u,h,x),h!==null){var E=Kr();ma(h,s,x,E),z$(h,u,x)}}function oF(s,u,h){var x=xi(s),E={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null};if(L$(s))B$(u,E);else{var M=s.alternate;if(s.lanes===0&&(M===null||M.lanes===0)&&(M=u.lastRenderedReducer,M!==null))try{var q=u.lastRenderedState,X=M(q,h);if(E.hasEagerState=!0,E.eagerState=X,ua(X,q)){var ee=u.interleaved;ee===null?(E.next=E,Kx(u)):(E.next=ee.next,ee.next=E),u.interleaved=E;return}}catch{}finally{}h=m$(s,u,E,x),h!==null&&(E=Kr(),ma(h,s,x,E),z$(h,u,x))}}function L$(s){var u=s.alternate;return s===Gt||u!==null&&u===Gt}function B$(s,u){Fu=rh=!0;var h=s.pending;h===null?u.next=u:(u.next=h.next,h.next=u),s.pending=u}function z$(s,u,h){if(h&4194240){var x=u.lanes;x&=s.pendingLanes,h|=x,u.lanes=h,ux(s,h)}}var oh={readContext:Hn,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},iF={readContext:Hn,useCallback:function(s,u){return La().memoizedState=[s,u===void 0?null:u],s},useContext:Hn,useEffect:A$,useImperativeHandle:function(s,u,h){return h=h!=null?h.concat([s]):null,nh(4194308,4,_$.bind(null,u,s),h)},useLayoutEffect:function(s,u){return nh(4194308,4,s,u)},useInsertionEffect:function(s,u){return nh(4,2,s,u)},useMemo:function(s,u){var h=La();return u=u===void 0?null:u,s=s(),h.memoizedState=[s,u],s},useReducer:function(s,u,h){var x=La();return u=h!==void 0?h(u):u,x.memoizedState=x.baseState=u,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},x.queue=s,s=s.dispatch=aF.bind(null,Gt,s),[x.memoizedState,s]},useRef:function(s){var u=La();return s={current:s},u.memoizedState=s},useState:T$,useDebugValue:l0,useDeferredValue:function(s){return La().memoizedState=s},useTransition:function(){var s=T$(!1),u=s[0];return s=nF.bind(null,s[1]),La().memoizedState=s,[u,s]},useMutableSource:function(){},useSyncExternalStore:function(s,u,h){var x=Gt,E=La();if(Ht){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),Sr===null)throw Error(r(349));os&30||S$(x,u,h)}E.memoizedState=h;var M={value:h,getSnapshot:u};return E.queue=M,A$(j$.bind(null,x,M,s),[s]),x.flags|=2048,Uu(9,E$.bind(null,x,M,h,u),void 0,null),h},useId:function(){var s=La(),u=Sr.identifierPrefix;if(Ht){var h=mo,x=ho;h=(x&~(1<<32-ca(x)-1)).toString(32)+h,u=":"+u+"R"+h,h=qu++,0<h&&(u+="H"+h.toString(32)),u+=":"}else h=rF++,u=":"+u+"r"+h.toString(32)+":";return s.memoizedState=u},unstable_isNewReconciler:!1},sF={readContext:Hn,useCallback:M$,useContext:Hn,useEffect:s0,useImperativeHandle:D$,useInsertionEffect:O$,useLayoutEffect:P$,useMemo:R$,useReducer:o0,useRef:k$,useState:function(){return o0(Hu)},useDebugValue:l0,useDeferredValue:function(s){var u=Un();return I$(u,pr.memoizedState,s)},useTransition:function(){var s=o0(Hu)[0],u=Un().memoizedState;return[s,u]},useMutableSource:b$,useSyncExternalStore:w$,useId:N$,unstable_isNewReconciler:!1},lF={readContext:Hn,useCallback:M$,useContext:Hn,useEffect:s0,useImperativeHandle:D$,useInsertionEffect:O$,useLayoutEffect:P$,useMemo:R$,useReducer:i0,useRef:k$,useState:function(){return i0(Hu)},useDebugValue:l0,useDeferredValue:function(s){var u=Un();return pr===null?u.memoizedState=s:I$(u,pr.memoizedState,s)},useTransition:function(){var s=i0(Hu)[0],u=Un().memoizedState;return[s,u]},useMutableSource:b$,useSyncExternalStore:w$,useId:N$,unstable_isNewReconciler:!1};function fa(s,u){if(s&&s.defaultProps){u=Z({},u),s=s.defaultProps;for(var h in s)u[h]===void 0&&(u[h]=s[h]);return u}return u}function c0(s,u,h,x){u=s.memoizedState,h=h(x,u),h=h==null?u:Z({},u,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var ih={isMounted:function(s){return(s=s._reactInternals)?Ji(s)===s:!1},enqueueSetState:function(s,u,h){s=s._reactInternals;var x=Kr(),E=xi(s),M=yo(x,E);M.payload=u,h!=null&&(M.callback=h),u=mi(s,M,E),u!==null&&(ma(u,s,E,x),Jp(u,s,E))},enqueueReplaceState:function(s,u,h){s=s._reactInternals;var x=Kr(),E=xi(s),M=yo(x,E);M.tag=1,M.payload=u,h!=null&&(M.callback=h),u=mi(s,M,E),u!==null&&(ma(u,s,E,x),Jp(u,s,E))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var h=Kr(),x=xi(s),E=yo(h,x);E.tag=2,u!=null&&(E.callback=u),u=mi(s,E,x),u!==null&&(ma(u,s,x,h),Jp(u,s,x))}};function F$(s,u,h,x,E,M,q){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,M,q):u.prototype&&u.prototype.isPureReactComponent?!Ou(h,x)||!Ou(E,M):!0}function q$(s,u,h){var x=!1,E=fi,M=u.contextType;return typeof M=="object"&&M!==null?M=Hn(M):(E=on(u)?es:Lr.current,x=u.contextTypes,M=(x=x!=null)?vl(s,E):fi),u=new u(h,M),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ih,s.stateNode=u,u._reactInternals=s,x&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=E,s.__reactInternalMemoizedMaskedChildContext=M),u}function H$(s,u,h,x){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,x),u.state!==s&&ih.enqueueReplaceState(u,u.state,null)}function u0(s,u,h,x){var E=s.stateNode;E.props=h,E.state=s.memoizedState,E.refs={},Qx(s);var M=u.contextType;typeof M=="object"&&M!==null?E.context=Hn(M):(M=on(u)?es:Lr.current,E.context=vl(s,M)),E.state=s.memoizedState,M=u.getDerivedStateFromProps,typeof M=="function"&&(c0(s,u,M,h),E.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(u=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),u!==E.state&&ih.enqueueReplaceState(E,E.state,null),Zp(s,h,E,x),E.state=s.memoizedState),typeof E.componentDidMount=="function"&&(s.flags|=4194308)}function $l(s,u){try{var h="",x=u;do h+=me(x),x=x.return;while(x);var E=h}catch(M){E=`
Error generating stack: `+M.message+`
`+M.stack}return{value:s,source:u,stack:E,digest:null}}function d0(s,u,h){return{value:s,source:null,stack:h??null,digest:u??null}}function f0(s,u){try{console.error(u.value)}catch(h){setTimeout(function(){throw h})}}var cF=typeof WeakMap=="function"?WeakMap:Map;function U$(s,u,h){h=yo(-1,h),h.tag=3,h.payload={element:null};var x=u.value;return h.callback=function(){ph||(ph=!0,T0=x),f0(s,u)},h}function V$(s,u,h){h=yo(-1,h),h.tag=3;var x=s.type.getDerivedStateFromError;if(typeof x=="function"){var E=u.value;h.payload=function(){return x(E)},h.callback=function(){f0(s,u)}}var M=s.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(h.callback=function(){f0(s,u),typeof x!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var q=u.stack;this.componentDidCatch(u.value,{componentStack:q!==null?q:""})}),h}function W$(s,u,h){var x=s.pingCache;if(x===null){x=s.pingCache=new cF;var E=new Set;x.set(u,E)}else E=x.get(u),E===void 0&&(E=new Set,x.set(u,E));E.has(h)||(E.add(h),s=EF.bind(null,s,u,h),u.then(s,s))}function Y$(s){do{var u;if((u=s.tag===13)&&(u=s.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return s;s=s.return}while(s!==null);return null}function G$(s,u,h,x,E){return s.mode&1?(s.flags|=65536,s.lanes=E,s):(s===u?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(u=yo(-1,1),u.tag=2,mi(h,u,1))),h.lanes|=1),s)}var uF=L.ReactCurrentOwner,sn=!1;function Gr(s,u,h,x){u.child=s===null?h$(u,null,h,x):Sl(u,s.child,h,x)}function K$(s,u,h,x,E){h=h.render;var M=u.ref;return jl(u,E),x=n0(s,u,h,x,M,E),h=a0(),s!==null&&!sn?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~E,vo(s,u,E)):(Ht&&h&&zx(u),u.flags|=1,Gr(s,u,x,E),u.child)}function Q$(s,u,h,x,E){if(s===null){var M=h.type;return typeof M=="function"&&!M0(M)&&M.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(u.tag=15,u.type=M,X$(s,u,M,x,E)):(s=xh(h.type,null,x,u,u.mode,E),s.ref=u.ref,s.return=u,u.child=s)}if(M=s.child,!(s.lanes&E)){var q=M.memoizedProps;if(h=h.compare,h=h!==null?h:Ou,h(q,x)&&s.ref===u.ref)return vo(s,u,E)}return u.flags|=1,s=wi(M,x),s.ref=u.ref,s.return=u,u.child=s}function X$(s,u,h,x,E){if(s!==null){var M=s.memoizedProps;if(Ou(M,x)&&s.ref===u.ref)if(sn=!1,u.pendingProps=x=M,(s.lanes&E)!==0)s.flags&131072&&(sn=!0);else return u.lanes=s.lanes,vo(s,u,E)}return p0(s,u,h,x,E)}function J$(s,u,h){var x=u.pendingProps,E=x.children,M=s!==null?s.memoizedState:null;if(x.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(kl,bn),bn|=h;else{if(!(h&1073741824))return s=M!==null?M.baseLanes|h:h,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:s,cachePool:null,transitions:null},u.updateQueue=null,_t(kl,bn),bn|=s,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=M!==null?M.baseLanes:h,_t(kl,bn),bn|=x}else M!==null?(x=M.baseLanes|h,u.memoizedState=null):x=h,_t(kl,bn),bn|=x;return Gr(s,u,E,h),u.child}function Z$(s,u){var h=u.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(u.flags|=512,u.flags|=2097152)}function p0(s,u,h,x,E){var M=on(h)?es:Lr.current;return M=vl(u,M),jl(u,E),h=n0(s,u,h,x,M,E),x=a0(),s!==null&&!sn?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~E,vo(s,u,E)):(Ht&&x&&zx(u),u.flags|=1,Gr(s,u,h,E),u.child)}function eT(s,u,h,x,E){if(on(h)){var M=!0;Up(u)}else M=!1;if(jl(u,E),u.stateNode===null)lh(s,u),q$(u,h,x),u0(u,h,x,E),x=!0;else if(s===null){var q=u.stateNode,X=u.memoizedProps;q.props=X;var ee=q.context,ie=h.contextType;typeof ie=="object"&&ie!==null?ie=Hn(ie):(ie=on(h)?es:Lr.current,ie=vl(u,ie));var be=h.getDerivedStateFromProps,Ee=typeof be=="function"||typeof q.getSnapshotBeforeUpdate=="function";Ee||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(X!==x||ee!==ie)&&H$(u,q,x,ie),hi=!1;var xe=u.memoizedState;q.state=xe,Zp(u,x,q,E),ee=u.memoizedState,X!==x||xe!==ee||an.current||hi?(typeof be=="function"&&(c0(u,h,be,x),ee=u.memoizedState),(X=hi||F$(u,h,X,x,xe,ee,ie))?(Ee||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(u.flags|=4194308)):(typeof q.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=ee),q.props=x,q.state=ee,q.context=ie,x=X):(typeof q.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{q=u.stateNode,g$(s,u),X=u.memoizedProps,ie=u.type===u.elementType?X:fa(u.type,X),q.props=ie,Ee=u.pendingProps,xe=q.context,ee=h.contextType,typeof ee=="object"&&ee!==null?ee=Hn(ee):(ee=on(h)?es:Lr.current,ee=vl(u,ee));var Ie=h.getDerivedStateFromProps;(be=typeof Ie=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(X!==Ee||xe!==ee)&&H$(u,q,x,ee),hi=!1,xe=u.memoizedState,q.state=xe,Zp(u,x,q,E);var Be=u.memoizedState;X!==Ee||xe!==Be||an.current||hi?(typeof Ie=="function"&&(c0(u,h,Ie,x),Be=u.memoizedState),(ie=hi||F$(u,h,ie,x,xe,Be,ee)||!1)?(be||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(x,Be,ee),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(x,Be,ee)),typeof q.componentDidUpdate=="function"&&(u.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof q.componentDidUpdate!="function"||X===s.memoizedProps&&xe===s.memoizedState||(u.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||X===s.memoizedProps&&xe===s.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=Be),q.props=x,q.state=Be,q.context=ee,x=ie):(typeof q.componentDidUpdate!="function"||X===s.memoizedProps&&xe===s.memoizedState||(u.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||X===s.memoizedProps&&xe===s.memoizedState||(u.flags|=1024),x=!1)}return h0(s,u,h,x,M,E)}function h0(s,u,h,x,E,M){Z$(s,u);var q=(u.flags&128)!==0;if(!x&&!q)return E&&o$(u,h,!1),vo(s,u,M);x=u.stateNode,uF.current=u;var X=q&&typeof h.getDerivedStateFromError!="function"?null:x.render();return u.flags|=1,s!==null&&q?(u.child=Sl(u,s.child,null,M),u.child=Sl(u,null,X,M)):Gr(s,u,X,M),u.memoizedState=x.state,E&&o$(u,h,!0),u.child}function tT(s){var u=s.stateNode;u.pendingContext?n$(s,u.pendingContext,u.pendingContext!==u.context):u.context&&n$(s,u.context,!1),Xx(s,u.containerInfo)}function rT(s,u,h,x,E){return wl(),Ux(E),u.flags|=256,Gr(s,u,h,x),u.child}var m0={dehydrated:null,treeContext:null,retryLane:0};function g0(s){return{baseLanes:s,cachePool:null,transitions:null}}function nT(s,u,h){var x=u.pendingProps,E=Yt.current,M=!1,q=(u.flags&128)!==0,X;if((X=q)||(X=s!==null&&s.memoizedState===null?!1:(E&2)!==0),X?(M=!0,u.flags&=-129):(s===null||s.memoizedState!==null)&&(E|=1),_t(Yt,E&1),s===null)return Hx(u),s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(u.mode&1?s.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(q=x.children,s=x.fallback,M?(x=u.mode,M=u.child,q={mode:"hidden",children:q},!(x&1)&&M!==null?(M.childLanes=0,M.pendingProps=q):M=bh(q,x,0,null),s=us(s,x,h,null),M.return=u,s.return=u,M.sibling=s,u.child=M,u.child.memoizedState=g0(h),u.memoizedState=m0,s):y0(u,q));if(E=s.memoizedState,E!==null&&(X=E.dehydrated,X!==null))return dF(s,u,q,x,X,E,h);if(M){M=x.fallback,q=u.mode,E=s.child,X=E.sibling;var ee={mode:"hidden",children:x.children};return!(q&1)&&u.child!==E?(x=u.child,x.childLanes=0,x.pendingProps=ee,u.deletions=null):(x=wi(E,ee),x.subtreeFlags=E.subtreeFlags&14680064),X!==null?M=wi(X,M):(M=us(M,q,h,null),M.flags|=2),M.return=u,x.return=u,x.sibling=M,u.child=x,x=M,M=u.child,q=s.child.memoizedState,q=q===null?g0(h):{baseLanes:q.baseLanes|h,cachePool:null,transitions:q.transitions},M.memoizedState=q,M.childLanes=s.childLanes&~h,u.memoizedState=m0,x}return M=s.child,s=M.sibling,x=wi(M,{mode:"visible",children:x.children}),!(u.mode&1)&&(x.lanes=h),x.return=u,x.sibling=null,s!==null&&(h=u.deletions,h===null?(u.deletions=[s],u.flags|=16):h.push(s)),u.child=x,u.memoizedState=null,x}function y0(s,u){return u=bh({mode:"visible",children:u},s.mode,0,null),u.return=s,s.child=u}function sh(s,u,h,x){return x!==null&&Ux(x),Sl(u,s.child,null,h),s=y0(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function dF(s,u,h,x,E,M,q){if(h)return u.flags&256?(u.flags&=-257,x=d0(Error(r(422))),sh(s,u,q,x)):u.memoizedState!==null?(u.child=s.child,u.flags|=128,null):(M=x.fallback,E=u.mode,x=bh({mode:"visible",children:x.children},E,0,null),M=us(M,E,q,null),M.flags|=2,x.return=u,M.return=u,x.sibling=M,u.child=x,u.mode&1&&Sl(u,s.child,null,q),u.child.memoizedState=g0(q),u.memoizedState=m0,M);if(!(u.mode&1))return sh(s,u,q,null);if(E.data==="$!"){if(x=E.nextSibling&&E.nextSibling.dataset,x)var X=x.dgst;return x=X,M=Error(r(419)),x=d0(M,x,void 0),sh(s,u,q,x)}if(X=(q&s.childLanes)!==0,sn||X){if(x=Sr,x!==null){switch(q&-q){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=E&(x.suspendedLanes|q)?0:E,E!==0&&E!==M.retryLane&&(M.retryLane=E,go(s,E),ma(x,s,E,-1))}return D0(),x=d0(Error(r(421))),sh(s,u,q,x)}return E.data==="$?"?(u.flags|=128,u.child=s.child,u=jF.bind(null,s),E._reactRetry=u,null):(s=M.treeContext,xn=ui(E.nextSibling),vn=u,Ht=!0,da=null,s!==null&&(Fn[qn++]=ho,Fn[qn++]=mo,Fn[qn++]=ts,ho=s.id,mo=s.overflow,ts=u),u=y0(u,x.children),u.flags|=4096,u)}function aT(s,u,h){s.lanes|=u;var x=s.alternate;x!==null&&(x.lanes|=u),Gx(s.return,u,h)}function v0(s,u,h,x,E){var M=s.memoizedState;M===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:E}:(M.isBackwards=u,M.rendering=null,M.renderingStartTime=0,M.last=x,M.tail=h,M.tailMode=E)}function oT(s,u,h){var x=u.pendingProps,E=x.revealOrder,M=x.tail;if(Gr(s,u,x.children,h),x=Yt.current,x&2)x=x&1|2,u.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&aT(s,h,u);else if(s.tag===19)aT(s,h,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}x&=1}if(_t(Yt,x),!(u.mode&1))u.memoizedState=null;else switch(E){case"forwards":for(h=u.child,E=null;h!==null;)s=h.alternate,s!==null&&eh(s)===null&&(E=h),h=h.sibling;h=E,h===null?(E=u.child,u.child=null):(E=h.sibling,h.sibling=null),v0(u,!1,E,h,M);break;case"backwards":for(h=null,E=u.child,u.child=null;E!==null;){if(s=E.alternate,s!==null&&eh(s)===null){u.child=E;break}s=E.sibling,E.sibling=h,h=E,E=s}v0(u,!0,h,null,M);break;case"together":v0(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function lh(s,u){!(u.mode&1)&&s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2)}function vo(s,u,h){if(s!==null&&(u.dependencies=s.dependencies),is|=u.lanes,!(h&u.childLanes))return null;if(s!==null&&u.child!==s.child)throw Error(r(153));if(u.child!==null){for(s=u.child,h=wi(s,s.pendingProps),u.child=h,h.return=u;s.sibling!==null;)s=s.sibling,h=h.sibling=wi(s,s.pendingProps),h.return=u;h.sibling=null}return u.child}function fF(s,u,h){switch(u.tag){case 3:tT(u),wl();break;case 5:x$(u);break;case 1:on(u.type)&&Up(u);break;case 4:Xx(u,u.stateNode.containerInfo);break;case 10:var x=u.type._context,E=u.memoizedProps.value;_t(Qp,x._currentValue),x._currentValue=E;break;case 13:if(x=u.memoizedState,x!==null)return x.dehydrated!==null?(_t(Yt,Yt.current&1),u.flags|=128,null):h&u.child.childLanes?nT(s,u,h):(_t(Yt,Yt.current&1),s=vo(s,u,h),s!==null?s.sibling:null);_t(Yt,Yt.current&1);break;case 19:if(x=(h&u.childLanes)!==0,s.flags&128){if(x)return oT(s,u,h);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),_t(Yt,Yt.current),x)break;return null;case 22:case 23:return u.lanes=0,J$(s,u,h)}return vo(s,u,h)}var iT,x0,sT,lT;iT=function(s,u){for(var h=u.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},x0=function(){},sT=function(s,u,h,x){var E=s.memoizedProps;if(E!==x){s=u.stateNode,as(Na.current);var M=null;switch(h){case"input":E=G(s,E),x=G(s,x),M=[];break;case"select":E=Z({},E,{value:void 0}),x=Z({},x,{value:void 0}),M=[];break;case"textarea":E=Pe(s,E),x=Pe(s,x),M=[];break;default:typeof E.onClick!="function"&&typeof x.onClick=="function"&&(s.onclick=Fp)}Ve(h,x);var q;h=null;for(ie in E)if(!x.hasOwnProperty(ie)&&E.hasOwnProperty(ie)&&E[ie]!=null)if(ie==="style"){var X=E[ie];for(q in X)X.hasOwnProperty(q)&&(h||(h={}),h[q]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(a.hasOwnProperty(ie)?M||(M=[]):(M=M||[]).push(ie,null));for(ie in x){var ee=x[ie];if(X=E!=null?E[ie]:void 0,x.hasOwnProperty(ie)&&ee!==X&&(ee!=null||X!=null))if(ie==="style")if(X){for(q in X)!X.hasOwnProperty(q)||ee&&ee.hasOwnProperty(q)||(h||(h={}),h[q]="");for(q in ee)ee.hasOwnProperty(q)&&X[q]!==ee[q]&&(h||(h={}),h[q]=ee[q])}else h||(M||(M=[]),M.push(ie,h)),h=ee;else ie==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,X=X?X.__html:void 0,ee!=null&&X!==ee&&(M=M||[]).push(ie,ee)):ie==="children"?typeof ee!="string"&&typeof ee!="number"||(M=M||[]).push(ie,""+ee):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(a.hasOwnProperty(ie)?(ee!=null&&ie==="onScroll"&&Bt("scroll",s),M||X===ee||(M=[])):(M=M||[]).push(ie,ee))}h&&(M=M||[]).push("style",h);var ie=M;(u.updateQueue=ie)&&(u.flags|=4)}},lT=function(s,u,h,x){h!==x&&(u.flags|=4)};function Vu(s,u){if(!Ht)switch(s.tailMode){case"hidden":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function zr(s){var u=s.alternate!==null&&s.alternate.child===s.child,h=0,x=0;if(u)for(var E=s.child;E!==null;)h|=E.lanes|E.childLanes,x|=E.subtreeFlags&14680064,x|=E.flags&14680064,E.return=s,E=E.sibling;else for(E=s.child;E!==null;)h|=E.lanes|E.childLanes,x|=E.subtreeFlags,x|=E.flags,E.return=s,E=E.sibling;return s.subtreeFlags|=x,s.childLanes=h,u}function pF(s,u,h){var x=u.pendingProps;switch(Fx(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(u),null;case 1:return on(u.type)&&Hp(),zr(u),null;case 3:return x=u.stateNode,Cl(),zt(an),zt(Lr),e0(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(s===null||s.child===null)&&(Gp(u)?u.flags|=4:s===null||s.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,da!==null&&(O0(da),da=null))),x0(s,u),zr(u),null;case 5:Jx(u);var E=as(zu.current);if(h=u.type,s!==null&&u.stateNode!=null)sT(s,u,h,x,E),s.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!x){if(u.stateNode===null)throw Error(r(166));return zr(u),null}if(s=as(Na.current),Gp(u)){x=u.stateNode,h=u.type;var M=u.memoizedProps;switch(x[Ia]=u,x[Ru]=M,s=(u.mode&1)!==0,h){case"dialog":Bt("cancel",x),Bt("close",x);break;case"iframe":case"object":case"embed":Bt("load",x);break;case"video":case"audio":for(E=0;E<_u.length;E++)Bt(_u[E],x);break;case"source":Bt("error",x);break;case"img":case"image":case"link":Bt("error",x),Bt("load",x);break;case"details":Bt("toggle",x);break;case"input":pe(x,M),Bt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!M.multiple},Bt("invalid",x);break;case"textarea":Ze(x,M),Bt("invalid",x)}Ve(h,M),E=null;for(var q in M)if(M.hasOwnProperty(q)){var X=M[q];q==="children"?typeof X=="string"?x.textContent!==X&&(M.suppressHydrationWarning!==!0&&zp(x.textContent,X,s),E=["children",X]):typeof X=="number"&&x.textContent!==""+X&&(M.suppressHydrationWarning!==!0&&zp(x.textContent,X,s),E=["children",""+X]):a.hasOwnProperty(q)&&X!=null&&q==="onScroll"&&Bt("scroll",x)}switch(h){case"input":_e(x),je(x,M,!0);break;case"textarea":_e(x),We(x);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(x.onclick=Fp)}x=E,u.updateQueue=x,x!==null&&(u.flags|=4)}else{q=E.nodeType===9?E:E.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=st(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=q.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof x.is=="string"?s=q.createElement(h,{is:x.is}):(s=q.createElement(h),h==="select"&&(q=s,x.multiple?q.multiple=!0:x.size&&(q.size=x.size))):s=q.createElementNS(s,h),s[Ia]=u,s[Ru]=x,iT(s,u,!1,!1),u.stateNode=s;e:{switch(q=Lt(h,x),h){case"dialog":Bt("cancel",s),Bt("close",s),E=x;break;case"iframe":case"object":case"embed":Bt("load",s),E=x;break;case"video":case"audio":for(E=0;E<_u.length;E++)Bt(_u[E],s);E=x;break;case"source":Bt("error",s),E=x;break;case"img":case"image":case"link":Bt("error",s),Bt("load",s),E=x;break;case"details":Bt("toggle",s),E=x;break;case"input":pe(s,x),E=G(s,x),Bt("invalid",s);break;case"option":E=x;break;case"select":s._wrapperState={wasMultiple:!!x.multiple},E=Z({},x,{value:void 0}),Bt("invalid",s);break;case"textarea":Ze(s,x),E=Pe(s,x),Bt("invalid",s);break;default:E=x}Ve(h,E),X=E;for(M in X)if(X.hasOwnProperty(M)){var ee=X[M];M==="style"?J(s,ee):M==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&xt(s,ee)):M==="children"?typeof ee=="string"?(h!=="textarea"||ee!=="")&&Nt(s,ee):typeof ee=="number"&&Nt(s,""+ee):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(a.hasOwnProperty(M)?ee!=null&&M==="onScroll"&&Bt("scroll",s):ee!=null&&$(s,M,ee,q))}switch(h){case"input":_e(s),je(s,x,!1);break;case"textarea":_e(s),We(s);break;case"option":x.value!=null&&s.setAttribute("value",""+we(x.value));break;case"select":s.multiple=!!x.multiple,M=x.value,M!=null?ye(s,!!x.multiple,M,!1):x.defaultValue!=null&&ye(s,!!x.multiple,x.defaultValue,!0);break;default:typeof E.onClick=="function"&&(s.onclick=Fp)}switch(h){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return zr(u),null;case 6:if(s&&u.stateNode!=null)lT(s,u,s.memoizedProps,x);else{if(typeof x!="string"&&u.stateNode===null)throw Error(r(166));if(h=as(zu.current),as(Na.current),Gp(u)){if(x=u.stateNode,h=u.memoizedProps,x[Ia]=u,(M=x.nodeValue!==h)&&(s=vn,s!==null))switch(s.tag){case 3:zp(x.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&zp(x.nodeValue,h,(s.mode&1)!==0)}M&&(u.flags|=4)}else x=(h.nodeType===9?h:h.ownerDocument).createTextNode(x),x[Ia]=u,u.stateNode=x}return zr(u),null;case 13:if(zt(Yt),x=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ht&&xn!==null&&u.mode&1&&!(u.flags&128))d$(),wl(),u.flags|=98560,M=!1;else if(M=Gp(u),x!==null&&x.dehydrated!==null){if(s===null){if(!M)throw Error(r(318));if(M=u.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[Ia]=u}else wl(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;zr(u),M=!1}else da!==null&&(O0(da),da=null),M=!0;if(!M)return u.flags&65536?u:null}return u.flags&128?(u.lanes=h,u):(x=x!==null,x!==(s!==null&&s.memoizedState!==null)&&x&&(u.child.flags|=8192,u.mode&1&&(s===null||Yt.current&1?hr===0&&(hr=3):D0())),u.updateQueue!==null&&(u.flags|=4),zr(u),null);case 4:return Cl(),x0(s,u),s===null&&Du(u.stateNode.containerInfo),zr(u),null;case 10:return Yx(u.type._context),zr(u),null;case 17:return on(u.type)&&Hp(),zr(u),null;case 19:if(zt(Yt),M=u.memoizedState,M===null)return zr(u),null;if(x=(u.flags&128)!==0,q=M.rendering,q===null)if(x)Vu(M,!1);else{if(hr!==0||s!==null&&s.flags&128)for(s=u.child;s!==null;){if(q=eh(s),q!==null){for(u.flags|=128,Vu(M,!1),x=q.updateQueue,x!==null&&(u.updateQueue=x,u.flags|=4),u.subtreeFlags=0,x=h,h=u.child;h!==null;)M=h,s=x,M.flags&=14680066,q=M.alternate,q===null?(M.childLanes=0,M.lanes=s,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=q.childLanes,M.lanes=q.lanes,M.child=q.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=q.memoizedProps,M.memoizedState=q.memoizedState,M.updateQueue=q.updateQueue,M.type=q.type,s=q.dependencies,M.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return _t(Yt,Yt.current&1|2),u.child}s=s.sibling}M.tail!==null&&tr()>Al&&(u.flags|=128,x=!0,Vu(M,!1),u.lanes=4194304)}else{if(!x)if(s=eh(q),s!==null){if(u.flags|=128,x=!0,h=s.updateQueue,h!==null&&(u.updateQueue=h,u.flags|=4),Vu(M,!0),M.tail===null&&M.tailMode==="hidden"&&!q.alternate&&!Ht)return zr(u),null}else 2*tr()-M.renderingStartTime>Al&&h!==1073741824&&(u.flags|=128,x=!0,Vu(M,!1),u.lanes=4194304);M.isBackwards?(q.sibling=u.child,u.child=q):(h=M.last,h!==null?h.sibling=q:u.child=q,M.last=q)}return M.tail!==null?(u=M.tail,M.rendering=u,M.tail=u.sibling,M.renderingStartTime=tr(),u.sibling=null,h=Yt.current,_t(Yt,x?h&1|2:h&1),u):(zr(u),null);case 22:case 23:return _0(),x=u.memoizedState!==null,s!==null&&s.memoizedState!==null!==x&&(u.flags|=8192),x&&u.mode&1?bn&1073741824&&(zr(u),u.subtreeFlags&6&&(u.flags|=8192)):zr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function hF(s,u){switch(Fx(u),u.tag){case 1:return on(u.type)&&Hp(),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return Cl(),zt(an),zt(Lr),e0(),s=u.flags,s&65536&&!(s&128)?(u.flags=s&-65537|128,u):null;case 5:return Jx(u),null;case 13:if(zt(Yt),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(r(340));wl()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return zt(Yt),null;case 4:return Cl(),null;case 10:return Yx(u.type._context),null;case 22:case 23:return _0(),null;case 24:return null;default:return null}}var ch=!1,Fr=!1,mF=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Tl(s,u){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(x){Xt(s,u,x)}else h.current=null}function b0(s,u,h){try{h()}catch(x){Xt(s,u,x)}}var cT=!1;function gF(s,u){if(_x=Ap,s=F4(),jx(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var E=x.anchorOffset,M=x.focusNode;x=x.focusOffset;try{h.nodeType,M.nodeType}catch{h=null;break e}var q=0,X=-1,ee=-1,ie=0,be=0,Ee=s,xe=null;t:for(;;){for(var Ie;Ee!==h||E!==0&&Ee.nodeType!==3||(X=q+E),Ee!==M||x!==0&&Ee.nodeType!==3||(ee=q+x),Ee.nodeType===3&&(q+=Ee.nodeValue.length),(Ie=Ee.firstChild)!==null;)xe=Ee,Ee=Ie;for(;;){if(Ee===s)break t;if(xe===h&&++ie===E&&(X=q),xe===M&&++be===x&&(ee=q),(Ie=Ee.nextSibling)!==null)break;Ee=xe,xe=Ee.parentNode}Ee=Ie}h=X===-1||ee===-1?null:{start:X,end:ee}}else h=null}h=h||{start:0,end:0}}else h=null;for(Dx={focusedElem:s,selectionRange:h},Ap=!1,Ne=u;Ne!==null;)if(u=Ne,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,Ne=s;else for(;Ne!==null;){u=Ne;try{var Be=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var ze=Be.memoizedProps,rr=Be.memoizedState,ae=u.stateNode,te=ae.getSnapshotBeforeUpdate(u.elementType===u.type?ze:fa(u.type,ze),rr);ae.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var oe=u.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Te){Xt(u,u.return,Te)}if(s=u.sibling,s!==null){s.return=u.return,Ne=s;break}Ne=u.return}return Be=cT,cT=!1,Be}function Wu(s,u,h){var x=u.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var E=x=x.next;do{if((E.tag&s)===s){var M=E.destroy;E.destroy=void 0,M!==void 0&&b0(u,h,M)}E=E.next}while(E!==x)}}function uh(s,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&s)===s){var x=h.create;h.destroy=x()}h=h.next}while(h!==u)}}function w0(s){var u=s.ref;if(u!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof u=="function"?u(s):u.current=s}}function uT(s){var u=s.alternate;u!==null&&(s.alternate=null,uT(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&(delete u[Ia],delete u[Ru],delete u[Nx],delete u[Jz],delete u[Zz])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function dT(s){return s.tag===5||s.tag===3||s.tag===4}function fT(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||dT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function S0(s,u,h){var x=s.tag;if(x===5||x===6)s=s.stateNode,u?h.nodeType===8?h.parentNode.insertBefore(s,u):h.insertBefore(s,u):(h.nodeType===8?(u=h.parentNode,u.insertBefore(s,h)):(u=h,u.appendChild(s)),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Fp));else if(x!==4&&(s=s.child,s!==null))for(S0(s,u,h),s=s.sibling;s!==null;)S0(s,u,h),s=s.sibling}function E0(s,u,h){var x=s.tag;if(x===5||x===6)s=s.stateNode,u?h.insertBefore(s,u):h.appendChild(s);else if(x!==4&&(s=s.child,s!==null))for(E0(s,u,h),s=s.sibling;s!==null;)E0(s,u,h),s=s.sibling}var _r=null,pa=!1;function gi(s,u,h){for(h=h.child;h!==null;)pT(s,u,h),h=h.sibling}function pT(s,u,h){if(Ra&&typeof Ra.onCommitFiberUnmount=="function")try{Ra.onCommitFiberUnmount(Ep,h)}catch{}switch(h.tag){case 5:Fr||Tl(h,u);case 6:var x=_r,E=pa;_r=null,gi(s,u,h),_r=x,pa=E,_r!==null&&(pa?(s=_r,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):_r.removeChild(h.stateNode));break;case 18:_r!==null&&(pa?(s=_r,h=h.stateNode,s.nodeType===8?Ix(s.parentNode,h):s.nodeType===1&&Ix(s,h),ju(s)):Ix(_r,h.stateNode));break;case 4:x=_r,E=pa,_r=h.stateNode.containerInfo,pa=!0,gi(s,u,h),_r=x,pa=E;break;case 0:case 11:case 14:case 15:if(!Fr&&(x=h.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){E=x=x.next;do{var M=E,q=M.destroy;M=M.tag,q!==void 0&&(M&2||M&4)&&b0(h,u,q),E=E.next}while(E!==x)}gi(s,u,h);break;case 1:if(!Fr&&(Tl(h,u),x=h.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=h.memoizedProps,x.state=h.memoizedState,x.componentWillUnmount()}catch(X){Xt(h,u,X)}gi(s,u,h);break;case 21:gi(s,u,h);break;case 22:h.mode&1?(Fr=(x=Fr)||h.memoizedState!==null,gi(s,u,h),Fr=x):gi(s,u,h);break;default:gi(s,u,h)}}function hT(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new mF),u.forEach(function(x){var E=CF.bind(null,s,x);h.has(x)||(h.add(x),x.then(E,E))})}}function ha(s,u){var h=u.deletions;if(h!==null)for(var x=0;x<h.length;x++){var E=h[x];try{var M=s,q=u,X=q;e:for(;X!==null;){switch(X.tag){case 5:_r=X.stateNode,pa=!1;break e;case 3:_r=X.stateNode.containerInfo,pa=!0;break e;case 4:_r=X.stateNode.containerInfo,pa=!0;break e}X=X.return}if(_r===null)throw Error(r(160));pT(M,q,E),_r=null,pa=!1;var ee=E.alternate;ee!==null&&(ee.return=null),E.return=null}catch(ie){Xt(E,u,ie)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)mT(u,s),u=u.sibling}function mT(s,u){var h=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ha(u,s),Ba(s),x&4){try{Wu(3,s,s.return),uh(3,s)}catch(ze){Xt(s,s.return,ze)}try{Wu(5,s,s.return)}catch(ze){Xt(s,s.return,ze)}}break;case 1:ha(u,s),Ba(s),x&512&&h!==null&&Tl(h,h.return);break;case 5:if(ha(u,s),Ba(s),x&512&&h!==null&&Tl(h,h.return),s.flags&32){var E=s.stateNode;try{Nt(E,"")}catch(ze){Xt(s,s.return,ze)}}if(x&4&&(E=s.stateNode,E!=null)){var M=s.memoizedProps,q=h!==null?h.memoizedProps:M,X=s.type,ee=s.updateQueue;if(s.updateQueue=null,ee!==null)try{X==="input"&&M.type==="radio"&&M.name!=null&&Ce(E,M),Lt(X,q);var ie=Lt(X,M);for(q=0;q<ee.length;q+=2){var be=ee[q],Ee=ee[q+1];be==="style"?J(E,Ee):be==="dangerouslySetInnerHTML"?xt(E,Ee):be==="children"?Nt(E,Ee):$(E,be,Ee,ie)}switch(X){case"input":He(E,M);break;case"textarea":lt(E,M);break;case"select":var xe=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!M.multiple;var Ie=M.value;Ie!=null?ye(E,!!M.multiple,Ie,!1):xe!==!!M.multiple&&(M.defaultValue!=null?ye(E,!!M.multiple,M.defaultValue,!0):ye(E,!!M.multiple,M.multiple?[]:"",!1))}E[Ru]=M}catch(ze){Xt(s,s.return,ze)}}break;case 6:if(ha(u,s),Ba(s),x&4){if(s.stateNode===null)throw Error(r(162));E=s.stateNode,M=s.memoizedProps;try{E.nodeValue=M}catch(ze){Xt(s,s.return,ze)}}break;case 3:if(ha(u,s),Ba(s),x&4&&h!==null&&h.memoizedState.isDehydrated)try{ju(u.containerInfo)}catch(ze){Xt(s,s.return,ze)}break;case 4:ha(u,s),Ba(s);break;case 13:ha(u,s),Ba(s),E=s.child,E.flags&8192&&(M=E.memoizedState!==null,E.stateNode.isHidden=M,!M||E.alternate!==null&&E.alternate.memoizedState!==null||($0=tr())),x&4&&hT(s);break;case 22:if(be=h!==null&&h.memoizedState!==null,s.mode&1?(Fr=(ie=Fr)||be,ha(u,s),Fr=ie):ha(u,s),Ba(s),x&8192){if(ie=s.memoizedState!==null,(s.stateNode.isHidden=ie)&&!be&&s.mode&1)for(Ne=s,be=s.child;be!==null;){for(Ee=Ne=be;Ne!==null;){switch(xe=Ne,Ie=xe.child,xe.tag){case 0:case 11:case 14:case 15:Wu(4,xe,xe.return);break;case 1:Tl(xe,xe.return);var Be=xe.stateNode;if(typeof Be.componentWillUnmount=="function"){x=xe,h=xe.return;try{u=x,Be.props=u.memoizedProps,Be.state=u.memoizedState,Be.componentWillUnmount()}catch(ze){Xt(x,h,ze)}}break;case 5:Tl(xe,xe.return);break;case 22:if(xe.memoizedState!==null){vT(Ee);continue}}Ie!==null?(Ie.return=xe,Ne=Ie):vT(Ee)}be=be.sibling}e:for(be=null,Ee=s;;){if(Ee.tag===5){if(be===null){be=Ee;try{E=Ee.stateNode,ie?(M=E.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(X=Ee.stateNode,ee=Ee.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,X.style.display=at("display",q))}catch(ze){Xt(s,s.return,ze)}}}else if(Ee.tag===6){if(be===null)try{Ee.stateNode.nodeValue=ie?"":Ee.memoizedProps}catch(ze){Xt(s,s.return,ze)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===s)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===s)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===s)break e;be===Ee&&(be=null),Ee=Ee.return}be===Ee&&(be=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:ha(u,s),Ba(s),x&4&&hT(s);break;case 21:break;default:ha(u,s),Ba(s)}}function Ba(s){var u=s.flags;if(u&2){try{e:{for(var h=s.return;h!==null;){if(dT(h)){var x=h;break e}h=h.return}throw Error(r(160))}switch(x.tag){case 5:var E=x.stateNode;x.flags&32&&(Nt(E,""),x.flags&=-33);var M=fT(s);E0(s,M,E);break;case 3:case 4:var q=x.stateNode.containerInfo,X=fT(s);S0(s,X,q);break;default:throw Error(r(161))}}catch(ee){Xt(s,s.return,ee)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function yF(s,u,h){Ne=s,gT(s)}function gT(s,u,h){for(var x=(s.mode&1)!==0;Ne!==null;){var E=Ne,M=E.child;if(E.tag===22&&x){var q=E.memoizedState!==null||ch;if(!q){var X=E.alternate,ee=X!==null&&X.memoizedState!==null||Fr;X=ch;var ie=Fr;if(ch=q,(Fr=ee)&&!ie)for(Ne=E;Ne!==null;)q=Ne,ee=q.child,q.tag===22&&q.memoizedState!==null?xT(E):ee!==null?(ee.return=q,Ne=ee):xT(E);for(;M!==null;)Ne=M,gT(M),M=M.sibling;Ne=E,ch=X,Fr=ie}yT(s)}else E.subtreeFlags&8772&&M!==null?(M.return=E,Ne=M):yT(s)}}function yT(s){for(;Ne!==null;){var u=Ne;if(u.flags&8772){var h=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:Fr||uh(5,u);break;case 1:var x=u.stateNode;if(u.flags&4&&!Fr)if(h===null)x.componentDidMount();else{var E=u.elementType===u.type?h.memoizedProps:fa(u.type,h.memoizedProps);x.componentDidUpdate(E,h.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var M=u.updateQueue;M!==null&&v$(u,M,x);break;case 3:var q=u.updateQueue;if(q!==null){if(h=null,u.child!==null)switch(u.child.tag){case 5:h=u.child.stateNode;break;case 1:h=u.child.stateNode}v$(u,q,h)}break;case 5:var X=u.stateNode;if(h===null&&u.flags&4){h=X;var ee=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&h.focus();break;case"img":ee.src&&(h.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ie=u.alternate;if(ie!==null){var be=ie.memoizedState;if(be!==null){var Ee=be.dehydrated;Ee!==null&&ju(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Fr||u.flags&512&&w0(u)}catch(xe){Xt(u,u.return,xe)}}if(u===s){Ne=null;break}if(h=u.sibling,h!==null){h.return=u.return,Ne=h;break}Ne=u.return}}function vT(s){for(;Ne!==null;){var u=Ne;if(u===s){Ne=null;break}var h=u.sibling;if(h!==null){h.return=u.return,Ne=h;break}Ne=u.return}}function xT(s){for(;Ne!==null;){var u=Ne;try{switch(u.tag){case 0:case 11:case 15:var h=u.return;try{uh(4,u)}catch(ee){Xt(u,h,ee)}break;case 1:var x=u.stateNode;if(typeof x.componentDidMount=="function"){var E=u.return;try{x.componentDidMount()}catch(ee){Xt(u,E,ee)}}var M=u.return;try{w0(u)}catch(ee){Xt(u,M,ee)}break;case 5:var q=u.return;try{w0(u)}catch(ee){Xt(u,q,ee)}}}catch(ee){Xt(u,u.return,ee)}if(u===s){Ne=null;break}var X=u.sibling;if(X!==null){X.return=u.return,Ne=X;break}Ne=u.return}}var vF=Math.ceil,dh=L.ReactCurrentDispatcher,j0=L.ReactCurrentOwner,Vn=L.ReactCurrentBatchConfig,ft=0,Sr=null,cr=null,Dr=0,bn=0,kl=di(0),hr=0,Yu=null,is=0,fh=0,C0=0,Gu=null,ln=null,$0=0,Al=1/0,xo=null,ph=!1,T0=null,yi=null,hh=!1,vi=null,mh=0,Ku=0,k0=null,gh=-1,yh=0;function Kr(){return ft&6?tr():gh!==-1?gh:gh=tr()}function xi(s){return s.mode&1?ft&2&&Dr!==0?Dr&-Dr:tF.transition!==null?(yh===0&&(yh=f4()),yh):(s=$t,s!==0||(s=window.event,s=s===void 0?16:w4(s.type)),s):1}function ma(s,u,h,x){if(50<Ku)throw Ku=0,k0=null,Error(r(185));xu(s,h,x),(!(ft&2)||s!==Sr)&&(s===Sr&&(!(ft&2)&&(fh|=h),hr===4&&bi(s,Dr)),cn(s,x),h===1&&ft===0&&!(u.mode&1)&&(Al=tr()+500,Vp&&pi()))}function cn(s,u){var h=s.callbackNode;tz(s,u);var x=$p(s,s===Sr?Dr:0);if(x===0)h!==null&&c4(h),s.callbackNode=null,s.callbackPriority=0;else if(u=x&-x,s.callbackPriority!==u){if(h!=null&&c4(h),u===1)s.tag===0?eF(wT.bind(null,s)):i$(wT.bind(null,s)),Qz(function(){!(ft&6)&&pi()}),h=null;else{switch(p4(x)){case 1:h=sx;break;case 4:h=u4;break;case 16:h=Sp;break;case 536870912:h=d4;break;default:h=Sp}h=AT(h,bT.bind(null,s))}s.callbackPriority=u,s.callbackNode=h}}function bT(s,u){if(gh=-1,yh=0,ft&6)throw Error(r(327));var h=s.callbackNode;if(Ol()&&s.callbackNode!==h)return null;var x=$p(s,s===Sr?Dr:0);if(x===0)return null;if(x&30||x&s.expiredLanes||u)u=vh(s,x);else{u=x;var E=ft;ft|=2;var M=ET();(Sr!==s||Dr!==u)&&(xo=null,Al=tr()+500,ls(s,u));do try{wF();break}catch(X){ST(s,X)}while(!0);Wx(),dh.current=M,ft=E,cr!==null?u=0:(Sr=null,Dr=0,u=hr)}if(u!==0){if(u===2&&(E=lx(s),E!==0&&(x=E,u=A0(s,E))),u===1)throw h=Yu,ls(s,0),bi(s,x),cn(s,tr()),h;if(u===6)bi(s,x);else{if(E=s.current.alternate,!(x&30)&&!xF(E)&&(u=vh(s,x),u===2&&(M=lx(s),M!==0&&(x=M,u=A0(s,M))),u===1))throw h=Yu,ls(s,0),bi(s,x),cn(s,tr()),h;switch(s.finishedWork=E,s.finishedLanes=x,u){case 0:case 1:throw Error(r(345));case 2:cs(s,ln,xo);break;case 3:if(bi(s,x),(x&130023424)===x&&(u=$0+500-tr(),10<u)){if($p(s,0)!==0)break;if(E=s.suspendedLanes,(E&x)!==x){Kr(),s.pingedLanes|=s.suspendedLanes&E;break}s.timeoutHandle=Rx(cs.bind(null,s,ln,xo),u);break}cs(s,ln,xo);break;case 4:if(bi(s,x),(x&4194240)===x)break;for(u=s.eventTimes,E=-1;0<x;){var q=31-ca(x);M=1<<q,q=u[q],q>E&&(E=q),x&=~M}if(x=E,x=tr()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*vF(x/1960))-x,10<x){s.timeoutHandle=Rx(cs.bind(null,s,ln,xo),x);break}cs(s,ln,xo);break;case 5:cs(s,ln,xo);break;default:throw Error(r(329))}}}return cn(s,tr()),s.callbackNode===h?bT.bind(null,s):null}function A0(s,u){var h=Gu;return s.current.memoizedState.isDehydrated&&(ls(s,u).flags|=256),s=vh(s,u),s!==2&&(u=ln,ln=h,u!==null&&O0(u)),s}function O0(s){ln===null?ln=s:ln.push.apply(ln,s)}function xF(s){for(var u=s;;){if(u.flags&16384){var h=u.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var x=0;x<h.length;x++){var E=h[x],M=E.getSnapshot;E=E.value;try{if(!ua(M(),E))return!1}catch{return!1}}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function bi(s,u){for(u&=~C0,u&=~fh,s.suspendedLanes|=u,s.pingedLanes&=~u,s=s.expirationTimes;0<u;){var h=31-ca(u),x=1<<h;s[h]=-1,u&=~x}}function wT(s){if(ft&6)throw Error(r(327));Ol();var u=$p(s,0);if(!(u&1))return cn(s,tr()),null;var h=vh(s,u);if(s.tag!==0&&h===2){var x=lx(s);x!==0&&(u=x,h=A0(s,x))}if(h===1)throw h=Yu,ls(s,0),bi(s,u),cn(s,tr()),h;if(h===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=u,cs(s,ln,xo),cn(s,tr()),null}function P0(s,u){var h=ft;ft|=1;try{return s(u)}finally{ft=h,ft===0&&(Al=tr()+500,Vp&&pi())}}function ss(s){vi!==null&&vi.tag===0&&!(ft&6)&&Ol();var u=ft;ft|=1;var h=Vn.transition,x=$t;try{if(Vn.transition=null,$t=1,s)return s()}finally{$t=x,Vn.transition=h,ft=u,!(ft&6)&&pi()}}function _0(){bn=kl.current,zt(kl)}function ls(s,u){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,Kz(h)),cr!==null)for(h=cr.return;h!==null;){var x=h;switch(Fx(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Hp();break;case 3:Cl(),zt(an),zt(Lr),e0();break;case 5:Jx(x);break;case 4:Cl();break;case 13:zt(Yt);break;case 19:zt(Yt);break;case 10:Yx(x.type._context);break;case 22:case 23:_0()}h=h.return}if(Sr=s,cr=s=wi(s.current,null),Dr=bn=u,hr=0,Yu=null,C0=fh=is=0,ln=Gu=null,ns!==null){for(u=0;u<ns.length;u++)if(h=ns[u],x=h.interleaved,x!==null){h.interleaved=null;var E=x.next,M=h.pending;if(M!==null){var q=M.next;M.next=E,x.next=q}h.pending=x}ns=null}return s}function ST(s,u){do{var h=cr;try{if(Wx(),th.current=oh,rh){for(var x=Gt.memoizedState;x!==null;){var E=x.queue;E!==null&&(E.pending=null),x=x.next}rh=!1}if(os=0,wr=pr=Gt=null,Fu=!1,qu=0,j0.current=null,h===null||h.return===null){hr=1,Yu=u,cr=null;break}e:{var M=s,q=h.return,X=h,ee=u;if(u=Dr,X.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var ie=ee,be=X,Ee=be.tag;if(!(be.mode&1)&&(Ee===0||Ee===11||Ee===15)){var xe=be.alternate;xe?(be.updateQueue=xe.updateQueue,be.memoizedState=xe.memoizedState,be.lanes=xe.lanes):(be.updateQueue=null,be.memoizedState=null)}var Ie=Y$(q);if(Ie!==null){Ie.flags&=-257,G$(Ie,q,X,M,u),Ie.mode&1&&W$(M,ie,u),u=Ie,ee=ie;var Be=u.updateQueue;if(Be===null){var ze=new Set;ze.add(ee),u.updateQueue=ze}else Be.add(ee);break e}else{if(!(u&1)){W$(M,ie,u),D0();break e}ee=Error(r(426))}}else if(Ht&&X.mode&1){var rr=Y$(q);if(rr!==null){!(rr.flags&65536)&&(rr.flags|=256),G$(rr,q,X,M,u),Ux($l(ee,X));break e}}M=ee=$l(ee,X),hr!==4&&(hr=2),Gu===null?Gu=[M]:Gu.push(M),M=q;do{switch(M.tag){case 3:M.flags|=65536,u&=-u,M.lanes|=u;var ae=U$(M,ee,u);y$(M,ae);break e;case 1:X=ee;var te=M.type,oe=M.stateNode;if(!(M.flags&128)&&(typeof te.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(yi===null||!yi.has(oe)))){M.flags|=65536,u&=-u,M.lanes|=u;var Te=V$(M,X,u);y$(M,Te);break e}}M=M.return}while(M!==null)}CT(h)}catch(Fe){u=Fe,cr===h&&h!==null&&(cr=h=h.return);continue}break}while(!0)}function ET(){var s=dh.current;return dh.current=oh,s===null?oh:s}function D0(){(hr===0||hr===3||hr===2)&&(hr=4),Sr===null||!(is&268435455)&&!(fh&268435455)||bi(Sr,Dr)}function vh(s,u){var h=ft;ft|=2;var x=ET();(Sr!==s||Dr!==u)&&(xo=null,ls(s,u));do try{bF();break}catch(E){ST(s,E)}while(!0);if(Wx(),ft=h,dh.current=x,cr!==null)throw Error(r(261));return Sr=null,Dr=0,hr}function bF(){for(;cr!==null;)jT(cr)}function wF(){for(;cr!==null&&!W9();)jT(cr)}function jT(s){var u=kT(s.alternate,s,bn);s.memoizedProps=s.pendingProps,u===null?CT(s):cr=u,j0.current=null}function CT(s){var u=s;do{var h=u.alternate;if(s=u.return,u.flags&32768){if(h=hF(h,u),h!==null){h.flags&=32767,cr=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{hr=6,cr=null;return}}else if(h=pF(h,u,bn),h!==null){cr=h;return}if(u=u.sibling,u!==null){cr=u;return}cr=u=s}while(u!==null);hr===0&&(hr=5)}function cs(s,u,h){var x=$t,E=Vn.transition;try{Vn.transition=null,$t=1,SF(s,u,h,x)}finally{Vn.transition=E,$t=x}return null}function SF(s,u,h,x){do Ol();while(vi!==null);if(ft&6)throw Error(r(327));h=s.finishedWork;var E=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var M=h.lanes|h.childLanes;if(rz(s,M),s===Sr&&(cr=Sr=null,Dr=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||hh||(hh=!0,AT(Sp,function(){return Ol(),null})),M=(h.flags&15990)!==0,h.subtreeFlags&15990||M){M=Vn.transition,Vn.transition=null;var q=$t;$t=1;var X=ft;ft|=4,j0.current=null,gF(s,h),mT(h,s),qz(Dx),Ap=!!_x,Dx=_x=null,s.current=h,yF(h),Y9(),ft=X,$t=q,Vn.transition=M}else s.current=h;if(hh&&(hh=!1,vi=s,mh=E),M=s.pendingLanes,M===0&&(yi=null),Q9(h.stateNode),cn(s,tr()),u!==null)for(x=s.onRecoverableError,h=0;h<u.length;h++)E=u[h],x(E.value,{componentStack:E.stack,digest:E.digest});if(ph)throw ph=!1,s=T0,T0=null,s;return mh&1&&s.tag!==0&&Ol(),M=s.pendingLanes,M&1?s===k0?Ku++:(Ku=0,k0=s):Ku=0,pi(),null}function Ol(){if(vi!==null){var s=p4(mh),u=Vn.transition,h=$t;try{if(Vn.transition=null,$t=16>s?16:s,vi===null)var x=!1;else{if(s=vi,vi=null,mh=0,ft&6)throw Error(r(331));var E=ft;for(ft|=4,Ne=s.current;Ne!==null;){var M=Ne,q=M.child;if(Ne.flags&16){var X=M.deletions;if(X!==null){for(var ee=0;ee<X.length;ee++){var ie=X[ee];for(Ne=ie;Ne!==null;){var be=Ne;switch(be.tag){case 0:case 11:case 15:Wu(8,be,M)}var Ee=be.child;if(Ee!==null)Ee.return=be,Ne=Ee;else for(;Ne!==null;){be=Ne;var xe=be.sibling,Ie=be.return;if(uT(be),be===ie){Ne=null;break}if(xe!==null){xe.return=Ie,Ne=xe;break}Ne=Ie}}}var Be=M.alternate;if(Be!==null){var ze=Be.child;if(ze!==null){Be.child=null;do{var rr=ze.sibling;ze.sibling=null,ze=rr}while(ze!==null)}}Ne=M}}if(M.subtreeFlags&2064&&q!==null)q.return=M,Ne=q;else e:for(;Ne!==null;){if(M=Ne,M.flags&2048)switch(M.tag){case 0:case 11:case 15:Wu(9,M,M.return)}var ae=M.sibling;if(ae!==null){ae.return=M.return,Ne=ae;break e}Ne=M.return}}var te=s.current;for(Ne=te;Ne!==null;){q=Ne;var oe=q.child;if(q.subtreeFlags&2064&&oe!==null)oe.return=q,Ne=oe;else e:for(q=te;Ne!==null;){if(X=Ne,X.flags&2048)try{switch(X.tag){case 0:case 11:case 15:uh(9,X)}}catch(Fe){Xt(X,X.return,Fe)}if(X===q){Ne=null;break e}var Te=X.sibling;if(Te!==null){Te.return=X.return,Ne=Te;break e}Ne=X.return}}if(ft=E,pi(),Ra&&typeof Ra.onPostCommitFiberRoot=="function")try{Ra.onPostCommitFiberRoot(Ep,s)}catch{}x=!0}return x}finally{$t=h,Vn.transition=u}}return!1}function $T(s,u,h){u=$l(h,u),u=U$(s,u,1),s=mi(s,u,1),u=Kr(),s!==null&&(xu(s,1,u),cn(s,u))}function Xt(s,u,h){if(s.tag===3)$T(s,s,h);else for(;u!==null;){if(u.tag===3){$T(u,s,h);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(yi===null||!yi.has(x))){s=$l(h,s),s=V$(u,s,1),u=mi(u,s,1),s=Kr(),u!==null&&(xu(u,1,s),cn(u,s));break}}u=u.return}}function EF(s,u,h){var x=s.pingCache;x!==null&&x.delete(u),u=Kr(),s.pingedLanes|=s.suspendedLanes&h,Sr===s&&(Dr&h)===h&&(hr===4||hr===3&&(Dr&130023424)===Dr&&500>tr()-$0?ls(s,0):C0|=h),cn(s,u)}function TT(s,u){u===0&&(s.mode&1?(u=Cp,Cp<<=1,!(Cp&130023424)&&(Cp=4194304)):u=1);var h=Kr();s=go(s,u),s!==null&&(xu(s,u,h),cn(s,h))}function jF(s){var u=s.memoizedState,h=0;u!==null&&(h=u.retryLane),TT(s,h)}function CF(s,u){var h=0;switch(s.tag){case 13:var x=s.stateNode,E=s.memoizedState;E!==null&&(h=E.retryLane);break;case 19:x=s.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(u),TT(s,h)}var kT;kT=function(s,u,h){if(s!==null)if(s.memoizedProps!==u.pendingProps||an.current)sn=!0;else{if(!(s.lanes&h)&&!(u.flags&128))return sn=!1,fF(s,u,h);sn=!!(s.flags&131072)}else sn=!1,Ht&&u.flags&1048576&&s$(u,Yp,u.index);switch(u.lanes=0,u.tag){case 2:var x=u.type;lh(s,u),s=u.pendingProps;var E=vl(u,Lr.current);jl(u,h),E=n0(null,u,x,s,E,h);var M=a0();return u.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,on(x)?(M=!0,Up(u)):M=!1,u.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Qx(u),E.updater=ih,u.stateNode=E,E._reactInternals=u,u0(u,x,s,h),u=h0(null,u,x,!0,M,h)):(u.tag=0,Ht&&M&&zx(u),Gr(null,u,E,h),u=u.child),u;case 16:x=u.elementType;e:{switch(lh(s,u),s=u.pendingProps,E=x._init,x=E(x._payload),u.type=x,E=u.tag=TF(x),s=fa(x,s),E){case 0:u=p0(null,u,x,s,h);break e;case 1:u=eT(null,u,x,s,h);break e;case 11:u=K$(null,u,x,s,h);break e;case 14:u=Q$(null,u,x,fa(x.type,s),h);break e}throw Error(r(306,x,""))}return u;case 0:return x=u.type,E=u.pendingProps,E=u.elementType===x?E:fa(x,E),p0(s,u,x,E,h);case 1:return x=u.type,E=u.pendingProps,E=u.elementType===x?E:fa(x,E),eT(s,u,x,E,h);case 3:e:{if(tT(u),s===null)throw Error(r(387));x=u.pendingProps,M=u.memoizedState,E=M.element,g$(s,u),Zp(u,x,null,h);var q=u.memoizedState;if(x=q.element,M.isDehydrated)if(M={element:x,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},u.updateQueue.baseState=M,u.memoizedState=M,u.flags&256){E=$l(Error(r(423)),u),u=rT(s,u,x,h,E);break e}else if(x!==E){E=$l(Error(r(424)),u),u=rT(s,u,x,h,E);break e}else for(xn=ui(u.stateNode.containerInfo.firstChild),vn=u,Ht=!0,da=null,h=h$(u,null,x,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(wl(),x===E){u=vo(s,u,h);break e}Gr(s,u,x,h)}u=u.child}return u;case 5:return x$(u),s===null&&Hx(u),x=u.type,E=u.pendingProps,M=s!==null?s.memoizedProps:null,q=E.children,Mx(x,E)?q=null:M!==null&&Mx(x,M)&&(u.flags|=32),Z$(s,u),Gr(s,u,q,h),u.child;case 6:return s===null&&Hx(u),null;case 13:return nT(s,u,h);case 4:return Xx(u,u.stateNode.containerInfo),x=u.pendingProps,s===null?u.child=Sl(u,null,x,h):Gr(s,u,x,h),u.child;case 11:return x=u.type,E=u.pendingProps,E=u.elementType===x?E:fa(x,E),K$(s,u,x,E,h);case 7:return Gr(s,u,u.pendingProps,h),u.child;case 8:return Gr(s,u,u.pendingProps.children,h),u.child;case 12:return Gr(s,u,u.pendingProps.children,h),u.child;case 10:e:{if(x=u.type._context,E=u.pendingProps,M=u.memoizedProps,q=E.value,_t(Qp,x._currentValue),x._currentValue=q,M!==null)if(ua(M.value,q)){if(M.children===E.children&&!an.current){u=vo(s,u,h);break e}}else for(M=u.child,M!==null&&(M.return=u);M!==null;){var X=M.dependencies;if(X!==null){q=M.child;for(var ee=X.firstContext;ee!==null;){if(ee.context===x){if(M.tag===1){ee=yo(-1,h&-h),ee.tag=2;var ie=M.updateQueue;if(ie!==null){ie=ie.shared;var be=ie.pending;be===null?ee.next=ee:(ee.next=be.next,be.next=ee),ie.pending=ee}}M.lanes|=h,ee=M.alternate,ee!==null&&(ee.lanes|=h),Gx(M.return,h,u),X.lanes|=h;break}ee=ee.next}}else if(M.tag===10)q=M.type===u.type?null:M.child;else if(M.tag===18){if(q=M.return,q===null)throw Error(r(341));q.lanes|=h,X=q.alternate,X!==null&&(X.lanes|=h),Gx(q,h,u),q=M.sibling}else q=M.child;if(q!==null)q.return=M;else for(q=M;q!==null;){if(q===u){q=null;break}if(M=q.sibling,M!==null){M.return=q.return,q=M;break}q=q.return}M=q}Gr(s,u,E.children,h),u=u.child}return u;case 9:return E=u.type,x=u.pendingProps.children,jl(u,h),E=Hn(E),x=x(E),u.flags|=1,Gr(s,u,x,h),u.child;case 14:return x=u.type,E=fa(x,u.pendingProps),E=fa(x.type,E),Q$(s,u,x,E,h);case 15:return X$(s,u,u.type,u.pendingProps,h);case 17:return x=u.type,E=u.pendingProps,E=u.elementType===x?E:fa(x,E),lh(s,u),u.tag=1,on(x)?(s=!0,Up(u)):s=!1,jl(u,h),q$(u,x,E),u0(u,x,E,h),h0(null,u,x,!0,s,h);case 19:return oT(s,u,h);case 22:return J$(s,u,h)}throw Error(r(156,u.tag))};function AT(s,u){return l4(s,u)}function $F(s,u,h,x){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(s,u,h,x){return new $F(s,u,h,x)}function M0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function TF(s){if(typeof s=="function")return M0(s)?1:0;if(s!=null){if(s=s.$$typeof,s===A)return 11;if(s===F)return 14}return 2}function wi(s,u){var h=s.alternate;return h===null?(h=Wn(s.tag,u,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=u,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,u=s.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function xh(s,u,h,x,E,M){var q=2;if(x=s,typeof s=="function")M0(s)&&(q=1);else if(typeof s=="string")q=5;else e:switch(s){case O:return us(h.children,E,M,u);case N:q=8,E|=8;break;case R:return s=Wn(12,h,u,E|2),s.elementType=R,s.lanes=M,s;case I:return s=Wn(13,h,u,E),s.elementType=I,s.lanes=M,s;case B:return s=Wn(19,h,u,E),s.elementType=B,s.lanes=M,s;case Y:return bh(h,E,M,u);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:q=10;break e;case j:q=9;break e;case A:q=11;break e;case F:q=14;break e;case U:q=16,x=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return u=Wn(q,h,u,E),u.elementType=s,u.type=x,u.lanes=M,u}function us(s,u,h,x){return s=Wn(7,s,x,u),s.lanes=h,s}function bh(s,u,h,x){return s=Wn(22,s,x,u),s.elementType=Y,s.lanes=h,s.stateNode={isHidden:!1},s}function R0(s,u,h){return s=Wn(6,s,null,u),s.lanes=h,s}function I0(s,u,h){return u=Wn(4,s.children!==null?s.children:[],s.key,u),u.lanes=h,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}function kF(s,u,h,x,E){this.tag=u,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cx(0),this.expirationTimes=cx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cx(0),this.identifierPrefix=x,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function N0(s,u,h,x,E,M,q,X,ee){return s=new kF(s,u,h,X,ee),u===1?(u=1,M===!0&&(u|=8)):u=0,M=Wn(3,null,null,u),s.current=M,M.stateNode=s,M.memoizedState={element:x,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qx(M),s}function AF(s,u,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:x==null?null:""+x,children:s,containerInfo:u,implementation:h}}function OT(s){if(!s)return fi;s=s._reactInternals;e:{if(Ji(s)!==s||s.tag!==1)throw Error(r(170));var u=s;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(on(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(s.tag===1){var h=s.type;if(on(h))return a$(s,h,u)}return u}function PT(s,u,h,x,E,M,q,X,ee){return s=N0(h,x,!0,s,E,M,q,X,ee),s.context=OT(null),h=s.current,x=Kr(),E=xi(h),M=yo(x,E),M.callback=u??null,mi(h,M,E),s.current.lanes=E,xu(s,E,x),cn(s,x),s}function wh(s,u,h,x){var E=u.current,M=Kr(),q=xi(E);return h=OT(h),u.context===null?u.context=h:u.pendingContext=h,u=yo(M,q),u.payload={element:s},x=x===void 0?null:x,x!==null&&(u.callback=x),s=mi(E,u,q),s!==null&&(ma(s,E,q,M),Jp(s,E,q)),q}function Sh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function _T(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<u?h:u}}function L0(s,u){_T(s,u),(s=s.alternate)&&_T(s,u)}function OF(){return null}var DT=typeof reportError=="function"?reportError:function(s){console.error(s)};function B0(s){this._internalRoot=s}Eh.prototype.render=B0.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(r(409));wh(s,u,null,null)},Eh.prototype.unmount=B0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;ss(function(){wh(null,s,null,null)}),u[fo]=null}};function Eh(s){this._internalRoot=s}Eh.prototype.unstable_scheduleHydration=function(s){if(s){var u=g4();s={blockedOn:null,target:s,priority:u};for(var h=0;h<si.length&&u!==0&&u<si[h].priority;h++);si.splice(h,0,s),h===0&&x4(s)}};function z0(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function jh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function MT(){}function PF(s,u,h,x,E){if(E){if(typeof x=="function"){var M=x;x=function(){var ie=Sh(q);M.call(ie)}}var q=PT(u,x,s,0,null,!1,!1,"",MT);return s._reactRootContainer=q,s[fo]=q.current,Du(s.nodeType===8?s.parentNode:s),ss(),q}for(;E=s.lastChild;)s.removeChild(E);if(typeof x=="function"){var X=x;x=function(){var ie=Sh(ee);X.call(ie)}}var ee=N0(s,0,!1,null,null,!1,!1,"",MT);return s._reactRootContainer=ee,s[fo]=ee.current,Du(s.nodeType===8?s.parentNode:s),ss(function(){wh(u,ee,h,x)}),ee}function Ch(s,u,h,x,E){var M=h._reactRootContainer;if(M){var q=M;if(typeof E=="function"){var X=E;E=function(){var ee=Sh(q);X.call(ee)}}wh(u,q,s,E)}else q=PF(h,u,s,E,x);return Sh(q)}h4=function(s){switch(s.tag){case 3:var u=s.stateNode;if(u.current.memoizedState.isDehydrated){var h=vu(u.pendingLanes);h!==0&&(ux(u,h|1),cn(u,tr()),!(ft&6)&&(Al=tr()+500,pi()))}break;case 13:ss(function(){var x=go(s,1);if(x!==null){var E=Kr();ma(x,s,1,E)}}),L0(s,1)}},dx=function(s){if(s.tag===13){var u=go(s,134217728);if(u!==null){var h=Kr();ma(u,s,134217728,h)}L0(s,134217728)}},m4=function(s){if(s.tag===13){var u=xi(s),h=go(s,u);if(h!==null){var x=Kr();ma(h,s,u,x)}L0(s,u)}},g4=function(){return $t},y4=function(s,u){var h=$t;try{return $t=s,u()}finally{$t=h}},Or=function(s,u,h){switch(u){case"input":if(He(s,h),u=h.name,h.type==="radio"&&u!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<h.length;u++){var x=h[u];if(x!==s&&x.form===s.form){var E=qp(x);if(!E)throw Error(r(90));le(x),He(x,E)}}}break;case"textarea":lt(s,h);break;case"select":u=h.value,u!=null&&ye(s,!!h.multiple,u,!1)}},la=P0,co=ss;var _F={usingClientEntryPoint:!1,Events:[Iu,gl,qp,sa,ri,P0]},Qu={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DF={bundleType:Qu.bundleType,version:Qu.version,rendererPackageName:Qu.rendererPackageName,rendererConfig:Qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=i4(s),s===null?null:s.stateNode},findFiberByHostInstance:Qu.findFiberByHostInstance||OF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{Ep=$h.inject(DF),Ra=$h}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_F,un.createPortal=function(s,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z0(u))throw Error(r(200));return AF(s,u,null,h)},un.createRoot=function(s,u){if(!z0(s))throw Error(r(299));var h=!1,x="",E=DT;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError)),u=N0(s,1,!1,null,null,h,!1,x,E),s[fo]=u.current,Du(s.nodeType===8?s.parentNode:s),new B0(u)},un.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=i4(u),s=s===null?null:s.stateNode,s},un.flushSync=function(s){return ss(s)},un.hydrate=function(s,u,h){if(!jh(u))throw Error(r(200));return Ch(null,s,u,!0,h)},un.hydrateRoot=function(s,u,h){if(!z0(s))throw Error(r(405));var x=h!=null&&h.hydratedSources||null,E=!1,M="",q=DT;if(h!=null&&(h.unstable_strictMode===!0&&(E=!0),h.identifierPrefix!==void 0&&(M=h.identifierPrefix),h.onRecoverableError!==void 0&&(q=h.onRecoverableError)),u=PT(u,null,s,1,h??null,E,!1,M,q),s[fo]=u.current,Du(s),x)for(s=0;s<x.length;s++)h=x[s],E=h._getVersion,E=E(h._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[h,E]:u.mutableSourceEagerHydrationData.push(h,E);return new Eh(u)},un.render=function(s,u,h){if(!jh(u))throw Error(r(200));return Ch(null,s,u,!1,h)},un.unmountComponentAtNode=function(s){if(!jh(s))throw Error(r(40));return s._reactRootContainer?(ss(function(){Ch(null,null,s,!1,function(){s._reactRootContainer=null,s[fo]=null})}),!0):!1},un.unstable_batchedUpdates=P0,un.unstable_renderSubtreeIntoContainer=function(s,u,h,x){if(!jh(h))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Ch(s,u,h,!1,x)},un.version="18.3.1-next-f1338f8080-20240426",un}var qT;function UM(){if(qT)return H0.exports;qT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),H0.exports=UF(),H0.exports}var HT;function VF(){if(HT)return kh;HT=1;var e=UM();return kh.createRoot=e.createRoot,kh.hydrateRoot=e.hydrateRoot,kh}var WF=VF();const YF=dt(WF);var Ju={},UT;function GF(){if(UT)return Ju;UT=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.parse=i,Ju.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function i(g,y){const w=new o,S=g.length;if(S<2)return w;const b=(y==null?void 0:y.decode)||p;let k=0;do{const C=g.indexOf("=",k);if(C===-1)break;const $=g.indexOf(";",k),L=$===-1?S:$;if(C>L){k=g.lastIndexOf(";",C-1)+1;continue}const T=c(g,k,C),P=d(g,C,T),O=g.slice(T,P);if(w[O]===void 0){let N=c(g,C+1,L),R=d(g,L,N);const D=b(g.slice(N,R));w[O]=D}k=L+1}while(k<S);return w}function c(g,y,w){do{const S=g.charCodeAt(y);if(S!==32&&S!==9)return y}while(++y<w);return w}function d(g,y,w){for(;y>w;){const S=g.charCodeAt(--y);if(S!==32&&S!==9)return y+1}return w}function f(g,y,w){const S=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(g))throw new TypeError(`argument name is invalid: ${g}`);const b=S(y);if(!t.test(b))throw new TypeError(`argument val is invalid: ${y}`);let k=g+"="+b;if(!w)return k;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);k+="; Max-Age="+w.maxAge}if(w.domain){if(!r.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);k+="; Domain="+w.domain}if(w.path){if(!n.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);k+="; Path="+w.path}if(w.expires){if(!m(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);k+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(k+="; HttpOnly"),w.secure&&(k+="; Secure"),w.partitioned&&(k+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return k}function p(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function m(g){return a.call(g)==="[object Date]"}return Ju}GF();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VT="popstate";function KF(e={}){function t(n,a){let{pathname:o,search:i,hash:c}=n.location;return fE("",{pathname:o,search:i,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:of(a)}return XF(t,r,null,e)}function Wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Aa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QF(){return Math.random().toString(36).substring(2,10)}function WT(e,t){return{usr:e.state,key:e.key,idx:t}}function fE(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?eu(t):t,state:r,key:t&&t.key||n||QF()}}function of({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function eu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function XF(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,c="POP",d=null,f=p();f==null&&(f=0,i.replaceState({...i.state,idx:f},""));function p(){return(i.state||{idx:null}).idx}function m(){c="POP";let b=p(),k=b==null?null:b-f;f=b,d&&d({action:c,location:S.location,delta:k})}function g(b,k){c="PUSH";let C=fE(S.location,b,k);f=p()+1;let $=WT(C,f),L=S.createHref(C);try{i.pushState($,"",L)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(L)}o&&d&&d({action:c,location:S.location,delta:1})}function y(b,k){c="REPLACE";let C=fE(S.location,b,k);f=p();let $=WT(C,f),L=S.createHref(C);i.replaceState($,"",L),o&&d&&d({action:c,location:S.location,delta:0})}function w(b){let k=a.location.origin!=="null"?a.location.origin:a.location.href,C=typeof b=="string"?b:of(b);return C=C.replace(/ $/,"%20"),Wt(k,`No window.location.(origin|href) available to create URL for href: ${C}`),new URL(C,k)}let S={get action(){return c},get location(){return e(a,i)},listen(b){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(VT,m),d=b,()=>{a.removeEventListener(VT,m),d=null}},createHref(b){return t(a,b)},createURL:w,encodeLocation(b){let k=w(b);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:y,go(b){return i.go(b)}};return S}function VM(e,t,r="/"){return JF(e,t,r,!1)}function JF(e,t,r,n){let a=typeof t=="string"?eu(t):t,o=Hi(a.pathname||"/",r);if(o==null)return null;let i=WM(e);ZF(i);let c=null;for(let d=0;c==null&&d<i.length;++d){let f=uq(o);c=lq(i[d],f,n)}return c}function WM(e,t=[],r=[],n=""){let a=(o,i,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};d.relativePath.startsWith("/")&&(Wt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let f=Mo([n,d.relativePath]),p=r.concat(d);o.children&&o.children.length>0&&(Wt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),WM(o.children,t,p,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:iq(f,o.index),routesMeta:p})};return e.forEach((o,i)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,i);else for(let d of YM(o.path))a(o,i,d)}),t}function YM(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=YM(n.join("/")),c=[];return c.push(...i.map(d=>d===""?o:[o,d].join("/"))),a&&c.push(...i),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function ZF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:sq(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var eq=/^:[\w-]+$/,tq=3,rq=2,nq=1,aq=10,oq=-2,YT=e=>e==="*";function iq(e,t){let r=e.split("/"),n=r.length;return r.some(YT)&&(n+=oq),t&&(n+=rq),r.filter(a=>!YT(a)).reduce((a,o)=>a+(eq.test(o)?tq:o===""?nq:aq),n)}function sq(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function lq(e,t,r=!1){let{routesMeta:n}=e,a={},o="/",i=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,p=o==="/"?t:t.slice(o.length)||"/",m=hg({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),g=d.route;if(!m&&f&&r&&!n[n.length-1].route.index&&(m=hg({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(a,m.params),i.push({params:a,pathname:Mo([o,m.pathname]),pathnameBase:hq(Mo([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=Mo([o,m.pathnameBase]))}return i}function hg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=cq(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:m},g)=>{if(p==="*"){let w=c[g]||"";i=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const y=c[g];return m&&!y?f[p]=void 0:f[p]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:i,pattern:e}}function cq(e,t=!1,r=!0){Aa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function uq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Aa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Hi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function dq(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?eu(e):e;return{pathname:r?r.startsWith("/")?r:fq(r,t):t,search:mq(n),hash:gq(a)}}function fq(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function W0(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pq(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function aC(e){let t=pq(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function oC(e,t,r,n=!1){let a;typeof e=="string"?a=eu(e):(a={...e},Wt(!a.pathname||!a.pathname.includes("?"),W0("?","pathname","search",a)),Wt(!a.pathname||!a.pathname.includes("#"),W0("#","pathname","hash",a)),Wt(!a.search||!a.search.includes("#"),W0("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,c;if(i==null)c=r;else{let m=t.length-1;if(!n&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}c=m>=0?t[m]:"/"}let d=dq(a,c),f=i&&i!=="/"&&i.endsWith("/"),p=(o||i===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Mo=e=>e.join("/").replace(/\/\/+/g,"/"),hq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var GM=["POST","PUT","PATCH","DELETE"];new Set(GM);var vq=["GET",...GM];new Set(vq);var tu=_.createContext(null);tu.displayName="DataRouter";var Yy=_.createContext(null);Yy.displayName="DataRouterState";var KM=_.createContext({isTransitioning:!1});KM.displayName="ViewTransition";var xq=_.createContext(new Map);xq.displayName="Fetchers";var bq=_.createContext(null);bq.displayName="Await";var Pa=_.createContext(null);Pa.displayName="Navigation";var Qf=_.createContext(null);Qf.displayName="Location";var _a=_.createContext({outlet:null,matches:[],isDataRoute:!1});_a.displayName="Route";var iC=_.createContext(null);iC.displayName="RouteError";function wq(e,{relative:t}={}){Wt(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=_.useContext(Pa),{hash:a,pathname:o,search:i}=Jf(e,{relative:t}),c=o;return r!=="/"&&(c=o==="/"?r:Mo([r,o])),n.createHref({pathname:c,search:i,hash:a})}function ru(){return _.useContext(Qf)!=null}function Ko(){return Wt(ru(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Qf).location}var QM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XM(e){_.useContext(Pa).static||_.useLayoutEffect(e)}function Xf(){let{isDataRoute:e}=_.useContext(_a);return e?Rq():Sq()}function Sq(){Wt(ru(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(tu),{basename:t,navigator:r}=_.useContext(Pa),{matches:n}=_.useContext(_a),{pathname:a}=Ko(),o=JSON.stringify(aC(n)),i=_.useRef(!1);return XM(()=>{i.current=!0}),_.useCallback((d,f={})=>{if(Aa(i.current,QM),!i.current)return;if(typeof d=="number"){r.go(d);return}let p=oC(d,JSON.parse(o),a,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Mo([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,o,a,e])}_.createContext(null);function Eq(){let{matches:e}=_.useContext(_a),t=e[e.length-1];return t?t.params:{}}function Jf(e,{relative:t}={}){let{matches:r}=_.useContext(_a),{pathname:n}=Ko(),a=JSON.stringify(aC(r));return _.useMemo(()=>oC(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function jq(e,t){return JM(e,t)}function JM(e,t,r,n){var C;Wt(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=_.useContext(Pa),{matches:i}=_.useContext(_a),c=i[i.length-1],d=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let $=m&&m.path||"";ZM(f,!m||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let g=Ko(),y;if(t){let $=typeof t=="string"?eu(t):t;Wt(p==="/"||((C=$.pathname)==null?void 0:C.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${$.pathname}" was given in the \`location\` prop.`),y=$}else y=g;let w=y.pathname||"/",S=w;if(p!=="/"){let $=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice($.length).join("/")}let b=!o&&r&&r.matches&&r.matches.length>0?r.matches:VM(e,{pathname:S});Aa(m||b!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Aa(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Aq(b&&b.map($=>Object.assign({},$,{params:Object.assign({},d,$.params),pathname:Mo([p,a.encodeLocation?a.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?p:Mo([p,a.encodeLocation?a.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),i,r,n);return t&&k?_.createElement(Qf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},k):k}function Cq(){let e=Mq(),t=yq(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:o},"ErrorBoundary")," or"," ",_.createElement("code",{style:o},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:a},r):null,i)}var $q=_.createElement(Cq,null),Tq=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?_.createElement(_a.Provider,{value:this.props.routeContext},_.createElement(iC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kq({routeContext:e,match:t,children:r}){let n=_.useContext(tu);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(_a.Provider,{value:e},r)}function Aq(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=r==null?void 0:r.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Wt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let i=!1,c=-1;if(r)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=r,g=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){i=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,p)=>{let m,g=!1,y=null,w=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||$q,i&&(c<0&&p===0?(ZM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):c===p&&(g=!0,w=f.route.hydrateFallbackElement||null)));let S=t.concat(a.slice(0,p+1)),b=()=>{let k;return m?k=y:g?k=w:f.route.Component?k=_.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=d,_.createElement(kq,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:r!=null},children:k})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?_.createElement(Tq,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:b(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):b()},null)}function sC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Oq(e){let t=_.useContext(tu);return Wt(t,sC(e)),t}function Pq(e){let t=_.useContext(Yy);return Wt(t,sC(e)),t}function _q(e){let t=_.useContext(_a);return Wt(t,sC(e)),t}function lC(e){let t=_q(e),r=t.matches[t.matches.length-1];return Wt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Dq(){return lC("useRouteId")}function Mq(){var n;let e=_.useContext(iC),t=Pq("useRouteError"),r=lC("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Rq(){let{router:e}=Oq("useNavigate"),t=lC("useNavigate"),r=_.useRef(!1);return XM(()=>{r.current=!0}),_.useCallback(async(a,o={})=>{Aa(r.current,QM),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var GT={};function ZM(e,t,r){!t&&!GT[e]&&(GT[e]=!0,Aa(!1,r))}_.memo(Iq);function Iq({routes:e,future:t,state:r}){return JM(e,void 0,r,t)}function Qm({to:e,replace:t,state:r,relative:n}){Wt(ru(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=_.useContext(Pa);Aa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=_.useContext(_a),{pathname:i}=Ko(),c=Xf(),d=oC(e,aC(o),i,n==="path"),f=JSON.stringify(d);return _.useEffect(()=>{c(JSON.parse(f),{replace:t,state:r,relative:n})},[c,f,n,t,r]),null}function Mr(e){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Nq({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:o=!1}){Wt(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:i,navigator:a,static:o,future:{}}),[i,a,o]);typeof r=="string"&&(r=eu(r));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:g="default"}=r,y=_.useMemo(()=>{let w=Hi(d,i);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:g},navigationType:n}},[i,d,f,p,m,g,n]);return Aa(y!=null,`<Router basename="${i}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:_.createElement(Pa.Provider,{value:c},_.createElement(Qf.Provider,{children:t,value:y}))}function KT({children:e,location:t}){return jq(pE(e),t)}function pE(e,t=[]){let r=[];return _.Children.forEach(e,(n,a)=>{if(!_.isValidElement(n))return;let o=[...t,a];if(n.type===_.Fragment){r.push.apply(r,pE(n.props.children,o));return}Wt(n.type===Mr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=pE(n.props.children,o)),r.push(i)}),r}var Xm="get",Jm="application/x-www-form-urlencoded";function Gy(e){return e!=null&&typeof e.tagName=="string"}function Lq(e){return Gy(e)&&e.tagName.toLowerCase()==="button"}function Bq(e){return Gy(e)&&e.tagName.toLowerCase()==="form"}function zq(e){return Gy(e)&&e.tagName.toLowerCase()==="input"}function Fq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qq(e,t){return e.button===0&&(!t||t==="_self")&&!Fq(e)}var Ah=null;function Hq(){if(Ah===null)try{new FormData(document.createElement("form"),0),Ah=!1}catch{Ah=!0}return Ah}var Uq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Y0(e){return e!=null&&!Uq.has(e)?(Aa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jm}"`),null):e}function Vq(e,t){let r,n,a,o,i;if(Bq(e)){let c=e.getAttribute("action");n=c?Hi(c,t):null,r=e.getAttribute("method")||Xm,a=Y0(e.getAttribute("enctype"))||Jm,o=new FormData(e)}else if(Lq(e)||zq(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(n=d?Hi(d,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||Xm,a=Y0(e.getAttribute("formenctype"))||Y0(c.getAttribute("enctype"))||Jm,o=new FormData(c,e),!Hq()){let{name:f,type:p,value:m}=e;if(p==="image"){let g=f?`${f}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else f&&o.append(f,m)}}else{if(Gy(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Xm,n=null,a=Jm,i=e}return o&&a==="text/plain"&&(i=o,o=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:o,body:i}}function cC(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Wq(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yq(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Gq(e,t,r){let n=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let i=await Wq(o,r);return i.links?i.links():[]}return[]}));return Jq(n.flat(1).filter(Yq).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function QT(e,t,r,n,a,o){let i=(d,f)=>r[f]?d.route.id!==r[f].route.id:!0,c=(d,f)=>{var p;return r[f].pathname!==d.pathname||((p=r[f].route.path)==null?void 0:p.endsWith("*"))&&r[f].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,f)=>i(d,f)||c(d,f)):o==="data"?t.filter((d,f)=>{var m;let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(i(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Kq(e,t){return Qq(e.map(r=>{let n=t.routes[r.route.id];if(!n)return[];let a=[n.module];return n.imports&&(a=a.concat(n.imports)),a}).flat(1))}function Qq(e){return[...new Set(e)]}function Xq(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Jq(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let o=JSON.stringify(Xq(a));return r.has(o)||(r.add(o),n.push({key:o,link:a})),n},[])}function Zq(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function eH(){let e=_.useContext(tu);return cC(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tH(){let e=_.useContext(Yy);return cC(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var uC=_.createContext(void 0);uC.displayName="FrameworkContext";function eR(){let e=_.useContext(uC);return cC(e,"You must render this element inside a <HydratedRouter> element"),e}function rH(e,t){let r=_.useContext(uC),[n,a]=_.useState(!1),[o,i]=_.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,g=_.useRef(null);_.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let S=k=>{k.forEach(C=>{i(C.isIntersecting)})},b=new IntersectionObserver(S,{threshold:.5});return g.current&&b.observe(g.current),()=>{b.disconnect()}}},[e]),_.useEffect(()=>{if(n){let S=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(S)}}},[n]);let y=()=>{a(!0)},w=()=>{a(!1),i(!1)};return r?e!=="intent"?[o,g,{}]:[o,g,{onFocus:Zu(c,y),onBlur:Zu(d,w),onMouseEnter:Zu(f,y),onMouseLeave:Zu(p,w),onTouchStart:Zu(m,y)}]:[!1,g,{}]}function Zu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function nH({page:e,...t}){let{router:r}=eH(),n=_.useMemo(()=>VM(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?_.createElement(oH,{page:e,matches:n,...t}):null}function aH(e){let{manifest:t,routeModules:r}=eR(),[n,a]=_.useState([]);return _.useEffect(()=>{let o=!1;return Gq(e,t,r).then(i=>{o||a(i)}),()=>{o=!0}},[e,t,r]),n}function oH({page:e,matches:t,...r}){let n=Ko(),{manifest:a,routeModules:o}=eR(),{loaderData:i,matches:c}=tH(),d=_.useMemo(()=>QT(e,t,c,a,n,"data"),[e,t,c,a,n]),f=_.useMemo(()=>QT(e,t,c,a,n,"assets"),[e,t,c,a,n]),p=_.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,w=!1;if(t.forEach(b=>{var C;let k=a.routes[b.route.id];!k||!k.hasLoader||(!d.some($=>$.route.id===b.route.id)&&b.route.id in i&&((C=o[b.route.id])!=null&&C.shouldRevalidate)||k.hasClientLoader?w=!0:y.add(b.route.id))}),y.size===0)return[];let S=Zq(e);return w&&y.size>0&&S.searchParams.set("_routes",t.filter(b=>y.has(b.route.id)).map(b=>b.route.id).join(",")),[S.pathname+S.search]},[i,n,a,d,t,e,o]),m=_.useMemo(()=>Kq(f,a),[f,a]),g=aH(f);return _.createElement(_.Fragment,null,p.map(y=>_.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),m.map(y=>_.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),g.map(({key:y,link:w})=>_.createElement("link",{key:y,...w})))}function iH(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var tR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tR&&(window.__reactRouterVersion="7.1.5")}catch{}function sH({basename:e,children:t,window:r}){let n=_.useRef();n.current==null&&(n.current=KF({window:r,v5Compat:!0}));let a=n.current,[o,i]=_.useState({action:a.action,location:a.location}),c=_.useCallback(d=>{_.startTransition(()=>i(d))},[i]);return _.useLayoutEffect(()=>a.listen(c),[a,c]),_.createElement(Nq,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var rR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sf=_.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:o,replace:i,state:c,target:d,to:f,preventScrollReset:p,viewTransition:m,...g},y){let{basename:w}=_.useContext(Pa),S=typeof f=="string"&&rR.test(f),b,k=!1;if(typeof f=="string"&&S&&(b=f,tR))try{let R=new URL(window.location.href),D=f.startsWith("//")?new URL(R.protocol+f):new URL(f),j=Hi(D.pathname,w);D.origin===R.origin&&j!=null?f=j+D.search+D.hash:k=!0}catch{Aa(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=wq(f,{relative:a}),[$,L,T]=rH(n,g),P=uH(f,{replace:i,state:c,target:d,preventScrollReset:p,relative:a,viewTransition:m});function O(R){t&&t(R),R.defaultPrevented||P(R)}let N=_.createElement("a",{...g,...T,href:b||C,onClick:k||o?t:O,ref:iH(y,L),target:d,"data-discover":!S&&r==="render"?"true":void 0});return $&&!S?_.createElement(_.Fragment,null,N,_.createElement(nH,{page:C})):N});sf.displayName="Link";var dC=_.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:o,to:i,viewTransition:c,children:d,...f},p){let m=Jf(i,{relative:f.relative}),g=Ko(),y=_.useContext(Yy),{navigator:w,basename:S}=_.useContext(Pa),b=y!=null&&mH(m)&&c===!0,k=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,C=g.pathname,$=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(C=C.toLowerCase(),$=$?$.toLowerCase():null,k=k.toLowerCase()),$&&S&&($=Hi($,S)||$);const L=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let T=C===k||!a&&C.startsWith(k)&&C.charAt(L)==="/",P=$!=null&&($===k||!a&&$.startsWith(k)&&$.charAt(k.length)==="/"),O={isActive:T,isPending:P,isTransitioning:b},N=T?t:void 0,R;typeof n=="function"?R=n(O):R=[n,T?"active":null,P?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(O):o;return _.createElement(sf,{...f,"aria-current":N,className:R,ref:p,style:D,to:i,viewTransition:c},typeof d=="function"?d(O):d)});dC.displayName="NavLink";var lH=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:o,method:i=Xm,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...g},y)=>{let w=pH(),S=hH(c,{relative:f}),b=i.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&rR.test(c),C=$=>{if(d&&d($),$.defaultPrevented)return;$.preventDefault();let L=$.nativeEvent.submitter,T=(L==null?void 0:L.getAttribute("formmethod"))||i;w(L||$.currentTarget,{fetcherKey:t,method:T,navigate:r,replace:a,state:o,relative:f,preventScrollReset:p,viewTransition:m})};return _.createElement("form",{ref:y,method:b,action:S,onSubmit:n?d:C,...g,"data-discover":!k&&e==="render"?"true":void 0})});lH.displayName="Form";function cH(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nR(e){let t=_.useContext(tu);return Wt(t,cH(e)),t}function uH(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:o,viewTransition:i}={}){let c=Xf(),d=Ko(),f=Jf(e,{relative:o});return _.useCallback(p=>{if(qq(p,t)){p.preventDefault();let m=r!==void 0?r:of(d)===of(f);c(e,{replace:m,state:n,preventScrollReset:a,relative:o,viewTransition:i})}},[d,c,f,r,n,t,e,a,o,i])}var dH=0,fH=()=>`__${String(++dH)}__`;function pH(){let{router:e}=nR("useSubmit"),{basename:t}=_.useContext(Pa),r=Dq();return _.useCallback(async(n,a={})=>{let{action:o,method:i,encType:c,formData:d,body:f}=Vq(n,t);if(a.navigate===!1){let p=a.fetcherKey||fH();await e.fetch(p,r,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||i,formEncType:a.encType||c,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||i,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function hH(e,{relative:t}={}){let{basename:r}=_.useContext(Pa),n=_.useContext(_a);Wt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...Jf(e||".",{relative:t})},i=Ko();if(e==null){o.search=i.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Mo([r,o.pathname])),of(o)}function mH(e,t={}){let r=_.useContext(KM);Wt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=nR("useViewTransitionState"),a=Jf(e,{relative:t.relative});if(!r.isTransitioning)return!1;let o=Hi(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=Hi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return hg(a.pathname,i)!=null||hg(a.pathname,o)!=null}new TextEncoder;var aR=UM();const gH=dt(aR);var Vr=function(){return Vr=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Vr.apply(this,arguments)};function mg(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var G0,XT;function yH(){return XT||(XT=1,G0=function(t,r,n,a){var o=n?n.call(a,t,r):void 0;if(o!==void 0)return!!o;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var i=Object.keys(t),c=Object.keys(r);if(i.length!==c.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(r),f=0;f<i.length;f++){var p=i[f];if(!d(p))return!1;var m=t[p],g=r[p];if(o=n?n.call(a,m,g,p):void 0,o===!1||o===void 0&&m!==g)return!1}return!0}),G0}var vH=yH();const xH=dt(vH);var Ft="-ms-",Xd="-moz-",jt="-webkit-",oR="comm",Ky="rule",fC="decl",bH="@import",iR="@keyframes",wH="@layer",sR=Math.abs,pC=String.fromCharCode,hE=Object.assign;function SH(e,t){return Cr(e,0)^45?(((t<<2^Cr(e,0))<<2^Cr(e,1))<<2^Cr(e,2))<<2^Cr(e,3):0}function lR(e){return e.trim()}function ko(e,t){return(e=t.exec(e))?e[0]:e}function nt(e,t,r){return e.replace(t,r)}function Zm(e,t,r){return e.indexOf(t,r)}function Cr(e,t){return e.charCodeAt(t)|0}function mc(e,t,r){return e.slice(t,r)}function Wa(e){return e.length}function cR(e){return e.length}function Ud(e,t){return t.push(e),e}function EH(e,t){return e.map(t).join("")}function JT(e,t){return e.filter(function(r){return!ko(r,t)})}var Qy=1,gc=1,uR=0,ra=0,dr=0,nu="";function Xy(e,t,r,n,a,o,i,c){return{value:e,root:t,parent:r,type:n,props:a,children:o,line:Qy,column:gc,length:i,return:"",siblings:c}}function Oi(e,t){return hE(Xy("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Pl(e){for(;e.root;)e=Oi(e.root,{children:[e]});Ud(e,e.siblings)}function jH(){return dr}function CH(){return dr=ra>0?Cr(nu,--ra):0,gc--,dr===10&&(gc=1,Qy--),dr}function $a(){return dr=ra<uR?Cr(nu,ra++):0,gc++,dr===10&&(gc=1,Qy++),dr}function Os(){return Cr(nu,ra)}function eg(){return ra}function Jy(e,t){return mc(nu,e,t)}function mE(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $H(e){return Qy=gc=1,uR=Wa(nu=e),ra=0,[]}function TH(e){return nu="",e}function K0(e){return lR(Jy(ra-1,gE(e===91?e+2:e===40?e+1:e)))}function kH(e){for(;(dr=Os())&&dr<33;)$a();return mE(e)>2||mE(dr)>3?"":" "}function AH(e,t){for(;--t&&$a()&&!(dr<48||dr>102||dr>57&&dr<65||dr>70&&dr<97););return Jy(e,eg()+(t<6&&Os()==32&&$a()==32))}function gE(e){for(;$a();)switch(dr){case e:return ra;case 34:case 39:e!==34&&e!==39&&gE(dr);break;case 40:e===41&&gE(e);break;case 92:$a();break}return ra}function OH(e,t){for(;$a()&&e+dr!==57;)if(e+dr===84&&Os()===47)break;return"/*"+Jy(t,ra-1)+"*"+pC(e===47?e:$a())}function PH(e){for(;!mE(Os());)$a();return Jy(e,ra)}function _H(e){return TH(tg("",null,null,null,[""],e=$H(e),0,[0],e))}function tg(e,t,r,n,a,o,i,c,d){for(var f=0,p=0,m=i,g=0,y=0,w=0,S=1,b=1,k=1,C=0,$="",L=a,T=o,P=n,O=$;b;)switch(w=C,C=$a()){case 40:if(w!=108&&Cr(O,m-1)==58){Zm(O+=nt(K0(C),"&","&\f"),"&\f",sR(f?c[f-1]:0))!=-1&&(k=-1);break}case 34:case 39:case 91:O+=K0(C);break;case 9:case 10:case 13:case 32:O+=kH(w);break;case 92:O+=AH(eg()-1,7);continue;case 47:switch(Os()){case 42:case 47:Ud(DH(OH($a(),eg()),t,r,d),d);break;default:O+="/"}break;case 123*S:c[f++]=Wa(O)*k;case 125*S:case 59:case 0:switch(C){case 0:case 125:b=0;case 59+p:k==-1&&(O=nt(O,/\f/g,"")),y>0&&Wa(O)-m&&Ud(y>32?ek(O+";",n,r,m-1,d):ek(nt(O," ","")+";",n,r,m-2,d),d);break;case 59:O+=";";default:if(Ud(P=ZT(O,t,r,f,p,a,c,$,L=[],T=[],m,o),o),C===123)if(p===0)tg(O,t,P,P,L,o,m,c,T);else switch(g===99&&Cr(O,3)===110?100:g){case 100:case 108:case 109:case 115:tg(e,P,P,n&&Ud(ZT(e,P,P,0,0,a,c,$,a,L=[],m,T),T),a,T,m,c,n?L:T);break;default:tg(O,P,P,P,[""],T,0,c,T)}}f=p=y=0,S=k=1,$=O="",m=i;break;case 58:m=1+Wa(O),y=w;default:if(S<1){if(C==123)--S;else if(C==125&&S++==0&&CH()==125)continue}switch(O+=pC(C),C*S){case 38:k=p>0?1:(O+="\f",-1);break;case 44:c[f++]=(Wa(O)-1)*k,k=1;break;case 64:Os()===45&&(O+=K0($a())),g=Os(),p=m=Wa($=O+=PH(eg())),C++;break;case 45:w===45&&Wa(O)==2&&(S=0)}}return o}function ZT(e,t,r,n,a,o,i,c,d,f,p,m){for(var g=a-1,y=a===0?o:[""],w=cR(y),S=0,b=0,k=0;S<n;++S)for(var C=0,$=mc(e,g+1,g=sR(b=i[S])),L=e;C<w;++C)(L=lR(b>0?y[C]+" "+$:nt($,/&\f/g,y[C])))&&(d[k++]=L);return Xy(e,t,r,a===0?Ky:c,d,f,p,m)}function DH(e,t,r,n){return Xy(e,t,r,oR,pC(jH()),mc(e,2,-2),0,n)}function ek(e,t,r,n,a){return Xy(e,t,r,fC,mc(e,0,n),mc(e,n+1,-1),n,a)}function dR(e,t,r){switch(SH(e,t)){case 5103:return jt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return jt+e+e;case 4789:return Xd+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return jt+e+Xd+e+Ft+e+e;case 5936:switch(Cr(e,t+11)){case 114:return jt+e+Ft+nt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return jt+e+Ft+nt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return jt+e+Ft+nt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return jt+e+Ft+e+e;case 6165:return jt+e+Ft+"flex-"+e+e;case 5187:return jt+e+nt(e,/(\w+).+(:[^]+)/,jt+"box-$1$2"+Ft+"flex-$1$2")+e;case 5443:return jt+e+Ft+"flex-item-"+nt(e,/flex-|-self/g,"")+(ko(e,/flex-|baseline/)?"":Ft+"grid-row-"+nt(e,/flex-|-self/g,""))+e;case 4675:return jt+e+Ft+"flex-line-pack"+nt(e,/align-content|flex-|-self/g,"")+e;case 5548:return jt+e+Ft+nt(e,"shrink","negative")+e;case 5292:return jt+e+Ft+nt(e,"basis","preferred-size")+e;case 6060:return jt+"box-"+nt(e,"-grow","")+jt+e+Ft+nt(e,"grow","positive")+e;case 4554:return jt+nt(e,/([^-])(transform)/g,"$1"+jt+"$2")+e;case 6187:return nt(nt(nt(e,/(zoom-|grab)/,jt+"$1"),/(image-set)/,jt+"$1"),e,"")+e;case 5495:case 3959:return nt(e,/(image-set\([^]*)/,jt+"$1$`$1");case 4968:return nt(nt(e,/(.+:)(flex-)?(.*)/,jt+"box-pack:$3"+Ft+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+jt+e+e;case 4200:if(!ko(e,/flex-|baseline/))return Ft+"grid-column-align"+mc(e,t)+e;break;case 2592:case 3360:return Ft+nt(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(n,a){return t=a,ko(n.props,/grid-\w+-end/)})?~Zm(e+(r=r[t].value),"span",0)?e:Ft+nt(e,"-start","")+e+Ft+"grid-row-span:"+(~Zm(r,"span",0)?ko(r,/\d+/):+ko(r,/\d+/)-+ko(e,/\d+/))+";":Ft+nt(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(n){return ko(n.props,/grid-\w+-start/)})?e:Ft+nt(nt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return nt(e,/(.+)-inline(.+)/,jt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wa(e)-1-t>6)switch(Cr(e,t+1)){case 109:if(Cr(e,t+4)!==45)break;case 102:return nt(e,/(.+:)(.+)-([^]+)/,"$1"+jt+"$2-$3$1"+Xd+(Cr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Zm(e,"stretch",0)?dR(nt(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return nt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,a,o,i,c,d,f){return Ft+a+":"+o+f+(i?Ft+a+"-span:"+(c?d:+d-+o)+f:"")+e});case 4949:if(Cr(e,t+6)===121)return nt(e,":",":"+jt)+e;break;case 6444:switch(Cr(e,Cr(e,14)===45?18:11)){case 120:return nt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+jt+(Cr(e,14)===45?"inline-":"")+"box$3$1"+jt+"$2$3$1"+Ft+"$2box$3")+e;case 100:return nt(e,":",":"+Ft)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return nt(e,"scroll-","scroll-snap-")+e}return e}function gg(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function MH(e,t,r,n){switch(e.type){case wH:if(e.children.length)break;case bH:case fC:return e.return=e.return||e.value;case oR:return"";case iR:return e.return=e.value+"{"+gg(e.children,n)+"}";case Ky:if(!Wa(e.value=e.props.join(",")))return""}return Wa(r=gg(e.children,n))?e.return=e.value+"{"+r+"}":""}function RH(e){var t=cR(e);return function(r,n,a,o){for(var i="",c=0;c<t;c++)i+=e[c](r,n,a,o)||"";return i}}function IH(e){return function(t){t.root||(t=t.return)&&e(t)}}function NH(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case fC:e.return=dR(e.value,e.length,r);return;case iR:return gg([Oi(e,{value:nt(e.value,"@","@"+jt)})],n);case Ky:if(e.length)return EH(r=e.props,function(a){switch(ko(a,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Pl(Oi(e,{props:[nt(a,/:(read-\w+)/,":"+Xd+"$1")]})),Pl(Oi(e,{props:[a]})),hE(e,{props:JT(r,n)});break;case"::placeholder":Pl(Oi(e,{props:[nt(a,/:(plac\w+)/,":"+jt+"input-$1")]})),Pl(Oi(e,{props:[nt(a,/:(plac\w+)/,":"+Xd+"$1")]})),Pl(Oi(e,{props:[nt(a,/:(plac\w+)/,Ft+"input-$1")]})),Pl(Oi(e,{props:[a]})),hE(e,{props:JT(r,n)});break}return""})}}var LH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$n={},yc=typeof process<"u"&&$n!==void 0&&($n.REACT_APP_SC_ATTR||$n.SC_ATTR)||"data-styled",fR="active",pR="data-styled-version",Zy="6.1.14",hC=`/*!sc*/
`,yg=typeof window<"u"&&"HTMLElement"in window,BH=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&$n!==void 0&&$n.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&$n.REACT_APP_SC_DISABLE_SPEEDY!==""?$n.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&$n.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&$n!==void 0&&$n.SC_DISABLE_SPEEDY!==void 0&&$n.SC_DISABLE_SPEEDY!==""&&$n.SC_DISABLE_SPEEDY!=="false"&&$n.SC_DISABLE_SPEEDY),ev=Object.freeze([]),vc=Object.freeze({});function zH(e,t,r){return r===void 0&&(r=vc),e.theme!==r.theme&&e.theme||t||r.theme}var hR=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),FH=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,qH=/(^-|-$)/g;function tk(e){return e.replace(FH,"-").replace(qH,"")}var HH=/(a)(d)/gi,Oh=52,rk=function(e){return String.fromCharCode(e+(e>25?39:97))};function yE(e){var t,r="";for(t=Math.abs(e);t>Oh;t=t/Oh|0)r=rk(t%Oh)+r;return(rk(t%Oh)+r).replace(HH,"$1-$2")}var Q0,mR=5381,Jl=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},gR=function(e){return Jl(mR,e)};function UH(e){return yE(gR(e)>>>0)}function VH(e){return e.displayName||e.name||"Component"}function X0(e){return typeof e=="string"&&!0}var yR=typeof Symbol=="function"&&Symbol.for,vR=yR?Symbol.for("react.memo"):60115,WH=yR?Symbol.for("react.forward_ref"):60112,YH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},GH={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},xR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},KH=((Q0={})[WH]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Q0[vR]=xR,Q0);function nk(e){return("type"in(t=e)&&t.type.$$typeof)===vR?xR:"$$typeof"in e?KH[e.$$typeof]:YH;var t}var QH=Object.defineProperty,XH=Object.getOwnPropertyNames,ak=Object.getOwnPropertySymbols,JH=Object.getOwnPropertyDescriptor,ZH=Object.getPrototypeOf,ok=Object.prototype;function bR(e,t,r){if(typeof t!="string"){if(ok){var n=ZH(t);n&&n!==ok&&bR(e,n,r)}var a=XH(t);ak&&(a=a.concat(ak(t)));for(var o=nk(e),i=nk(t),c=0;c<a.length;++c){var d=a[c];if(!(d in GH||r&&r[d]||i&&d in i||o&&d in o)){var f=JH(t,d);try{QH(e,d,f)}catch{}}}}return e}function Fs(e){return typeof e=="function"}function mC(e){return typeof e=="object"&&"styledComponentId"in e}function Es(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function ik(e,t){if(e.length===0)return"";for(var r=e[0],n=1;n<e.length;n++)r+=e[n];return r}function lf(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function vE(e,t,r){if(r===void 0&&(r=!1),!r&&!lf(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)e[n]=vE(e[n],t[n]);else if(lf(t))for(var n in t)e[n]=vE(e[n],t[n]);return e}function gC(e,t){Object.defineProperty(e,"toString",{value:t})}function qs(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var eU=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var r=0,n=0;n<t;n++)r+=this.groupSizes[n];return r},e.prototype.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var n=this.groupSizes,a=n.length,o=a;t>=o;)if((o<<=1)<0)throw qs(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var i=a;i<o;i++)this.groupSizes[i]=0}for(var c=this.indexOfGroup(t+1),d=(i=0,r.length);i<d;i++)this.tag.insertRule(c,r[i])&&(this.groupSizes[t]++,c++)},e.prototype.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],n=this.indexOfGroup(t),a=n+r;this.groupSizes[t]=0;for(var o=n;o<a;o++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var n=this.groupSizes[t],a=this.indexOfGroup(t),o=a+n,i=a;i<o;i++)r+="".concat(this.tag.getRule(i)).concat(hC);return r},e}(),rg=new Map,vg=new Map,ng=1,Ph=function(e){if(rg.has(e))return rg.get(e);for(;vg.has(ng);)ng++;var t=ng++;return rg.set(e,t),vg.set(t,e),t},tU=function(e,t){ng=t+1,rg.set(e,t),vg.set(t,e)},rU="style[".concat(yc,"][").concat(pR,'="').concat(Zy,'"]'),nU=new RegExp("^".concat(yc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),aU=function(e,t,r){for(var n,a=r.split(","),o=0,i=a.length;o<i;o++)(n=a[o])&&e.registerName(t,n)},oU=function(e,t){for(var r,n=((r=t.textContent)!==null&&r!==void 0?r:"").split(hC),a=[],o=0,i=n.length;o<i;o++){var c=n[o].trim();if(c){var d=c.match(nU);if(d){var f=0|parseInt(d[1],10),p=d[2];f!==0&&(tU(p,f),aU(e,p,d[3]),e.getTag().insertRules(f,a)),a.length=0}else a.push(c)}}},sk=function(e){for(var t=document.querySelectorAll(rU),r=0,n=t.length;r<n;r++){var a=t[r];a&&a.getAttribute(yc)!==fR&&(oU(e,a),a.parentNode&&a.parentNode.removeChild(a))}};function iU(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var wR=function(e){var t=document.head,r=e||t,n=document.createElement("style"),a=function(c){var d=Array.from(c.querySelectorAll("style[".concat(yc,"]")));return d[d.length-1]}(r),o=a!==void 0?a.nextSibling:null;n.setAttribute(yc,fR),n.setAttribute(pR,Zy);var i=iU();return i&&n.setAttribute("nonce",i),r.insertBefore(n,o),n},sU=function(){function e(t){this.element=wR(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,a=0,o=n.length;a<o;a++){var i=n[a];if(i.ownerNode===r)return i}throw qs(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var r=this.sheet.cssRules[t];return r&&r.cssText?r.cssText:""},e}(),lU=function(){function e(t){this.element=wR(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,r){if(t<=this.length&&t>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),cU=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),lk=yg,uU={isServer:!yg,useCSSOMInjection:!BH},SR=function(){function e(t,r,n){t===void 0&&(t=vc),r===void 0&&(r={});var a=this;this.options=Vr(Vr({},uU),t),this.gs=r,this.names=new Map(n),this.server=!!t.isServer,!this.server&&yg&&lk&&(lk=!1,sk(this)),gC(this,function(){return function(o){for(var i=o.getTag(),c=i.length,d="",f=function(m){var g=function(k){return vg.get(k)}(m);if(g===void 0)return"continue";var y=o.names.get(g),w=i.getGroup(m);if(y===void 0||!y.size||w.length===0)return"continue";var S="".concat(yc,".g").concat(m,'[id="').concat(g,'"]'),b="";y!==void 0&&y.forEach(function(k){k.length>0&&(b+="".concat(k,","))}),d+="".concat(w).concat(S,'{content:"').concat(b,'"}').concat(hC)},p=0;p<c;p++)f(p);return d}(a)})}return e.registerId=function(t){return Ph(t)},e.prototype.rehydrate=function(){!this.server&&yg&&sk(this)},e.prototype.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new e(Vr(Vr({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(r){var n=r.useCSSOMInjection,a=r.target;return r.isServer?new cU(a):n?new sU(a):new lU(a)}(this.options),new eU(t)));var t},e.prototype.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.prototype.registerName=function(t,r){if(Ph(t),this.names.has(t))this.names.get(t).add(r);else{var n=new Set;n.add(r),this.names.set(t,n)}},e.prototype.insertRules=function(t,r,n){this.registerName(t,r),this.getTag().insertRules(Ph(t),n)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Ph(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),dU=/&/g,fU=/^\s*\/\/.*$/gm;function ER(e,t){return e.map(function(r){return r.type==="rule"&&(r.value="".concat(t," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(t," ")),r.props=r.props.map(function(n){return"".concat(t," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=ER(r.children,t)),r})}function pU(e){var t,r,n,a=vc,o=a.options,i=o===void 0?vc:o,c=a.plugins,d=c===void 0?ev:c,f=function(g,y,w){return w.startsWith(r)&&w.endsWith(r)&&w.replaceAll(r,"").length>0?".".concat(t):g},p=d.slice();p.push(function(g){g.type===Ky&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(dU,r).replace(n,f))}),i.prefix&&p.push(NH),p.push(MH);var m=function(g,y,w,S){y===void 0&&(y=""),w===void 0&&(w=""),S===void 0&&(S="&"),t=S,r=y,n=new RegExp("\\".concat(r,"\\b"),"g");var b=g.replace(fU,""),k=_H(w||y?"".concat(w," ").concat(y," { ").concat(b," }"):b);i.namespace&&(k=ER(k,i.namespace));var C=[];return gg(k,RH(p.concat(IH(function($){return C.push($)})))),C};return m.hash=d.length?d.reduce(function(g,y){return y.name||qs(15),Jl(g,y.name)},mR).toString():"",m}var hU=new SR,xE=pU(),jR=H.createContext({shouldForwardProp:void 0,styleSheet:hU,stylis:xE});jR.Consumer;H.createContext(void 0);function ck(){return _.useContext(jR)}var mU=function(){function e(t,r){var n=this;this.inject=function(a,o){o===void 0&&(o=xE);var i=n.name+o.hash;a.hasNameForId(n.id,i)||a.insertRules(n.id,i,o(n.rules,i,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=r,gC(this,function(){throw qs(12,String(n.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=xE),this.name+t.hash},e}(),gU=function(e){return e>="A"&&e<="Z"};function uk(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(r===1&&n==="-"&&e[0]==="-")return e;gU(n)?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var CR=function(e){return e==null||e===!1||e===""},$R=function(e){var t,r,n=[];for(var a in e){var o=e[a];e.hasOwnProperty(a)&&!CR(o)&&(Array.isArray(o)&&o.isCss||Fs(o)?n.push("".concat(uk(a),":"),o,";"):lf(o)?n.push.apply(n,mg(mg(["".concat(a," {")],$R(o),!1),["}"],!1)):n.push("".concat(uk(a),": ").concat((t=a,(r=o)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||t in LH||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function Ps(e,t,r,n){if(CR(e))return[];if(mC(e))return[".".concat(e.styledComponentId)];if(Fs(e)){if(!Fs(o=e)||o.prototype&&o.prototype.isReactComponent||!t)return[e];var a=e(t);return Ps(a,t,r,n)}var o;return e instanceof mU?r?(e.inject(r,n),[e.getName(n)]):[e]:lf(e)?$R(e):Array.isArray(e)?Array.prototype.concat.apply(ev,e.map(function(i){return Ps(i,t,r,n)})):[e.toString()]}function yU(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(Fs(r)&&!mC(r))return!1}return!0}var vU=gR(Zy),xU=function(){function e(t,r,n){this.rules=t,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&yU(t),this.componentId=r,this.baseHash=Jl(vU,r),this.baseStyle=n,SR.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,n){var a=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))a=Es(a,this.staticRulesId);else{var o=ik(Ps(this.rules,t,r,n)),i=yE(Jl(this.baseHash,o)>>>0);if(!r.hasNameForId(this.componentId,i)){var c=n(o,".".concat(i),void 0,this.componentId);r.insertRules(this.componentId,i,c)}a=Es(a,i),this.staticRulesId=i}else{for(var d=Jl(this.baseHash,n.hash),f="",p=0;p<this.rules.length;p++){var m=this.rules[p];if(typeof m=="string")f+=m;else if(m){var g=ik(Ps(m,t,r,n));d=Jl(d,g+p),f+=g}}if(f){var y=yE(d>>>0);r.hasNameForId(this.componentId,y)||r.insertRules(this.componentId,y,n(f,".".concat(y),void 0,this.componentId)),a=Es(a,y)}}return a},e}(),xg=H.createContext(void 0);xg.Consumer;function bU(e){var t=H.useContext(xg),r=_.useMemo(function(){return function(n,a){if(!n)throw qs(14);if(Fs(n)){var o=n(a);return o}if(Array.isArray(n)||typeof n!="object")throw qs(8);return a?Vr(Vr({},a),n):n}(e.theme,t)},[e.theme,t]);return e.children?H.createElement(xg.Provider,{value:r},e.children):null}var J0={};function wU(e,t,r){var n=mC(e),a=e,o=!X0(e),i=t.attrs,c=i===void 0?ev:i,d=t.componentId,f=d===void 0?function(L,T){var P=typeof L!="string"?"sc":tk(L);J0[P]=(J0[P]||0)+1;var O="".concat(P,"-").concat(UH(Zy+P+J0[P]));return T?"".concat(T,"-").concat(O):O}(t.displayName,t.parentComponentId):d,p=t.displayName,m=p===void 0?function(L){return X0(L)?"styled.".concat(L):"Styled(".concat(VH(L),")")}(e):p,g=t.displayName&&t.componentId?"".concat(tk(t.displayName),"-").concat(t.componentId):t.componentId||f,y=n&&a.attrs?a.attrs.concat(c).filter(Boolean):c,w=t.shouldForwardProp;if(n&&a.shouldForwardProp){var S=a.shouldForwardProp;if(t.shouldForwardProp){var b=t.shouldForwardProp;w=function(L,T){return S(L,T)&&b(L,T)}}else w=S}var k=new xU(r,g,n?a.componentStyle:void 0);function C(L,T){return function(P,O,N){var R=P.attrs,D=P.componentStyle,j=P.defaultProps,A=P.foldedComponentIds,I=P.styledComponentId,B=P.target,F=H.useContext(xg),U=ck(),Y=P.shouldForwardProp||U.shouldForwardProp,W=zH(O,F,j)||vc,Q=function(me,ne,ve){for(var we,de=Vr(Vr({},ne),{className:void 0,theme:ve}),Ae=0;Ae<me.length;Ae+=1){var _e=Fs(we=me[Ae])?we(de):we;for(var le in _e)de[le]=le==="className"?Es(de[le],_e[le]):le==="style"?Vr(Vr({},de[le]),_e[le]):_e[le]}return ne.className&&(de.className=Es(de.className,ne.className)),de}(R,O,W),Z=Q.as||B,V={};for(var K in Q)Q[K]===void 0||K[0]==="$"||K==="as"||K==="theme"&&Q.theme===W||(K==="forwardedAs"?V.as=Q.forwardedAs:Y&&!Y(K,Z)||(V[K]=Q[K]));var se=function(me,ne){var ve=ck(),we=me.generateAndInjectStyles(ne,ve.styleSheet,ve.stylis);return we}(D,Q),he=Es(A,I);return se&&(he+=" "+se),Q.className&&(he+=" "+Q.className),V[X0(Z)&&!hR.has(Z)?"class":"className"]=he,N&&(V.ref=N),_.createElement(Z,V)}($,L,T)}C.displayName=m;var $=H.forwardRef(C);return $.attrs=y,$.componentStyle=k,$.displayName=m,$.shouldForwardProp=w,$.foldedComponentIds=n?Es(a.foldedComponentIds,a.styledComponentId):"",$.styledComponentId=g,$.target=n?a.target:e,Object.defineProperty($,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(L){this._foldedDefaultProps=n?function(T){for(var P=[],O=1;O<arguments.length;O++)P[O-1]=arguments[O];for(var N=0,R=P;N<R.length;N++)vE(T,R[N],!0);return T}({},a.defaultProps,L):L}}),gC($,function(){return".".concat($.styledComponentId)}),o&&bR($,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),$}function dk(e,t){for(var r=[e[0]],n=0,a=t.length;n<a;n+=1)r.push(t[n],e[n+1]);return r}var fk=function(e){return Object.assign(e,{isCss:!0})};function SU(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Fs(e)||lf(e))return fk(Ps(dk(ev,mg([e],t,!0))));var n=e;return t.length===0&&n.length===1&&typeof n[0]=="string"?Ps(n):fk(Ps(dk(n,t)))}function bE(e,t,r){if(r===void 0&&(r=vc),!t)throw qs(1,t);var n=function(a){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return e(t,r,SU.apply(void 0,mg([a],o,!1)))};return n.attrs=function(a){return bE(e,t,Vr(Vr({},r),{attrs:Array.prototype.concat(r.attrs,a).filter(Boolean)}))},n.withConfig=function(a){return bE(e,t,Vr(Vr({},r),a))},n}var TR=function(e){return bE(wU,e)},v=TR;hR.forEach(function(e){v[e]=TR(e)});var Z0,pk;function EU(){if(pk)return Z0;pk=1;var e=typeof Element<"u",t=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(o,i){if(o===i)return!0;if(o&&i&&typeof o=="object"&&typeof i=="object"){if(o.constructor!==i.constructor)return!1;var c,d,f;if(Array.isArray(o)){if(c=o.length,c!=i.length)return!1;for(d=c;d--!==0;)if(!a(o[d],i[d]))return!1;return!0}var p;if(t&&o instanceof Map&&i instanceof Map){if(o.size!==i.size)return!1;for(p=o.entries();!(d=p.next()).done;)if(!i.has(d.value[0]))return!1;for(p=o.entries();!(d=p.next()).done;)if(!a(d.value[1],i.get(d.value[0])))return!1;return!0}if(r&&o instanceof Set&&i instanceof Set){if(o.size!==i.size)return!1;for(p=o.entries();!(d=p.next()).done;)if(!i.has(d.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(i)){if(c=o.length,c!=i.length)return!1;for(d=c;d--!==0;)if(o[d]!==i[d])return!1;return!0}if(o.constructor===RegExp)return o.source===i.source&&o.flags===i.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof i.valueOf=="function")return o.valueOf()===i.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof i.toString=="function")return o.toString()===i.toString();if(f=Object.keys(o),c=f.length,c!==Object.keys(i).length)return!1;for(d=c;d--!==0;)if(!Object.prototype.hasOwnProperty.call(i,f[d]))return!1;if(e&&o instanceof Element)return!1;for(d=c;d--!==0;)if(!((f[d]==="_owner"||f[d]==="__v"||f[d]==="__o")&&o.$$typeof)&&!a(o[f[d]],i[f[d]]))return!1;return!0}return o!==o&&i!==i}return Z0=function(i,c){try{return a(i,c)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},Z0}var jU=EU();const CU=dt(jU);var eb,hk;function $U(){if(hk)return eb;hk=1;var e=function(t,r,n,a,o,i,c,d){if(!t){var f;if(r===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,a,o,i,c,d],m=0;f=new Error(r.replace(/%s/g,function(){return p[m++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return eb=e,eb}var TU=$U();const mk=dt(TU);var kR=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(kR||{}),tb={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},gk=Object.values(kR),yC={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},kU=Object.entries(yC).reduce((e,[t,r])=>(e[r]=t,e),{}),Ca="data-rh",oc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ic=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},AU=e=>{let t=ic(e,"title");const r=ic(e,oc.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=ic(e,oc.DEFAULT_TITLE);return t||n||void 0},OU=e=>ic(e,oc.ON_CHANGE_CLIENT_STATE)||(()=>{}),rb=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),PU=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let o=0;o<a.length;o+=1){const c=a[o].toLowerCase();if(e.indexOf(c)!==-1&&n[c])return r.concat(n)}}return r},[]),_U=e=>console&&typeof console.warn=="function"&&console.warn(e),ed=(e,t,r)=>{const n={};return r.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&_U(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,o)=>{const i={};o.filter(d=>{let f;const p=Object.keys(d);for(let g=0;g<p.length;g+=1){const y=p[g],w=y.toLowerCase();t.indexOf(w)!==-1&&!(f==="rel"&&d[f].toLowerCase()==="canonical")&&!(w==="rel"&&d[w].toLowerCase()==="stylesheet")&&(f=w),t.indexOf(y)!==-1&&(y==="innerHTML"||y==="cssText"||y==="itemprop")&&(f=y)}if(!f||!d[f])return!1;const m=d[f].toLowerCase();return n[f]||(n[f]={}),i[f]||(i[f]={}),n[f][m]?!1:(i[f][m]=!0,!0)}).reverse().forEach(d=>a.push(d));const c=Object.keys(i);for(let d=0;d<c.length;d+=1){const f=c[d],p={...n[f],...i[f]};n[f]=p}return a},[]).reverse()},DU=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},MU=e=>({baseTag:PU(["href"],e),bodyAttributes:rb("bodyAttributes",e),defer:ic(e,oc.DEFER),encode:ic(e,oc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:rb("htmlAttributes",e),linkTags:ed("link",["rel","href"],e),metaTags:ed("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:ed("noscript",["innerHTML"],e),onChangeClientState:OU(e),scriptTags:ed("script",["src","innerHTML"],e),styleTags:ed("style",["cssText"],e),title:AU(e),titleAttributes:rb("titleAttributes",e),prioritizeSeoTags:DU(e,oc.PRIORITIZE_SEO_TAGS)}),AR=e=>Array.isArray(e)?e.join(""):e,RU=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},nb=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(RU(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},yk=(e,t)=>({...e,[t]:void 0}),IU=["noscript","script","style"],wE=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),OR=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),NU=(e,t,r,n)=>{const a=OR(r),o=AR(t);return a?`<${e} ${Ca}="true" ${a}>${wE(o,n)}</${e}>`:`<${e} ${Ca}="true">${wE(o,n)}</${e}>`},LU=(e,t,r=!0)=>t.reduce((n,a)=>{const o=a,i=Object.keys(o).filter(f=>!(f==="innerHTML"||f==="cssText")).reduce((f,p)=>{const m=typeof o[p]>"u"?p:`${p}="${wE(o[p],r)}"`;return f?`${f} ${m}`:m},""),c=o.innerHTML||o.cssText||"",d=IU.indexOf(e)===-1;return`${n}<${e} ${Ca}="true" ${i}${d?"/>":`>${c}</${e}>`}`},""),PR=(e,t={})=>Object.keys(e).reduce((r,n)=>{const a=yC[n];return r[a||n]=e[n],r},t),BU=(e,t,r)=>{const n={key:t,[Ca]:!0},a=PR(r,n);return[H.createElement("title",a,t)]},ag=(e,t)=>t.map((r,n)=>{const a={key:n,[Ca]:!0};return Object.keys(r).forEach(o=>{const c=yC[o]||o;if(c==="innerHTML"||c==="cssText"){const d=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:d}}else a[c]=r[o]}),H.createElement(e,a)}),Kn=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>BU(e,t.title,t.titleAttributes),toString:()=>NU(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>PR(t),toString:()=>OR(t)};default:return{toComponent:()=>ag(e,t),toString:()=>LU(e,t,r)}}},zU=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const a=nb(e,tb.meta),o=nb(t,tb.link),i=nb(r,tb.script);return{priorityMethods:{toComponent:()=>[...ag("meta",a.priority),...ag("link",o.priority),...ag("script",i.priority)],toString:()=>`${Kn("meta",a.priority,n)} ${Kn("link",o.priority,n)} ${Kn("script",i.priority,n)}`},metaTags:a.default,linkTags:o.default,scriptTags:i.default}},FU=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:o,styleTags:i,title:c="",titleAttributes:d,prioritizeSeoTags:f}=e;let{linkTags:p,metaTags:m,scriptTags:g}=e,y={toComponent:()=>{},toString:()=>""};return f&&({priorityMethods:y,linkTags:p,metaTags:m,scriptTags:g}=zU(e)),{priority:y,base:Kn("base",t,n),bodyAttributes:Kn("bodyAttributes",r,n),htmlAttributes:Kn("htmlAttributes",a,n),link:Kn("link",p,n),meta:Kn("meta",m,n),noscript:Kn("noscript",o,n),script:Kn("script",g,n),style:Kn("style",i,n),title:Kn("title",{title:c,titleAttributes:d},n)}},SE=FU,_h=[],_R=!!(typeof window<"u"&&window.document&&window.document.createElement),EE=class{constructor(e,t){ke(this,"instances",[]);ke(this,"canUseDOM",_R);ke(this,"context");ke(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?_h:this.instances,add:e=>{(this.canUseDOM?_h:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?_h:this.instances).indexOf(e);(this.canUseDOM?_h:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=SE({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},qU={},DR=H.createContext(qU),As,MR=(As=class extends _.Component{constructor(r){super(r);ke(this,"helmetData");this.helmetData=new EE(this.props.context||{},As.canUseDOM)}render(){return H.createElement(DR.Provider,{value:this.helmetData.value},this.props.children)}},ke(As,"canUseDOM",_R),As),_l=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${Ca}]`),a=[].slice.call(n),o=[];let i;return t&&t.length&&t.forEach(c=>{const d=document.createElement(e);for(const f in c)if(Object.prototype.hasOwnProperty.call(c,f))if(f==="innerHTML")d.innerHTML=c.innerHTML;else if(f==="cssText")d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{const p=f,m=typeof c[p]>"u"?"":c[p];d.setAttribute(f,m)}d.setAttribute(Ca,"true"),a.some((f,p)=>(i=p,d.isEqualNode(f)))?a.splice(i,1):o.push(d)}),a.forEach(c=>{var d;return(d=c.parentNode)==null?void 0:d.removeChild(c)}),o.forEach(c=>r.appendChild(c)),{oldTags:a,newTags:o}},jE=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(Ca),a=n?n.split(","):[],o=[...a],i=Object.keys(t);for(const c of i){const d=t[c]||"";r.getAttribute(c)!==d&&r.setAttribute(c,d),a.indexOf(c)===-1&&a.push(c);const f=o.indexOf(c);f!==-1&&o.splice(f,1)}for(let c=o.length-1;c>=0;c-=1)r.removeAttribute(o[c]);a.length===o.length?r.removeAttribute(Ca):r.getAttribute(Ca)!==i.join(",")&&r.setAttribute(Ca,i.join(","))},HU=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=AR(e)),jE("title",t)},vk=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:o,metaTags:i,noscriptTags:c,onChangeClientState:d,scriptTags:f,styleTags:p,title:m,titleAttributes:g}=e;jE("body",n),jE("html",a),HU(m,g);const y={baseTag:_l("base",r),linkTags:_l("link",o),metaTags:_l("meta",i),noscriptTags:_l("noscript",c),scriptTags:_l("script",f),styleTags:_l("style",p)},w={},S={};Object.keys(y).forEach(b=>{const{newTags:k,oldTags:C}=y[b];k.length&&(w[b]=k),C.length&&(S[b]=y[b].oldTags)}),t&&t(),d(e,w,S)},td=null,UU=e=>{td&&cancelAnimationFrame(td),e.defer?td=requestAnimationFrame(()=>{vk(e,()=>{td=null})}):(vk(e),td=null)},VU=UU,xk=class extends _.Component{constructor(){super(...arguments);ke(this,"rendered",!1)}shouldComponentUpdate(t){return!xH(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let n=null;const a=MU(t.get().map(o=>{const i={...o.props};return delete i.context,i}));MR.canUseDOM?VU(a):SE&&(n=SE(a)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},dE,vC=(dE=class extends _.Component{shouldComponentUpdate(e){return!CU(yk(this.props,"helmetData"),yk(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return mk(gk.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${gk.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),mk(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return H.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:a,...o}=n.props,i=Object.keys(o).reduce((d,f)=>(d[kU[f]||f]=o[f],d),{});let{type:c}=n;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(n,a),c){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,i,a);break;default:t=this.mapObjectTypeChildren(n,t,i,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof EE)){const a=n;n=new EE(a.context,!0),delete r.helmetData}return n?H.createElement(xk,{...r,context:n.value}):H.createElement(DR.Consumer,null,a=>H.createElement(xk,{...r,context:a}))}},ke(dE,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),dE);const xC=_.createContext(null);function RR(){const{user:e}=_.useContext(ox),[t,r]=_.useState("light"),n=t==="light"?N9:L9;_.useEffect(()=>{e&&(e!=null&&e.theme)&&r(e==null?void 0:e.theme)},[e]);const a=()=>{r(o=>o==="light"?"dark":"light")};return l.jsx(MR,{children:l.jsx(xC.Provider,{value:{toggleTheme:a,theme:t},children:l.jsx(bU,{theme:n,children:l.jsx(D9,{children:l.jsx(I9,{})})})})})}class IR{constructor(){this.baseApi=ue.BASE_API}async getConfigs(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_CONFIG}`,n={headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}};console.log(`🔍 Obteniendo configuraciones de email desde: ${r}`);const a=await fetch(r,n);if(!a.ok){let i=`Error HTTP ${a.status}`;try{i=(await a.json()).message||i}catch{i=await a.text()||i}switch(a.status){case 401:throw new Error("🚫 No autorizado para acceder a configuraciones de email");case 403:throw new Error("🚫 No tiene permisos para ver configuraciones de email");case 500:throw new Error(`💥 Error interno del servidor: ${i}`);default:throw new Error(`❌ Error desconocido (${a.status}): ${i}`)}}const o=await a.json();return console.log("📧 Configuraciones de email obtenidas:",o.length||0),o}catch(r){throw console.error("❌ Error al obtener configuraciones de email:",r),r.name==="TypeError"&&r.message.includes("fetch")?new Error("🌐 Error de conexión. Verifique su conexión a internet."):r}}async getConfigById(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_CONFIG}/${r}`,a={headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}};console.log(`🔍 Obteniendo configuración de email ID: ${r}`);const o=await fetch(n,a);if(!o.ok){let c=`Error HTTP ${o.status}`;try{c=(await o.json()).message||c}catch{c=await o.text()||c}switch(o.status){case 404:throw new Error(`🚫 Configuración de email no encontrada (ID: ${r})`);case 401:throw new Error("🚫 No autorizado para acceder a esta configuración");case 500:throw new Error(`💥 Error interno del servidor: ${c}`);default:throw new Error(`❌ Error desconocido (${o.status}): ${c}`)}}const i=await o.json();return console.log("📧 Configuración de email obtenida:",i.name),i}catch(n){throw console.error(`❌ Error al obtener configuración de email ID ${r}:`,n),n.name==="TypeError"&&n.message.includes("fetch")?new Error("🌐 Error de conexión. Verifique su conexión a internet."):n}}async createConfig(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_CONFIG}`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)};console.log(`🆕 Creando configuración de email: ${r.name}`);const o=await fetch(n,a);if(!o.ok){let c=`Error HTTP ${o.status}`;try{c=(await o.json()).message||c}catch{c=await o.text()||c}switch(o.status){case 400:throw new Error(`🚫 Datos inválidos: ${c}`);case 409:throw new Error("🚫 Ya existe una configuración con ese nombre");case 401:throw new Error("🚫 No autorizado para crear configuraciones");case 500:throw new Error(`💥 Error interno del servidor: ${c}`);default:throw new Error(`❌ Error desconocido (${o.status}): ${c}`)}}const i=await o.json();return console.log("✅ Configuración de email creada:",i.name),i}catch(n){throw console.error("❌ Error al crear configuración de email:",n),n.name==="TypeError"&&n.message.includes("fetch")?new Error("🌐 Error de conexión. Verifique su conexión a internet."):n}}async updateConfig(t,r,n){try{const a=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_CONFIG}/${r}`,o={method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)};console.log(`📝 Actualizando configuración de email ID: ${r}`);const i=await fetch(a,o);if(!i.ok){let d=`Error HTTP ${i.status}`;try{d=(await i.json()).message||d}catch{d=await i.text()||d}switch(i.status){case 404:throw new Error(`🚫 Configuración no encontrada (ID: ${r})`);case 400:throw new Error(`🚫 Datos inválidos: ${d}`);case 409:throw new Error("🚫 Ya existe una configuración con ese nombre");case 401:throw new Error("🚫 No autorizado para actualizar configuraciones");case 500:throw new Error(`💥 Error interno del servidor: ${d}`);default:throw new Error(`❌ Error desconocido (${i.status}): ${d}`)}}const c=await i.json();return console.log("✅ Configuración de email actualizada:",c.name),c}catch(a){throw console.error(`❌ Error al actualizar configuración ID ${r}:`,a),a.name==="TypeError"&&a.message.includes("fetch")?new Error("🌐 Error de conexión. Verifique su conexión a internet."):a}}async deleteConfig(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_CONFIG}/${r}`,a={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}};console.log(`🗑️ Eliminando configuración de email ID: ${r}`);const o=await fetch(n,a);if(!o.ok){let c=`Error HTTP ${o.status}`;try{c=(await o.json()).message||c}catch{c=await o.text()||c}switch(o.status){case 404:throw new Error(`🚫 Configuración no encontrada (ID: ${r})`);case 400:throw new Error(`🚫 No se puede eliminar: ${c}`);case 401:throw new Error("🚫 No autorizado para eliminar configuraciones");case 500:throw new Error(`💥 Error interno del servidor: ${c}`);default:throw new Error(`❌ Error desconocido (${o.status}): ${c}`)}}const i=await o.json();return console.log("✅ Configuración de email eliminada"),i}catch(n){throw console.error(`❌ Error al eliminar configuración ID ${r}:`,n),n.name==="TypeError"&&n.message.includes("fetch")?new Error("🌐 Error de conexión. Verifique su conexión a internet."):n}}async setAsDefault(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_CONFIG}/${r}/default`,a={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}};console.log(`⭐ Estableciendo configuración por defecto ID: ${r}`);const o=await fetch(n,a);if(!o.ok){let c=`Error HTTP ${o.status}`;try{c=(await o.json()).message||c}catch{c=await o.text()||c}switch(o.status){case 404:throw new Error(`🚫 Configuración no encontrada (ID: ${r})`);case 400:throw new Error(`🚫 No se puede establecer como predeterminada: ${c}`);case 401:throw new Error("🚫 No autorizado para modificar configuraciones");case 500:throw new Error(`💥 Error interno del servidor: ${c}`);default:throw new Error(`❌ Error desconocido (${o.status}): ${c}`)}}const i=await o.json();return console.log("✅ Configuración establecida como predeterminada"),i}catch(n){throw console.error(`❌ Error al establecer configuración por defecto ID ${r}:`,n),n.name==="TypeError"&&n.message.includes("fetch")?new Error("🌐 Error de conexión. Verifique su conexión a internet."):n}}async testConfig(t,r,n){try{const a=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_CONFIG}/${r}/test`,o={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({testEmail:n})};console.log(`🧪 Probando configuración de email ID: ${r} -> ${n}`);const i=await fetch(a,o);if(!i.ok){let d=`Error HTTP ${i.status}`;try{d=(await i.json()).message||d}catch{d=await i.text()||d}switch(i.status){case 404:throw new Error(`🚫 Configuración no encontrada (ID: ${r})`);case 400:throw new Error(`🚫 Error en la prueba: ${d}`);case 401:throw new Error("🚫 No autorizado para probar configuraciones");case 500:throw new Error(`💥 Error interno del servidor: ${d}`);default:throw new Error(`❌ Error desconocido (${i.status}): ${d}`)}}const c=await i.json();return console.log(`✅ Prueba de configuración ${c.success?"exitosa":"fallida"}`),c}catch(a){throw console.error(`❌ Error al probar configuración ID ${r}:`,a),a.name==="TypeError"&&a.message.includes("fetch")?new Error("🌐 Error de conexión. Verifique su conexión a internet."):a}}async initializeDefaults(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_CONFIG}/initialize`,n={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}};console.log("🔧 Inicializando configuraciones de email por defecto");const a=await fetch(r,n);if(!a.ok){let i=`Error HTTP ${a.status}`;try{i=(await a.json()).message||i}catch{i=await a.text()||i}switch(a.status){case 400:throw new Error(`🚫 Error en la inicialización: ${i}`);case 401:throw new Error("🚫 No autorizado para inicializar configuraciones");case 500:throw new Error(`💥 Error interno del servidor: ${i}`);default:throw new Error(`❌ Error desconocido (${a.status}): ${i}`)}}const o=await a.json();return console.log("✅ Configuraciones por defecto inicializadas"),o}catch(r){throw console.error("❌ Error al inicializar configuraciones por defecto:",r),r.name==="TypeError"&&r.message.includes("fetch")?new Error("🌐 Error de conexión. Verifique su conexión a internet."):r}}async toggleStatus(t,r){var n;try{const a=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_CONFIG}/${r}/toggle`,o={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}};console.log(`🔄 Alternando estado de configuración ID: ${r}`);const i=await fetch(a,o);if(!i.ok){let d=`Error HTTP ${i.status}`;try{d=(await i.json()).message||d}catch{d=await i.text()||d}switch(i.status){case 404:throw new Error(`🚫 Configuración no encontrada (ID: ${r})`);case 400:throw new Error(`🚫 No se puede cambiar el estado: ${d}`);case 401:throw new Error("🚫 No autorizado para modificar configuraciones");case 500:throw new Error(`💥 Error interno del servidor: ${d}`);default:throw new Error(`❌ Error desconocido (${i.status}): ${d}`)}}const c=await i.json();return console.log(`✅ Estado de configuración cambiado: ${(n=c.config)!=null&&n.isActive?"Activa":"Inactiva"}`),c}catch(a){throw console.error(`❌ Error al alternar estado de configuración ID ${r}:`,a),a.name==="TypeError"&&a.message.includes("fetch")?new Error("🌐 Error de conexión. Verifique su conexión a internet."):a}}async getEmailStats(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_CONFIG}/stats`,n={headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}};console.log("📊 Obteniendo estadísticas de email");const a=await fetch(r,n);if(!a.ok){let i=`Error HTTP ${a.status}`;try{i=(await a.json()).message||i}catch{i=await a.text()||i}switch(a.status){case 401:throw new Error("🚫 No autorizado para ver estadísticas");case 500:throw new Error(`💥 Error interno del servidor: ${i}`);default:throw new Error(`❌ Error desconocido (${a.status}): ${i}`)}}const o=await a.json();return console.log("📊 Estadísticas de email obtenidas"),o}catch(r){if(console.error("❌ Error al obtener estadísticas de email:",r),r.name==="TypeError"&&r.message.includes("fetch"))throw new Error("🌐 Error de conexión. Verifique su conexión a internet.");return{success:!1,stats:{totalConfigs:0,activeConfigs:0,emailsSentToday:0,errorRate:0},error:r.message}}}async clearTransporterCache(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_CONFIG}/clear-cache`,n={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}};console.log("🧹 Limpiando cache de transporters");const a=await fetch(r,n);if(!a.ok){let i=`Error HTTP ${a.status}`;try{i=(await a.json()).message||i}catch{i=await a.text()||i}switch(a.status){case 401:throw new Error("🚫 No autorizado para limpiar cache");case 500:throw new Error(`💥 Error interno del servidor: ${i}`);default:throw new Error(`❌ Error desconocido (${a.status}): ${i}`)}}const o=await a.json();return console.log("✅ Cache de transporters limpiado"),o}catch(r){throw console.error("❌ Error al limpiar cache de transporters:",r),r.name==="Typography"&&r.message.includes("fetch")?new Error("🌐 Error de conexión. Verifique su conexión a internet."):r}}validateConfigData(t){const r=[];(!t.name||t.name.trim()==="")&&r.push("El nombre es obligatorio"),(!t.host||t.host.trim()==="")&&r.push("El host SMTP es obligatorio"),(!t.auth||!t.auth.user||t.auth.user.trim()==="")&&r.push("El usuario de email es obligatorio"),(!t.auth||!t.auth.pass||t.auth.pass.trim()==="")&&r.push("La contraseña de email es obligatoria"),(!t.from||t.from.trim()==="")&&r.push("La dirección de envío es obligatoria");const n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.from&&!n.test(t.from.replace(/.*<(.+)>.*/,"$1"))&&r.push("El formato de la dirección de envío no es válido"),t.port&&(isNaN(t.port)||t.port<1||t.port>65535)&&r.push("El puerto debe ser un número entre 1 and 65535"),{isValid:r.length===0,errors:r}}cleanup(){console.log("🧹 EmailConfigApi cleanup ejecutado")}}class NR{constructor(){ke(this,"baseApi",ue.BASE_API)}async getSummaries(t,r={}){try{const n=new URLSearchParams;r.page&&n.append("page",r.page),r.limit&&n.append("limit",r.limit),r.loadId&&n.append("loadId",r.loadId),r.route&&n.append("route",r.route),r.dateFrom&&n.append("dateFrom",r.dateFrom),r.dateTo&&n.append("dateTo",r.dateTo),r.status&&n.append("status",r.status);const a=n.toString(),o=`${this.baseApi}/${ue.API_ROUTERS.SUMMARIES}/get/${a?`?${a}`:""}`,i={headers:{Authorization:`Bearer ${t}`}},c=await fetch(o,i),d=await c.json();if(c.status!==200)throw d;return d}catch(n){throw console.error("Error fetching transfer summaries:",n),n}}async getSummaryById(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.SUMMARIES}/get/${r}`,a={headers:{Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error(`Error fetching transfer summary by ID ${r}:`,n),n}}async getSummaryByLoadId(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.SUMMARIES}/load/${r}`,a={headers:{Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error(`Error fetching transfer summary by loadId ${r}:`,n),n}}async checkInventoryForReturns(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.SUMMARIES}/inventory-check/${r}`,a={headers:{Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error("Error checking inventory for returns:",n),n}}async processTransferReturn(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.SUMMARIES}/reverse/return`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error("Error processing transfer return:",n),n}}}const bk=`${window.location.hostname}:3979`,wk=window.location.protocol,ue={BASE_PATH:`${wk}//${bk}`,BASE_API:`${wk}//${bk}/api/v1`,API_ROUTERS:{LOGIN:"auth/login",REFRESH_ACCESS_TOKEN:"auth/refresh_access_token",USER:"users/user",USERS:"users",ROLES:"roles",MODULE:"modules",TRANSFER:"task",TRANSFER_PROGRESS:"transfer",CANCELLATION:"cancellation",TRANSFER_STAST:"stats",EMAIL_RECIPIENTS:"email-recipients",EMAIL_CONFIG:"email-config",SUMMARIES:"summaries"},JWT:{ACCESS:"access",REFRESH:"refresh"}};class LR{constructor(){ke(this,"baseApi",ue.BASE_API)}async login(t){try{console.log("🚀 AuthApi.login iniciado con:",t);const r=`${this.baseApi}/${ue.API_ROUTERS.LOGIN}`;console.log("🔗 URL de login:",r);const n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log("📡 Respuesta HTTP status:",n.status),console.log("📡 Respuesta HTTP ok:",n.ok),!n.ok){const o=await n.json();throw console.error("❌ Error HTTP:",o),new Error(o.msg||"Error desconocido en la API")}const a=await n.json();if(console.log("📥 RESPUESTA COMPLETA RECIBIDA:"),console.log("- state:",a.state),console.log("- msg:",a.msg),console.log("- accessToken presente:",!!a.accessToken),console.log("- accessToken tipo:",typeof a.accessToken),console.log("- accessToken primeros 50 chars:",a.accessToken?a.accessToken.substring(0,50)+"...":"❌ VACÍO"),console.log("- refreshToken presente:",!!a.refreshToken),console.log("- refreshToken tipo:",typeof a.refreshToken),console.log("- user presente:",!!a.user),!a.state)throw console.error("❌ Estado de autenticación falso:",a.msg),new Error(a.msg||"Error de autenticación");if(!a.accessToken)throw console.error("❌ accessToken no recibido en la respuesta"),new Error("Token de acceso no recibido del servidor");if(!a.refreshToken)throw console.error("❌ refreshToken no recibido en la respuesta"),new Error("Token de refresh no recibido del servidor");if(typeof a.accessToken!="string"||a.accessToken.split(".").length!==3)throw console.error("❌ accessToken con formato inválido:",a.accessToken),new Error("Token de acceso con formato inválido");if(typeof a.refreshToken!="string"||a.refreshToken.split(".").length!==3)throw console.error("❌ refreshToken con formato inválido:",a.refreshToken),new Error("Token de refresh con formato inválido");return console.log("✅ AuthApi.login completado exitosamente"),a}catch(r){throw console.error("❌ Error en AuthApi.login:",r.message),r}}async refreshAccessToken(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.REFRESH_ACCESS_TOKEN}`,n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})},a=await fetch(r,n),o=await a.json();if(a.status!=200)throw o;return o}catch(r){throw console.log(r),r}}setAccessToken(t){localStorage.setItem(ue.JWT.ACCESS,t)}getAccessToken(){return localStorage.getItem(ue.JWT.ACCESS)}setRefreshToken(t){return localStorage.setItem(ue.JWT.REFRESH,t)}getRefreshToken(){return localStorage.getItem(ue.JWT.REFRESH)}removeToken(){localStorage.removeItem(ue.JWT.ACCESS),localStorage.removeItem(ue.JWT.REFRESH)}}class BR{constructor(){ke(this,"baseApi",ue.BASE_API)}async getDBConfigs(t){try{const r=`${this.baseApi}/config/db`,n={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(a.status!==200)throw o;return o}catch(r){throw console.error("❌ Error al obtener configuraciones DB:",r),r}}async createDBConfig(t,r){try{const n=`${this.baseApi}/config/create/db`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error("❌ Error al crear configuración DB:",n),n}}async deleteDBConfig(t,r){try{const n=`${this.baseApi}/config/delete/db/${r}`,a={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error("❌ Error al eliminar configuración DB:",n),n}}async testConnection(t,r){try{const n=`${this.baseApi}/config/test/db`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)},o=await fetch(n,a),i=await o.json();return{success:o.status===200,...i}}catch(n){return console.error("❌ Error al probar conexión:",n),{success:!1,error:n.message}}}}class zR{constructor(){ke(this,"baseApi",ue.BASE_API)}async getRecipients(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_RECIPIENTS}`,n={headers:{Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(a.status!==200)throw o;return o}catch(r){throw console.log(r),r}}async createRecipient(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_RECIPIENTS}`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)};console.log(`🚀 Enviando petición a: ${n}`);const o=await fetch(n,a),i=await o.json();if(!o.ok)switch(o.status){case 400:throw new Error(i.message||"Datos inválidos para crear el destinatario.");case 500:throw new Error("💥 Error interno en el servidor.");default:throw new Error(`❌ Error desconocido (${o.status}): ${i.message||"Sin detalles"}`)}return i}catch(n){throw console.error("❌ Error al crear destinatario:",n.message),n}}async updateRecipient(t,r,n){try{const a=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_RECIPIENTS}/${r}`,o={method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)};console.log(`🚀 Enviando petición a: ${a}`);const i=await fetch(a,o),c=await i.json();if(!i.ok)switch(i.status){case 404:throw new Error(`🚫 Destinatario no encontrado (ID: ${r})`);case 400:throw new Error(c.message||"Datos inválidos para actualizar el destinatario.");case 500:throw new Error("💥 Error interno en el servidor.");default:throw new Error(`❌ Error desconocido (${i.status}): ${c.message||"Sin detalles"}`)}return c}catch(a){throw console.error("❌ Error al actualizar destinatario:",a.message),a}}async deleteRecipient(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_RECIPIENTS}/${r}`,a={method:"DELETE",headers:{Authorization:`Bearer ${t}`}};console.log(`🚀 Enviando petición de eliminación a: ${n}`);const o=await fetch(n,a);if(o.status===204)return!0;const i=await o.json();if(!o.ok)switch(o.status){case 404:throw new Error(`🚫 Destinatario no encontrado (ID: ${r})`);case 500:throw new Error("💥 Error interno en el servidor.");default:throw new Error(`❌ Error desconocido (${o.status}): ${i.message||"Sin detalles"}`)}return i}catch(n){throw console.error("❌ Error al eliminar destinatario:",n.message),n}}async toggleSendStatus(t,r){console.log("🚀 Iniciando toggleSendStatus",r);try{const n=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_RECIPIENTS}/toggle-send/${r}`,a={method:"PUT",headers:{Authorization:`Bearer ${t}`}};console.log(`🚀 Enviando petición de toggle a: ${n}`);const o=await fetch(n,a),i=await o.json();if(!o.ok)switch(o.status){case 404:throw new Error(`🚫 Destinatario no encontrado (ID: ${r})`);case 500:throw new Error("💥 Error interno en el servidor.");default:throw new Error(`❌ Error desconocido (${o.status}): ${i.message||"Sin detalles"}`)}return i}catch(n){throw console.error("❌ Error al cambiar estado del destinatario:",n.message),n}}async initializeDefaults(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.EMAIL_RECIPIENTS}/initialize-defaults`,n={method:"GET",headers:{Authorization:`Bearer ${t}`}};console.log(`🚀 Enviando petición para inicializar por defecto: ${r}`);const a=await fetch(r,n),o=await a.json();if(!a.ok)throw new Error(`❌ Error al inicializar destinatarios por defecto: ${o.message||"Sin detalles"}`);return o}catch(r){throw console.error("❌ Error al inicializar destinatarios por defecto:",r.message),r}}}class FR{constructor(){ke(this,"baseApi",ue.BASE_API)}async getAllModules(t,r={}){console.log("🔍 Obteniendo todos los módulos con parámetros:",t);try{const n=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/get-all`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)},o=await fetch(n,a);console.log("🔍 Obteniendo módulos con parámetros:",o);const i=await o.json();if(!o.ok)throw i;return i}catch(n){throw console.error("❌ Error obteniendo módulos:",n),n}}async getModuleById(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/${r}`,a=await fetch(n,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),o=await a.json();if(!a.ok)throw o;return o}catch(n){throw console.error("❌ Error obteniendo módulo:",n),n}}async createModule(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.MODULE}`,a=await fetch(n,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(r)}),o=await a.json();if(!a.ok)throw o;return o}catch(n){throw console.error("❌ Error creando módulo:",n),n}}async updateModule(t,r,n){try{const a=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/${r}`,o=await fetch(a,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(n)}),i=await o.json();if(!o.ok)throw i;return i}catch(a){throw console.error("❌ Error actualizando módulo:",a),a}}async deleteModule(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/${r}`,a=await fetch(n,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),o=await a.json();if(!a.ok)throw o;return o}catch(n){throw console.error("❌ Error eliminando módulo:",n),n}}async toggleModuleStatus(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/${r}/toggle-status`,a=await fetch(n,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),o=await a.json();if(!a.ok)throw o;return o}catch(n){throw console.error("❌ Error cambiando estado del módulo:",n),n}}async duplicateModule(t,r,n){try{const a=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/${r}/duplicate`,o=await fetch(a,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(n)}),i=await o.json();if(!o.ok)throw i;return i}catch(a){throw console.error("❌ Error duplicando módulo:",a),a}}async getAvailableActions(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/available-actions`,n=await fetch(r,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),a=await n.json();if(!n.ok)throw a;return a}catch(r){throw console.error("❌ Error obteniendo acciones disponibles:",r),r}}async getCategories(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/categories`,n=await fetch(r,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),a=await n.json();if(!n.ok)throw a;return a}catch(r){throw console.error("❌ Error obteniendo categorías:",r),r}}async invalidateCache(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/cache/invalidate`,n=await fetch(r,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),a=await n.json();if(!n.ok)throw a;return a}catch(r){throw console.error("❌ Error invalidando caché:",r),r}}async searchModules(t,r,n={}){try{const a=new URLSearchParams({limit:n.limit||10,includeInactive:n.includeInactive||!1}).toString(),o=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/search/${encodeURIComponent(r)}?${a}`,i=await fetch(o,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),c=await i.json();if(!i.ok)throw c;return c}catch(a){throw console.error("❌ Error buscando módulos:",a),a}}async getModulesConfig(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/config`,n=await fetch(r,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),a=await n.json();if(!n.ok)throw a;return a}catch(r){throw console.error("❌ Error obteniendo configuración de módulos:",r),r}}async updateModuleActions(t,r,n){try{const a=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/${r}/actions`,o=await fetch(a,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({actions:n})}),i=await o.json();if(!o.ok)throw i;return i}catch(a){throw console.error("❌ Error actualizando acciones del módulo:",a),a}}async updateModuleRoutes(t,r,n){try{const a=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/${r}/routes`,o=await fetch(a,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({routes:n})}),i=await o.json();if(!o.ok)throw i;return i}catch(a){throw console.error("❌ Error actualizando rutas del módulo:",a),a}}async updateModuleUIConfig(t,r,n){try{const a=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/${r}/ui-config`,o=await fetch(a,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({uiConfig:n})}),i=await o.json();if(!o.ok)throw i;return i}catch(a){throw console.error("❌ Error actualizando configuración UI:",a),a}}async updateModuleRestrictions(t,r,n){try{const a=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/${r}/restrictions`,o=await fetch(a,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({restrictions:n})}),i=await o.json();if(!o.ok)throw i;return i}catch(a){throw console.error("❌ Error actualizando restricciones:",a),a}}async exportModules(t,r="json"){try{const n=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/export/${r}`,a=await fetch(n,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw await a.json();return r!=="json"?a.blob():await a.json()}catch(n){throw console.error("❌ Error exportando módulos:",n),n}}async importModules(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/import`,a=await fetch(n,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({modules:r})}),o=await a.json();if(!a.ok)throw o;return o}catch(n){throw console.error("❌ Error importando módulos:",n),n}}async validateSystemIntegrity(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/system/validate`,n=await fetch(r,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),a=await n.json();if(!n.ok)throw a;return a}catch(r){throw console.error("❌ Error validando integridad del sistema:",r),r}}async initializeSystemModules(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.MODULE}/system/initialize`,n=await fetch(r,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),a=await n.json();if(!n.ok)throw a;return a}catch(r){throw console.error("❌ Error inicializando módulos del sistema:",r),r}}}class bC{constructor(){ke(this,"baseApi",ue.BASE_API)}async getRoles(t,r={}){try{if(console.log("🚀 RoleApi.getRoles iniciado"),console.log("🚀 Token",t),console.log("📤 URL:",`${this.baseApi}/${ue.API_ROUTERS.ROLES}`),console.log("📤 Datos a enviar:",JSON.stringify(r,null,2)),!t||typeof t!="string")throw console.error("❌ Token inválido:",{token:t,type:typeof t,isNull:t===null,isUndefined:t===void 0}),new Error("Token de acceso inválido o no proporcionado");console.log("🔑 Token válido:",`${t.substring(0,20)}...`);const n=`${this.baseApi}/${ue.API_ROUTERS.ROLES}/get`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)};console.log("📤 Request params:",{method:a.method,url:n,headers:a.headers,bodyLength:a.body.length});const o=await fetch(n,a);console.log("📥 Response status:",o.status),console.log("📥 Response headers:",Object.fromEntries(o.headers.entries()));let i;const c=o.headers.get("content-type");if(c&&c.includes("application/json"))i=await o.json();else{const d=await o.text();throw console.error("❌ Respuesta no es JSON:",d.substring(0,200)),new Error(`Respuesta no es JSON: ${d.substring(0,100)}`)}if(console.log("📥 Result:",i),o.status!==200)throw console.error("❌ Error HTTP:",o.status,i),new Error(i.message||`HTTP Error ${o.status}`);return i}catch(n){throw console.error("❌ Error en getRoles:",n),n.name==="TypeError"&&n.message.includes("fetch")?new Error("Error de conexión con el servidor"):n}}async getRoleById(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.ROLES}/get/${r}`,a={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error("❌ Error obteniendo rol:",n),n}}async createRole(t,r){try{console.log("📝 Creando rol:",r);const n=`${this.baseApi}/${ue.API_ROUTERS.ROLES}/create`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)},o=await fetch(n,a),i=await o.json();if(o.status!==201)throw i;return i}catch(n){throw console.error("❌ Error creando rol:",n),n}}async updateRole(t,r,n){try{console.log("📝 Actualizando rol:",r,n);const a=`${this.baseApi}/${ue.API_ROUTERS.ROLES}/update/${r}`,o={method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)},i=await fetch(a,o),c=await i.json();if(i.status!==200)throw c;return c}catch(a){throw console.error("❌ Error actualizando rol:",a),a}}async toggleRoleStatus(t,r,n){try{console.log("🔄 Cambiando estado del rol:",r);const a=`${this.baseApi}/${ue.API_ROUTERS.ROLES}/update/${r}/toggle`,o={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({isActive:!n})},i=await fetch(a,o),c=await i.json();if(i.status!==200)throw c;return c}catch(a){throw console.error("❌ Error cambiando estado del rol:",a),a}}async deleteRole(t,r){try{console.log("🗑️ Eliminando rol:",r);const n=`${this.baseApi}/${ue.API_ROUTERS.ROLES}/delete/${r}`,a={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error("❌ Error eliminando rol:",n),n}}async assignRole(t,r,n){var a,o;try{console.log("👤 Asignando rol individual:",{userId:r,roleId:n});const i=await fetch(`${this.baseApi}/${ue.API_ROUTERS.USERS}/user/${r}`,{headers:{Authorization:`Bearer ${t}`}});if(!i.ok)throw new Error("Error obteniendo datos del usuario");const d=((o=(a=(await i.json()).data)==null?void 0:a.roles)==null?void 0:o.map(w=>w._id))||[],f=d.includes(n)?d:[...d,n],p=`${this.baseApi}/${ue.API_ROUTERS.USERS}/${r}/roles`,m={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({roles:f})},g=await fetch(p,m),y=await g.json();if(g.status!==200)throw y;return y}catch(i){throw console.error("❌ Error asignando rol individual:",i),i}}async removeRole(t,r,n){var a,o;try{console.log("👤 Removiendo rol individual:",{userId:r,roleId:n});const i=await fetch(`${this.baseApi}/${ue.API_ROUTERS.USERS}/user/${r}`,{headers:{Authorization:`Bearer ${t}`}});if(!i.ok)throw new Error("Error obteniendo datos del usuario");const f=(((o=(a=(await i.json()).data)==null?void 0:a.roles)==null?void 0:o.map(w=>w._id))||[]).filter(w=>w!==n),p=`${this.baseApi}/${ue.API_ROUTERS.USERS}/${r}/roles`,m={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({roles:f})},g=await fetch(p,m),y=await g.json();if(g.status!==200)throw y;return y}catch(i){throw console.error("❌ Error removiendo rol individual:",i),i}}async getAvailableRoles(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.ROLES}/available`,n={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(a.status!==200)throw o;return o}catch(r){throw console.error("❌ Error obteniendo roles disponibles:",r),r}}async getAvailableResources(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.ROLES}/resources`,n={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(a.status!==200)throw o;return o}catch(r){throw console.error("❌ Error obteniendo recursos:",r),r}}async getAvailableActions(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.ROLES}/actions`,n={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},a=await fetch(r,n);console.log("🚀 getAvailableActions iniciado",a);const o=await a.json();if(a.status!==200)throw o;return o}catch(r){throw console.error("❌ Error obteniendo acciones:",r),r}}async duplicateRole(t,r,n){try{console.log("📋 Duplicando rol:",r,n);const a=`${this.baseApi}/${ue.API_ROUTERS.ROLES}/duplicate/${r}`,o={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)},i=await fetch(a,o),c=await i.json();if(i.status!==201)throw c;return c}catch(a){throw console.error("❌ Error duplicando rol:",a),a}}async getRoleStats(t){try{console.log("📊 Obteniendo estadísticas de roles...");const r=`${this.baseApi}/${ue.API_ROUTERS.ROLES}/stats`,n={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(a.status!==200)throw o;return o}catch(r){throw console.error("❌ Error obteniendo estadísticas de roles:",r),r}}async assignUsersToRole(t,r,n){try{console.log("👥 Asignando usuarios al rol:",{roleId:r,userIds:n});const a=`${this.baseApi}/${ue.API_ROUTERS.ROLES}/assign-users`,o={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({roleId:r,userIds:n})},i=await fetch(a,o),c=await i.json();if(i.status!==200)throw c;return c}catch(a){throw console.error("❌ Error asignando usuarios al rol:",a),a}}async removeUsersFromRole(t,r,n){try{console.log("👥 Removiendo usuarios del rol:",{roleId:r,userIds:n});const a=`${this.baseApi}/${ue.API_ROUTERS.ROLES}/remove-users`,o={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({roleId:r,userIds:n})},i=await fetch(a,o),c=await i.json();if(i.status!==200)throw c;return c}catch(a){throw console.error("❌ Error removiendo usuarios del rol:",a),a}}async getUsersByRole(t,r,n={}){console.log("👥 Obteniendo usuarios del rol:",t);try{const{page:a=1,limit:o=10}=n;console.log("👥 Obteniendo usuarios del rol:",t);const i=`${this.baseApi}/${ue.API_ROUTERS.ROLES}/by-role/${t}`,c={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}},d=await fetch(i,c),f=await d.json();if(d.status!==200)throw f;return f}catch(a){throw console.error("❌ Error obteniendo usuarios del rol:",a),a}}}class Yr{constructor(){ke(this,"baseApi",ue.BASE_API);this.cancellationInProgress=new Map,this.statusCheckIntervals=new Map}async getTasks(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/accion`,n={headers:{Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(a.status!==200)throw o;return o}catch(r){throw console.log(r),r}}async upsertTransferTask(t,r){console.log(r);try{const n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/accion/addEdit`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)},o=await fetch(n,a),i=await o.json();if(o.status!=200)throw i;return i}catch(n){throw console.log(n),n}}async deleteTask(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/accion/${r}`,a={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({name:r})};console.log(`🗑️ Eliminando tarea ${r}`);const o=await fetch(n,a),i=await o.json();if(!o.ok)throw i;return i}catch(n){throw console.error("Error obtener la tarea:",n),n}}async executeTask(t,r){console.log(`🚀 Ejecutando tarea: ${r}`);try{const n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/execute/${r}`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}};console.log(`🚀 Enviando petición a: ${n}`);const o=await fetch(n,a);if(console.log(o),!o.ok){let d=`Error HTTP ${o.status}`;try{const f=await o.text();if(f)try{d=JSON.parse(f).message||d}catch{d=f}}catch(f){console.error("No se pudo obtener texto de error:",f)}switch(o.status){case 404:throw new Error(`🚫 Tarea no encontrada (ID: ${r})`);case 400:throw new Error(d||"🚫 No se pudo ejecutar la tarea.");case 500:throw new Error(`💥 Error interno en el servidor: ${d}`);default:throw new Error(`❌ Error desconocido (${o.status}): ${d}`)}}const i=await o.text();if(!i||i.trim()==="")throw new Error("🚫 El servidor devolvió una respuesta vacía");let c;try{c=JSON.parse(i)}catch(d){throw console.error("❌ Error parseando JSON:",i.substring(0,200)+"..."),console.error("❌ Error de parseo:",d),new Error("🚫 La respuesta del servidor no es JSON válido")}if(console.log("📌 Respuesta del backend:",o.status,c),typeof c!="object"||c===null)throw new Error("🚫 Respuesta del servidor inválida");return c}catch(n){throw console.error("❌ Error ejecutando tarea manual:",n),n.name==="TypeError"&&n.message.includes("fetch")?new Error("🌐 Error de conexión con el servidor. Verifique su conexión a internet."):n}}async addTimeTransfer(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/config/horas`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)},o=await fetch(n,a),i=await o.json();if(o.status!=200)throw i;return i}catch(n){return console.log(n),n}}async getSchuledTime(t){console.log("##### TIME ######");try{const r=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/config/horas`,n={headers:{Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(a.status!==200)throw o;return o}catch(r){throw console.log(r),r}}async getTaskStatus(t){console.log("##### TIME ######");try{const r=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/config/task-status`,n={headers:{Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(a.status!==200)throw o;return o}catch(r){throw console.log(r),r}}async executeLoadTask(t,r,n,a){try{const o=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/run-loads/${a}`,i={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({parametros:{date:r,vendors:n}})};console.log(`🚀 Enviando petición a: ${o}`);const c=await fetch(o,i);console.log("Response recibido:",c);let d;if(typeof c.json=="function")d=await c.json();else{const f=await c.text();try{d=JSON.parse(f)}catch(p){throw console.error("Error al parsear JSON:",p,f),new Error("La respuesta del servidor no es JSON.")}}if(console.log("📌 Respuesta del backend:",c.status,d),!c.ok)switch(c.status){case 404:throw new Error(`🚫 Tarea no encontrada (ID: ${a})`);case 400:throw new Error(d.message||"🚫 No se pudo ejecutar la tarea.");case 500:throw new Error("💥 Error interno en el servidor.");default:throw new Error(`❌ Error desconocido (${c.status}): ${d.message||"Sin detalles"}`)}return d}catch(o){throw console.error("❌ Error ejecutando tarea manual:",o.message),o}}async executeInsertOrders(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/transfer/insertOrders`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({salesData:r})};console.log(`🚀 Enviando petición a: ${n}`);const o=await fetch(n,a);console.log("Response recibido:",o);let i;if(typeof o.json=="function")i=await o.json();else{const c=await o.text();try{i=JSON.parse(c)}catch(d){throw console.error("Error al parsear JSON:",d,c),new Error("La respuesta del servidor no es JSON.")}}if(console.log("📌 Respuesta del backend:",o.status,i),!o.ok)switch(o.status){case 404:throw new Error(`🚫 Tarea no encontrada (ID: ${taskId})`);case 400:throw new Error(i.message||"🚫 No se pudo ejecutar la tarea.");case 500:throw new Error("💥 Error interno en el servidor.");default:throw new Error(`❌ Error desconocido (${o.status}): ${i.message||"Sin detalles"}`)}return i}catch(n){throw console.error("❌ Error ejecutando tarea manual:",n.message),n}}async executeInsertLoads(t,r,n,a,o){try{const i=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/transfer/insertLoads`,c={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({route:r,loadId:n,salesData:a,bodega:o})};console.log(`🚀 Enviando petición a: ${i}`);const d=await fetch(i,c);console.log("Response recibido:",d);let f;if(typeof d.json=="function")f=await d.json();else{const p=await d.text();try{f=JSON.parse(p)}catch(m){throw console.error("Error al parsear JSON:",m,p),new Error("La respuesta del servidor no es JSON.")}}if(console.log("📌 Respuesta del backend:",d.status,f),!d.ok)switch(d.status){case 404:throw new Error(`🚫 Tarea no encontrada (ID: ${taskId})`);case 400:throw new Error(f.message||"🚫 No se pudo ejecutar la tarea.");case 500:throw new Error("💥 Error interno en el servidor.");default:throw new Error(`❌ Error desconocido (${d.status}): ${f.message||"Sin detalles"}`)}return f}catch(i){throw console.error("❌ Error ejecutando tarea manual:",i.message),i}}async executeInsertTrapaso(t,r,n,a,o){try{const i=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/transfer/insertTrapaso`,c={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({route:r,loadId:n,salesData:a,bodega_destino:o})};console.log(`🚀 Enviando petición a: ${i}`);const d=await fetch(i,c);console.log("Response recibido:",d);let f;if(typeof d.json=="function")f=await d.json();else{const p=await d.text();try{f=JSON.parse(p)}catch(m){throw console.error("Error al parsear JSON:",m,p),new Error("La respuesta del servidor no es JSON.")}}if(console.log("📌 Respuesta del backend:",d.status,f),!d.ok)switch(d.status){case 404:throw new Error(`🚫 Tarea no encontrada (ID: ${taskId})`);case 400:throw new Error(f.message||"🚫 No se pudo ejecutar la tarea.");case 500:throw new Error("💥 Error interno en el servidor.");default:throw new Error(`❌ Error desconocido (${d.status}): ${f.message||"Sin detalles"}`)}return f}catch(i){throw console.error("❌ Error ejecutando tarea manual:",i.message),i}}async getLoadConsecutivo(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/load/lastLoad`,n={headers:{Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(console.log(o),a.status!==200)throw o;return o}catch(r){throw console.log(r),r}}async getTaskHistory(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/task-history/${r}`,a={headers:{Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error("Error al obtener historial de tarea:",n),n}}async cancelTask(t,r,n={}){try{if(this.cancellationInProgress.has(r))return{success:!1,message:"La tarea ya está siendo cancelada"};this.cancellationInProgress.set(r,!0);const a=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/cancel/${r}`,o={method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({force:n.force||!1,reason:n.reason||"Cancelado por el usuario"})},i=await fetch(a,o),c=await i.json();if(i.status!==200)throw this.cancellationInProgress.delete(r),c;return n.onStatusChange&&this.startCancellationMonitoring(t,r,n.onStatusChange),c}catch(a){throw this.cancellationInProgress.delete(r),console.error("Error al cancelar tarea:",a),a}}async getCancellationStatus(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.CANCELLATION}/tasks/${r}/status`,a={method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error("Error al obtener estado de cancelación:",n),n}}async getActiveCancelableTasks(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.CANCELLATION}/active`,n={method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}},a=await fetch(r,n),o=await a.json();if(a.status!==200)throw o;return o}catch(r){throw console.error("Error al obtener tareas activas:",r),r}}async cancelAllTasks(t,r={}){try{const n=`${this.baseApi}/${ue.API_ROUTERS.CANCELLATION}/cancel-all`,a={method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({force:r.force||!1,reason:r.reason||"Cancelación masiva"})},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error("Error al cancelar todas las tareas:",n),n}}startCancellationMonitoring(t,r,n){this.statusCheckIntervals.has(r)&&clearInterval(this.statusCheckIntervals.get(r));const a=setInterval(async()=>{var o;try{const i=await this.getCancellationStatus(t,r);i.data.isActiveProcess||(clearInterval(a),this.statusCheckIntervals.delete(r),this.cancellationInProgress.delete(r)),n(i)}catch(i){console.error(`Error al monitorear estado de tarea ${r}:`,i),((o=i.response)==null?void 0:o.status)===404&&(clearInterval(a),this.statusCheckIntervals.delete(r),this.cancellationInProgress.delete(r))}},2e3);this.statusCheckIntervals.set(r,a)}cleanup(){for(const t of this.statusCheckIntervals.values())clearInterval(t);this.statusCheckIntervals.clear(),this.cancellationInProgress.clear()}async getVendedores(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/transfer/vendedores`,n={headers:{Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(!a.ok)throw o;return o}catch(r){throw console.error("Error al obtener vendedores:",r),r}}async getTransferHistory(t,r={}){try{const n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/task-summaries/recent`,a={headers:{Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;console.log("Respuesta de historial:",i);let c=[],d=0,f=0;if(i.success&&i.history)c=i.history,d=i.completedToday||0,f=i.failedToday||0;else if(Array.isArray(i)){c=i;const p=new Date;p.setHours(0,0,0,0);const m=new Date(p);m.setDate(m.getDate()+1),d=c.filter(g=>{const y=new Date(g.date);return y>=p&&y<m&&g.status==="completed"}).length,f=c.filter(g=>{const y=new Date(g.date);return y>=p&&y<m&&(g.status==="failed"||g.status==="error"||g.status==="cancelled")}).length}return{success:!0,history:c,completedToday:d,failedToday:f}}catch(n){return console.error("Error al obtener historial de transferencias:",n),{success:!1,history:[],completedToday:0,failedToday:0,error:n.message}}}async checkServerStatus(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/server-status/server`,n={headers:{Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(a.status!==200)throw o;return o}catch(r){return console.error("Error al verificar estado de servidores:",r),{success:!1,server1:{status:"unknown",responseTime:0},server2:{status:"unknown",responseTime:0},mongodb:{status:"unknown"},error:r.message}}}async getTransferStats(t,r={}){try{let n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER_STAST}`;const a=[];r.timeRange&&a.push(`timeRange=${r.timeRange}`),r.taskId&&a.push(`taskId=${r.taskId}`),a.length>0&&(n+=`?${a.join("&")}`);const o={headers:{Authorization:`Bearer ${t}`}},i=await fetch(n,o),c=await i.json();if(i.status!==200)throw c;return c}catch(n){throw console.error("Error al obtener estadísticas:",n),n}}async getLogs(t,r={}){try{const n=new URLSearchParams;r.level&&r.level!=="all"&&n.append("level",r.level),r.source&&r.source!=="all"&&n.append("source",r.source),r.dateFrom&&n.append("dateFrom",r.dateFrom),r.dateTo&&n.append("dateTo",r.dateTo),r.search&&n.append("search",r.search),r.limit&&n.append("limit",r.limit),r.page&&n.append("page",r.page);const a=`${this.baseApi}/logs${n.toString()?`?${n.toString()}`:""}`,o={headers:{Authorization:`Bearer ${t}`}};console.log(`🔍 Obteniendo logs desde: ${a}`);const i=await fetch(a,o),c=await i.json();if(!i.ok)throw c;return c}catch(n){throw console.error("Error al obtener logs:",n),n}}async getLogsSummary(t){try{const r=`${this.baseApi}/logs/summary`,n={headers:{Authorization:`Bearer ${t}`}};console.log("📊 Obteniendo resumen de logs");const a=await fetch(r,n),o=await a.json();if(!a.ok)throw o;return o}catch(r){throw console.error("Error al obtener resumen de logs:",r),r}}async getLogDetail(t,r){try{const n=`${this.baseApi}/logs/detail/${r}`,a={headers:{Authorization:`Bearer ${t}`}};console.log(`🔍 Obteniendo detalle de log: ${r}`);const o=await fetch(n,a),i=await o.json();if(!o.ok)throw i;return i}catch(n){throw console.error(`Error al obtener detalle del log ${r}:`,n),n}}async cleanOldLogs(t,r=30){try{const n=`${this.baseApi}/logs/clean`,a={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({olderThan:r})};console.log(`🗑️ Eliminando logs más antiguos que ${r} días`);const o=await fetch(n,a),i=await o.json();if(!o.ok)throw i;return i}catch(n){throw console.error("Error al limpiar logs antiguos:",n),n}}async getLogSources(t){try{const r=`${this.baseApi}/logs/sources`,n={headers:{Authorization:`Bearer ${t}`}};console.log("📋 Obteniendo fuentes de logs");const a=await fetch(r,n),o=await a.json();if(!a.ok)throw o;return o}catch(r){throw console.error("Error al obtener fuentes de logs:",r),r}}async getOrders(t,r={}){try{let n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/orders`;const a=[];r.dateFrom&&a.push(`dateFrom=${r.dateFrom}`),r.dateTo&&a.push(`dateTo=${r.dateTo}`),r.status&&r.status!=="all"&&a.push(`status=${r.status}`),r.warehouse&&r.warehouse!=="all"&&a.push(`warehouse=${r.warehouse}`),r.showProcessed&&a.push("showProcessed=true"),a.length>0&&(n+=`?${a.join("&")}`);const o={headers:{Authorization:`Bearer ${t}`}},i=await fetch(n,o),c=await i.json();if(i.status!==200)throw c;return c.data||[]}catch(n){throw console.error("Error al obtener pedidos:",n),n}}async getOrderDetails(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/orders/${r}`,a={headers:{Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i.data||{items:[]}}catch(n){throw console.error(`Error al obtener detalles del pedido ${r}:`,n),n}}async processOrders(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/orders/process`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error("Error al procesar pedidos:",n),n}}async getWarehouses(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/warehouses`,n={headers:{Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(a.status!==200)throw o;return o.data||[]}catch(r){return console.error("Error al obtener bodegas:",r),[]}}async exportOrders(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/orders/export`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)},o=await fetch(n,a);if(!o.ok){const i=await o.json();throw new Error(i.message||"Error al exportar los pedidos")}return await o.blob()}catch(n){throw console.error("Error al exportar pedidos:",n),n}}async getMappings(t){try{const r=`${this.baseApi}/mappings`,n={headers:{Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(a.status!==200)throw o;return o.data}catch(r){throw console.error("Error al obtener configuraciones de mapeo:",r),r}}async getMappingById(t,r){try{const n=`${this.baseApi}/mappings/${r}`,a={headers:{Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return console.log("Esto es lo que obtenemos del mapping id",i.data),i.data}catch(n){throw console.error("Error al obtener configuración de mapeo:",n),n}}async createMapping(t,r){try{r.consecutiveConfig&&r.consecutiveConfig.enabled&&(r.consecutiveConfig={enabled:r.consecutiveConfig.enabled||!1,fieldName:r.consecutiveConfig.fieldName||"",detailFieldName:r.consecutiveConfig.detailFieldName||"",lastValue:Number(r.consecutiveConfig.lastValue||0),prefix:r.consecutiveConfig.prefix||"",pattern:r.consecutiveConfig.pattern||"",updateAfterTransfer:r.consecutiveConfig.updateAfterTransfer!==!1,applyToTables:r.consecutiveConfig.applyToTables||[]}),console.log("Guardando...",r);const n=`${this.baseApi}/mappings`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)},o=await fetch(n,a),i=await o.json();if(o.status!==201)throw i;return i}catch(n){throw console.error("Error al crear configuración de mapeo:",n),n}}async updateMapping(t,r,n){try{n.consecutiveConfig&&n.consecutiveConfig.enabled&&(n.consecutiveConfig={enabled:n.consecutiveConfig.enabled||!1,fieldName:n.consecutiveConfig.fieldName||"",detailFieldName:n.consecutiveConfig.detailFieldName||"",lastValue:Number(n.consecutiveConfig.lastValue||0),prefix:n.consecutiveConfig.prefix||"",pattern:n.consecutiveConfig.pattern||"",updateAfterTransfer:n.consecutiveConfig.updateAfterTransfer!==!1,applyToTables:n.consecutiveConfig.applyToTables||[]});const a=`${this.baseApi}/mappings/${r}`,o={method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)},i=await fetch(a,o),c=await i.json();if(i.status!==200)throw c;return c}catch(a){throw console.error("Error al actualizar configuración de mapeo:",a),a}}async deleteMapping(t,r){try{const n=`${this.baseApi}/mappings/${r}`,a={method:"DELETE",headers:{Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error("Error al eliminar configuración de mapeo:",n),n}}async getDocumentsByMapping(t,r,n={}){try{let a=`${this.baseApi}/mappings/${r}/documents`;const o=[];n.dateFrom&&o.push(`dateFrom=${n.dateFrom}`),n.dateTo&&o.push(`dateTo=${n.dateTo}`),n.status&&n.status!=="all"&&o.push(`status=${n.status}`),n.warehouse&&n.warehouse!=="all"&&o.push(`warehouse=${n.warehouse}`),n.showProcessed&&o.push("showProcessed=true"),o.length>0&&(a+=`?${o.join("&")}`);const i={headers:{Authorization:`Bearer ${t}`}},c=await fetch(a,i),d=await c.json();if(c.status!==200)throw d;return d.data||[]}catch(a){throw console.error("Error al obtener documentos por mapeo:",a),a}}async getDocumentDetailsByMapping(t,r,n){try{const a=`${this.baseApi}/mappings/${r}/documents/${n}`,o={headers:{Authorization:`Bearer ${t}`}},i=await fetch(a,o),c=await i.json();if(i.status!==200)throw c;return c.data||{details:{}}}catch(a){throw console.error("Error al obtener detalles del documento:",a),a}}async validateBonificationConfig(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/mappings/${r}/validate-bonifications`,a={method:"POST",headers:{Authorization:`Bearer ${t}`}};console.log(`🔍 Validando configuración de bonificaciones para mapping ${r}`);const o=await fetch(n,a),i=await o.json();if(!o.ok)throw i;return i}catch(n){throw console.error("❌ Error validando configuración de bonificaciones:",n),n}}async processDocumentsByMapping(t,r,n){try{const a=`${this.baseApi}/mappings/${r}/process`,o={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({documentIds:n})},i=await fetch(a,o),c=await i.json();if(i.status!==200)throw c;return c}catch(a){throw console.error("Error al procesar documentos:",a),a}}async getCustomerData(t,r={}){try{let n=`${this.baseApi}/customers`;const a=[];r.dateFrom&&a.push(`dateFrom=${r.dateFrom}`),r.dateTo&&a.push(`dateTo=${r.dateTo}`),r.status&&r.status!=="all"&&a.push(`status=${r.status}`),r.search&&a.push(`search=${r.search}`),a.length>0&&(n+=`?${a.join("&")}`);const o={headers:{Authorization:`Bearer ${t}`}},i=await fetch(n,o),c=await i.json();if(i.status!==200)throw c;return c.data||[]}catch(n){throw console.error("Error al obtener datos de clientes:",n),n}}async updateCustomerData(t,r){try{const n=`${this.baseApi}/customers/update`,a={method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error("Error al actualizar cliente:",n),n}}async updateConsecutiveConfig(t,r,n){try{const a=`${this.baseApi}/mappings/${r}/consecutive`,o={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)},i=await fetch(a,o),c=await i.json();if(i.status!==200)throw c;return c}catch(a){throw console.error("Error al actualizar configuración de consecutivos:",a),a}}async getConsecutives(t,r={}){try{const n=new URLSearchParams;r.active!==void 0&&n.append("active",r.active),r.entityType&&r.entityId&&(n.append("entityType",r.entityType),n.append("entityId",r.entityId));const a=`${this.baseApi}/consecutives${n.toString()?`?${n.toString()}`:""}`,o={headers:{Authorization:`Bearer ${t}`}},i=await fetch(a,o),c=await i.json();if(!i.ok)throw c;return c}catch(n){throw console.error("Error al obtener consecutivos:",n),n}}async getConsecutiveById(t,r){try{const n=`${this.baseApi}/consecutives/${r}`,a={headers:{Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(!o.ok)throw i;return i}catch(n){throw console.error("Error al obtener consecutivo:",n),n}}async createConsecutive(t,r){try{const n=`${this.baseApi}/consecutives`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)},o=await fetch(n,a),i=await o.json();if(!o.ok)throw i;return i}catch(n){throw console.error("Error al crear consecutivo:",n),n}}async updateConsecutive(t,r,n){try{const a=`${this.baseApi}/consecutives/${r}`,o={method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)},i=await fetch(a,o),c=await i.json();if(!i.ok)throw c;return c}catch(a){throw console.error("Error al actualizar consecutivo:",a),a}}async deleteConsecutive(t,r){try{const n=`${this.baseApi}/consecutives/${r}`,a={method:"DELETE",headers:{Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(!o.ok)throw i;return i}catch(n){throw console.error("Error al eliminar consecutivo:",n),n}}async getNextConsecutiveValue(t,r,n={}){try{const a=new URLSearchParams;n.segment&&a.append("segment",n.segment),n.companyId&&a.append("companyId",n.companyId);const o=`${this.baseApi}/consecutives/${r}/next${a.toString()?`?${a.toString()}`:""}`,i={method:"POST",headers:{Authorization:`Bearer ${t}`}},c=await fetch(o,i),d=await c.json();if(!c.ok)throw d;return d}catch(a){throw console.error("Error al obtener siguiente valor consecutivo:",a),a}}async resetConsecutive(t,r,n=0,a=null){try{const o=new URLSearchParams;o.append("value",n),a&&o.append("segment",a);const i=`${this.baseApi}/consecutives/${r}/reset?${o.toString()}`,c={headers:{Authorization:`Bearer ${t}`}},d=await fetch(i,c),f=await d.json();if(!d.ok)throw f;return f}catch(o){throw console.error("Error al reiniciar consecutivo:",o),o}}async assignConsecutive(t,r,n){try{const a=`${this.baseApi}/consecutives/${r}/assign`,o={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)},i=await fetch(a,o),c=await i.json();if(!i.ok)throw c;return c}catch(a){throw console.error("Error al asignar consecutivo:",a),a}}async getConsecutivesByEntity(t,r,n){try{const a=`${this.baseApi}/consecutives/entity/${r}/${n}`,o={headers:{Authorization:`Bearer ${t}`}},i=await fetch(a,o),c=await i.json();if(!i.ok)throw c;return c}catch(a){throw console.error(`Error al obtener consecutivos para entidad (${r}/${n}):`,a),a}}async reserveConsecutiveValues(t,r,n,a={}){try{const o=`${this.baseApi}/consecutives/reserve-batch`,i={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({consecutiveId:r,quantity:n,segment:a.segment,reservedBy:a.reservedBy||"web_client"})},c=await fetch(o,i),d=await c.json();if(!c.ok)throw d;return d}catch(o){throw console.error("Error al reservar valores consecutivos:",o),o}}async commitConsecutiveReservation(t,r,n,a){try{const o=`${this.baseApi}/consecutives/commit-reservation`,i={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({consecutiveId:r,reservationId:n,values:a})},c=await fetch(o,i),d=await c.json();if(!c.ok)throw d;return d}catch(o){throw console.error("Error al confirmar reserva:",o),o}}async cancelConsecutiveReservation(t,r,n){try{const a=`${this.baseApi}/consecutives/cancel-reservation`,o={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({consecutiveId:r,reservationId:n})},i=await fetch(a,o),c=await i.json();if(!i.ok)throw c;return c}catch(a){throw console.error("Error al cancelar reserva:",a),a}}async cleanupExpiredReservations(t){try{const r=`${this.baseApi}/consecutives/cleanup-expired-reservations`,n={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(!a.ok)throw o;return o}catch(r){throw console.error("Error al limpiar reservas expiradas:",r),r}}async getConsecutiveDashboard(t){try{const r=`${this.baseApi}/consecutives/dashboard`,n={headers:{Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(!a.ok)throw o;return o}catch(r){throw console.error("Error al obtener dashboard de consecutivos:",r),r}}async getConsecutiveMetrics(t,r,n="24h"){try{const a=`${this.baseApi}/consecutives/metrics/${r}?timeRange=${n}`,o={headers:{Authorization:`Bearer ${t}`}},i=await fetch(a,o),c=await i.json();if(!i.ok)throw c;return c}catch(a){throw console.error("Error al obtener métricas de consecutivo:",a),a}}async get(t,r){try{const n=`${this.baseApi}${t}`,a={headers:{Authorization:`Bearer ${r}`}},o=await fetch(n,a),i=await o.json();if(!o.ok)throw i;return i}catch(n){throw console.error(`Error en petición GET a ${t}:`,n),n}}async post(t,r,n=null){try{const a=`${this.baseApi}${t}`,o={method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}};n&&(o.body=JSON.stringify(n));const i=await fetch(a,o),c=await i.json();if(!i.ok)throw c;return c}catch(a){throw console.error(`Error en petición POST a ${t}:`,a),a}}async getSourceDataByMapping(t,r,n){try{const a=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/source-data/${r}/${n}`,o={headers:{Authorization:`Bearer ${t}`}},i=await fetch(a,o),c=await i.json();if(!i.ok)throw c;return c}catch(a){throw console.error("Error al obtener datos de origen:",a),a}}async updateEntityData(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/update-entity-data`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)},o=await fetch(n,a),i=await o.json();if(!o.ok)throw i;return i}catch(n){throw console.error("Error al actualizar entidad:",n),n}}async getTaskLinkingInfo(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/linking-info/${r}`,a={headers:{Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error("Error al obtener info de vinculación:",n),n}}async executeLinkedGroup(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER}/execute-linked-group/${r}`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error("Error al ejecutar grupo vinculado:",n),n}}async getLinkedGroups(t){try{const r=await fetch(`${this.baseApi}/linked-groups`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){throw console.error("Error al obtener grupos vinculados:",r),r}}async getGroupDetails(t,r){try{const n=await fetch(`${this.baseApi}/linked-groups/${encodeURIComponent(r)}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Error al obtener detalles del grupo:",n),n}}async deleteLinkedGroup(t,r){try{const n=await fetch(`${this.baseApi}/linked-groups/${encodeURIComponent(r)}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({confirmDelete:!0})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Error al eliminar grupo:",n),n}}async removeTaskFromGroup(t,r){try{const n=await fetch(`${this.baseApi}/linked-groups/task/${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Error al remover tarea del grupo:",n),n}}async reorderGroupTasks(t,r,n){try{const a=await fetch(`${this.baseApi}/linked-groups/${encodeURIComponent(r)}/reorder`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({taskOrders:n})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){throw console.error("Error al reordenar tareas del grupo:",a),a}}async getDocumentDetailsWithPromotions(t,r,n){try{const a=await fetch(`${this.baseUrl}/mapping/${r}/document/${n}/details-with-promotions`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!a.ok)throw new Error(`Error ${a.status}: ${a.statusText}`);return await a.json()}catch(a){throw console.error("Error al obtener detalles con promociones:",a),a}}async processDocumentsWithPromotions(t,r,n){try{const a=await fetch(`${this.baseUrl}/mapping/${r}/process-with-promotions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({documentIds:n})});if(!a.ok)throw new Error(`Error ${a.status}: ${a.statusText}`);return await a.json()}catch(a){throw console.error("Error al procesar documentos con promociones:",a),a}}async validatePromotionConfig(t,r){try{const n=await fetch(`${this.baseUrl}/mapping/${r}/validate-promotions`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error(`Error ${n.status}: ${n.statusText}`);return await n.json()}catch(n){throw console.error("Error al validar configuración de promociones:",n),n}}}const WU="modulepreload",YU=function(e){return"/"+e},Sk={},GU=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(d=>{if(d=YU(d),d in Sk)return;Sk[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":WU,f||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((g,y)=>{m.addEventListener("load",g),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return a.then(i=>{for(const c of i||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})};class tv{constructor(){ke(this,"baseApi",ue.BASE_API)}async getMe(t){try{if(console.log("🔍 UserApi.getMe iniciado"),console.log("🎫 Token recibido:",t?`${t.substring(0,50)}...`:"❌ VACÍO"),!t)throw new Error("Token de acceso requerido");const r=`${this.baseApi}/${ue.API_ROUTERS.USERS}/user/me`,n={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},a=await fetch(r,n);console.log("📡 Respuesta status:",a.status),console.log("📡 Respuesta ok:",a.ok);const o=await a.json();if(console.log("📥 Respuesta completa:",o),a.status!==200)throw console.error("❌ Error en getMe:",o),o;return console.log("✅ getMe exitoso:",o),o}catch(r){throw console.log(r),r}}async getUserValidate(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.USER}/validate/`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)},o=await fetch(n,a),i=await o.json();if(o.status!=200)throw i;return i}catch(n){console.log(n)}}async getUsers(t,r){try{const n=`${this.baseApi}/${ue.API_ROUTERS.USERS}/lists`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)},o=await fetch(n,a),i=await o.json();if(console.log(i),o.status!=200)throw i;return i}catch(n){console.log(n)}}async createUser(t,r){try{const n=new FormData;console.log(r.fileAvatar),Object.keys(r).forEach(d=>{n.append(d,r[d])}),r.fileAvatar&&n.append("avatar",r.fileAvatar);const a=`${this.baseApi}/${ue.API_ROUTERS.USERS}/user/create`,o={method:"POST",headers:{Authorization:`Bearer ${t}`},body:n},i=await fetch(a,o),c=await i.json();if(i.status!=200)throw c;return c}catch(n){return n}}async updateUser(t,r,n){try{console.log("🔄 Actualizando usuario...");const a=new FormData;Object.keys(n).forEach(f=>{f!=="fileAvatar"&&a.append(f,n[f])}),n.fileAvatar&&(a.append("avatar",n.fileAvatar),console.log("📎 Archivo agregado al FormData:",n.fileAvatar.name)),console.log("📦 Contenido del FormData:");for(let[f,p]of a.entries())console.log(`${f}:`,p instanceof File?`Archivo: ${p.name}`:p);const o=`${ue.BASE_API}/${ue.API_ROUTERS.USERS}/user/update/${r}`,i={method:"PATCH",headers:{Authorization:`Bearer ${t}`},body:a},c=await fetch(o,i),d=await c.json();if(c.status!==200&&c.status!==201)throw d;return d}catch(a){return console.error("❌ Error en updateUser:",a),a}}async deleteUser(t,r){try{console.log("🗑️ Eliminando usuario:",r);const n=`${ue.BASE_API}/${ue.API_ROUTERS.USERS}/user/delete/${r}`,a={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){return console.error("❌ Error en deleteUser:",n),n}}async ActiveInactiveUser(t,r,n){try{console.log("Eliminando",n);const a=`${ue.BASE_API}/${ue.API_ROUTERS.USERS}/user/active/${r}`,o={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)},i=await fetch(a,o),c=await i.json();if(i.status!==200)throw c;return c}catch(a){return a}}async getUsersWithRoles(t,r){try{console.log("🔍 UserApi.getUsersWithRoles iniciado:",r);const n=`${this.baseApi}/${ue.API_ROUTERS.USERS}/with-roles`,a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)};console.log("📤 Enviando request a:",n);const o=await fetch(n,a),i=await o.json();if(console.log("📥 Respuesta getUsersWithRoles:",o.status,i),o.status!=200)throw i;return i}catch(n){return console.error("❌ Error en getUsersWithRoles:",n),n}}async updateUserRoles(t,r,n){try{console.log("👤 Actualizando roles del usuario:",r,"Nuevos roles:",n);const a=`${this.baseApi}/${ue.API_ROUTERS.USERS}/${r}/roles`,o={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({roles:n})},i=await fetch(a,o),c=await i.json();if(i.status!==200)throw c;return c}catch(a){return console.error("❌ Error actualizando roles:",a),a}}async getUserPermissions(t){try{const r=`${this.baseApi}/${ue.API_ROUTERS.USERS}/user/permissions`,n={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(a.status!==200)throw o;return o}catch(r){return console.error("❌ Error obteniendo permisos:",r),r}}async getUserById(t,r){try{console.log("👤 Obteniendo usuario por ID:",r);const n=`${this.baseApi}/${ue.API_ROUTERS.USERS}/user/${r}`,a={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error("❌ Error obteniendo usuario por ID:",n),n}}async searchUsers(t,r={}){try{const{search:n="",roleId:a=null,active:o=!0,page:i=1,pageSize:c=10}=r;console.log("🔍 Búsqueda avanzada de usuarios:",r);const d=`${this.baseApi}/${ue.API_ROUTERS.USERS}/search`,f={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({search:n,roleId:a,active:o,page:i,pageSize:c})},p=await fetch(d,f),m=await p.json();if(p.status!==200)throw m;return m}catch(n){throw console.error("❌ Error en búsqueda avanzada:",n),n}}async getUserStats(t){try{console.log("📊 Obteniendo estadísticas de usuarios...");const r=`${this.baseApi}/${ue.API_ROUTERS.USERS}/stats`,n={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},a=await fetch(r,n),o=await a.json();if(a.status!==200)throw o;return o}catch(r){throw console.error("❌ Error obteniendo estadísticas de usuarios:",r),r}}async assignRolesToUsers(t,r,n){var a,o;try{console.log("👥 Asignación masiva de roles:",{userIds:r,roleIds:n});const i=[];for(const c of r)try{const f=((o=(a=(await this.getUserById(t,c)).data)==null?void 0:a.roles)==null?void 0:o.map(g=>g._id))||[],p=[...new Set([...f,...n])],m=await this.updateUserRoles(t,c,p);i.push({userId:c,success:!0,data:m})}catch(d){i.push({userId:c,success:!1,error:d.message})}return{success:!0,data:i,summary:{total:r.length,successful:i.filter(c=>c.success).length,failed:i.filter(c=>!c.success).length}}}catch(i){throw console.error("❌ Error en asignación masiva:",i),i}}async getUsersWithoutRoles(t,r={}){var n;try{const{page:a=1,pageSize:o=10}=r;console.log("👥 Obteniendo usuarios sin roles...");const i={search:"",roleId:null,active:!0,page:a,pageSize:o},c=await this.searchUsers(t,i);if(c.success){const d=c.data.filter(f=>!f.roles||f.roles.length===0);return{...c,data:d,originalTotal:((n=c.pagination)==null?void 0:n.totalUsers)||0,filteredTotal:d.length}}return c}catch(a){throw console.error("❌ Error obteniendo usuarios sin roles:",a),a}}async validateUserPermissions(t,r,n){try{console.log("🔐 Validando permisos de usuario:",{userId:r,requiredPermissions:n});const a=await this.getUserById(t,r);if(!a.success)throw new Error("Usuario no encontrado");const o=a.data;if(o.isAdmin)return{success:!0,hasAllPermissions:!0,permissions:n.map(d=>({...d,granted:!0}))};const i=n.map(({resource:d,action:f})=>{let p=!1;if(o.roles){for(const m of o.roles)if(m.permissions){const g=m.permissions.find(y=>y.resource===d);if(g&&(g.actions.includes(f)||g.actions.includes("manage"))){p=!0;break}}}if(!p&&o.permissions){const m=o.permissions.find(g=>g.resource===d);m&&(m.actions.includes(f)||m.actions.includes("manage"))&&(p=!0)}return{resource:d,action:f,granted:p}});return{success:!0,hasAllPermissions:i.every(d=>d.granted),permissions:i,summary:{total:n.length,granted:i.filter(d=>d.granted).length,denied:i.filter(d=>!d.granted).length}}}catch(a){throw console.error("❌ Error validando permisos:",a),a}}async updateUserSpecificPermissions(t,r,n){try{console.log("🔐 Actualizando permisos específicos:",{userId:r,permissions:n});const a=`${this.baseApi}/${ue.API_ROUTERS.USERS}/${r}/permissions`,o={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({permissions:n})},i=await fetch(a,o),c=await i.json();if(i.status!==200)throw c;return c}catch(a){throw console.error("❌ Error actualizando permisos específicos:",a),a}}async getUserAllPermissions(t,r){try{console.log("🔐 Obteniendo permisos consolidados del usuario:",r);const n=`${this.baseApi}/${ue.API_ROUTERS.USERS}/${r}/all-permissions`,a={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},o=await fetch(n,a),i=await o.json();if(o.status!==200)throw i;return i}catch(n){throw console.error("❌ Error obteniendo permisos consolidados:",n),n}}async getAvailableResourcesForPermissions(t){try{return await new(await GU(async()=>{const{roleApi:a}=await Promise.resolve().then(()=>Hje);return{roleApi:a}},[])).roleApi().getAvailableResources(t)}catch(r){throw console.error("❌ Error obteniendo recursos disponibles:",r),r}}async validateRoleSystem(t){try{const r=await fetch(`${this.baseApi}/${ue.API_ROUTERS.USERS}/system/validate`,{method:"GET",headers:{Authorization:`Bearer ${t}`}}),n=await r.json();if(!r.ok)throw new Error(n.message||"Error al validar sistema");return n}catch(r){throw console.error("❌ Error en validateRoleSystem:",r),r}}}v.div`
  width: 100%;
  display: flex;
  align-items: center;
  position: relative;
  justify-content: end;
`;const qR=v.span`
  color: ${e=>e.theme.text};
  font-size: 25px;
`;function HR({icono:e,width:t,height:r,bgcolor:n,textColor:a,fontsize:o,translateX:i,translateY:c}){return l.jsx(KU,{$bgcolor:n,$textColor:a,$height:r,$width:t,$fontsize:o,$translateX:i,$translateY:c,children:l.jsx("span",{children:e})})}const KU=v.div`
  background-color: ${e=>e.$bgcolor};
  min-width: ${e=>e.$width};
  min-height: ${e=>e.$height};
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  transform: translatex(${e=>e.$translateX})
    translateY(${e=>e.$translateY});

  span {
    font-size: ${e=>e.$fontsize};
    text-align: center;
    color: ${e=>e.$textColor};
  }
`;function UR({item:e,funcion:t}){return l.jsxs(QU,{onClick:t,children:[l.jsx(qR,{children:e.icono&&l.jsx(e.icono,{})}),l.jsx("span",{children:e.text})]})}const QU=v.div`
  cursor: pointer;
  padding: 8px;
  border-radius: 20px;
  display: flex;
  align-items: center;
  gap: 10px;

  &:hover {
    background-color: ${({theme:e})=>e.bg4};
  }
  svg {
    font-size: 28px;
    display: block;
  }
`;function VR({data:e,top:t,funcion:r}){return l.jsx(XU,{$top:t,children:e.map((n,a)=>l.jsx(UR,{item:n,funcion:()=>r(n.tipo)},a))})}const XU=v.div`
  padding: 10px;
  display: flex;
  flex-direction: column;
  position: absolute;
  background-color: ${({theme:e})=>e.bg4};
  border-radius: 22px;
  top: ${e=>e.$top};
  box-shadow: ${()=>Zc.boxshadowGray};
`;var WR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ek=H.createContext&&H.createContext(WR),JU=["attr","size","title"];function ZU(e,t){if(e==null)return{};var r=eV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(this,arguments)}function jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(r),!0).forEach(function(n){tV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tV(e,t,r){return t=rV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rV(e){var t=nV(e,"string");return typeof t=="symbol"?t:t+""}function nV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YR(e){return e&&e.map((t,r)=>H.createElement(t.tag,wg({key:r},t.attr),YR(t.child)))}function Re(e){return t=>H.createElement(aV,bg({attr:wg({},e.attr)},t),YR(e.child))}function aV(e){var t=r=>{var{attr:n,size:a,title:o}=e,i=ZU(e,JU),c=a||r.size||"1em",d;return r.className&&(d=r.className),e.className&&(d=(d?d+" ":"")+e.className),H.createElement("svg",bg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:d,style:wg(wg({color:e.color||r.color},r.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&H.createElement("title",null,o),e.children)};return Ek!==void 0?H.createElement(Ek.Consumer,null,r=>t(r)):t(WR)}function GR(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function Dh(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function oV(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(e)}function iV(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function sV(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function lV(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M511.988 288.9c-.478 17.43-15.217 31.1-32.653 31.1H424v16c0 21.864-4.882 42.584-13.6 61.145l60.228 60.228c12.496 12.497 12.496 32.758 0 45.255-12.498 12.497-32.759 12.496-45.256 0l-54.736-54.736C345.886 467.965 314.351 480 280 480V236c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v244c-34.351 0-65.886-12.035-90.636-32.108l-54.736 54.736c-12.498 12.497-32.759 12.496-45.256 0-12.496-12.497-12.496-32.758 0-45.255l60.228-60.228C92.882 378.584 88 357.864 88 336v-16H32.666C15.23 320 .491 306.33.013 288.9-.484 270.816 14.028 256 32 256h56v-58.745l-46.628-46.628c-12.496-12.497-12.496-32.758 0-45.255 12.498-12.497 32.758-12.497 45.256 0L141.255 160h229.489l54.627-54.627c12.498-12.497 32.758-12.497 45.256 0 12.496 12.497 12.496 32.758 0 45.255L424 197.255V256h56c17.972 0 32.484 14.816 31.988 32.9zM257 0c-61.856 0-112 50.144-112 112h224C369 50.144 318.856 0 257 0z"},child:[]}]})(e)}function Ui(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function cV(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function cf(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function Sg(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Zl(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function uV(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function dV(e){return Re({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function fV(e){return Re({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function pV(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function Zf(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function ab(e){return Re({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(e)}function _s(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function KR(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function Eg(e){return Re({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(e)}function sc(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function QR(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Ir(e){return Re({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function rv(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function jg(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(e)}function XR(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function wC(e){return Re({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function ob(e){return Re({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function ta(e){return Re({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function hV(e){return Re({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(e)}function mV(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function Ck(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(e)}function Hs(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function _n(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function JR(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function gV(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(e)}function ZR(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"},child:[]}]})(e)}function eI(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Mh(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function yV(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function $k(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(e)}function vV(e){return Re({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M109.25 173.25c24.99-24.99 24.99-65.52 0-90.51-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 25 25 65.52 25 90.51 0zm256 165.49c-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 24.99 24.99 65.52 24.99 90.51 0 25-24.99 25-65.51 0-90.51zm-1.94-231.43l-22.62-22.62c-12.5-12.5-32.76-12.5-45.25 0L20.69 359.44c-12.5 12.5-12.5 32.76 0 45.25l22.62 22.62c12.5 12.5 32.76 12.5 45.25 0l274.75-274.75c12.5-12.49 12.5-32.75 0-45.25z"},child:[]}]})(e)}function xV(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Ro(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function ar(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function nv(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function Zs(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function uf(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"},child:[]}]})(e)}function Oo(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function bV(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function wV(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function Tk(e){return Re({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function kk(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function SV(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function Zt(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(e)}function SC(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64v-96h160v96zm0-160H64v-96h160v96zm224 160H288v-96h160v96zm0-160H288v-96h160v96z"},child:[]}]})(e)}function EV(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function tI(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function dn(e){return Re({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function av(e){return Re({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(e)}function ov(e){return Re({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(e)}function Ak(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(e)}function Ok(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Nr(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Pk(e){return Re({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function jV(e){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(e)}function Li(e){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function df(e){return Re({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function rI(e){return Re({attr:{viewBox:"0 0 480 512"},child:[{tag:"path",attr:{d:"M477.7 186.1L309.5 18.3c-3.1-3.1-8.2-3.1-11.3 0l-34 33.9c-3.1 3.1-3.1 8.2 0 11.3l11.2 11.1L33 316.5c-38.8 38.7-45.1 102-9.4 143.5 20.6 24 49.5 36 78.4 35.9 26.4 0 52.8-10 72.9-30.1l246.3-245.7 11.2 11.1c3.1 3.1 8.2 3.1 11.3 0l34-33.9c3.1-3 3.1-8.1 0-11.2zM318 256H161l148-147.7 78.5 78.3L318 256z"},child:[]}]})(e)}function CV(e){return Re({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(e)}v.button`
  background-color: #17a2b8;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;

  &:hover {
    background-color: #138496;
  }

  &:disabled {
    background-color: #6c757d;
    cursor: not-allowed;
  }

  @media (max-width: 480px) {
    width: 100%;
  }
`;v.div`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
`;/*!
* sweetalert2 v11.15.10
* Released under the MIT License.
*/function nI(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function $V(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _k(e,t){return e.get(nI(e,t))}function TV(e,t,r){$V(e,t),t.set(e,r)}function kV(e,t,r){return e.set(nI(e,t),r),r}const AV=100,Ke={},OV=()=>{Ke.previousActiveElement instanceof HTMLElement?(Ke.previousActiveElement.focus(),Ke.previousActiveElement=null):document.body&&document.body.focus()},PV=e=>new Promise(t=>{if(!e)return t();const r=window.scrollX,n=window.scrollY;Ke.restoreFocusTimeout=setTimeout(()=>{OV(),t()},AV),window.scrollTo(r,n)}),aI="swal2-",_V=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],ce=_V.reduce((e,t)=>(e[t]=aI+t,e),{}),DV=["success","warning","info","question","error"],Cg=DV.reduce((e,t)=>(e[t]=aI+t,e),{}),oI="SweetAlert2:",EC=e=>e.charAt(0).toUpperCase()+e.slice(1),hn=e=>{console.warn(`${oI} ${typeof e=="object"?e.join(" "):e}`)},el=e=>{console.error(`${oI} ${e}`)},Dk=[],MV=e=>{Dk.includes(e)||(Dk.push(e),hn(e))},iI=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;MV(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},iv=e=>typeof e=="function"?e():e,jC=e=>e&&typeof e.toPromise=="function",ep=e=>jC(e)?e.toPromise():Promise.resolve(e),CC=e=>e&&Promise.resolve(e)===e,mn=()=>document.body.querySelector(`.${ce.container}`),tp=e=>{const t=mn();return t?t.querySelector(e):null},Nn=e=>tp(`.${e}`),yt=()=>Nn(ce.popup),au=()=>Nn(ce.icon),RV=()=>Nn(ce["icon-content"]),sI=()=>Nn(ce.title),$C=()=>Nn(ce["html-container"]),lI=()=>Nn(ce.image),TC=()=>Nn(ce["progress-steps"]),sv=()=>Nn(ce["validation-message"]),to=()=>tp(`.${ce.actions} .${ce.confirm}`),ou=()=>tp(`.${ce.actions} .${ce.cancel}`),tl=()=>tp(`.${ce.actions} .${ce.deny}`),IV=()=>Nn(ce["input-label"]),iu=()=>tp(`.${ce.loader}`),rp=()=>Nn(ce.actions),cI=()=>Nn(ce.footer),lv=()=>Nn(ce["timer-progress-bar"]),kC=()=>Nn(ce.close),NV=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,AC=()=>{const e=yt();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(t).sort((o,i)=>{const c=parseInt(o.getAttribute("tabindex")||"0"),d=parseInt(i.getAttribute("tabindex")||"0");return c>d?1:c<d?-1:0}),n=e.querySelectorAll(NV),a=Array.from(n).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(a))].filter(o=>pn(o))},OC=()=>Io(document.body,ce.shown)&&!Io(document.body,ce["toast-shown"])&&!Io(document.body,ce["no-backdrop"]),cv=()=>{const e=yt();return e?Io(e,ce.toast):!1},LV=()=>{const e=yt();return e?e.hasAttribute("data-loading"):!1},Ln=(e,t)=>{if(e.textContent="",t){const n=new DOMParser().parseFromString(t,"text/html"),a=n.querySelector("head");a&&Array.from(a.childNodes).forEach(i=>{e.appendChild(i)});const o=n.querySelector("body");o&&Array.from(o.childNodes).forEach(i=>{i instanceof HTMLVideoElement||i instanceof HTMLAudioElement?e.appendChild(i.cloneNode(!0)):e.appendChild(i)})}},Io=(e,t)=>{if(!t)return!1;const r=t.split(/\s+/);for(let n=0;n<r.length;n++)if(!e.classList.contains(r[n]))return!1;return!0},BV=(e,t)=>{Array.from(e.classList).forEach(r=>{!Object.values(ce).includes(r)&&!Object.values(Cg).includes(r)&&!Object.values(t.showClass||{}).includes(r)&&e.classList.remove(r)})},In=(e,t,r)=>{if(BV(e,t),!t.customClass)return;const n=t.customClass[r];if(n){if(typeof n!="string"&&!n.forEach){hn(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof n}"`);return}ut(e,n)}},uv=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${ce.popup} > .${ce[t]}`);case"checkbox":return e.querySelector(`.${ce.popup} > .${ce.checkbox} input`);case"radio":return e.querySelector(`.${ce.popup} > .${ce.radio} input:checked`)||e.querySelector(`.${ce.popup} > .${ce.radio} input:first-child`);case"range":return e.querySelector(`.${ce.popup} > .${ce.range} input`);default:return e.querySelector(`.${ce.popup} > .${ce.input}`)}},uI=e=>{if(e.focus(),e.type!=="file"){const t=e.value;e.value="",e.value=t}},dI=(e,t,r)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(n=>{Array.isArray(e)?e.forEach(a=>{r?a.classList.add(n):a.classList.remove(n)}):r?e.classList.add(n):e.classList.remove(n)}))},ut=(e,t)=>{dI(e,t,!0)},na=(e,t)=>{dI(e,t,!1)},Di=(e,t)=>{const r=Array.from(e.children);for(let n=0;n<r.length;n++){const a=r[n];if(a instanceof HTMLElement&&Io(a,t))return a}},Ds=(e,t,r)=>{r===`${parseInt(r)}`&&(r=parseInt(r)),r||parseInt(r)===0?e.style.setProperty(t,typeof r=="number"?`${r}px`:r):e.style.removeProperty(t)},Tr=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";e&&(e.style.display=t)},Wr=e=>{e&&(e.style.display="none")},PC=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";e&&new MutationObserver(()=>{np(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},Mk=(e,t,r,n)=>{const a=e.querySelector(t);a&&a.style.setProperty(r,n)},np=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";t?Tr(e,r):Wr(e)},pn=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),zV=()=>!pn(to())&&!pn(tl())&&!pn(ou()),Rk=e=>e.scrollHeight>e.clientHeight,fI=e=>{const t=window.getComputedStyle(e),r=parseFloat(t.getPropertyValue("animation-duration")||"0"),n=parseFloat(t.getPropertyValue("transition-duration")||"0");return r>0||n>0},_C=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=lv();r&&pn(r)&&(t&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${e/1e3}s linear`,r.style.width="0%"},10))},FV=()=>{const e=lv();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const r=parseInt(window.getComputedStyle(e).width),n=t/r*100;e.style.width=`${n}%`},qV=()=>typeof window>"u"||typeof document>"u",HV=`
 <div aria-labelledby="${ce.title}" aria-describedby="${ce["html-container"]}" class="${ce.popup}" tabindex="-1">
   <button type="button" class="${ce.close}"></button>
   <ul class="${ce["progress-steps"]}"></ul>
   <div class="${ce.icon}"></div>
   <img class="${ce.image}" />
   <h2 class="${ce.title}" id="${ce.title}"></h2>
   <div class="${ce["html-container"]}" id="${ce["html-container"]}"></div>
   <input class="${ce.input}" id="${ce.input}" />
   <input type="file" class="${ce.file}" />
   <div class="${ce.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${ce.select}" id="${ce.select}"></select>
   <div class="${ce.radio}"></div>
   <label class="${ce.checkbox}">
     <input type="checkbox" id="${ce.checkbox}" />
     <span class="${ce.label}"></span>
   </label>
   <textarea class="${ce.textarea}" id="${ce.textarea}"></textarea>
   <div class="${ce["validation-message"]}" id="${ce["validation-message"]}"></div>
   <div class="${ce.actions}">
     <div class="${ce.loader}"></div>
     <button type="button" class="${ce.confirm}"></button>
     <button type="button" class="${ce.deny}"></button>
     <button type="button" class="${ce.cancel}"></button>
   </div>
   <div class="${ce.footer}"></div>
   <div class="${ce["timer-progress-bar-container"]}">
     <div class="${ce["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),UV=()=>{const e=mn();return e?(e.remove(),na([document.documentElement,document.body],[ce["no-backdrop"],ce["toast-shown"],ce["has-column"]]),!0):!1},ds=()=>{Ke.currentInstance.resetValidationMessage()},VV=()=>{const e=yt(),t=Di(e,ce.input),r=Di(e,ce.file),n=e.querySelector(`.${ce.range} input`),a=e.querySelector(`.${ce.range} output`),o=Di(e,ce.select),i=e.querySelector(`.${ce.checkbox} input`),c=Di(e,ce.textarea);t.oninput=ds,r.onchange=ds,o.onchange=ds,i.onchange=ds,c.oninput=ds,n.oninput=()=>{ds(),a.value=n.value},n.onchange=()=>{ds(),a.value=n.value}},WV=e=>typeof e=="string"?document.querySelector(e):e,YV=e=>{const t=yt();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},GV=e=>{window.getComputedStyle(e).direction==="rtl"&&ut(mn(),ce.rtl)},KV=e=>{const t=UV();if(qV()){el("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=ce.container,t&&ut(r,ce["no-transition"]),Ln(r,HV);const n=WV(e.target);n.appendChild(r),YV(e),GV(n),VV()},DC=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?QV(e,t):e&&Ln(t,e)},QV=(e,t)=>{e.jquery?XV(t,e):Ln(t,e.toString())},XV=(e,t)=>{if(e.textContent="",0 in t)for(let r=0;r in t;r++)e.appendChild(t[r].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},JV=(e,t)=>{const r=rp(),n=iu();!r||!n||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?Wr(r):Tr(r),In(r,t,"actions"),ZV(r,n,t),Ln(n,t.loaderHtml||""),In(n,t,"loader"))};function ZV(e,t,r){const n=to(),a=tl(),o=ou();!n||!a||!o||(ib(n,"confirm",r),ib(a,"deny",r),ib(o,"cancel",r),eW(n,a,o,r),r.reverseButtons&&(r.toast?(e.insertBefore(o,n),e.insertBefore(a,n)):(e.insertBefore(o,t),e.insertBefore(a,t),e.insertBefore(n,t))))}function eW(e,t,r,n){if(!n.buttonsStyling){na([e,t,r],ce.styled);return}ut([e,t,r],ce.styled),n.confirmButtonColor&&(e.style.backgroundColor=n.confirmButtonColor,ut(e,ce["default-outline"])),n.denyButtonColor&&(t.style.backgroundColor=n.denyButtonColor,ut(t,ce["default-outline"])),n.cancelButtonColor&&(r.style.backgroundColor=n.cancelButtonColor,ut(r,ce["default-outline"]))}function ib(e,t,r){const n=EC(t);np(e,r[`show${n}Button`],"inline-block"),Ln(e,r[`${t}ButtonText`]||""),e.setAttribute("aria-label",r[`${t}ButtonAriaLabel`]||""),e.className=ce[t],In(e,r,`${t}Button`)}const tW=(e,t)=>{const r=kC();r&&(Ln(r,t.closeButtonHtml||""),In(r,t,"closeButton"),np(r,t.showCloseButton),r.setAttribute("aria-label",t.closeButtonAriaLabel||""))},rW=(e,t)=>{const r=mn();r&&(nW(r,t.backdrop),aW(r,t.position),oW(r,t.grow),In(r,t,"container"))};function nW(e,t){typeof t=="string"?e.style.background=t:t||ut([document.documentElement,document.body],ce["no-backdrop"])}function aW(e,t){t&&(t in ce?ut(e,ce[t]):(hn('The "position" parameter is not valid, defaulting to "center"'),ut(e,ce.center)))}function oW(e,t){t&&ut(e,ce[`grow-${t}`])}var It={innerParams:new WeakMap,domCache:new WeakMap};const iW=["input","file","range","select","radio","checkbox","textarea"],sW=(e,t)=>{const r=yt();if(!r)return;const n=It.innerParams.get(e),a=!n||t.input!==n.input;iW.forEach(o=>{const i=Di(r,ce[o]);i&&(uW(o,t.inputAttributes),i.className=ce[o],a&&Wr(i))}),t.input&&(a&&lW(t),dW(t))},lW=e=>{if(!e.input)return;if(!nr[e.input]){el(`Unexpected type of input! Expected ${Object.keys(nr).join(" | ")}, got "${e.input}"`);return}const t=pI(e.input);if(!t)return;const r=nr[e.input](t,e);Tr(t),e.inputAutoFocus&&setTimeout(()=>{uI(r)})},cW=e=>{for(let t=0;t<e.attributes.length;t++){const r=e.attributes[t].name;["id","type","value","style"].includes(r)||e.removeAttribute(r)}},uW=(e,t)=>{const r=yt();if(!r)return;const n=uv(r,e);if(n){cW(n);for(const a in t)n.setAttribute(a,t[a])}},dW=e=>{if(!e.input)return;const t=pI(e.input);t&&In(t,e,"input")},MC=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},ap=(e,t,r)=>{if(r.inputLabel){const n=document.createElement("label"),a=ce["input-label"];n.setAttribute("for",e.id),n.className=a,typeof r.customClass=="object"&&ut(n,r.customClass.inputLabel),n.innerText=r.inputLabel,t.insertAdjacentElement("beforebegin",n)}},pI=e=>{const t=yt();if(t)return Di(t,ce[e]||ce.input)},$g=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:CC(t)||hn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},nr={};nr.text=nr.email=nr.password=nr.number=nr.tel=nr.url=nr.search=nr.date=nr["datetime-local"]=nr.time=nr.week=nr.month=(e,t)=>($g(e,t.inputValue),ap(e,e,t),MC(e,t),e.type=t.input,e);nr.file=(e,t)=>(ap(e,e,t),MC(e,t),e);nr.range=(e,t)=>{const r=e.querySelector("input"),n=e.querySelector("output");return $g(r,t.inputValue),r.type=t.input,$g(n,t.inputValue),ap(r,e,t),e};nr.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const r=document.createElement("option");Ln(r,t.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,e.appendChild(r)}return ap(e,e,t),e};nr.radio=e=>(e.textContent="",e);nr.checkbox=(e,t)=>{const r=uv(yt(),"checkbox");r.value="1",r.checked=!!t.inputValue;const n=e.querySelector("span");return Ln(n,t.inputPlaceholder||t.inputLabel),r};nr.textarea=(e,t)=>{$g(e,t.inputValue),MC(e,t),ap(e,e,t);const r=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(yt()).width),a=()=>{if(!document.body.contains(e))return;const o=e.offsetWidth+r(e);o>n?yt().style.width=`${o}px`:Ds(yt(),"width",t.width)};new MutationObserver(a).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const fW=(e,t)=>{const r=$C();r&&(PC(r),In(r,t,"htmlContainer"),t.html?(DC(t.html,r),Tr(r,"block")):t.text?(r.textContent=t.text,Tr(r,"block")):Wr(r),sW(e,t))},pW=(e,t)=>{const r=cI();r&&(PC(r),np(r,t.footer,"block"),t.footer&&DC(t.footer,r),In(r,t,"footer"))},hW=(e,t)=>{const r=It.innerParams.get(e),n=au();if(n){if(r&&t.icon===r.icon){Nk(n,t),Ik(n,t);return}if(!t.icon&&!t.iconHtml){Wr(n);return}if(t.icon&&Object.keys(Cg).indexOf(t.icon)===-1){el(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),Wr(n);return}Tr(n),Nk(n,t),Ik(n,t),ut(n,t.showClass&&t.showClass.icon)}},Ik=(e,t)=>{for(const[r,n]of Object.entries(Cg))t.icon!==r&&na(e,n);ut(e,t.icon&&Cg[t.icon]),vW(e,t),mW(),In(e,t,"icon")},mW=()=>{const e=yt();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),r=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<r.length;n++)r[n].style.backgroundColor=t},gW=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,yW=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Nk=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let r=e.innerHTML,n="";t.iconHtml?n=Lk(t.iconHtml):t.icon==="success"?(n=gW,r=r.replace(/ style=".*?"/g,"")):t.icon==="error"?n=yW:t.icon&&(n=Lk({question:"?",warning:"!",info:"i"}[t.icon])),r.trim()!==n.trim()&&Ln(e,n)},vW=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Mk(e,r,"background-color",t.iconColor);Mk(e,".swal2-success-ring","border-color",t.iconColor)}},Lk=e=>`<div class="${ce["icon-content"]}">${e}</div>`,xW=(e,t)=>{const r=lI();if(r){if(!t.imageUrl){Wr(r);return}Tr(r,""),r.setAttribute("src",t.imageUrl),r.setAttribute("alt",t.imageAlt||""),Ds(r,"width",t.imageWidth),Ds(r,"height",t.imageHeight),r.className=ce.image,In(r,t,"image")}};let RC=!1,hI=0,mI=0,gI=0,yI=0;const bW=e=>{e.addEventListener("mousedown",Tg),document.body.addEventListener("mousemove",kg),e.addEventListener("mouseup",Ag),e.addEventListener("touchstart",Tg),document.body.addEventListener("touchmove",kg),e.addEventListener("touchend",Ag)},wW=e=>{e.removeEventListener("mousedown",Tg),document.body.removeEventListener("mousemove",kg),e.removeEventListener("mouseup",Ag),e.removeEventListener("touchstart",Tg),document.body.removeEventListener("touchmove",kg),e.removeEventListener("touchend",Ag)},Tg=e=>{const t=yt();if(e.target===t||au().contains(e.target)){RC=!0;const r=vI(e);hI=r.clientX,mI=r.clientY,gI=parseInt(t.style.insetInlineStart)||0,yI=parseInt(t.style.insetBlockStart)||0,ut(t,"swal2-dragging")}},kg=e=>{const t=yt();if(RC){let{clientX:r,clientY:n}=vI(e);t.style.insetInlineStart=`${gI+(r-hI)}px`,t.style.insetBlockStart=`${yI+(n-mI)}px`}},Ag=()=>{const e=yt();RC=!1,na(e,"swal2-dragging")},vI=e=>{let t=0,r=0;return e.type.startsWith("mouse")?(t=e.clientX,r=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,r=e.touches[0].clientY),{clientX:t,clientY:r}},SW=(e,t)=>{const r=mn(),n=yt();if(!(!r||!n)){if(t.toast){Ds(r,"width",t.width),n.style.width="100%";const a=iu();a&&n.insertBefore(a,au())}else Ds(n,"width",t.width);Ds(n,"padding",t.padding),t.color&&(n.style.color=t.color),t.background&&(n.style.background=t.background),Wr(sv()),EW(n,t),t.draggable&&!t.toast?(ut(n,ce.draggable),bW(n)):(na(n,ce.draggable),wW(n))}},EW=(e,t)=>{const r=t.showClass||{};e.className=`${ce.popup} ${pn(e)?r.popup:""}`,t.toast?(ut([document.documentElement,document.body],ce["toast-shown"]),ut(e,ce.toast)):ut(e,ce.modal),In(e,t,"popup"),typeof t.customClass=="string"&&ut(e,t.customClass),t.icon&&ut(e,ce[`icon-${t.icon}`])},jW=(e,t)=>{const r=TC();if(!r)return;const{progressSteps:n,currentProgressStep:a}=t;if(!n||n.length===0||a===void 0){Wr(r);return}Tr(r),r.textContent="",a>=n.length&&hn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((o,i)=>{const c=CW(o);if(r.appendChild(c),i===a&&ut(c,ce["active-progress-step"]),i!==n.length-1){const d=$W(t);r.appendChild(d)}})},CW=e=>{const t=document.createElement("li");return ut(t,ce["progress-step"]),Ln(t,e),t},$W=e=>{const t=document.createElement("li");return ut(t,ce["progress-step-line"]),e.progressStepsDistance&&Ds(t,"width",e.progressStepsDistance),t},TW=(e,t)=>{const r=sI();r&&(PC(r),np(r,t.title||t.titleText,"block"),t.title&&DC(t.title,r),t.titleText&&(r.innerText=t.titleText),In(r,t,"title"))},xI=(e,t)=>{SW(e,t),rW(e,t),jW(e,t),hW(e,t),xW(e,t),TW(e,t),tW(e,t),fW(e,t),JV(e,t),pW(e,t);const r=yt();typeof t.didRender=="function"&&r&&t.didRender(r),Ke.eventEmitter.emit("didRender",r)},kW=()=>pn(yt()),bI=()=>{var e;return(e=to())===null||e===void 0?void 0:e.click()},AW=()=>{var e;return(e=tl())===null||e===void 0?void 0:e.click()},OW=()=>{var e;return(e=ou())===null||e===void 0?void 0:e.click()},su=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),wI=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},PW=(e,t,r)=>{wI(e),t.toast||(e.keydownHandler=n=>DW(t,n,r),e.keydownTarget=t.keydownListenerCapture?window:yt(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},CE=(e,t)=>{var r;const n=AC();if(n.length){e=e+t,e===n.length?e=0:e===-1&&(e=n.length-1),n[e].focus();return}(r=yt())===null||r===void 0||r.focus()},SI=["ArrowRight","ArrowDown"],_W=["ArrowLeft","ArrowUp"],DW=(e,t,r)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?MW(t,e):t.key==="Tab"?RW(t):[...SI,..._W].includes(t.key)?IW(t.key):t.key==="Escape"&&NW(t,e,r)))},MW=(e,t)=>{if(!iv(t.allowEnterKey))return;const r=uv(yt(),t.input);if(e.target&&r&&e.target instanceof HTMLElement&&e.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(t.input))return;bI(),e.preventDefault()}},RW=e=>{const t=e.target,r=AC();let n=-1;for(let a=0;a<r.length;a++)if(t===r[a]){n=a;break}e.shiftKey?CE(n,-1):CE(n,1),e.stopPropagation(),e.preventDefault()},IW=e=>{const t=rp(),r=to(),n=tl(),a=ou();if(!t||!r||!n||!a)return;const o=[r,n,a];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const i=SI.includes(e)?"nextElementSibling":"previousElementSibling";let c=document.activeElement;if(c){for(let d=0;d<t.children.length;d++){if(c=c[i],!c)return;if(c instanceof HTMLButtonElement&&pn(c))break}c instanceof HTMLButtonElement&&c.focus()}},NW=(e,t,r)=>{iv(t.allowEscapeKey)&&(e.preventDefault(),r(su.esc))};var xc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const LW=()=>{const e=mn();Array.from(document.body.children).forEach(r=>{r.contains(e)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},EI=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},jI=typeof window<"u"&&!!window.GestureEvent,BW=()=>{if(jI&&!Io(document.body,ce.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,ut(document.body,ce.iosfix),zW()}},zW=()=>{const e=mn();if(!e)return;let t;e.ontouchstart=r=>{t=FW(r)},e.ontouchmove=r=>{t&&(r.preventDefault(),r.stopPropagation())}},FW=e=>{const t=e.target,r=mn(),n=$C();return!r||!n||qW(e)||HW(e)?!1:t===r||!Rk(r)&&t instanceof HTMLElement&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(Rk(n)&&n.contains(t))},qW=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",HW=e=>e.touches&&e.touches.length>1,UW=()=>{if(Io(document.body,ce.iosfix)){const e=parseInt(document.body.style.top,10);na(document.body,ce.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},VW=()=>{const e=document.createElement("div");e.className=ce["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let lc=null;const WW=e=>{lc===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(lc=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${lc+VW()}px`)},YW=()=>{lc!==null&&(document.body.style.paddingRight=`${lc}px`,lc=null)};function CI(e,t,r,n){cv()?Bk(e,n):(PV(r).then(()=>Bk(e,n)),wI(Ke)),jI?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),OC()&&(YW(),UW(),EI()),GW()}function GW(){na([document.documentElement,document.body],[ce.shown,ce["height-auto"],ce["no-backdrop"],ce["toast-shown"]])}function Mi(e){e=QW(e);const t=xc.swalPromiseResolve.get(this),r=KW(this);this.isAwaitingPromise?e.isDismissed||(op(this),t(e)):r&&t(e)}const KW=e=>{const t=yt();if(!t)return!1;const r=It.innerParams.get(e);if(!r||Io(t,r.hideClass.popup))return!1;na(t,r.showClass.popup),ut(t,r.hideClass.popup);const n=mn();return na(n,r.showClass.backdrop),ut(n,r.hideClass.backdrop),XW(e,t,r),!0};function $I(e){const t=xc.swalPromiseReject.get(this);op(this),t&&t(e)}const op=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,It.innerParams.get(e)||e._destroy())},QW=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),XW=(e,t,r)=>{var n;const a=mn(),o=fI(t);typeof r.willClose=="function"&&r.willClose(t),(n=Ke.eventEmitter)===null||n===void 0||n.emit("willClose",t),o?JW(e,t,a,r.returnFocus,r.didClose):CI(e,a,r.returnFocus,r.didClose)},JW=(e,t,r,n,a)=>{Ke.swalCloseEventFinishedCallback=CI.bind(null,e,r,n,a);const o=function(i){if(i.target===t){var c;(c=Ke.swalCloseEventFinishedCallback)===null||c===void 0||c.call(Ke),delete Ke.swalCloseEventFinishedCallback,t.removeEventListener("animationend",o),t.removeEventListener("transitionend",o)}};t.addEventListener("animationend",o),t.addEventListener("transitionend",o)},Bk=(e,t)=>{setTimeout(()=>{var r;typeof t=="function"&&t.bind(e.params)(),(r=Ke.eventEmitter)===null||r===void 0||r.emit("didClose"),e._destroy&&e._destroy()})},bc=e=>{let t=yt();if(t||new z,t=yt(),!t)return;const r=iu();cv()?Wr(au()):ZW(t,e),Tr(r),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},ZW=(e,t)=>{const r=rp(),n=iu();!r||!n||(!t&&pn(to())&&(t=to()),Tr(r),t&&(Wr(t),n.setAttribute("data-button-to-replace",t.className),r.insertBefore(n,t)),ut([e,r],ce.loading))},eY=(e,t)=>{t.input==="select"||t.input==="radio"?oY(e,t):["text","email","number","tel","textarea"].some(r=>r===t.input)&&(jC(t.inputValue)||CC(t.inputValue))&&(bc(to()),iY(e,t))},tY=(e,t)=>{const r=e.getInput();if(!r)return null;switch(t.input){case"checkbox":return rY(r);case"radio":return nY(r);case"file":return aY(r);default:return t.inputAutoTrim?r.value.trim():r.value}},rY=e=>e.checked?1:0,nY=e=>e.checked?e.value:null,aY=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,oY=(e,t)=>{const r=yt();if(!r)return;const n=a=>{t.input==="select"?sY(r,Og(a),t):t.input==="radio"&&lY(r,Og(a),t)};jC(t.inputOptions)||CC(t.inputOptions)?(bc(to()),ep(t.inputOptions).then(a=>{e.hideLoading(),n(a)})):typeof t.inputOptions=="object"?n(t.inputOptions):el(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},iY=(e,t)=>{const r=e.getInput();r&&(Wr(r),ep(t.inputValue).then(n=>{r.value=t.input==="number"?`${parseFloat(n)||0}`:`${n}`,Tr(r),r.focus(),e.hideLoading()}).catch(n=>{el(`Error in inputValue promise: ${n}`),r.value="",Tr(r),r.focus(),e.hideLoading()}))};function sY(e,t,r){const n=Di(e,ce.select);if(!n)return;const a=(o,i,c)=>{const d=document.createElement("option");d.value=c,Ln(d,i),d.selected=TI(c,r.inputValue),o.appendChild(d)};t.forEach(o=>{const i=o[0],c=o[1];if(Array.isArray(c)){const d=document.createElement("optgroup");d.label=i,d.disabled=!1,n.appendChild(d),c.forEach(f=>a(d,f[1],f[0]))}else a(n,c,i)}),n.focus()}function lY(e,t,r){const n=Di(e,ce.radio);if(!n)return;t.forEach(o=>{const i=o[0],c=o[1],d=document.createElement("input"),f=document.createElement("label");d.type="radio",d.name=ce.radio,d.value=i,TI(i,r.inputValue)&&(d.checked=!0);const p=document.createElement("span");Ln(p,c),p.className=ce.label,f.appendChild(d),f.appendChild(p),n.appendChild(f)});const a=n.querySelectorAll("input");a.length&&a[0].focus()}const Og=e=>{const t=[];return e instanceof Map?e.forEach((r,n)=>{let a=r;typeof a=="object"&&(a=Og(a)),t.push([n,a])}):Object.keys(e).forEach(r=>{let n=e[r];typeof n=="object"&&(n=Og(n)),t.push([r,n])}),t},TI=(e,t)=>!!t&&t.toString()===e.toString(),cY=e=>{const t=It.innerParams.get(e);e.disableButtons(),t.input?kI(e,"confirm"):NC(e,!0)},uY=e=>{const t=It.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?kI(e,"deny"):IC(e,!1)},dY=(e,t)=>{e.disableButtons(),t(su.cancel)},kI=(e,t)=>{const r=It.innerParams.get(e);if(!r.input){el(`The "input" parameter is needed to be set when using returnInputValueOn${EC(t)}`);return}const n=e.getInput(),a=tY(e,r);r.inputValidator?fY(e,a,t):n&&!n.checkValidity()?(e.enableButtons(),e.showValidationMessage(r.validationMessage||n.validationMessage)):t==="deny"?IC(e,a):NC(e,a)},fY=(e,t,r)=>{const n=It.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>ep(n.inputValidator(t,n.validationMessage))).then(o=>{e.enableButtons(),e.enableInput(),o?e.showValidationMessage(o):r==="deny"?IC(e,t):NC(e,t)})},IC=(e,t)=>{const r=It.innerParams.get(e||void 0);r.showLoaderOnDeny&&bc(tl()),r.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>ep(r.preDeny(t,r.validationMessage))).then(a=>{a===!1?(e.hideLoading(),op(e)):e.close({isDenied:!0,value:typeof a>"u"?t:a})}).catch(a=>AI(e||void 0,a))):e.close({isDenied:!0,value:t})},zk=(e,t)=>{e.close({isConfirmed:!0,value:t})},AI=(e,t)=>{e.rejectPromise(t)},NC=(e,t)=>{const r=It.innerParams.get(e||void 0);r.showLoaderOnConfirm&&bc(),r.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>ep(r.preConfirm(t,r.validationMessage))).then(a=>{pn(sv())||a===!1?(e.hideLoading(),op(e)):zk(e,typeof a>"u"?t:a)}).catch(a=>AI(e||void 0,a))):zk(e,t)};function Pg(){const e=It.innerParams.get(this);if(!e)return;const t=It.domCache.get(this);Wr(t.loader),cv()?e.icon&&Tr(au()):pY(t),na([t.popup,t.actions],ce.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const pY=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?Tr(t[0],"inline-block"):zV()&&Wr(e.actions)};function OI(){const e=It.innerParams.get(this),t=It.domCache.get(this);return t?uv(t.popup,e.input):null}function PI(e,t,r){const n=It.domCache.get(e);t.forEach(a=>{n[a].disabled=r})}function _I(e,t){const r=yt();if(!(!r||!e))if(e.type==="radio"){const n=r.querySelectorAll(`[name="${ce.radio}"]`);for(let a=0;a<n.length;a++)n[a].disabled=t}else e.disabled=t}function DI(){PI(this,["confirmButton","denyButton","cancelButton"],!1)}function MI(){PI(this,["confirmButton","denyButton","cancelButton"],!0)}function RI(){_I(this.getInput(),!1)}function II(){_I(this.getInput(),!0)}function NI(e){const t=It.domCache.get(this),r=It.innerParams.get(this);Ln(t.validationMessage,e),t.validationMessage.className=ce["validation-message"],r.customClass&&r.customClass.validationMessage&&ut(t.validationMessage,r.customClass.validationMessage),Tr(t.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",ce["validation-message"]),uI(n),ut(n,ce.inputerror))}function LI(){const e=It.domCache.get(this);e.validationMessage&&Wr(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),na(t,ce.inputerror))}const cc={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},hY=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],mY={allowEnterKey:void 0},gY=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],BI=e=>Object.prototype.hasOwnProperty.call(cc,e),zI=e=>hY.indexOf(e)!==-1,FI=e=>mY[e],yY=e=>{BI(e)||hn(`Unknown parameter "${e}"`)},vY=e=>{gY.includes(e)&&hn(`The parameter "${e}" is incompatible with toasts`)},xY=e=>{const t=FI(e);t&&iI(e,t)},bY=e=>{e.backdrop===!1&&e.allowOutsideClick&&hn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in e)yY(t),e.toast&&vY(t),xY(t)};function qI(e){const t=yt(),r=It.innerParams.get(this);if(!t||Io(t,r.hideClass.popup)){hn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const n=wY(e),a=Object.assign({},r,n);xI(this,a),It.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const wY=e=>{const t={};return Object.keys(e).forEach(r=>{zI(r)?t[r]=e[r]:hn(`Invalid parameter to update: ${r}`)}),t};function HI(){const e=It.domCache.get(this),t=It.innerParams.get(this);if(!t){UI(this);return}e.popup&&Ke.swalCloseEventFinishedCallback&&(Ke.swalCloseEventFinishedCallback(),delete Ke.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),Ke.eventEmitter.emit("didDestroy"),SY(this)}const SY=e=>{UI(e),delete e.params,delete Ke.keydownHandler,delete Ke.keydownTarget,delete Ke.currentInstance},UI=e=>{e.isAwaitingPromise?(sb(It,e),e.isAwaitingPromise=!0):(sb(xc,e),sb(It,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},sb=(e,t)=>{for(const r in e)e[r].delete(t)};var EY=Object.freeze({__proto__:null,_destroy:HI,close:Mi,closeModal:Mi,closePopup:Mi,closeToast:Mi,disableButtons:MI,disableInput:II,disableLoading:Pg,enableButtons:DI,enableInput:RI,getInput:OI,handleAwaitingPromise:op,hideLoading:Pg,rejectPromise:$I,resetValidationMessage:LI,showValidationMessage:NI,update:qI});const jY=(e,t,r)=>{e.toast?CY(e,t,r):(TY(t),kY(t),AY(e,t,r))},CY=(e,t,r)=>{t.popup.onclick=()=>{e&&($Y(e)||e.timer||e.input)||r(su.close)}},$Y=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let _g=!1;const TY=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(_g=!0)}}},kY=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(r){e.popup.onmouseup=()=>{},(r.target===e.popup||r.target instanceof HTMLElement&&e.popup.contains(r.target))&&(_g=!0)}}},AY=(e,t,r)=>{t.container.onclick=n=>{if(_g){_g=!1;return}n.target===t.container&&iv(e.allowOutsideClick)&&r(su.backdrop)}},OY=e=>typeof e=="object"&&e.jquery,Fk=e=>e instanceof Element||OY(e),PY=e=>{const t={};return typeof e[0]=="object"&&!Fk(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((r,n)=>{const a=e[n];typeof a=="string"||Fk(a)?t[r]=a:a!==void 0&&el(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof a}`)}),t};function _Y(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new this(...t)}function DY(e){class t extends this{_main(n,a){return super._main(n,Object.assign({},e,a))}}return t}const MY=()=>Ke.timeout&&Ke.timeout.getTimerLeft(),VI=()=>{if(Ke.timeout)return FV(),Ke.timeout.stop()},WI=()=>{if(Ke.timeout){const e=Ke.timeout.start();return _C(e),e}},RY=()=>{const e=Ke.timeout;return e&&(e.running?VI():WI())},IY=e=>{if(Ke.timeout){const t=Ke.timeout.increase(e);return _C(t,!0),t}},NY=()=>!!(Ke.timeout&&Ke.timeout.isRunning());let qk=!1;const $E={};function LY(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";$E[e]=this,qk||(document.body.addEventListener("click",BY),qk=!0)}const BY=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const r in $E){const n=t.getAttribute(r);if(n){$E[r].fire({template:n});return}}};let zY=class{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,r){const n=this._getHandlersByEventName(t);n.includes(r)||n.push(r)}once(t,r){var n=this;const a=function(){n.removeListener(t,a);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];r.apply(n,i)};this.on(t,a)}emit(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];this._getHandlersByEventName(t).forEach(o=>{try{o.apply(this,n)}catch(i){console.error(i)}})}removeListener(t,r){const n=this._getHandlersByEventName(t),a=n.indexOf(r);a>-1&&n.splice(a,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}};Ke.eventEmitter=new zY;const FY=(e,t)=>{Ke.eventEmitter.on(e,t)},qY=(e,t)=>{Ke.eventEmitter.once(e,t)},HY=(e,t)=>{if(!e){Ke.eventEmitter.reset();return}t?Ke.eventEmitter.removeListener(e,t):Ke.eventEmitter.removeAllListeners(e)};var UY=Object.freeze({__proto__:null,argsToParams:PY,bindClickHandler:LY,clickCancel:OW,clickConfirm:bI,clickDeny:AW,enableLoading:bc,fire:_Y,getActions:rp,getCancelButton:ou,getCloseButton:kC,getConfirmButton:to,getContainer:mn,getDenyButton:tl,getFocusableElements:AC,getFooter:cI,getHtmlContainer:$C,getIcon:au,getIconContent:RV,getImage:lI,getInputLabel:IV,getLoader:iu,getPopup:yt,getProgressSteps:TC,getTimerLeft:MY,getTimerProgressBar:lv,getTitle:sI,getValidationMessage:sv,increaseTimer:IY,isDeprecatedParameter:FI,isLoading:LV,isTimerRunning:NY,isUpdatableParameter:zI,isValidParameter:BI,isVisible:kW,mixin:DY,off:HY,on:FY,once:qY,resumeTimer:WI,showLoading:bc,stopTimer:VI,toggleTimer:RY});class VY{constructor(t,r){this.callback=t,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const r=this.running;return r&&this.stop(),this.remaining+=t,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const YI=["swal-title","swal-html","swal-footer"],WY=e=>{const t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};const r=t.content;return eG(r),Object.assign(YY(r),GY(r),KY(r),QY(r),XY(r),JY(r),ZY(r,YI))},YY=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(n=>{Us(n,["name","value"]);const a=n.getAttribute("name"),o=n.getAttribute("value");!a||!o||(typeof cc[a]=="boolean"?t[a]=o!=="false":typeof cc[a]=="object"?t[a]=JSON.parse(o):t[a]=o)}),t},GY=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(n=>{const a=n.getAttribute("name"),o=n.getAttribute("value");!a||!o||(t[a]=new Function(`return ${o}`)())}),t},KY=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(n=>{Us(n,["type","color","aria-label"]);const a=n.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(t[`${a}ButtonText`]=n.innerHTML,t[`show${EC(a)}Button`]=!0,n.hasAttribute("color")&&(t[`${a}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(t[`${a}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),t},QY=e=>{const t={},r=e.querySelector("swal-image");return r&&(Us(r,["src","width","height","alt"]),r.hasAttribute("src")&&(t.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(t.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(t.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(t.imageAlt=r.getAttribute("alt")||void 0)),t},XY=e=>{const t={},r=e.querySelector("swal-icon");return r&&(Us(r,["type","color"]),r.hasAttribute("type")&&(t.icon=r.getAttribute("type")),r.hasAttribute("color")&&(t.iconColor=r.getAttribute("color")),t.iconHtml=r.innerHTML),t},JY=e=>{const t={},r=e.querySelector("swal-input");r&&(Us(r,["type","label","placeholder","value"]),t.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(t.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(t.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(t.inputValue=r.getAttribute("value")));const n=Array.from(e.querySelectorAll("swal-input-option"));return n.length&&(t.inputOptions={},n.forEach(a=>{Us(a,["value"]);const o=a.getAttribute("value");if(!o)return;const i=a.innerHTML;t.inputOptions[o]=i})),t},ZY=(e,t)=>{const r={};for(const n in t){const a=t[n],o=e.querySelector(a);o&&(Us(o,[]),r[a.replace(/^swal-/,"")]=o.innerHTML.trim())}return r},eG=e=>{const t=YI.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(r=>{const n=r.tagName.toLowerCase();t.includes(n)||hn(`Unrecognized element <${n}>`)})},Us=(e,t)=>{Array.from(e.attributes).forEach(r=>{t.indexOf(r.name)===-1&&hn([`Unrecognized attribute "${r.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},GI=10,tG=e=>{const t=mn(),r=yt();typeof e.willOpen=="function"&&e.willOpen(r),Ke.eventEmitter.emit("willOpen",r);const a=window.getComputedStyle(document.body).overflowY;aG(t,r,e),setTimeout(()=>{rG(t,r)},GI),OC()&&(nG(t,e.scrollbarPadding,a),LW()),!cv()&&!Ke.previousActiveElement&&(Ke.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(r)),Ke.eventEmitter.emit("didOpen",r),na(t,ce["no-transition"])},Dg=e=>{const t=yt();if(e.target!==t)return;const r=mn();t.removeEventListener("animationend",Dg),t.removeEventListener("transitionend",Dg),r.style.overflowY="auto"},rG=(e,t)=>{fI(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",Dg),t.addEventListener("transitionend",Dg)):e.style.overflowY="auto"},nG=(e,t,r)=>{BW(),t&&r!=="hidden"&&WW(r),setTimeout(()=>{e.scrollTop=0})},aG=(e,t,r)=>{ut(e,r.showClass.backdrop),r.animation?(t.style.setProperty("opacity","0","important"),Tr(t,"grid"),setTimeout(()=>{ut(t,r.showClass.popup),t.style.removeProperty("opacity")},GI)):Tr(t,"grid"),ut([document.documentElement,document.body],ce.shown),r.heightAuto&&r.backdrop&&!r.toast&&ut([document.documentElement,document.body],ce["height-auto"])};var Hk={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function oG(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=Hk.email),e.input==="url"&&(e.inputValidator=Hk.url))}function iG(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(hn('Target parameter is not valid, defaulting to "body"'),e.target="body")}function sG(e){oG(e),e.showLoaderOnConfirm&&!e.preConfirm&&hn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),iG(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),KV(e)}let Ua;var Rh=new WeakMap;class sr{constructor(){if(TV(this,Rh,void 0),typeof window>"u")return;Ua=this;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];const a=Object.freeze(this.constructor.argsToParams(r));this.params=a,this.isAwaitingPromise=!1,kV(Rh,this,this._main(Ua.params))}_main(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(bY(Object.assign({},r,t)),Ke.currentInstance){const o=xc.swalPromiseResolve.get(Ke.currentInstance),{isAwaitingPromise:i}=Ke.currentInstance;Ke.currentInstance._destroy(),i||o({isDismissed:!0}),OC()&&EI()}Ke.currentInstance=Ua;const n=cG(t,r);sG(n),Object.freeze(n),Ke.timeout&&(Ke.timeout.stop(),delete Ke.timeout),clearTimeout(Ke.restoreFocusTimeout);const a=uG(Ua);return xI(Ua,n),It.innerParams.set(Ua,n),lG(Ua,a,n)}then(t){return _k(Rh,this).then(t)}finally(t){return _k(Rh,this).finally(t)}}const lG=(e,t,r)=>new Promise((n,a)=>{const o=i=>{e.close({isDismissed:!0,dismiss:i})};xc.swalPromiseResolve.set(e,n),xc.swalPromiseReject.set(e,a),t.confirmButton.onclick=()=>{cY(e)},t.denyButton.onclick=()=>{uY(e)},t.cancelButton.onclick=()=>{dY(e,o)},t.closeButton.onclick=()=>{o(su.close)},jY(r,t,o),PW(Ke,r,o),eY(e,r),tG(r),dG(Ke,r,o),fG(t,r),setTimeout(()=>{t.container.scrollTop=0})}),cG=(e,t)=>{const r=WY(e),n=Object.assign({},cc,t,r,e);return n.showClass=Object.assign({},cc.showClass,n.showClass),n.hideClass=Object.assign({},cc.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},uG=e=>{const t={popup:yt(),container:mn(),actions:rp(),confirmButton:to(),denyButton:tl(),cancelButton:ou(),loader:iu(),closeButton:kC(),validationMessage:sv(),progressSteps:TC()};return It.domCache.set(e,t),t},dG=(e,t,r)=>{const n=lv();Wr(n),t.timer&&(e.timeout=new VY(()=>{r("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(Tr(n),In(n,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&_C(t.timer)})))},fG=(e,t)=>{if(!t.toast){if(!iv(t.allowEnterKey)){iI("allowEnterKey"),mG();return}pG(e)||hG(e,t)||CE(-1,1)}},pG=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const r of t)if(r instanceof HTMLElement&&pn(r))return r.focus(),!0;return!1},hG=(e,t)=>t.focusDeny&&pn(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&pn(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&pn(e.confirmButton)?(e.confirmButton.focus(),!0):!1,mG=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const r=document.createElement("audio");r.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",r.loop=!0,document.body.appendChild(r),setTimeout(()=>{r.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${e}`)}sr.prototype.disableButtons=MI;sr.prototype.enableButtons=DI;sr.prototype.getInput=OI;sr.prototype.disableInput=II;sr.prototype.enableInput=RI;sr.prototype.hideLoading=Pg;sr.prototype.disableLoading=Pg;sr.prototype.showValidationMessage=NI;sr.prototype.resetValidationMessage=LI;sr.prototype.close=Mi;sr.prototype.closePopup=Mi;sr.prototype.closeModal=Mi;sr.prototype.closeToast=Mi;sr.prototype.rejectPromise=$I;sr.prototype.update=qI;sr.prototype._destroy=HI;Object.assign(sr,UY);Object.keys(EY).forEach(e=>{sr[e]=function(){return Ua&&Ua[e]?Ua[e](...arguments):null}});sr.DismissReason=su;sr.version="11.15.10";const z=sr;z.default=z;typeof document<"u"&&function(e,t){var r=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=t);else try{r.innerHTML=t}catch{r.innerText=t}}(document,'body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Dl=new Yr,KI=({mapping:e={},handleChange:t})=>{const{accessToken:r}=wt(),n=e.consecutiveConfig||{},a=n.enabled||!1,[o,i]=_.useState([]),[c,d]=_.useState(""),[f,p]=_.useState(!1),[m,g]=_.useState(!1),[y,w]=_.useState(n.applyToTables||[]);_.useEffect(()=>{(async()=>{try{if(e&&e._id){g(!0);const P=await Dl.getConsecutivesByEntity(r,"mapping",e._id);P&&P.data&&P.data.length>0?(i(P.data),d(P.data[0]._id),p(!0)):p(!1)}}catch(P){console.error("Error al cargar consecutivos asignados:",P),p(!1)}finally{g(!1)}})()},[e._id,r]),_.useEffect(()=>{w(n.applyToTables||[])},[n.applyToTables]);const S=H.useMemo(()=>e.tableConfigs?e.tableConfigs.map(T=>({name:T.name,isDetail:T.isDetailTable||!1,fields:(T.fieldMappings||[]).map(P=>P.targetField)})):[],[e.tableConfigs]),b=async()=>{var T;if(c)try{g(!0);const P=await Dl.getConsecutiveById(r,c);if(P.success&&P.data){const O=P.data;z.fire({title:`Consecutivo: ${O.name}`,html:`
            <div style="text-align: left; padding: 10px;">
              <p><strong>Descripción:</strong> ${O.description||"N/A"}</p>
              <p><strong>Valor actual:</strong> ${O.currentValue}</p>
              <p><strong>Formato:</strong> ${O.pattern||`${O.prefix||""}[valor]${O.suffix||""}`}</p>
              <p><strong>Segmentado:</strong> ${(T=O.segments)!=null&&T.enabled?`Sí (${O.segments.type})`:"No"}</p>
              <p><strong>Estado:</strong> ${O.active?"Activo":"Inactivo"}</p>
            </div>
          `,icon:"info",confirmButtonText:"Cerrar"})}}catch(P){console.error("Error al obtener detalles del consecutivo:",P),z.fire({title:"Error",text:"No se pudieron obtener los detalles del consecutivo",icon:"error"})}finally{g(!1)}},k=async()=>{try{g(!0);const T=await Dl.getConsecutives(r);if(g(!1),!T.success||!T.data||T.data.length===0){z.fire({title:"Sin consecutivos",text:"No hay consecutivos disponibles para asignar",icon:"info"});return}const P=o.map(D=>D._id),O=T.data.filter(D=>!P.includes(D._id));if(O.length===0){z.fire({title:"Sin consecutivos",text:"Todos los consecutivos ya están asignados a este mapeo",icon:"info"});return}const N=O.map(D=>`<option value="${D._id}">${D.name}</option>`).join(""),{value:R}=await z.fire({title:"Asignar Consecutivo",html:`
          <div class="form-group">
            <label for="consecutive-select">Seleccione un consecutivo:</label>
            <select id="consecutive-select" class="swal2-select" style="width: 100%; margin-top: 10px;">
              ${N}
            </select>
          </div>
        `,showCancelButton:!0,confirmButtonText:"Asignar",cancelButtonText:"Cancelar",preConfirm:()=>document.getElementById("consecutive-select").value});if(R){g(!0);const D=await Dl.assignConsecutive(r,R,{entityType:"mapping",entityId:e._id,allowedOperations:["read","increment"]});if(g(!1),D.success){z.fire({title:"Éxito",text:"Consecutivo asignado correctamente",icon:"success"});const j=O.find(A=>A._id===R);i([...o,j]),d(R),p(!0)}else throw new Error(D.message||"Error al asignar consecutivo")}}catch(T){g(!1),console.error("Error al asignar consecutivo:",T),z.fire({title:"Error",text:T.message||"No se pudo asignar el consecutivo",icon:"error"})}},C=async()=>{try{const{value:T}=await z.fire({title:"Crear Nuevo Consecutivo",html:`
          <div class="form-group" style="margin-bottom: 15px; text-align: left;">
            <label for="name">Nombre:</label>
            <input id="name" class="swal2-input" placeholder="Nombre del consecutivo">
          </div>
          <div class="form-group" style="margin-bottom: 15px; text-align: left;">
            <label for="description">Descripción:</label>
            <input id="description" class="swal2-input" placeholder="Descripción (opcional)">
          </div>
          <div class="form-group" style="margin-bottom: 15px; text-align: left;">
            <label for="current-value">Valor inicial:</label>
            <input id="current-value" type="number" class="swal2-input" value="0">
          </div>
          <div class="form-group" style="margin-bottom: 15px; text-align: left;">
            <label for="prefix">Prefijo (opcional):</label>
            <input id="prefix" class="swal2-input" placeholder="Ej: INV-">
          </div>
          <div class="form-group" style="margin-bottom: 15px; text-align: left;">
            <label for="pattern">Patrón de formato (opcional):</label>
            <input id="pattern" class="swal2-input" placeholder="Ej: {PREFIX}{YEAR}-{VALUE:6}">
          </div>
        `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Crear y Asignar",cancelButtonText:"Cancelar",preConfirm:()=>{const P=document.getElementById("name").value,O=document.getElementById("description").value,N=parseInt(document.getElementById("current-value").value||"0",10),R=document.getElementById("prefix").value,D=document.getElementById("pattern").value;return P?{name:P,description:O,currentValue:N,prefix:R,pattern:D,active:!0}:(z.showValidationMessage("El nombre es obligatorio"),!1)}});if(T){g(!0);const P=await Dl.createConsecutive(r,T);if(P.success&&P.data){const O=P.data._id,N=await Dl.assignConsecutive(r,O,{entityType:"mapping",entityId:e._id,allowedOperations:["read","increment"]});if(N.success)z.fire({title:"Éxito",text:"Consecutivo creado y asignado correctamente",icon:"success"}),i([...o,P.data]),d(O),p(!0);else throw new Error(N.message||"Error al asignar consecutivo")}else throw new Error(P.message||"Error al crear consecutivo");g(!1)}}catch(T){g(!1),console.error("Error al crear y asignar consecutivo:",T),z.fire({title:"Error",text:T.message||"No se pudo crear o asignar el consecutivo",icon:"error"})}},$=async()=>{if(!S||S.length===0){z.fire({icon:"warning",title:"No hay tablas configuradas",text:"Primero configure al menos una tabla en la pestaña 'Tablas y Campos'."});return}const T=S.map(j=>`<option value="${j.name}">${j.name} (${j.isDetail?"Detalle":"Principal"})</option>`).join(""),{value:P}=await z.fire({title:"Asignar Consecutivo a Tabla",html:`
        <div class="form-group" style="margin-bottom: 15px; text-align: left;">
          <label for="table-select" style="display: block; margin-bottom: 5px; font-weight: 500;">Seleccione Tabla:</label>
          <select id="table-select" class="swal2-select" style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ddd;">
            ${T}
          </select>
        </div>
        <div class="form-group" style="margin-bottom: 15px; text-align: left;">
          <label for="field-select" style="display: block; margin-bottom: 5px; font-weight: 500;">Campo para Consecutivo:</label>
          <select id="field-select" class="swal2-select" style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ddd;" disabled>
            <option value="">Seleccione una tabla primero</option>
          </select>
        </div>
      `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Añadir",cancelButtonText:"Cancelar",didOpen:()=>{const j=document.getElementById("table-select"),A=document.getElementById("field-select");if(j.addEventListener("change",()=>{const I=S.find(B=>B.name===j.value);I&&I.fields.length>0?(A.disabled=!1,A.innerHTML=I.fields.map(B=>`<option value="${B}">${B}</option>`).join("")):(A.disabled=!0,A.innerHTML='<option value="">No hay campos disponibles</option>')}),j.value){const I=new Event("change");j.dispatchEvent(I)}},preConfirm:()=>{const j=document.getElementById("table-select"),A=document.getElementById("field-select");return j.value?A.value?{tableName:j.value,fieldName:A.value}:(z.showValidationMessage("Debe seleccionar un campo"),!1):(z.showValidationMessage("Debe seleccionar una tabla"),!1)}});if(!P)return;if(y.some(j=>j.tableName===P.tableName&&j.fieldName===P.fieldName)){z.fire({icon:"warning",title:"Asignación duplicada",text:`Ya existe una asignación para la tabla ${P.tableName} con el campo ${P.fieldName}`});return}const N=[...y||[],P];w(N);const D={target:{name:"consecutiveConfig",value:{...n,applyToTables:N},type:"custom"}};t(D),z.fire({icon:"success",title:"Asignación creada",text:`Se ha asignado el campo ${P.fieldName} de la tabla ${P.tableName} para recibir el consecutivo.`,timer:2e3,showConfirmButton:!1})},L=async T=>{if(!(await z.fire({title:"¿Eliminar asignación?",text:"¿Está seguro que desea eliminar esta asignación de consecutivo?",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)return;const O=[...y];O.splice(T,1),w(O);const R={target:{name:"consecutiveConfig",value:{...n,applyToTables:O},type:"custom"}};t(R),z.fire({icon:"success",title:"Asignación eliminada",timer:1500,showConfirmButton:!1})};return l.jsxs(gG,{children:[l.jsx(yG,{children:"Configuración de Numeración Consecutiva"}),l.jsxs(Uk,{children:[l.jsx(Vk,{type:"checkbox",id:"consecutive-enabled",name:"consecutiveConfig.enabled",checked:a,onChange:t}),l.jsx(Wk,{htmlFor:"consecutive-enabled",children:"Activar numeración consecutiva automática"})]}),a&&l.jsxs(xG,{children:[l.jsx(Ei,{children:"Sistema de consecutivos:"}),l.jsxs(bG,{children:[l.jsxs(Yk,{children:[l.jsx("input",{type:"radio",id:"local-system",name:"consecutive-system",checked:!f,onChange:()=>p(!1)}),l.jsx("label",{htmlFor:"local-system",children:"Sistema local (configuración específica para este mapeo)"})]}),l.jsxs(Yk,{children:[l.jsx("input",{type:"radio",id:"centralized-system",name:"consecutive-system",checked:f,onChange:()=>p(!0)}),l.jsx("label",{htmlFor:"centralized-system",children:"Sistema centralizado (consecutivos compartidos)"})]})]}),f&&l.jsx(wG,{children:o.length>0?l.jsxs(l.Fragment,{children:[l.jsx(Ei,{htmlFor:"centralized-consecutive",children:"Consecutivo asignado:"}),l.jsx(vG,{id:"centralized-consecutive",value:c,onChange:T=>d(T.target.value),children:o.map(T=>l.jsx("option",{value:T._id,children:T.name},T._id))}),l.jsx(Qr,{children:"El consecutivo seleccionado será utilizado para generar valores automáticamente. Los campos configurados a continuación se usarán para determinar dónde se asignarán los valores."}),l.jsxs(SG,{children:[l.jsx(Ih,{onClick:b,children:"Ver detalles"}),l.jsx(Ih,{onClick:k,children:"Asignar otro consecutivo"})]})]}):l.jsxs(EG,{children:[l.jsx("p",{children:"No hay consecutivos asignados actualmente."}),l.jsx(Ih,{onClick:k,children:"Asignar un consecutivo existente"}),l.jsx(Ih,{onClick:C,children:"Crear y asignar nuevo consecutivo"})]})})]}),a&&!f&&l.jsxs(l.Fragment,{children:[l.jsxs(rd,{children:[l.jsx(Ei,{htmlFor:"field-name",children:"Campo en encabezado:"}),l.jsx(nd,{type:"text",id:"field-name",name:"consecutiveConfig.fieldName",placeholder:"Nombre del campo en tabla principal (ej: NUM_CONSECUTIVO)",value:n.fieldName||"",onChange:t}),l.jsx(Qr,{children:"Nombre del campo donde se guardará el consecutivo en la tabla principal"})]}),l.jsxs(rd,{children:[l.jsx(Ei,{htmlFor:"detail-field-name",children:"Campo en detalle:"}),l.jsx(nd,{type:"text",id:"detail-field-name",name:"consecutiveConfig.detailFieldName",placeholder:"Nombre del campo en tabla de detalle (ej: NUM_CONSECUTIVO)",value:n.detailFieldName||"",onChange:t}),l.jsx(Qr,{children:"Nombre del campo donde se guardará el mismo consecutivo en la tabla de detalle"})]}),l.jsxs(jG,{children:[l.jsx(Ei,{children:"Asignación específica por tablas:"}),l.jsx(Qr,{children:"Configure campos específicos para cada tabla que necesita el consecutivo. Esto tiene prioridad sobre los campos generales definidos arriba."}),l.jsx(TG,{onClick:$,children:"+ Añadir tabla y campo"}),l.jsx(CG,{children:y&&y.length>0?y.map((T,P)=>l.jsxs($G,{children:[l.jsx("strong",{children:"Tabla:"})," ",T.tableName,l.jsx("br",{}),l.jsx("strong",{children:"Campo:"})," ",T.fieldName,l.jsx(kG,{onClick:()=>L(P),children:"Eliminar"})]},P)):l.jsx(Qr,{children:"No hay asignaciones específicas configuradas. Si no configura asignaciones específicas, se usarán los campos generales definidos arriba."})})]}),l.jsxs(rd,{children:[l.jsx(Ei,{htmlFor:"last-value",children:"Último valor usado:"}),l.jsx(nd,{type:"text",id:"last-value",name:"consecutiveConfig.lastValue",value:n.lastValue||0,onChange:t,placeholder:"0"}),l.jsx(Qr,{children:"El próximo consecutivo será este valor + 1"})]}),l.jsxs(rd,{children:[l.jsx(Ei,{htmlFor:"prefix",children:"Prefijo (opcional):"}),l.jsx(nd,{type:"text",id:"prefix",name:"consecutiveConfig.prefix",placeholder:"Ej: INV-",value:n.prefix||"",onChange:t}),l.jsx(Qr,{children:'Texto que se añadirá antes del número (ej: "FAC-", "INV-", etc.)'})]}),l.jsxs(rd,{children:[l.jsx(Ei,{htmlFor:"pattern",children:"Formato (opcional):"}),l.jsx(nd,{type:"text",id:"pattern",name:"consecutiveConfig.pattern",placeholder:"Ej: {PREFIX}{VALUE:6}",value:n.pattern||"",onChange:t}),l.jsx(Qr,{children:"Formato del consecutivo. Variables disponibles:"}),l.jsxs(Qr,{children:["{PREFIX}",": Prefijo especificado arriba"]}),l.jsxs(Qr,{children:["{VALUE:n}",": Número consecutivo con n dígitos (ej: ","{VALUE:6}"," ","para 000001)"]}),l.jsxs(Qr,{children:["{YEAR}",": Año actual (ej: 2023)"]}),l.jsxs(Qr,{children:["{MONTH}",": Mes actual con dos dígitos (ej: 05)"]}),l.jsxs(Qr,{children:["{DAY}",": Día actual con dos dígitos (ej: 09)"]}),l.jsxs(Qr,{children:["Ejemplo: ","{PREFIX}{YEAR}-{VALUE:4}",' generará "FAC2023-0001"']})]}),l.jsxs(Uk,{children:[l.jsx(Vk,{type:"checkbox",id:"update-after",name:"consecutiveConfig.updateAfterTransfer",checked:n.updateAfterTransfer!==!1,onChange:t}),l.jsx(Wk,{htmlFor:"update-after",children:"Actualizar consecutivo inmediatamente después de cada documento"})]}),l.jsx(Qr,{children:"Si está desactivado, el consecutivo se actualizará al finalizar todo el proceso"})]}),m&&l.jsxs(AG,{children:[l.jsx(OG,{}),"Cargando..."]})]})},gG=v.div`
  position: relative;
  background-color: ${({theme:e})=>(e==null?void 0:e.cardBg)||"#ffffff"};
  border-radius: 8px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
`,yG=v.h3`
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 1.25rem;
  color: ${({theme:e})=>(e==null?void 0:e.primary)||"#333"};
  border-bottom: 1px solid ${({theme:e})=>(e==null?void 0:e.border)||"#eee"};
  padding-bottom: 0.5rem;
`,rd=v.div`
  margin-bottom: 1rem;
`,Ei=v.label`
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 500;
  color: ${({theme:e})=>(e==null?void 0:e.textSecondary)||"#555"};
`,nd=v.input`
  width: 100%;
  padding: 0.5rem;
  border: 1px solid ${({theme:e})=>(e==null?void 0:e.border)||"#ccc"};
  border-radius: 4px;
  font-size: 14px;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>(e==null?void 0:e.primary)||"#0275d8"};
    box-shadow: 0 0 0 2px rgba(2, 117, 216, 0.25);
  }
`,vG=v.select`
  width: 100%;
  padding: 0.5rem;
  border: 1px solid ${({theme:e})=>(e==null?void 0:e.border)||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  margin-bottom: 1rem;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>(e==null?void 0:e.primary)||"#0275d8"};
  }
`,Uk=v.div`
  display: flex;
  align-items: center;
  margin-bottom: 0.75rem;
`,Vk=v.input`
  margin-right: 8px;
  width: 16px;
  height: 16px;
`,Wk=v.label`
  font-size: 14px;
  user-select: none;
  cursor: pointer;
`,xG=v.div`
  margin-bottom: 1.5rem;
  padding: 1rem;
  background-color: ${({theme:e})=>(e==null?void 0:e.tableHeader)||"#f8f9fa"};
  border-radius: 6px;
`,bG=v.div`
  margin: 0.75rem 0;
`,Yk=v.div`
  display: flex;
  align-items: center;
  margin-bottom: 0.5rem;

  input {
    margin-right: 0.5rem;
  }

  label {
    cursor: pointer;
  }
`,wG=v.div`
  margin-top: 1rem;
  padding: 0.75rem;
  background-color: ${({theme:e})=>(e==null?void 0:e.cardBg)||"#ffffff"};
  border-radius: 6px;
  border: 1px solid ${({theme:e})=>(e==null?void 0:e.border)||"#eee"};
`,SG=v.div`
  display: flex;
  gap: 0.5rem;
  margin-top: 1rem;
`,Ih=v.button`
  padding: 0.5rem 0.75rem;
  background-color: ${({theme:e})=>(e==null?void 0:e.primary)||"#0275d8"};
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;

  &:hover {
    background-color: ${({theme:e})=>(e==null?void 0:e.primaryHover)||"#0269c2"};
  }
`,EG=v.div`
  padding: 1rem;
  text-align: center;

  p {
    margin-bottom: 1rem;
    color: ${({theme:e})=>(e==null?void 0:e.textSecondary)||"#6c757d"};
  }

  button {
    margin: 0.5rem;
  }
`,Qr=v.small`
  display: block;
  margin-top: 0.25rem;
  color: ${({theme:e})=>(e==null?void 0:e.textSecondary)||"#6c757d"};
  font-size: 12px;
`,jG=v.div`
  margin-top: 1rem;
  padding: 0.75rem;
  background-color: ${({theme:e})=>(e==null?void 0:e.tableHeader)||"#f8f9fa"};
  border-radius: 6px;
`,CG=v.div`
  max-height: 250px;
  overflow-y: auto;
  margin-top: 0.5rem;
`,$G=v.div`
  padding: 0.5rem;
  margin-bottom: 0.5rem;
  background-color: ${({theme:e})=>(e==null?void 0:e.cardBg)||"#fff"};
  border: 1px solid ${({theme:e})=>(e==null?void 0:e.border)||"#eee"};
  border-radius: 4px;
`,TG=v.button`
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 0.35rem 0.75rem;
  font-size: 0.8rem;
  background-color: ${({theme:e})=>(e==null?void 0:e.primary)||"#0275d8"};
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  margin-bottom: 0.5rem;

  &:hover {
    background-color: ${({theme:e})=>(e==null?void 0:e.primaryHover)||"#0069d9"};
  }
`,kG=v.button`
  padding: 0.2rem 0.5rem;
  font-size: 0.7rem;
  background-color: ${({theme:e})=>(e==null?void 0:e.danger)||"#dc3545"};
  color: white;
  border: none;
  border-radius: 3px;
  cursor: pointer;
  margin-left: 0.5rem;

  &:hover {
    background-color: ${({theme:e})=>(e==null?void 0:e.dangerHover)||"#bd2130"};
  }
`,AG=v.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(255, 255, 255, 0.7);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 10;
  border-radius: 8px;
  font-size: 14px;
  color: ${({theme:e})=>(e==null?void 0:e.primary)||"#0275d8"};
`,OG=v.div`
  width: 30px;
  height: 30px;
  border: 3px solid #f3f3f3;
  border-top: 3px solid ${({theme:e})=>(e==null?void 0:e.primary)||"#0275d8"};
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 10px;

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
`,QI=_.memo(({stateConfig:e})=>{var o;const{user:t,logout:r}=wt(),n=Xf(),a=_.useCallback(i=>{i==="cerrarsesion"?(r(),n("/")):i==="perfil"&&(n("/perfil"),e.setOpenState(!1))},[r,n,e]);return l.jsxs(PG,{onClick:e==null?void 0:e.setOpenState,children:[l.jsx("div",{className:"imgContainer",children:t.avatar?l.jsx("img",{src:`${ue.BASE_PATH}/${t.avatar}`,alt:"Avatar"}):l.jsx(Li,{})}),((o=t==null?void 0:t.role)==null?void 0:o.includes("admin"))&&l.jsx(HR,{icono:l.jsx(Zc.iconocorona,{}),width:"15px",height:"15px",bgcolor:"#f7cf4d",textColor:"#f15309",fontsize:"11px",translateX:"-50px",translateY:"-12px"}),l.jsxs("span",{className:"nombre",children:[t==null?void 0:t.name," ",t==null?void 0:t.lastname]}),(e==null?void 0:e.openstate)&&l.jsx(VR,{data:B9,top:"55px",funcion:a})]})}),PG=v.div`
  position: relative;
  top: 0;
  right: 0;
  width: 200px;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 8px;
  border-radius: 50px;
  margin: 15px;
  background-color: ${({theme:e})=>e.bg};
  cursor: pointer;

  .imgContainer {
    height: 40px;
    width: 40px;
    min-height: 40px;
    min-width: 40px;
    border-radius: 50%;
    overflow: hidden;
    margin-right: 22px;
    display: flex;
    justify-content: center;
    align-items: center;

    img {
      width: 100%;
      object-fit: cover;
    }

    svg {
      width: 100%;
    }
  }

  &:hover {
    background-color: ${({theme:e})=>e.bg3};
  }

  .nombre {
    width: 100%;
    font-weight: 500;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    word-wrap: break-word;
  }

  @media (max-width: 480px) {
    width: 160px; /* Reducir ancho en móviles muy pequeños */
    margin: 10px;

    .nombre {
      font-size: 0.85rem; /* Texto más pequeño */
      max-width: 80px; /* Limitar ancho del texto */
    }

    .imgContainer {
      margin-right: 10px; /* Menos espacio entre imagen y texto */
    }
  }
`;v.nav`
  display: flex;
  flex-direction: column;
  padding: 16px;
  height: 100%;
`;v.div`
  padding: 20px;
  text-align: center;
  color: #6b7280;
  font-style: italic;

  p {
    margin: 0;
    font-size: 14px;
  }
`;v.div`
  margin-bottom: 16px;

  &:last-child {
    margin-bottom: 0;
  }
`;v.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 6px;
  transition: background-color 0.2s;

  &:hover {
    background: #f3f4f6;
  }
`;v.h3`
  color: #374151;
  font-size: 14px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin: 0;
`;v.div`
  color: #9ca3af;
  font-size: 12px;
`;v.div`
  margin-top: 8px;
  margin-left: 8px;
  border-left: 2px solid #e5e7eb;
  padding-left: 8px;
`;v(dC)`
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  border-radius: 8px;
  text-decoration: none;
  color: #6b7280;
  transition: all 0.2s ease;
  margin-bottom: 4px;

  &:hover {
    background: #f3f4f6;
    color: #3b82f6;
    transform: translateX(4px);
  }

  &.active {
    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
    color: white;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
  }
`;v.div`
  display: flex;
  align-items: center;
  font-size: 16px;
  min-width: 16px;
`;v.span`
  font-weight: 500;
  font-size: 14px;
`;const _G={tablet:"768px"},dv={tablet:`(min-width: ${_G.tablet})`},Mg=_.createContext();function XI({children:e,title:t,subtitle:r,actions:n,toolbar:a,loading:o=!1,error:i=null}){const{user:c,reloadUserPermissions:d}=wt(),[f,p]=_.useState(window.innerWidth>768),[m,g]=_.useState(!1),[y,w]=_.useState(o);_.useEffect(()=>{const T=()=>{const P=window.innerWidth<=768,O=window.innerWidth>992;P?p(!1):O&&p(!0)};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),_.useEffect(()=>{if(!c||!d)return;const T=setInterval(()=>{d()},10*60*1e3),P=()=>{d()};return window.addEventListener("focus",P),()=>{clearInterval(T),window.removeEventListener("focus",P)}},[c,d]);const S=_.useCallback(()=>{p(T=>!T)},[]),b=_.useCallback(()=>{p(!1)},[]),k=_.useCallback(()=>{g(T=>!T)},[]),C=_.useCallback(()=>{g(!1)},[]),$=_.useCallback(T=>{if(m&&C(),window.innerWidth<=768&&f){const P=T.target.closest(".sidebar-wrapper"),O=T.target.closest(".sidebar-toggle");!P&&!O&&b()}},[m,f,C,b]),L={sidebarOpen:f,setSidebarOpen:p,toggleSidebar:S,closeSidebar:b,userMenuOpen:m,setUserMenuOpen:g,toggleUserMenu:k,closeUserMenu:C,pageLoading:y,setPageLoading:w};return i?l.jsx(Mg.Provider,{value:L,children:l.jsx(Gk,{children:l.jsxs(YG,{children:[l.jsx(GG,{children:"⚠️"}),l.jsx(KG,{children:"Error en la aplicación"}),l.jsx(QG,{children:i}),l.jsx(XG,{children:l.jsx("button",{onClick:()=>window.location.reload(),children:"Recargar página"})})]})})}):l.jsx(Mg.Provider,{value:L,children:l.jsxs(Gk,{className:f?"sidebar-open":"sidebar-closed",onClick:$,children:[l.jsx(DG,{className:"header",children:l.jsx(JI,{stateConfig:{openstate:m,setOpenState:()=>g(!m)},sidebarConfig:{isOpen:f,toggleSidebar:S}})}),l.jsx(MG,{className:"sidebar-wrapper",children:l.jsx(s7,{})}),l.jsxs(RG,{className:"content",children:[(t||a)&&l.jsxs(IG,{className:"title-area",children:[l.jsxs(NG,{children:[t&&l.jsx(LG,{children:t}),r&&l.jsx(BG,{children:r})]}),a&&l.jsx(zG,{children:a})]}),n&&l.jsx(FG,{className:"actions-area",children:l.jsx(qG,{children:n})}),l.jsx(HG,{className:"main-content",children:y?l.jsxs(UG,{children:[l.jsx(VG,{children:"🔄"}),l.jsx(WG,{children:"Cargando contenido..."})]}):e})]}),f&&window.innerWidth<=768&&l.jsx(JG,{onClick:b})]})})}const Gk=v.div`
  display: grid;
  min-height: 100vh;
  width: 100%;
  background-color: ${({theme:e})=>e.bg};
  color: ${({theme:e})=>e.text};
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  /* Layout para móvil */
  grid-template-areas:
    "header"
    "content";
  grid-template-columns: 1fr;
  grid-template-rows: auto 1fr;

  /* Layout para tablet y desktop */
  @media ${dv.tablet} {
    grid-template-areas:
      "header header"
      "sidebar content";
    grid-template-columns: auto 1fr;
    grid-template-rows: auto 1fr;

    &.sidebar-open {
      grid-template-columns: 260px 1fr;
    }

    &.sidebar-closed {
      grid-template-columns: 65px 1fr;
    }
  }
`,DG=v.header`
  grid-area: header;
  position: sticky;
  top: 0;
  z-index: 100;
  background-color: ${({theme:e})=>e.headerBg||e.bg};
  border-bottom: 1px solid ${({theme:e})=>e.border};
  height: 70px;
  display: flex;
  align-items: center;
  backdrop-filter: blur(10px);

  @media (max-width: 768px) {
    height: 60px;
  }
`,MG=v.div`
  grid-area: sidebar;

  @media (max-width: 768px) {
    position: fixed;
    left: 0;
    top: 0;
    height: 100vh;
    z-index: 999;
  }
`,RG=v.main`
  grid-area: content;
  display: grid;
  grid-template-areas:
    "title-area"
    "actions-area"
    "main-content";
  grid-template-rows: auto auto 1fr;
  overflow: hidden;
  background-color: ${({theme:e})=>e.contentBg||e.bg};
`,IG=v.section`
  grid-area: title-area;
  padding: 1.5rem;
  border-bottom: 1px solid ${({theme:e})=>e.border};
  background-color: ${({theme:e})=>e.titleBg||"transparent"};

  @media (max-width: 768px) {
    padding: 1rem;
  }
`,NG=v.div`
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin-bottom: 1rem;
`,LG=v.h1`
  margin: 0;
  font-size: 1.8rem;
  font-weight: 600;
  color: ${({theme:e})=>e.titleColor||e.text};

  @media (max-width: 768px) {
    font-size: 1.5rem;
  }
`,BG=v.p`
  margin: 0;
  font-size: 1rem;
  color: ${({theme:e})=>e.textSecondary};
  opacity: 0.8;
`,zG=v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  align-items: center;
`,FG=v.section`
  grid-area: actions-area;
  padding: 0 1.5rem 1rem 1.5rem;

  @media (max-width: 768px) {
    padding: 0 1rem 1rem 1rem;
  }
`,qG=v.div`
  display: flex;
  flex-direction: column;
  gap: 1rem;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;

  @media ${dv.tablet} {
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
  }
`,HG=v.section`
  grid-area: main-content;
  overflow: auto;
  padding: 0 1.5rem 1.5rem 1.5rem;

  @media (max-width: 768px) {
    padding: 0 1rem 1rem 1rem;
  }
`,UG=v.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 200px;
  gap: 1rem;
`,VG=v.div`
  font-size: 2rem;
  animation: spin 1s linear infinite;

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`,WG=v.div`
  color: ${({theme:e})=>e.textSecondary};
  font-size: 0.9rem;
`,YG=v.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100vh;
  gap: 1rem;
  padding: 2rem;
  text-align: center;
`,GG=v.div`
  font-size: 3rem;
`,KG=v.h2`
  margin: 0;
  color: ${({theme:e})=>e.danger||"#e74c3c"};
`,QG=v.p`
  margin: 0;
  color: ${({theme:e})=>e.textSecondary};
  max-width: 400px;
`,XG=v.div`
  button {
    background: ${({theme:e})=>e.primary||"#4a90e2"};
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: background-color 0.2s;

    &:hover {
      background: ${({theme:e})=>e.primaryDark||"#357abd"};
    }
  }
`,JG=v.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 998;
  backdrop-filter: blur(2px);

  @media (min-width: 769px) {
    display: none;
  }
`;function JI({stateConfig:e,sidebarConfig:t}){const r=_.useRef(null),n=_.useContext(Mg),a=(n==null?void 0:n.toggleSidebar)||(t==null?void 0:t.toggleSidebar),o=(n==null?void 0:n.sidebarOpen)||(t==null?void 0:t.isOpen);return _.useEffect(()=>{const i=c=>{e.openstate&&r.current&&!r.current.contains(c.target)&&e.setOpenState(!1)};return document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}},[e==null?void 0:e.openstate]),l.jsxs(ZG,{ref:r,children:[l.jsxs(eK,{children:[l.jsx(rK,{onClick:a,children:o?l.jsx(dn,{}):l.jsx(iV,{})}),l.jsx(tK,{children:l.jsx("img",{src:Zc.logoLetra,alt:"Logo"})})]}),l.jsx(nK,{onClick:i=>i.stopPropagation(),children:l.jsx(QI,{stateConfig:e})})]})}const ZG=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  height: 100%;
  padding: 0 20px;
  background-color: ${({theme:e})=>e.headerBg||e.bg};
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`,eK=v.div`
  display: flex;
  align-items: center;
  gap: 15px;
`,tK=v.div`
  height: 50px;
  display: flex;
  align-items: center;

  img {
    height: 30px;
    object-fit: contain;
    transition: transform 0.3s ease;
  }

  @media ${dv.tablet} {
    img {
      transform: scale(1.2);
    }
  }
`,rK=v.button`
  background: none;
  border: none;
  color: ${({theme:e})=>e.primary||"#007bff"};
  font-size: 20px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 8px;
  border-radius: 4px;

  &:hover {
    background-color: rgba(0, 0, 0, 0.05);
  }

  @media (max-width: 768px) {
    font-size: 22px;
  }
`,nK=v.div`
  display: flex;
  align-items: center;
`,Nh=new Yr,ZI=({accessToken:e,onGroupDeleted:t=null,onClose:r=null})=>{const[n,a]=_.useState([]),[o,i]=_.useState(!0);_.useEffect(()=>{c()},[]);const c=async()=>{try{i(!0);const g=await Nh.getLinkedGroups(e);if(g.success)a(g.groups);else throw new Error(g.message||"Error al obtener grupos")}catch(g){console.error("Error al obtener grupos:",g),z.fire("Error","No se pudieron cargar los grupos vinculados","error")}finally{i(!1)}},d=async g=>{try{const y=await Nh.getGroupDetails(e,g);if(y.success)f(y);else throw new Error(y.message||"Error al obtener detalles")}catch(y){console.error("Error al obtener detalles:",y),z.fire("Error","No se pudieron cargar los detalles del grupo","error")}},f=g=>{var S,b;const y=g.tasks.map((k,C)=>`
      <div style="
        display: flex; 
        justify-content: space-between; 
        align-items: center; 
        padding: 10px; 
        margin: 5px 0; 
        background-color: ${k.isCoordinator?"#e8f5e8":"#f8f9fa"}; 
        border-radius: 4px;
        border-left: 4px solid ${k.isCoordinator?"#4caf50":"#6c757d"};
      ">
        <div>
          <strong>${k.name}</strong>
          ${k.isCoordinator?'<span style="color: #4caf50; margin-left: 10px;">👑 Coordinadora</span>':""}
          <br>
          <small>Orden: ${k.order} | Tipo: ${k.type}</small>
        </div>
        <button onclick="window.removeTaskFromGroupHandler('${k.id}')" style="
          background: #dc3545; 
          color: white; 
          border: none; 
          padding: 5px 10px; 
          border-radius: 4px; 
          cursor: pointer;
        ">
          Quitar
        </button>
      </div>
    `).join(""),w=g.coordinator?`
      <div style="background-color: #e8f5e8; padding: 15px; border-radius: 6px; margin: 15px 0;">
        <h4 style="margin: 0 0 10px 0; color: #2e7d32;">👑 Tarea Coordinadora: ${g.coordinator.name}</h4>
        <p><strong>Post-Update Query:</strong></p>
        <code style="background: #f5f5f5; padding: 10px; display: block; border-radius: 4px;">${g.coordinator.postUpdateQuery}</code>
        <p><strong>Mapeo:</strong> ${(S=g.coordinator.postUpdateMapping)==null?void 0:S.viewKey} → ${(b=g.coordinator.postUpdateMapping)==null?void 0:b.tableKey}</p>
      </div>
    `:'<p style="color: #dc3545;">⚠️ Este grupo no tiene tarea coordinadora</p>';window.removeTaskFromGroupHandler=k=>{m(k)},z.fire({title:`Grupo: ${g.groupName}`,html:`
        <div style="text-align: left;">
          <p><strong>Total de tareas:</strong> ${g.totalTasks}</p>
          
          ${w}
          
          <h4>Tareas en el grupo:</h4>
          ${y}
          
          <div style="margin-top: 20px; padding: 15px; background-color: #fff3cd; border-radius: 6px;">
            <strong>⚠️ Importante:</strong> Al quitar tareas del grupo, perderán su configuración de vinculación y post-update.
          </div>
        </div>
      `,width:"600px",showCancelButton:!0,confirmButtonText:"Cerrar",cancelButtonText:"Eliminar Grupo Completo",cancelButtonColor:"#dc3545",willClose:()=>{delete window.removeTaskFromGroupHandler}}).then(k=>{k.dismiss===z.DismissReason.cancel&&p(g.groupName)})},p=async g=>{if((await z.fire({title:"¿Eliminar grupo completo?",html:`
        <p>¿Estás seguro de que deseas eliminar el grupo <strong>"${g}"</strong>?</p>
        <div style="background-color: #f8d7da; padding: 15px; border-radius: 6px; margin: 15px 0;">
          <strong>⚠️ Esta acción:</strong>
          <ul style="text-align: left; margin: 10px 0;">
            <li>Quitará la vinculación de todas las tareas del grupo</li>
            <li>Eliminará las configuraciones de post-update</li>
            <li>Restablecerá las tareas como individuales</li>
            <li><strong>NO SE PUEDE DESHACER</strong></li>
          </ul>
        </div>
        <p>Escribe <strong>"CONFIRMAR"</strong> para continuar:</p>
      `,input:"text",inputPlaceholder:"Escribe CONFIRMAR",showCancelButton:!0,confirmButtonText:"Eliminar Grupo",cancelButtonText:"Cancelar",confirmButtonColor:"#dc3545",inputValidator:w=>{if(w!=="CONFIRMAR")return'Debes escribir "CONFIRMAR" exactamente'}})).isConfirmed)try{const w=await Nh.deleteLinkedGroup(e,g);if(w.success)z.fire("Eliminado",`Grupo "${g}" eliminado correctamente`,"success"),c(),t&&typeof t=="function"&&(console.log("🔄 Notificando eliminación de grupo al componente padre"),t());else throw new Error(w.message||"Error al eliminar grupo")}catch(w){console.error("Error al eliminar grupo:",w),z.fire("Error","No se pudo eliminar el grupo","error")}},m=async g=>{try{const y=await Nh.removeTaskFromGroup(e,g);if(y.success)z.fire("Removida","Tarea removida del grupo correctamente","success"),c(),t&&typeof t=="function"&&(console.log("🔄 Notificando remoción de tarea al componente padre"),t());else throw new Error(y.message||"Error al remover tarea")}catch(y){console.error("Error al remover tarea:",y),z.fire("Error","No se pudo remover la tarea del grupo","error")}};return window.removeTaskFromGroup=m,o?l.jsx(iK,{children:"Cargando grupos vinculados..."}):l.jsxs(aK,{children:[l.jsxs(oK,{children:[l.jsx("h2",{children:"🔗 Gestión de Grupos Vinculados"}),l.jsx("p",{children:"Administra los grupos de tareas vinculadas y sus configuraciones"})]}),n.length===0?l.jsxs(sK,{children:[l.jsx(df,{size:48,color:"#6c757d"}),l.jsx("h3",{children:"No hay grupos vinculados"}),l.jsx("p",{children:"Crea grupos vinculados editando las tareas y asignándoles el mismo nombre de grupo."})]}):l.jsx(lK,{children:n.map(g=>l.jsxs(cK,{children:[l.jsxs(uK,{children:[l.jsx(dK,{children:g.groupName}),l.jsxs(fK,{children:[l.jsxs(Kk,{children:[l.jsx(df,{})," ",g.totalTasks," tareas"]}),l.jsxs(Kk,{$coordinator:g.coordinatorCount>0,children:[l.jsx(Eg,{})," ",g.coordinatorCount>0?"Con coordinadora":"Sin coordinadora"]})]})]}),l.jsxs(pK,{children:[g.tasks.slice(0,3).map(y=>l.jsxs(hK,{$isCoordinator:y.isCoordinator,children:[l.jsx(mK,{children:y.name}),l.jsxs(gK,{children:["#",y.linkedExecutionOrder]}),y.isCoordinator&&l.jsx(yK,{children:"👑"})]},y.id)),g.totalTasks>3&&l.jsxs(vK,{children:["+ ",g.totalTasks-3," más..."]})]}),l.jsxs(xK,{children:[l.jsxs(Qk,{$variant:"info",onClick:()=>d(g.groupName),children:[l.jsx(ta,{})," Ver Detalles"]}),l.jsxs(Qk,{$variant:"danger",onClick:()=>p(g.groupName),children:[l.jsx(Nr,{})," Eliminar Grupo"]})]})]},g.groupName))})]})},aK=v.div`
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
`,oK=v.div`
  text-align: center;
  margin-bottom: 30px;

  h2 {
    margin: 0 0 10px 0;
    color: #333;
  }

  p {
    color: #666;
    margin: 0;
  }
`,iK=v.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
  font-size: 18px;
  color: #666;
`,sK=v.div`
  text-align: center;
  padding: 50px 20px;
  color: #666;

  h3 {
    margin: 20px 0 10px 0;
  }
`,lK=v.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  gap: 20px;
`,cK=v.div`
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  transition: transform 0.2s ease, box-shadow 0.2s ease;

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
  }
`,uK=v.div`
  padding: 20px 20px 15px 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
`,dK=v.h3`
  margin: 0 0 10px 0;
  font-size: 18px;
  font-weight: 600;
`,fK=v.div`
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
`,Kk=v.span`
  background: rgba(255, 255, 255, 0.2);
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 12px;
  display: flex;
  align-items: center;
  gap: 4px;

  ${e=>e.$coordinator&&`
    background: rgba(76, 175, 80, 0.8);
  `}
`,pK=v.div`
  padding: 15px 20px;
`,hK=v.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 0;
  border-bottom: 1px solid #eee;

  ${e=>e.$isCoordinator&&`
    background-color: #f8fffe;
    margin: 0 -10px;
    padding: 8px 10px;
    border-radius: 4px;
    border-left: 3px solid #4caf50;
    border-bottom: none;
  `}

  &:last-child {
    border-bottom: none;
  }
`,mK=v.span`
  font-size: 14px;
  flex: 1;
`,gK=v.span`
  background: #e9ecef;
  padding: 2px 6px;
  border-radius: 8px;
  font-size: 12px;
  color: #495057;
`,yK=v.span`
  margin-left: 8px;
  font-size: 16px;
`,vK=v.div`
  text-align: center;
  color: #6c757d;
  font-size: 13px;
  font-style: italic;
  margin-top: 10px;
`,xK=v.div`
  padding: 15px 20px;
  background: #f8f9fa;
  display: flex;
  gap: 10px;
`,Qk=v.button`
  flex: 1;
  padding: 8px 12px;
  border: none;
  border-radius: 6px;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  transition: all 0.2s ease;

  ${e=>{switch(e.$variant){case"info":return`
          background: #17a2b8;
          color: white;
          &:hover { background: #138496; }
        `;case"danger":return`
          background: #dc3545;
          color: white;
          &:hover { background: #c82333; }
        `;default:return`
          background: #6c757d;
          color: white;
          &:hover { background: #5a6268; }
        `}}}
`;v.div`
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  border-left: 4px solid
    ${e=>e.variant==="danger"?"#dc3545":e.variant==="warning"?"#ffc107":e.variant==="info"?"#17a2b8":e.variant==="success"?"#28a745":e.accent?e.accent:e.theme.primary||"#007bff"};
  transition: all 0.2s;
  opacity: ${e=>e.disabled?.7:1};

  &:hover {
    box-shadow: ${e=>e.interactive?"0 6px 12px rgba(0, 0, 0, 0.15)":"0 4px 6px rgba(0, 0, 0, 0.1)"};
    transform: ${e=>e.interactive?"translateY(-2px)":"none"};
  }
`;v.div`
  padding: 15px;
  border-bottom: 1px solid ${({theme:e})=>e.border||"#eee"};
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: ${({theme:e})=>e.cardHeaderBg||"#f8f9fa"};
`;v.h3`
  margin: 0;
  font-size: ${e=>e.size||"16px"};
  font-weight: 600;
  color: ${({theme:e})=>e.title||e.text};
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 10px;
`;v.div`
  padding: 15px;
  flex: 1;
`;v.div`
  padding: 15px;
  border-top: 1px solid ${({theme:e})=>e.border||"#eee"};
  background-color: ${({theme:e})=>e.cardFooterBg||"#f8f9fa"};
  display: flex;
  justify-content: ${e=>e.align||"flex-end"};
  gap: 8px;
  flex-wrap: wrap;
`;v.div`
  display: grid;
  grid-template-columns: repeat(${e=>e.columns||2}, 1fr);
  gap: ${e=>e.gap||"20px"};

  @media (max-width: 992px) {
    grid-template-columns: ${e=>{var t;return((t=e.responsiveColumns)==null?void 0:t.lg)||(e.columns>2?"repeat(2, 1fr)":"1fr")}};
  }

  @media (max-width: 768px) {
    grid-template-columns: ${e=>{var t;return((t=e.responsiveColumns)==null?void 0:t.md)||"1fr"}};
  }
`;const LC=v.button`
  background-color: ${e=>e.variant==="primary"?e.theme.primary||"#007bff":e.variant==="secondary"?e.theme.secondary||"#6c757d":e.variant==="success"?e.theme.success||"#28a745":e.variant==="danger"?e.theme.danger||"#dc3545":e.variant==="warning"?e.theme.warning||"#ffc107":e.variant==="info"?e.theme.info||"#17a2b8":e.theme.primary||"#007bff"};
  color: ${e=>e.variant==="warning"?"#212529":"white"};
  border: none;
  border-radius: 4px;
  padding: ${e=>e.size==="sm"?"6px 10px":"10px 15px"};
  font-size: ${e=>e.size==="sm"?"12px":"14px"};
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  transition: background-color 0.3s;
  width: ${e=>e.fullWidth?"100%":"auto"};

  &:hover:not(:disabled) {
    filter: brightness(90%);
  }

  &:disabled {
    background-color: #adb5bd;
    cursor: not-allowed;
    opacity: 0.7;
  }
`;v.div`
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
  justify-content: ${e=>e.align||"center"};

  @media (max-width: 480px) {
    flex-direction: ${e=>e.responsive?"column":"row"};
    width: ${e=>e.responsive?"100%":"auto"};
  }
`;const qr=v(LC)`
  padding: 8px 12px;
`;v.button`
  background: none;
  border: none;
  color: ${e=>{var t;return e.color||((t=e.theme)==null?void 0:t.primary)||"#007bff"}};
  font-size: 16px;
  cursor: pointer;
  padding: 5px;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;

  &:hover:not(:disabled) {
    color: ${e=>{var t;return e.color||((t=e.theme)==null?void 0:t.primary)||"#007bff"}};
    background-color: rgba(0, 0, 0, 0.05);
  }

  &:disabled {
    color: #adb5bd;
    cursor: not-allowed;
  }
`;const e7=v.input`
  padding: 10px 15px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};
  width: 100%;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.primary||"#007bff"};
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
  }

  &:disabled {
    background-color: #f8f9fa;
    cursor: not-allowed;
  }
`;v.select`
  padding: 10px 15px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};
  width: 100%;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.primary||"#007bff"};
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
  }
`;v.div`
  margin-bottom: 15px;
`;v.label`
  display: block;
  margin-bottom: 5px;
  font-weight: 500;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
`;v.textarea`
  padding: 10px 15px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};
  width: 100%;
  min-height: ${e=>e.height||"100px"};
  resize: vertical;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.primary||"#007bff"};
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
  }
`;v.div`
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 10px;

  input {
    width: 16px;
    height: 16px;
    cursor: pointer;
  }

  label {
    font-size: 14px;
    cursor: pointer;
    user-select: none;
  }
`;v.div`
  display: flex;
  width: 100%;
  max-width: ${e=>e.maxWidth||"800px"};
  margin: 0 auto;
`;v(e7)`
  border-radius: 4px 0 0 4px;
`;v(LC)`
  border-radius: 0 4px 4px 0;
  padding: 10px 15px;
`;v.table`
  width: 100%;
  border-collapse: collapse;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  color: ${({theme:e})=>e.text};
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);

  th,
  td {
    padding: 12px 15px;
    text-align: left;
  }

  th {
    background-color: ${({theme:e})=>e.tableHeader||"#f0f0f0"};
    color: ${({theme:e})=>e.tableHeaderText||"#333"};
    font-weight: bold;
    position: ${e=>e.stickyHeader?"sticky":"static"};
    top: 0;
    z-index: 1;
  }

  tr {
    border-bottom: 1px solid ${({theme:e})=>e.border||"#ddd"};

    &:last-child {
      border-bottom: none;
    }

    &:hover {
      background-color: ${({theme:e})=>e.tableHover||"#f8f9fa"};
    }

    &.disabled {
      opacity: 0.6;
      background-color: ${({theme:e})=>e.tableDisabled||"#f2f2f2"};
    }
  }
`;v.div`
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  overflow-x: auto; // Ya tienes esto, correcto
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);

  /* Añadir esto */
  -webkit-overflow-scrolling: touch; /* Para mejor scroll en iOS */

  @media (max-width: 576px) {
    /* Mejora la visualización en móviles pequeños */
    margin-left: -10px;
    margin-right: -10px;
    width: calc(100% + 20px);
    border-radius: 0;
  }
`;const t7=v.span`
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: ${e=>e.size==="sm"?"3px 8px":"5px 10px"};
  border-radius: 50px;
  font-size: ${e=>e.size==="sm"?"12px":"14px"};
  font-weight: 500;
  color: ${e=>e.textColor||"white"};
  background-color: ${e=>e.variant==="primary"?e.theme.primary||"#007bff":e.variant==="secondary"?e.theme.secondary||"#6c757d":e.variant==="success"?e.theme.success||"#28a745":e.variant==="danger"?e.theme.danger||"#dc3545":e.variant==="warning"?e.theme.warning||"#ffc107":e.variant==="info"?e.theme.info||"#17a2b8":e.color||e.theme.primary||"#007bff"};
`,bK=v.div`
  border: 4px solid ${({theme:e})=>e.border||"#f3f3f3"};
  border-top: 4px solid ${({theme:e})=>e.primary||"#007bff"};
  border-radius: 50%;
  width: ${e=>e.size==="sm"?"20px":e.size==="lg"?"50px":"30px"};
  height: ${e=>e.size==="sm"?"20px":e.size==="lg"?"50px":"30px"};
  animation: spin 1s linear infinite;

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
`;v.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px 20px;
  gap: 15px;
`;v.div`
  background-color: rgba(220, 53, 69, 0.1);
  color: #dc3545;
  padding: 20px;
  border-radius: 8px;
  text-align: center;
  margin: 20px 0;
`;v.div`
  padding: 30px;
  text-align: center;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  color: ${({theme:e})=>e.textSecondary||"#666"};
`;v.hr`
  border: none;
  border-top: 1px solid ${({theme:e})=>e.border||"#eee"};
  margin: 20px 0;
`;v.div`
  display: flex;
  flex-direction: ${e=>e.direction||"row"};
  align-items: ${e=>e.align||"center"};
  justify-content: ${e=>e.justify||"flex-start"};
  gap: ${e=>e.gap||"10px"};
  flex-wrap: ${e=>e.wrap||"nowrap"};
  width: ${e=>e.fullWidth?"100%":"auto"};

  @media (max-width: 768px) {
    flex-direction: ${e=>e.responsiveDirection||e.direction||"row"};
  }
`;v.div`
  padding: ${e=>e.padding||"0"};
  margin: ${e=>e.margin||"0"};
  width: ${e=>e.width||"auto"};
  max-width: ${e=>e.maxWidth||"none"};
  text-align: ${e=>e.textAlign||"left"};
`;const r7=v.div`
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 5px;
  margin-top: 20px;
`;v.button`
  padding: 8px 12px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  background-color: ${e=>e.active?e.theme.primary||"#007bff":e.theme.cardBg||"#fff"};
  color: ${e=>e.active?"white":e.theme.text};
  border-radius: 4px;
  cursor: pointer;

  &:hover:not(:disabled) {
    background-color: ${e=>e.active?e.theme.primaryHover||"#0069d9":e.theme.hoverBg||"#f8f9fa"};
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;v.span`
  padding: 0 10px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`;v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  margin-bottom: 15px;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  padding: 15px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

  @media (max-width: 768px) {
    flex-direction: column;
  }
`;v.div`
  display: flex;
  flex-direction: column;
  gap: 5px;
  flex: 1;
  min-width: ${e=>e.minWidth||"150px"};

  @media (max-width: 768px) {
    width: 100%;
  }
`;v.label`
  font-size: 14px;
  font-weight: 500;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`;const ga=new FR,n7=()=>{var We,st,ge,De,xt,Nt,Qt,xr,at;const{user:e,accessToken:t}=wt(),{isAdmin:r,getModulePermissions:n,reloadModuleConfig:a}=oo(),o=_.useMemo(()=>n("modules"),[n]);console.log("Tenemos permisos",o);const[i,c]=_.useState([]),[d,f]=_.useState(!1),[p,m]=_.useState({}),[g,y]=_.useState([]),[w,S]=_.useState([]),[b,k]=_.useState(""),[C,$]=_.useState("all"),[L,T]=_.useState("all"),[P,O]=_.useState(!0),[N,R]=_.useState({current:1,pages:1,total:0,limit:12}),[D,j]=_.useState(!1),[A,I]=_.useState(null),[B,F]=_.useState(lb()),[U,Y]=_.useState({}),[W,Q]=_.useState([]),[Z,V]=_.useState(null),[K,se]=_.useState("uiConfig.order"),[he,me]=_.useState("asc"),[ne,ve]=_.useState(!1);if(!o.canAccess)return l.jsxs(EK,{children:[l.jsx(Oo,{size:64,color:"#dc3545"}),l.jsx("h2",{children:"Acceso Denegado"}),l.jsx("p",{children:"No tienes permisos para acceder al módulo de gestión de módulos."}),l.jsx("p",{children:"Se requieren privilegios de administrador."})]});_.useEffect(()=>{o.canAccess&&t&&(we(),de(),Ae())},[o.canAccess,t]),_.useEffect(()=>{o.canAccess&&t&&we()},[N.current,C,L,P,b,K,he]);const we=_.useCallback(async()=>{if(t){f(!0);try{const J={page:N.current,limit:N.limit,category:C,active:L,includeSystem:P.toString(),search:b,sortBy:K,sortOrder:he},$e=await ga.getAllModules(t,J);if($e.success)c($e.data||[]),R(Ve=>({...Ve,...$e.pagination}));else throw new Error($e.message||"Error cargando módulos")}catch(J){console.error("Error cargando módulos:",J),z.fire({icon:"error",title:"Error",text:J.message||"No se pudieron cargar los módulos"})}finally{f(!1)}}},[t,N.current,N.limit,C,L,P,b,K,he]),de=_.useCallback(async()=>{if(t)try{const J=await ga.getAvailableActions(t);J.success&&y(J.data||[])}catch(J){console.error("Error cargando acciones:",J)}},[t]),Ae=_.useCallback(async()=>{if(t)try{const J=await ga.getCategories(t);J.success&&S(J.data||[])}catch(J){console.error("Error cargando categorías:",J)}},[t]),_e=(J,$e)=>{m(Ve=>({...Ve,[J]:$e}))},le=_.useCallback((J=null)=>{if(J&&!o.canUpdate){z.fire({icon:"error",title:"Sin Permisos",text:"No tienes permisos para editar módulos."});return}if(!J&&!o.canCreate){z.fire({icon:"error",title:"Sin Permisos",text:"No tienes permisos para crear módulos."});return}J?(I(J),F({...J,actions:J.actions||[]})):(I(null),F(lb())),Y({}),j(!0)},[o.canCreate,o.canUpdate]),Je=_.useCallback(async()=>{if(!t)return;const J=wK(B);if(Object.keys(J).length>0){Y(J),z.fire({icon:"error",title:"Errores en el formulario",text:"Por favor corrige los errores antes de continuar"});return}try{f(!0);let $e;if(A?$e=await ga.updateModule(t,A._id,B):$e=await ga.createModule(t,B),$e.success)await z.fire({icon:"success",title:"Éxito",text:$e.message,timer:2e3,showConfirmButton:!1}),j(!1),I(null),F(lb()),await we(),await a();else throw new Error($e.message)}catch($e){console.error("Error guardando módulo:",$e),z.fire({icon:"error",title:"Error",text:$e.message||"Error al guardar el módulo"})}finally{f(!1)}},[t,A,B,we,a]),G=_.useCallback(async J=>{if(!o.canDelete){z.fire({icon:"error",title:"Sin Permisos",text:"No tienes permisos para eliminar módulos."});return}if(J.isSystem){z.fire({icon:"warning",title:"No Permitido",text:"No se pueden eliminar módulos del sistema."});return}if((await z.fire({title:`¿Eliminar módulo "${J.displayName}"?`,text:"Esta acción no se puede deshacer y puede afectar el funcionamiento del sistema",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar",confirmButtonColor:"#dc3545",input:"text",inputPlaceholder:`Escribe "${J.name}" para confirmar`,inputValidator:Ve=>{if(Ve!==J.name)return"Debes escribir el nombre exacto del módulo para confirmar"}})).isConfirmed)try{_e(J._id,!0);const Ve=await ga.deleteModule(t,J._id);if(Ve.success)await z.fire({icon:"success",title:"Eliminado",text:Ve.message,timer:2e3,showConfirmButton:!1}),await we(),await a();else throw new Error(Ve.message)}catch(Ve){console.error("Error eliminando módulo:",Ve),z.fire({icon:"error",title:"Error",text:Ve.message||"Error al eliminar el módulo"})}finally{_e(J._id,!1)}},[t,o.canDelete,we,a]),pe=_.useCallback(async J=>{var $e;if(!o.canUpdate){z.fire({icon:"error",title:"Sin Permisos",text:"No tienes permisos para cambiar el estado de módulos."});return}if(J.isSystem&&J.name==="dashboard"&&J.isActive){z.fire({icon:"warning",title:"No Permitido",text:"No se puede desactivar el módulo dashboard ya que es crítico para el sistema."});return}try{_e(J._id,!0);const Ve=await ga.toggleModuleStatus(t,J._id);if(Ve.success){await we(),await a();const Lt=($e=Ve.data)!=null&&$e.isActive?"activado":"desactivado";z.fire({icon:"success",title:`Módulo ${Lt}`,timer:1500,showConfirmButton:!1})}else throw new Error(Ve.message)}catch(Ve){console.error("Error cambiando estado:",Ve),z.fire({icon:"error",title:"Error",text:Ve.message||"Error al cambiar el estado del módulo"})}finally{_e(J._id,!1)}},[t,o.canUpdate,we,a]),Ce=_.useCallback(async J=>{if(!o.canCreate){z.fire({icon:"error",title:"Sin Permisos",text:"No tienes permisos para crear módulos."});return}const{value:$e}=await z.fire({title:`Duplicar módulo "${J.displayName}"`,html:`
        <div style="text-align: left; margin: 1rem 0;">
          <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Nuevo Nombre:</label>
          <input id="newName" class="swal2-input" placeholder="ej: nuevo_modulo" value="${J.name}_copy" style="margin-bottom: 1rem;">
          <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Nombre para Mostrar:</label>
          <input id="newDisplayName" class="swal2-input" placeholder="ej: Nuevo Módulo" value="${J.displayName} (Copia)">
        </div>
      `,focusConfirm:!1,preConfirm:()=>{const Ve=document.getElementById("newName").value.trim(),Lt=document.getElementById("newDisplayName").value.trim();return!Ve||!Lt?(z.showValidationMessage("Todos los campos son requeridos"),!1):/^[a-z0-9_-]+$/.test(Ve)?{newName:Ve,newDisplayName:Lt}:(z.showValidationMessage("El nombre solo puede contener letras minúsculas, números, guiones y guiones bajos"),!1)}});if($e)try{_e(J._id,!0);const Ve=await ga.duplicateModule(t,J._id,$e);if(Ve.success)await z.fire({icon:"success",title:"Módulo Duplicado",text:Ve.message,timer:2e3,showConfirmButton:!1}),await we(),await a();else throw new Error(Ve.message)}catch(Ve){console.error("Error duplicando módulo:",Ve),z.fire({icon:"error",title:"Error",text:Ve.message||"Error al duplicar el módulo"})}finally{_e(J._id,!1)}},[t,o.canCreate,we,a]),He=_.useCallback(async()=>{if(!r){z.fire({icon:"error",title:"Sin Permisos",text:"Solo los administradores pueden invalidar el caché."});return}try{f(!0);const J=await ga.invalidateCache(t);if(J.success)await z.fire({icon:"success",title:"Caché Invalidado",text:J.message,timer:2e3,showConfirmButton:!1}),await a();else throw new Error(J.message)}catch(J){console.error("Error invalidando caché:",J),z.fire({icon:"error",title:"Error",text:J.message||"Error al invalidar el caché"})}finally{f(!1)}},[t,r,a]),je=_.useCallback(async()=>{if(!o.canRead){z.fire({icon:"error",title:"Sin Permisos",text:"No tienes permisos para exportar módulos."});return}try{f(!0);const J=await ga.exportModules(t,"json");if(J.success){const $e=JSON.stringify(J.data,null,2),Ve=new Blob([$e],{type:"application/json"}),Lt=URL.createObjectURL(Ve),lr=document.createElement("a");lr.href=Lt,lr.download=`modules-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(lr),lr.click(),document.body.removeChild(lr),URL.revokeObjectURL(Lt),z.fire({icon:"success",title:"Exportación Exitosa",text:"Los módulos han sido exportados correctamente",timer:2e3,showConfirmButton:!1})}else throw new Error(J.message)}catch(J){console.error("Error exportando módulos:",J),z.fire({icon:"error",title:"Error",text:J.message||"Error al exportar módulos"})}finally{f(!1)}},[t,o.canRead]),re=_.useCallback(async()=>{if(!r){z.fire({icon:"error",title:"Sin Permisos",text:"Solo los administradores pueden inicializar módulos del sistema."});return}if((await z.fire({title:"¿Inicializar módulos del sistema?",text:"Esto creará o actualizará los módulos básicos del sistema",icon:"question",showCancelButton:!0,confirmButtonText:"Sí, inicializar",cancelButtonText:"Cancelar"})).isConfirmed)try{f(!0);const $e=await ga.initializeSystemModules(t);if($e.success)await z.fire({icon:"success",title:"Módulos Inicializados",text:$e.message,timer:3e3,showConfirmButton:!1}),await we(),await a();else throw new Error($e.message)}catch($e){console.error("Error inicializando módulos:",$e),z.fire({icon:"error",title:"Error",text:$e.message||"Error al inicializar módulos del sistema"})}finally{f(!1)}},[t,r,we,a]),Se=_.useCallback((J,$e)=>{switch(R(Ve=>({...Ve,current:1})),J){case"search":k($e);break;case"category":$($e);break;case"status":T($e);break;case"includeSystem":O($e);break;case"sortBy":se($e);break;case"sortOrder":me($e);break}},[]),ye=_.useCallback(J=>{R($e=>({...$e,current:J}))},[]),Pe=_.useCallback(J=>{V($e=>$e===J?null:J)},[]),Ze=_.useMemo(()=>{const J={total:i.length,active:i.filter($e=>$e.isActive).length,inactive:i.filter($e=>!$e.isActive).length,system:i.filter($e=>$e.isSystem).length,custom:i.filter($e=>!$e.isSystem).length,byCategory:{}};return w.forEach($e=>{J.byCategory[$e.name]=i.filter(Ve=>{var Lt;return((Lt=Ve.uiConfig)==null?void 0:Lt.category)===$e.name}).length}),J},[i,w]),lt=_.useCallback(async()=>{if(!r){z.fire({icon:"error",title:"Sin Permisos",text:"Solo los administradores pueden asignar permisos de módulos."});return}const{value:J}=await z.fire({title:"Asignar Permisos de Módulos",html:`
      <div style="text-align: left;">
        <h4>Selecciona los roles y permisos:</h4>
        <div id="rolePermissionsContainer">
          <div class="role-permission-item">
            <label>
              <input type="checkbox" value="superadmin" checked> 
              Super Admin - Todos los permisos
            </label>
          </div>
          <div class="role-permission-item">
            <label>
              <input type="checkbox" value="admin" checked> 
              Admin - Lectura y actualización
            </label>
          </div>
          <div class="role-permission-item">
            <label>
              <input type="checkbox" value="coordinador"> 
              Coordinador - Solo lectura
            </label>
          </div>
        </div>
      </div>
    `,focusConfirm:!1,preConfirm:()=>{const $e=[];return document.querySelectorAll("#rolePermissionsContainer input:checked").forEach(Ve=>{$e.push(Ve.value)}),$e}});if(!(!J||J.length===0))try{f(!0);const $e=J.map(lr=>{let ct;switch(lr){case"superadmin":ct=["create","read","update","delete","manage"];break;case"admin":ct=["read","update"];break;default:ct=["read"]}return{roleName:lr,permissions:ct}}),Lt=await(await fetch("/api/v1/roles/update-modules-permissions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({roleUpdates:$e})})).json();if(Lt.success)z.fire({icon:"success",title:"Permisos Asignados",text:"Los permisos de módulos han sido asignados correctamente"});else throw new Error(Lt.message)}catch($e){z.fire({icon:"error",title:"Error",text:$e.message||"Error al asignar permisos"})}finally{f(!1)}},[t,r]);return l.jsxs(SK,{children:[l.jsxs(jK,{children:[l.jsxs(CK,{children:[l.jsxs($K,{children:[l.jsxs(TK,{children:[l.jsx(_s,{})," Gestión de Módulos"]}),l.jsx(kK,{children:"Configura módulos del sistema dinámicamente"})]}),l.jsxs(AK,{children:[l.jsxs(cb,{children:[l.jsx(ub,{children:Ze.total}),l.jsx(db,{children:"Total"})]}),l.jsxs(cb,{active:!0,children:[l.jsx(ub,{children:Ze.active}),l.jsx(db,{children:"Activos"})]}),l.jsxs(cb,{system:!0,children:[l.jsx(ub,{children:Ze.system}),l.jsx(db,{children:"Sistema"})]})]})]}),l.jsxs(OK,{children:[l.jsx(Yd,{resource:"modules",action:"create",showFallback:!1,children:l.jsxs(qr,{onClick:()=>le(),variant:"primary",disabled:d,children:[l.jsx(ar,{})," Nuevo Módulo"]})}),l.jsxs(qr,{onClick:we,variant:"secondary",disabled:d,children:[l.jsx(Zt,{className:d?"spinning":""}),d?"Cargando...":"Refrescar"]}),r&&l.jsxs(qr,{onClick:lt,variant:"warning",disabled:d,children:[l.jsx(Oo,{})," Asignar Permisos"]}),l.jsxs(qr,{onClick:()=>ve(!ne),variant:"info",children:[l.jsx(Ak,{})," ",ne?"Ocultar":"Avanzado"]})]})]}),ne&&l.jsxs(PK,{children:[l.jsxs(_K,{children:[l.jsx(Ak,{})," Opciones Avanzadas"]}),l.jsx(DK,{children:r&&l.jsxs(l.Fragment,{children:[l.jsxs(qr,{onClick:He,variant:"warning",disabled:d,size:"small",children:[l.jsx(Nr,{})," Limpiar Caché"]}),l.jsxs(qr,{onClick:je,variant:"info",disabled:d,size:"small",children:[l.jsx(hV,{})," Exportar"]}),l.jsxs(qr,{onClick:re,variant:"success",disabled:d,size:"small",children:[l.jsx(Sg,{})," Inicializar Sistema"]})]})})]}),l.jsxs(MK,{children:[l.jsxs(Xk,{children:[l.jsxs(RK,{children:[l.jsx(Zs,{}),l.jsx(IK,{type:"text",placeholder:"Buscar módulos...",value:b,onChange:J=>Se("search",J.target.value)})]}),l.jsxs(Lh,{value:C,onChange:J=>Se("category",J.target.value),children:[l.jsx("option",{value:"all",children:"Todas las categorías"}),w.map(J=>l.jsxs("option",{value:J.name,children:[J.displayName," (",Ze.byCategory[J.name]||0,")"]},J.name))]}),l.jsxs(Lh,{value:L,onChange:J=>Se("status",J.target.value),children:[l.jsx("option",{value:"all",children:"Todos los estados"}),l.jsxs("option",{value:"true",children:["Activos (",Ze.active,")"]}),l.jsxs("option",{value:"false",children:["Inactivos (",Ze.inactive,")"]})]})]}),l.jsxs(Xk,{children:[l.jsxs(NK,{children:[l.jsx("input",{type:"checkbox",id:"includeSystem",checked:P,onChange:J=>Se("includeSystem",J.target.checked)}),l.jsxs("label",{htmlFor:"includeSystem",children:["Incluir módulos del sistema (",Ze.system,")"]})]}),l.jsxs(LK,{children:[l.jsx("label",{children:"Ordenar por:"}),l.jsxs(Lh,{value:K,onChange:J=>Se("sortBy",J.target.value),children:[l.jsx("option",{value:"uiConfig.order",children:"Orden"}),l.jsx("option",{value:"displayName",children:"Nombre"}),l.jsx("option",{value:"uiConfig.category",children:"Categoría"}),l.jsx("option",{value:"createdAt",children:"Fecha creación"}),l.jsx("option",{value:"updatedAt",children:"Fecha modificación"})]}),l.jsxs(Lh,{value:he,onChange:J=>Se("sortOrder",J.target.value),children:[l.jsx("option",{value:"asc",children:"Ascendente"}),l.jsx("option",{value:"desc",children:"Descendente"})]})]})]})]}),l.jsx(zK,{children:d?l.jsxs(BK,{children:[l.jsx(bK,{}),l.jsx("p",{children:"Cargando módulos..."})]}):i.length===0?l.jsxs(SQ,{children:[l.jsx(_s,{size:64,color:"#ccc"}),l.jsx("h3",{children:"No hay módulos disponibles"}),l.jsx("p",{children:N.total===0?"No hay módulos configurados en el sistema":"No hay módulos que coincidan con los filtros aplicados"}),o.canCreate&&l.jsxs(qr,{onClick:()=>le(),variant:"primary",children:[l.jsx(ar,{})," Crear Primer Módulo"]})]}):l.jsx(FK,{children:i.map(J=>{var $e,Ve,Lt,lr,ct,Or,br,Bn,ti,sa,ri,la,co,uo,Pr,zn,Ma;return l.jsxs(qK,{isSystem:J.isSystem,isActive:J.isActive,children:[l.jsxs(HK,{children:[l.jsxs(UK,{children:[l.jsx(VK,{style:{color:(($e=J.uiConfig)==null?void 0:$e.color)||"#666"},children:J.isSystem?l.jsx(Oo,{}):l.jsx(_s,{})}),l.jsxs("div",{children:[l.jsx(WK,{children:J.displayName}),l.jsx(YK,{children:J.name})]})]}),l.jsxs(GK,{children:[l.jsx(qr,{onClick:()=>Pe(J._id),variant:"ghost",size:"small",title:"Ver detalles",children:Z===J._id?l.jsx(pV,{}):l.jsx(uV,{})}),l.jsx(Yd,{resource:"modules",action:"update",showFallback:!1,children:l.jsx(qr,{onClick:()=>le(J),variant:"info",size:"small",title:"Editar módulo",disabled:p[J._id],children:l.jsx(Ir,{})})}),l.jsx(Yd,{resource:"modules",action:"create",showFallback:!1,children:l.jsx(qr,{onClick:()=>Ce(J),variant:"secondary",size:"small",title:"Duplicar módulo",disabled:p[J._id],children:l.jsx(KR,{})})}),l.jsx(qr,{onClick:()=>pe(J),variant:J.isActive?"warning":"success",size:"small",title:J.isActive?"Desactivar":"Activar",disabled:p[J._id]||J.isSystem&&J.name==="dashboard"&&J.isActive,children:p[J._id]?l.jsx(Zt,{className:"spinning"}):J.isActive?l.jsx(oV,{}):l.jsx(Zl,{})}),!J.isSystem&&l.jsx(Yd,{resource:"modules",action:"delete",showFallback:!1,children:l.jsx(qr,{onClick:()=>G(J),variant:"danger",size:"small",title:"Eliminar módulo",disabled:p[J._id],children:l.jsx(Nr,{})})})]})]}),l.jsxs(KK,{children:[l.jsxs(QK,{children:[l.jsxs(Bh,{children:[l.jsx(zh,{children:"Recurso:"}),l.jsx(Fh,{children:l.jsx(XK,{children:J.resource})})]}),l.jsxs(Bh,{children:[l.jsx(zh,{children:"Categoría:"}),l.jsx(Fh,{children:l.jsx(JK,{category:(Ve=J.uiConfig)==null?void 0:Ve.category,children:((Lt=w.find(Ot=>{var ni;return Ot.name===((ni=J.uiConfig)==null?void 0:ni.category)}))==null?void 0:Lt.displayName)||((lr=J.uiConfig)==null?void 0:lr.category)})})]}),l.jsxs(Bh,{children:[l.jsx(zh,{children:"Estado:"}),l.jsx(Fh,{children:l.jsx(t7,{active:J.isActive,children:J.isActive?l.jsxs(l.Fragment,{children:[l.jsx(Sg,{})," Activo"]}):l.jsxs(l.Fragment,{children:[l.jsx(tI,{})," Inactivo"]})})})]}),l.jsxs(Bh,{children:[l.jsx(zh,{children:"Acciones:"}),l.jsx(Fh,{children:l.jsxs(ZK,{children:[(ct=J.actions)==null?void 0:ct.slice(0,3).map(Ot=>l.jsx(Jk,{isDefault:Ot.isDefault,children:Ot.displayName},Ot.name)),((Or=J.actions)==null?void 0:Or.length)>3&&l.jsxs(Jk,{children:["+",J.actions.length-3]})]})})]})]}),J.description&&l.jsx(eQ,{children:J.description})]}),Z===J._id&&l.jsxs(tQ,{children:[l.jsxs(ad,{children:[l.jsxs(bo,{children:[l.jsx(ab,{})," Acciones Configuradas"]}),l.jsx(rQ,{children:(br=J.actions)==null?void 0:br.map(Ot=>l.jsxs(nQ,{children:[l.jsx(aQ,{children:l.jsxs(oQ,{isDefault:Ot.isDefault,children:[Ot.displayName,Ot.isDefault&&l.jsx(iQ,{children:"Por defecto"})]})}),l.jsx(sQ,{children:Ot.description||`Acción: ${Ot.name}`})]},Ot.name))})]}),l.jsxs(ad,{children:[l.jsxs(bo,{children:[l.jsx(ab,{})," Rutas Configuradas"]}),l.jsxs(lQ,{children:[(Bn=J.routes)==null?void 0:Bn.map((Ot,ni)=>l.jsxs(cQ,{children:[l.jsx(uQ,{method:Ot.method||"GET",children:Ot.method||"GET"}),l.jsx(dQ,{children:Ot.path}),l.jsx(fQ,{children:Ot.requiredAction||"read"}),Ot.isMain&&l.jsx(pQ,{children:"Principal"})]},ni)),(!J.routes||J.routes.length===0)&&l.jsx(hQ,{children:"No hay rutas configuradas"})]})]}),l.jsxs(ad,{children:[l.jsxs(bo,{children:[l.jsx(ta,{})," Configuración UI"]}),l.jsxs(mQ,{children:[l.jsxs(od,{children:[l.jsx("span",{children:"Icono:"}),l.jsx("code",{children:((ti=J.uiConfig)==null?void 0:ti.icon)||"FaCog"})]}),l.jsxs(od,{children:[l.jsx("span",{children:"Color:"}),l.jsxs(gQ,{children:[l.jsx(yQ,{color:((sa=J.uiConfig)==null?void 0:sa.color)||"#666"}),l.jsx("code",{children:((ri=J.uiConfig)==null?void 0:ri.color)||"#666"})]})]}),l.jsxs(od,{children:[l.jsx("span",{children:"Orden:"}),l.jsx("span",{children:((la=J.uiConfig)==null?void 0:la.order)||0})]}),l.jsxs(od,{children:[l.jsx("span",{children:"En menú:"}),l.jsx(fb,{active:(co=J.uiConfig)==null?void 0:co.showInMenu,children:(uo=J.uiConfig)!=null&&uo.showInMenu?l.jsx(Zl,{}):l.jsx(dn,{})})]}),l.jsxs(od,{children:[l.jsx("span",{children:"En dashboard:"}),l.jsx(fb,{active:(Pr=J.uiConfig)==null?void 0:Pr.showInDashboard,children:(zn=J.uiConfig)!=null&&zn.showInDashboard?l.jsx(Zl,{}):l.jsx(dn,{})})]})]})]}),J.restrictions&&l.jsxs(ad,{children:[l.jsxs(bo,{children:[l.jsx(Oo,{})," Restricciones"]}),l.jsxs(vQ,{children:[l.jsxs(pb,{children:[l.jsx("span",{children:"Requiere Admin:"}),l.jsx(fb,{active:J.restrictions.requireAdmin,children:J.restrictions.requireAdmin?l.jsx(Zl,{}):l.jsx(dn,{})})]}),l.jsxs(pb,{children:[l.jsx("span",{children:"Rol Mínimo:"}),l.jsx(xQ,{children:J.restrictions.minimumRole||"user"})]}),((Ma=J.restrictions.contextRules)==null?void 0:Ma.length)>0&&l.jsxs(pb,{children:[l.jsx("span",{children:"Reglas Contextuales:"}),l.jsxs("span",{children:[J.restrictions.contextRules.length," ","configuradas"]})]})]})]}),(J.createdBy||J.lastModifiedBy||J.version)&&l.jsxs(ad,{children:[l.jsxs(bo,{children:[l.jsx(_n,{})," Metadatos"]}),l.jsxs(bQ,{children:[J.version&&l.jsxs(qh,{children:[l.jsx("span",{children:"Versión:"}),l.jsx(wQ,{children:J.version})]}),J.createdBy&&l.jsxs(qh,{children:[l.jsx("span",{children:"Creado por:"}),l.jsxs("span",{children:[J.createdBy.name," ",J.createdBy.lastname]})]}),J.lastModifiedBy&&l.jsxs(qh,{children:[l.jsx("span",{children:"Modificado por:"}),l.jsxs("span",{children:[J.lastModifiedBy.name," ",J.lastModifiedBy.lastname]})]}),l.jsxs(qh,{children:[l.jsx("span",{children:"Tipo:"}),l.jsx("span",{children:J.isSystem?"Sistema":"Personalizado"})]})]})]})]})]},J._id)})})}),!d&&i.length>0&&N.pages>1&&l.jsx(EQ,{children:l.jsx(r7,{current:N.current,total:N.pages,onPageChange:ye,showInfo:!0,itemsPerPage:N.limit,totalItems:N.total})}),D&&l.jsx(jQ,{onClick:J=>J.target===J.currentTarget&&j(!1),children:l.jsxs(CQ,{children:[l.jsxs($Q,{children:[l.jsx("h3",{children:A?l.jsxs(l.Fragment,{children:[l.jsx(Ir,{})," Editar Módulo"]}):l.jsxs(l.Fragment,{children:[l.jsx(ar,{})," Nuevo Módulo"]})}),l.jsx(TQ,{onClick:()=>j(!1),children:l.jsx(dn,{})})]}),l.jsxs(kQ,{children:[l.jsxs(Hh,{children:[l.jsxs(bo,{children:[l.jsx(_n,{})," Información Básica"]}),l.jsxs(id,{children:[l.jsxs(wo,{children:[l.jsx(So,{children:"Nombre del Módulo *"}),l.jsx(fs,{type:"text",value:B.name||"",onChange:J=>F({...B,name:J.target.value.toLowerCase()}),placeholder:"ej: tasks",error:U.name}),U.name&&l.jsx(Uh,{children:U.name}),l.jsx(Ml,{children:"Solo letras minúsculas, números, guiones y guiones bajos"})]}),l.jsxs(wo,{children:[l.jsx(So,{children:"Nombre para Mostrar *"}),l.jsx(fs,{type:"text",value:B.displayName||"",onChange:J=>F({...B,displayName:J.target.value}),placeholder:"ej: Gestión de Tareas",error:U.displayName}),U.displayName&&l.jsx(Uh,{children:U.displayName})]})]}),l.jsxs(wo,{children:[l.jsx(So,{children:"Descripción"}),l.jsx(AQ,{value:B.description||"",onChange:J=>F({...B,description:J.target.value}),placeholder:"Descripción del módulo...",rows:3})]}),l.jsxs(wo,{children:[l.jsx(So,{children:"Recurso *"}),l.jsx(fs,{type:"text",value:B.resource||"",onChange:J=>F({...B,resource:J.target.value.toLowerCase()}),placeholder:"ej: tasks",error:U.resource}),U.resource&&l.jsx(Uh,{children:U.resource}),l.jsx(Ml,{children:"Recurso asociado para permisos"})]})]}),l.jsxs(Hh,{children:[l.jsxs(bo,{children:[l.jsx(ab,{})," Acciones del Módulo"]}),l.jsx(PQ,{children:g.map(J=>{var Lt,lr;const $e=(Lt=B.actions)==null?void 0:Lt.some(ct=>ct.name===J.name),Ve=(lr=B.actions)==null?void 0:lr.find(ct=>ct.name===J.name);return l.jsxs(_Q,{children:[l.jsx(DQ,{type:"checkbox",checked:$e,onChange:ct=>{var Or;ct.target.checked?F({...B,actions:[...B.actions||[],{name:J.name,displayName:J.displayName,description:J.description,isDefault:!1}]}):F({...B,actions:((Or=B.actions)==null?void 0:Or.filter(br=>br.name!==J.name))||[]})}}),l.jsxs(MQ,{children:[l.jsx(RQ,{children:J.displayName}),l.jsx(IQ,{children:J.description})]}),$e&&l.jsxs(NQ,{children:[l.jsx(LQ,{type:"checkbox",checked:(Ve==null?void 0:Ve.isDefault)||!1,onChange:ct=>{var Or;F({...B,actions:((Or=B.actions)==null?void 0:Or.map(br=>br.name===J.name?{...br,isDefault:ct.target.checked}:br))||[]})},title:"Acción por defecto"}),l.jsx("label",{children:"Por defecto"})]})]},J.name)})}),U.actions&&l.jsx(Uh,{children:U.actions}),l.jsx(Ml,{children:"Selecciona las acciones que estarán disponibles para este módulo"})]}),l.jsxs(Hh,{children:[l.jsxs(bo,{children:[l.jsx(ta,{})," Configuración de Interfaz"]}),l.jsxs(id,{children:[l.jsxs(wo,{children:[l.jsx(So,{children:"Icono"}),l.jsx(fs,{type:"text",value:((We=B.uiConfig)==null?void 0:We.icon)||"",onChange:J=>F({...B,uiConfig:{...B.uiConfig,icon:J.target.value}}),placeholder:"ej: FaTasks"}),l.jsx(Ml,{children:"Nombre del icono de React Icons (FontAwesome)"})]}),l.jsxs(wo,{children:[l.jsx(So,{children:"Color"}),l.jsxs(OQ,{children:[l.jsx(fs,{type:"color",value:((st=B.uiConfig)==null?void 0:st.color)||"#007bff",onChange:J=>F({...B,uiConfig:{...B.uiConfig,color:J.target.value}}),style:{width:"60px",padding:"0.25rem"}}),l.jsx(fs,{type:"text",value:((ge=B.uiConfig)==null?void 0:ge.color)||"#007bff",onChange:J=>F({...B,uiConfig:{...B.uiConfig,color:J.target.value}}),placeholder:"#007bff",style:{flex:1}})]})]})]}),l.jsxs(id,{children:[l.jsxs(wo,{children:[l.jsx(So,{children:"Categoría"}),l.jsx(Zk,{value:((De=B.uiConfig)==null?void 0:De.category)||"operational",onChange:J=>F({...B,uiConfig:{...B.uiConfig,category:J.target.value}}),children:w.map(J=>l.jsx("option",{value:J.name,children:J.displayName},J.name))})]}),l.jsxs(wo,{children:[l.jsx(So,{children:"Orden"}),l.jsx(fs,{type:"number",min:"0",max:"1000",value:((xt=B.uiConfig)==null?void 0:xt.order)||0,onChange:J=>F({...B,uiConfig:{...B.uiConfig,order:parseInt(J.target.value)}})}),l.jsx(Ml,{children:"Orden de aparición (0-1000)"})]})]}),l.jsxs(id,{children:[l.jsxs(mb,{children:[l.jsx(hb,{type:"checkbox",id:"showInMenu",checked:((Nt=B.uiConfig)==null?void 0:Nt.showInMenu)!==!1,onChange:J=>F({...B,uiConfig:{...B.uiConfig,showInMenu:J.target.checked}})}),l.jsx("label",{htmlFor:"showInMenu",children:"Mostrar en menú principal"})]}),l.jsxs(mb,{children:[l.jsx(hb,{type:"checkbox",id:"showInDashboard",checked:((Qt=B.uiConfig)==null?void 0:Qt.showInDashboard)||!1,onChange:J=>F({...B,uiConfig:{...B.uiConfig,showInDashboard:J.target.checked}})}),l.jsx("label",{htmlFor:"showInDashboard",children:"Mostrar en dashboard"})]})]})]}),l.jsxs(Hh,{children:[l.jsxs(bo,{children:[l.jsx(Oo,{})," Restricciones de Acceso"]}),l.jsx(id,{children:l.jsxs(mb,{children:[l.jsx(hb,{type:"checkbox",id:"requireAdmin",checked:((xr=B.restrictions)==null?void 0:xr.requireAdmin)||!1,onChange:J=>F({...B,restrictions:{...B.restrictions,requireAdmin:J.target.checked}})}),l.jsx("label",{htmlFor:"requireAdmin",children:"Requiere privilegios de administrador"})]})}),l.jsxs(wo,{children:[l.jsx(So,{children:"Rol Mínimo Requerido"}),l.jsxs(Zk,{value:((at=B.restrictions)==null?void 0:at.minimumRole)||"user",onChange:J=>F({...B,restrictions:{...B.restrictions,minimumRole:J.target.value}}),children:[l.jsx("option",{value:"guest",children:"Invitado"}),l.jsx("option",{value:"user",children:"Usuario"}),l.jsx("option",{value:"editor",children:"Editor"}),l.jsx("option",{value:"manager",children:"Manager"}),l.jsx("option",{value:"admin",children:"Administrador"})]}),l.jsx(Ml,{children:"Rol mínimo requerido para acceder al módulo"})]})]})]}),l.jsxs(BQ,{children:[l.jsxs(qr,{onClick:()=>j(!1),variant:"secondary",disabled:d,children:[l.jsx(dn,{})," Cancelar"]}),l.jsxs(qr,{onClick:Je,variant:"primary",disabled:d,children:[l.jsx(nv,{})," ",d?"Guardando...":"Guardar Módulo"]})]})]})})]})};function lb(){return{name:"",displayName:"",description:"",resource:"",actions:[{name:"read",displayName:"Leer",description:"Visualizar elementos",isDefault:!0}],routes:[],uiConfig:{icon:"FaCog",color:"#007bff",category:"operational",order:0,showInMenu:!0,showInDashboard:!1},restrictions:{requireAdmin:!1,minimumRole:"user",contextRules:[]},isActive:!0}}function wK(e){const t={};return!e.name||e.name.trim().length<2?t.name="El nombre es requerido y debe tener al menos 2 caracteres":/^[a-z0-9_-]+$/.test(e.name)||(t.name="El nombre solo puede contener letras minúsculas, números, guiones y guiones bajos"),(!e.displayName||e.displayName.trim().length<2)&&(t.displayName="El nombre para mostrar es requerido y debe tener al menos 2 caracteres"),!e.resource||e.resource.trim().length<2?t.resource="El recurso es requerido y debe tener al menos 2 caracteres":/^[a-z0-9_]+$/.test(e.resource)||(t.resource="El recurso solo puede contener letras minúsculas, números y guiones bajos"),(!e.actions||e.actions.length===0)&&(t.actions="Debe especificar al menos una acción"),e.description&&e.description.length>500&&(t.description="La descripción no puede exceder 500 caracteres"),t}const SK=v.div`
  padding: 2rem;
  background-color: ${e=>e.theme.bg};
  color: ${e=>e.theme.text};
  min-height: 100vh;
`,EK=v.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 60vh;
  gap: 1rem;
  text-align: center;

  h2 {
    color: #dc3545;
    margin: 0;
  }

  p {
    color: #666;
    margin: 0.5rem 0;
  }
`,jK=v.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 2rem;
  gap: 2rem;

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: stretch;
  }
`,CK=v.div`
  flex: 1;
  display: flex;
  gap: 2rem;
  align-items: flex-start;

  @media (max-width: 768px) {
    flex-direction: column;
    gap: 1rem;
  }
`,$K=v.div`
  flex: 1;
`,TK=v.h1`
  margin: 0 0 0.5rem 0;
  color: ${e=>e.theme.primary};
  font-size: 2rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
`,kK=v.p`
  margin: 0;
  color: ${e=>e.theme.textSecondary};
  font-size: 1.1rem;
`,AK=v.div`
  display: flex;
  gap: 1rem;

  @media (max-width: 768px) {
    justify-content: center;
  }
`,cb=v.div`
  background: ${e=>e.active?e.theme.success:e.system?e.theme.warning:e.theme.cardBg};
  padding: 1rem;
  border-radius: 8px;
  text-align: center;
  min-width: 80px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  border: 1px solid ${e=>e.theme.border};
`,ub=v.div`
  font-size: 1.5rem;
  font-weight: bold;
  color: ${e=>e.theme.text};
`,db=v.div`
  font-size: 0.875rem;
  color: ${e=>e.theme.textSecondary};
  margin-top: 0.25rem;
`,OK=v.div`
  display: flex;
  gap: 1rem;
  align-items: center;
  flex-wrap: wrap;

  @media (max-width: 768px) {
    justify-content: center;
  }
`,PK=v.div`
  background: ${e=>e.theme.cardBg};
  border: 1px solid ${e=>e.theme.border};
  border-radius: 8px;
  padding: 1rem;
  margin-bottom: 2rem;
`,_K=v.h3`
  margin: 0 0 1rem 0;
  color: ${e=>e.theme.primary};
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 1rem;
`,DK=v.div`
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
`,MK=v.div`
  background: ${e=>e.theme.cardBg};
  border-radius: 8px;
  padding: 1rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  border: 1px solid ${e=>e.theme.border};
`,Xk=v.div`
  display: flex;
  gap: 1rem;
  align-items: center;
  margin-bottom: 1rem;
  flex-wrap: wrap;

  &:last-child {
    margin-bottom: 0;
  }

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: stretch;
  }
`,RK=v.div`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem;
  background: ${e=>e.theme.bg};
  border: 1px solid ${e=>e.theme.border};
  border-radius: 4px;
  color: ${e=>e.theme.textSecondary};
  flex: 1;
  min-width: 200px;
`,IK=v.input`
  border: none;
  background: transparent;
  color: ${e=>e.theme.text};
  outline: none;
  width: 100%;

  &::placeholder {
    color: ${e=>e.theme.textSecondary};
  }
`,Lh=v.select`
  padding: 0.5rem;
  border: 1px solid ${e=>e.theme.border};
  border-radius: 4px;
  background: ${e=>e.theme.bg};
  color: ${e=>e.theme.text};
  min-width: 150px;
`,NK=v.div`
  display: flex;
  align-items: center;
  gap: 0.5rem;

  label {
    color: ${e=>e.theme.text};
    cursor: pointer;
    user-select: none;
  }
`,LK=v.div`
  display: flex;
  align-items: center;
  gap: 0.5rem;

  label {
    color: ${e=>e.theme.text};
    white-space: nowrap;
  }
`,BK=v.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 3rem;
  gap: 1rem;
`,zK=v.div`
  margin-bottom: 2rem;
`,FK=v.div`
  display: grid;
  gap: 1.5rem;
  grid-template-columns: repeat(auto-fill, minmax(420px, 1fr));

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
`,qK=v.div`
  background: ${e=>e.theme.cardBg};
  border: 2px solid
    ${e=>e.isSystem?"#ffc107":e.isActive?e.theme.border:"#6c757d"};
  border-radius: 8px;
  padding: 1.5rem;
  position: relative;
  transition: all 0.2s ease;
  opacity: ${e=>e.isActive?1:.7};

  &:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: ${e=>e.theme.primary};
  }

  ${e=>e.isSystem&&`
   &::before {
     content: 'SISTEMA';
     position: absolute;
     top: -1px;
     right: -1px;
     background: #ffc107;
     color: #000;
     font-size: 10px;
     font-weight: bold;
     padding: 2px 8px;
     border-radius: 0 6px 0 8px;
   }
 `}
`,HK=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid ${e=>e.theme.border};
`,UK=v.div`
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex: 1;
`,VK=v.span`
  font-size: 1.5rem;
  display: flex;
  align-items: center;
`,WK=v.h3`
  margin: 0;
  color: ${e=>e.theme.text};
  font-size: 1.1rem;
`,YK=v.div`
  font-size: 0.875rem;
  color: ${e=>e.theme.textSecondary};
  margin-top: 0.25rem;
`,GK=v.div`
  display: flex;
  gap: 0.5rem;
`,KK=v.div`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,QK=v.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.75rem;

  @media (max-width: 480px) {
    grid-template-columns: 1fr;
  }
`,Bh=v.div`
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
`,zh=v.span`
  font-weight: 600;
  color: ${e=>e.theme.textSecondary};
  font-size: 0.875rem;
`,Fh=v.div`
  color: ${e=>e.theme.text};
  display: flex;
  align-items: center;
  gap: 0.25rem;
`,XK=v.span`
  background: ${e=>e.theme.primary};
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
`,JK=v.span`
  background: ${e=>{switch(e.category){case"operational":return"#007bff";case"administrative":return"#dc3545";case"analytical":return"#28a745";case"configuration":return"#ffc107";default:return"#6c757d"}}};
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
`,ZK=v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 0.25rem;
`,Jk=v.span`
  background: ${e=>e.isDefault?e.theme.primary:e.theme.secondary};
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
`,eQ=v.div`
  font-size: 0.875rem;
  color: ${e=>e.theme.textSecondary};
  line-height: 1.4;
  font-style: italic;
  padding: 0.5rem;
  background: ${e=>e.theme.bg};
  border-radius: 4px;
  border-left: 3px solid ${e=>e.theme.primary};
`,tQ=v.div`
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid ${e=>e.theme.border};
  background: ${e=>e.theme.bg};
  border-radius: 4px;
  padding: 1rem;
`,ad=v.div`
  margin-bottom: 1.5rem;

  &:last-child {
    margin-bottom: 0;
  }
`,bo=v.h4`
  margin: 0 0 1rem 0;
  color: ${e=>e.theme.primary};
  font-size: 1rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.5rem;
`,rQ=v.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 0.5rem;
`,nQ=v.div`
  padding: 0.75rem;
  background: ${e=>e.theme.cardBg};
  border-radius: 4px;
  border: 1px solid ${e=>e.theme.border};
`,aQ=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
`,oQ=v.div`
  font-weight: 600;
  color: ${e=>e.isDefault?e.theme.primary:e.theme.text};
  display: flex;
  align-items: center;
  gap: 0.5rem;
`,iQ=v.span`
  background: ${e=>e.theme.success};
  color: white;
  padding: 0.125rem 0.375rem;
  border-radius: 8px;
  font-size: 0.625rem;
  font-weight: 500;
`,sQ=v.div`
  font-size: 0.875rem;
  color: ${e=>e.theme.textSecondary};
  line-height: 1.3;
`,lQ=v.div`
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
`,cQ=v.div`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem;
  background: ${e=>e.theme.cardBg};
  border-radius: 4px;
  border: 1px solid ${e=>e.theme.border};
`,uQ=v.span`
  background: ${e=>{switch(e.method){case"GET":return"#28a745";case"POST":return"#007bff";case"PUT":return"#ffc107";case"DELETE":return"#dc3545";default:return"#6c757d"}}};
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: bold;
  min-width: 60px;
  text-align: center;
`,dQ=v.code`
  background: ${e=>e.theme.bg};
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  flex: 1;
  font-family: "Courier New", monospace;
`,fQ=v.span`
  color: ${e=>e.theme.textSecondary};
  font-size: 0.875rem;
`,pQ=v.span`
  background: ${e=>e.theme.primary};
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
`,hQ=v.div`
  text-align: center;
  color: ${e=>e.theme.textSecondary};
  font-style: italic;
  padding: 1rem;
`,mQ=v.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.5rem;
`,od=v.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
  padding: 0.5rem;
  background: ${e=>e.theme.cardBg};
  border-radius: 4px;
  border: 1px solid ${e=>e.theme.border};

  span:first-child {
    font-weight: 600;
    color: ${e=>e.theme.textSecondary};
  }
`,gQ=v.div`
  display: flex;
  align-items: center;
  gap: 0.5rem;
`,yQ=v.div`
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: ${e=>e.color};
  border: 1px solid ${e=>e.theme.border};
`,fb=v.span`
  color: ${e=>e.active?"#28a745":"#dc3545"};
  display: flex;
  align-items: center;
`,vQ=v.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.5rem;
`,pb=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.5rem;
  background: ${e=>e.theme.cardBg};
  border-radius: 4px;
  border: 1px solid ${e=>e.theme.border};
`,xQ=v.span`
  background: ${e=>e.theme.info};
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
  text-transform: capitalize;
`,bQ=v.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.5rem;
`,qh=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.5rem;
  background: ${e=>e.theme.cardBg};
  border-radius: 4px;
  border: 1px solid ${e=>e.theme.border};

  span:first-child {
    font-weight: 600;
    color: ${e=>e.theme.textSecondary};
  }
`,wQ=v.span`
  background: ${e=>e.theme.secondary};
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
`,SQ=v.div`
  text-align: center;
  padding: 3rem;
  color: ${e=>e.theme.textSecondary};

  h3 {
    margin: 1rem 0 0.5rem 0;
    color: ${e=>e.theme.text};
  }

  p {
    margin: 0 0 2rem 0;
  }
`,EQ=v.div`
  display: flex;
  justify-content: center;
  margin-top: 2rem;
`,jQ=v.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 1rem;
`,CQ=v.div`
  background: ${e=>e.theme.bg};
  border-radius: 8px;
  width: 100%;
  max-width: 900px;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
`,$Q=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.5rem;
  border-bottom: 1px solid ${e=>e.theme.border};

  h3 {
    margin: 0;
    color: ${e=>e.theme.primary};
    font-size: 1.25rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
`,TQ=v.button`
  background: none;
  border: none;
  color: ${e=>e.theme.textSecondary};
  font-size: 1.2rem;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 4px;
  transition: all 0.2s ease;

  &:hover {
    background: ${e=>e.theme.border};
    color: ${e=>e.theme.text};
  }
`,kQ=v.div`
  flex: 1;
  overflow-y: auto;
  padding: 1.5rem;
`,Hh=v.div`
  margin-bottom: 2rem;

  &:last-child {
    margin-bottom: 0;
  }
`,wo=v.div`
  margin-bottom: 1rem;
`,So=v.label`
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 600;
  color: ${e=>e.theme.text};
`,fs=v.input`
  width: 100%;
  padding: 0.75rem;
  border: 1px solid ${e=>e.error?"#dc3545":e.theme.border};
  border-radius: 4px;
  background: ${e=>e.theme.bg};
  color: ${e=>e.theme.text};
  font-size: 1rem;
  transition: border-color 0.2s ease;

  &:focus {
    outline: none;
    border-color: ${e=>e.error?"#dc3545":e.theme.primary};
    box-shadow: 0 0 0 2px
      ${e=>e.error?"rgba(220, 53, 69, 0.2)":"rgba(0, 123, 255, 0.2)"};
  }

  &::placeholder {
    color: ${e=>e.theme.textSecondary};
  }
`,AQ=v.textarea`
  width: 100%;
  padding: 0.75rem;
  border: 1px solid ${e=>e.theme.border};
  border-radius: 4px;
  background: ${e=>e.theme.bg};
  color: ${e=>e.theme.text};
  font-size: 1rem;
  resize: vertical;
  transition: border-color 0.2s ease;
  font-family: inherit;

  &:focus {
    outline: none;
    border-color: ${e=>e.theme.primary};
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.2);
  }

  &::placeholder {
    color: ${e=>e.theme.textSecondary};
  }
`,Zk=v.select`
  width: 100%;
  padding: 0.75rem;
  border: 1px solid ${e=>e.theme.border};
  border-radius: 4px;
  background: ${e=>e.theme.bg};
  color: ${e=>e.theme.text};
  font-size: 1rem;
  transition: border-color 0.2s ease;

  &:focus {
    outline: none;
    border-color: ${e=>e.theme.primary};
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.2);
  }
`,hb=v.input`
  margin-right: 0.5rem;
  transform: scale(1.1);
`,id=v.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
`,mb=v.div`
  display: flex;
  align-items: center;
  gap: 0.5rem;

  label {
    margin-bottom: 0;
    cursor: pointer;
    user-select: none;
  }
`,OQ=v.div`
  display: flex;
  gap: 0.5rem;
  align-items: center;
`,Uh=v.span`
  color: #dc3545;
  font-size: 0.875rem;
  margin-top: 0.25rem;
  display: block;
`,Ml=v.span`
  color: ${e=>e.theme.textSecondary};
  font-size: 0.875rem;
  margin-top: 0.25rem;
  display: block;
`,PQ=v.div`
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  max-height: 300px;
  overflow-y: auto;
  border: 1px solid ${e=>e.theme.border};
  border-radius: 4px;
  padding: 0.5rem;
  background: ${e=>e.theme.bg};
`,_Q=v.div`
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem;
  background: ${e=>e.theme.cardBg};
  border-radius: 4px;
  border: 1px solid ${e=>e.theme.border};
  transition: all 0.2s ease;

  &:hover {
    background: ${e=>e.theme.bg};
  }
`,DQ=v.input`
  margin: 0;
  transform: scale(1.2);
`,MQ=v.div`
  flex: 1;
`,RQ=v.div`
  font-weight: 600;
  color: ${e=>e.theme.text};
  margin-bottom: 0.25rem;
`,IQ=v.div`
  font-size: 0.875rem;
  color: ${e=>e.theme.textSecondary};
  line-height: 1.3;
`,NQ=v.div`
  display: flex;
  align-items: center;
  gap: 0.25rem;

  label {
    font-size: 0.875rem;
    color: ${e=>e.theme.textSecondary};
    cursor: pointer;
    user-select: none;
  }
`,LQ=v.input`
  margin: 0;
  cursor: pointer;
`,BQ=v.div`
  display: flex;
  justify-content: flex-end;
  gap: 1rem;
  padding: 1.5rem;
  border-top: 1px solid ${e=>e.theme.border};
  background: ${e=>e.theme.cardBg};
`,Eo=new bC,a7=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!1),[a,o]=_.useState(""),[i,c]=_.useState([]),[d,f]=_.useState([]),{user:p,reloadUserPermissions:m}=wt(),{hasPermission:g}=oo(),y=localStorage.getItem("access");console.log("🔑 Accediendo a RoleManagement con usuario:",p==null?void 0:p.email,y);const w=g("roles","create"),S=g("roles","update"),b=g("roles","delete"),k=g("roles","read");_.useEffect(()=>{k&&(C(),$(),L())},[k]);const C=async()=>{if(y){n(!0);try{const A=await Eo.getRoles(y,{page:1,limit:50,search:a,includeInactive:!0});console.log("🔄 Cargando roles...",A);const I=await A;if(console.log("🔄 Cargando roles...",I),I.success)t(I.data.roles);else throw new Error(I.message)}catch(A){console.error("Error cargando roles:",A),z.fire("Error","No se pudieron cargar los roles","error")}finally{n(!1)}}},$=async()=>{try{const I=await await Eo.getAvailableResources(y);I.success&&c(I.data)}catch(A){console.error("Error cargando recursos:",A)}},L=async()=>{try{const I=await await Eo.getAvailableActions(y);I.success&&f(I.data)}catch(A){console.error("Error cargando acciones:",A)}},T=async(A=null)=>{const I=!!A,B=i.map(U=>{var Q;const Y=(Q=A==null?void 0:A.permissions)==null?void 0:Q.find(Z=>Z.resource===U.id),W=U.actions.map(Z=>{var K;const V=(K=Y==null?void 0:Y.actions)!=null&&K.includes(Z)?"checked":"";return`
              <label style="display: flex; align-items: center; gap: 8px; margin: 4px 0;">
                <input type="checkbox" value="${Z}" ${V} 
                       data-resource="${U.id}" style="margin: 0;">
                <span style="font-size: 13px;">${Z.toUpperCase()}</span>
              </label>
            `}).join("");return`
          <div style="margin-bottom: 20px; padding: 15px; border: 1px solid #e5e7eb; border-radius: 8px;">
            <h4 style="margin: 0 0 10px 0; color: #374151; font-size: 14px; font-weight: 600;">
              ${U.name} (${U.category})
            </h4>
            <p style="margin: 0 0 12px 0; font-size: 12px; color: #6b7280;">
              ${U.description}
            </p>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 8px;">
              ${W}
            </div>
          </div>
        `}).join(""),{value:F}=await z.fire({title:I?"Editar Rol":"Crear Nuevo Rol",html:`
        <div style="text-align: left;">
          <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 5px; font-weight: 500;">Nombre del rol *</label>
            <input id="roleName" class="swal2-input" 
                   placeholder="ej: analista-ventas" 
                   value="${(A==null?void 0:A.name)||""}"
                   style="margin: 0; width: 100%;"
                   ${A!=null&&A.isSystem?"disabled":""}>
            <small style="color: #6b7280; font-size: 12px;">Solo letras minúsculas, números y guiones</small>
          </div>
          
          <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 5px; font-weight: 500;">Nombre para mostrar *</label>
            <input id="roleDisplayName" class="swal2-input" 
                   placeholder="ej: Analista de Ventas" 
                   value="${(A==null?void 0:A.displayName)||""}"
                   style="margin: 0; width: 100%;"
                   ${A!=null&&A.isSystem?"disabled":""}>
          </div>
          
          <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 5px; font-weight: 500;">Descripción</label>
            <textarea id="roleDescription" class="swal2-textarea" 
                      placeholder="Descripción del rol..."
                      style="margin: 0; width: 100%; height: 60px;"
                      ${A!=null&&A.isSystem?"disabled":""}>${(A==null?void 0:A.description)||""}</textarea>
          </div>

          ${A!=null&&A.isSystem?`
            <div style="background: #fef3c7; border: 1px solid #f59e0b; border-radius: 8px; padding: 12px; margin-bottom: 20px;">
              <strong style="color: #92400e;">⚠️ Rol del Sistema</strong>
              <p style="margin: 5px 0 0 0; font-size: 13px; color: #92400e;">
                Este es un rol del sistema y no puede ser editado.
              </p>
            </div>
          `:""}
          
          <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 10px; font-weight: 500; font-size: 16px;">
              Permisos del Rol *
            </label>
            <div style="max-height: 300px; overflow-y: auto; border: 1px solid #e5e7eb; border-radius: 8px; padding: 15px;">
              ${B}
            </div>
          </div>
        </div>
      `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:I?"💾 Actualizar":"✨ Crear",cancelButtonText:"Cancelar",confirmButtonColor:"#3b82f6",width:"700px",preConfirm:()=>{const U=document.getElementById("roleName").value.trim(),Y=document.getElementById("roleDisplayName").value.trim(),W=document.getElementById("roleDescription").value.trim();if(!U||!Y)return z.showValidationMessage("Nombre y nombre para mostrar son requeridos"),!1;if(!/^[a-z0-9-_]+$/.test(U))return z.showValidationMessage("El nombre solo puede contener letras minúsculas, números, guiones y guiones bajos"),!1;const Q=[];return document.querySelectorAll('input[type="checkbox"]:checked').forEach(V=>{const K=V.dataset.resource,se=V.value;let he=Q.find(me=>me.resource===K);he||(he={resource:K,actions:[]},Q.push(he)),he.actions.push(se)}),Q.length===0?(z.showValidationMessage("Debe seleccionar al menos un permiso"),!1):{name:U,displayName:Y,description:W,permissions:Q}}});F&&await P(F,A==null?void 0:A._id,I)},P=async(A,I=null,B=!1)=>{try{z.fire({title:I?"Actualizando rol...":"Creando rol...",allowOutsideClick:!1,didOpen:()=>z.showLoading()}),console.log("🔄 Editando ...",B);const F=B?F=await Eo.updateRole(y,I,A):F=await Eo.createRole(y,A),U=await F;if(U.success)z.fire("¡Éxito!","Rol guardado correctamente","success"),C(),m&&(await m(),console.log("🔄 Permisos recargados después de modificar rol"));else throw new Error(U.message)}catch(F){console.error("Error guardando rol:",F),z.fire("Error",F.message||"Error al guardar el rol","error")}},O=async(A,I)=>{try{const F=await await Eo.toggleRoleStatus(y,A,I);if(F.success)C(),z.fire({icon:"success",title:`Rol ${I?"desactivado":"activado"}`,timer:1500,showConfirmButton:!1});else throw new Error(F.message)}catch(B){z.fire("Error",B.message||"Error al cambiar estado","error")}},N=async(A,I)=>{if((await z.fire({title:"¿Eliminar rol?",text:`Esta acción eliminará permanentemente el rol "${I}"`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{const U=await await Eo.removeRole(y,A);if(U.success)C(),z.fire("Eliminado","El rol ha sido eliminado","success");else throw new Error(U.message)}catch(F){z.fire("Error",F.message||"Error al eliminar","error")}},R=async A=>{const{value:I}=await z.fire({title:`Duplicar rol: ${A.displayName}`,html:`
        <div style="text-align: left;">
          <div style="margin-bottom: 15px;">
            <label style="display: block; margin-bottom: 5px; font-weight: 500;">Nuevo nombre:</label>
            <input id="newName" class="swal2-input" 
                   placeholder="nuevo-nombre" 
                   value="${A.name}-copia"
                   style="margin: 0; width: 100%;">
          </div>
          <div style="margin-bottom: 15px;">
            <label style="display: block; margin-bottom: 5px; font-weight: 500;">Nuevo nombre para mostrar:</label>
            <input id="newDisplayName" class="swal2-input" 
                   placeholder="Nuevo Nombre" 
                   value="${A.displayName} (Copia)"
                   style="margin: 0; width: 100%;">
          </div>
        </div>
      `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Duplicar",preConfirm:()=>{const B=document.getElementById("newName").value.trim(),F=document.getElementById("newDisplayName").value.trim();return!B||!F?(z.showValidationMessage("Ambos nombres son requeridos"),!1):{newName:B,newDisplayName:F}}});if(I)try{const B=await Eo.duplicateRole(y,A._id,newRoleData);console.log("🔄 Duplicando rol...",B);const F=await B;if(F.success)C(),z.fire("¡Duplicado!","El rol ha sido duplicado exitosamente","success");else throw new Error(F.message)}catch(B){z.fire("Error",B.message||"Error al duplicar rol","error")}},D=async A=>{try{const I=await Eo.getUsersByRole(A.name,y);console.log("response",I);const B=await I;if(B.success){const F=B.data.users,U=F.length>0?F.map(Y=>`
              <div style="display: flex; justify-content: space-between; padding: 8px; border-bottom: 1px solid #e5e7eb;">
                <span>${Y.name} ${Y.lastname}</span>
                <span style="color: #6b7280;">${Y.email}</span>
              </div>
            `).join(""):'<p style="text-align: center; color: #6b7280;">No hay usuarios con este rol</p>';z.fire({title:`Usuarios con rol: ${A.displayName}`,html:`
            <div style="max-height: 400px; overflow-y: auto; text-align: left;">
             <div style="margin-bottom: 15px; padding: 10px; background: #f3f4f6; border-radius: 8px;">
               <strong>Total de usuarios: ${F.length}</strong>
             </div>
             ${U}
           </div>
         `,width:"600px",confirmButtonText:"Cerrar"})}}catch{z.fire("Error","No se pudieron cargar los usuarios","error")}},j=e.filter(A=>A.name.toLowerCase().includes(a.toLowerCase())||A.displayName.toLowerCase().includes(a.toLowerCase()));return k?l.jsxs(zQ,{children:[l.jsxs(FQ,{children:[l.jsxs(qQ,{children:[l.jsx(UQ,{children:"Gestión de Roles"}),l.jsxs(VQ,{children:["Administra roles y permisos del sistema (",j.length," ","roles)"]})]}),l.jsx(HQ,{children:w&&l.jsxs(eA,{onClick:()=>T(),children:[l.jsx(ar,{}),"Crear Rol"]})})]}),l.jsx(WQ,{children:l.jsxs(YQ,{children:[l.jsx(GQ,{children:l.jsx(Zs,{})}),l.jsx(KQ,{type:"text",placeholder:"Buscar roles por nombre...",value:a,onChange:A=>o(A.target.value)})]})}),r?l.jsxs(QQ,{children:[l.jsx("div",{className:"spinner"}),l.jsx("span",{children:"Cargando roles..."})]}):j.length===0?l.jsxs(XQ,{children:[l.jsx(Oo,{size:48}),l.jsx("h3",{children:"No hay roles disponibles"}),l.jsx("p",{children:a?"No se encontraron roles con el término de búsqueda":"No se han creado roles aún"}),w&&!a&&l.jsxs(eA,{onClick:()=>T(),children:[l.jsx(ar,{}),"Crear Primer Rol"]})]}):l.jsx(rX,{children:j.map(A=>l.jsxs(nX,{$isSystem:A.isSystem,children:[l.jsxs(aX,{children:[l.jsxs(oX,{children:[l.jsxs(iX,{children:[A.isSystem&&l.jsx(Eg,{}),A.displayName]}),l.jsxs(sX,{children:[l.jsxs(lX,{children:["ID: ",A.name]}),l.jsx(cX,{children:A.description||"Sin descripción"})]}),l.jsxs(uX,{children:[l.jsxs(tA,{children:[l.jsx(Oo,{}),A.permissionCount||0," permisos"]}),l.jsxs(tA,{children:[l.jsx(df,{}),A.userCount||0," usuarios"]}),A.isSystem&&l.jsxs(dX,{children:[l.jsx(Eg,{}),"Sistema"]})]})]}),l.jsx(fX,{children:l.jsx(pX,{$isActive:A.isActive,children:A.isActive?"Activo":"Inactivo"})})]}),l.jsxs(hX,{children:[l.jsxs(Vh,{color:"#3b82f6",onClick:()=>D(A),title:"Ver usuarios con este rol",children:[l.jsx(df,{}),"Usuarios"]}),!A.isSystem&&l.jsxs(Vh,{color:"#8b5cf6",onClick:()=>R(A),title:"Duplicar rol",children:[l.jsx(KR,{}),"Duplicar"]}),S&&l.jsx(mX,{onClick:()=>O(A._id,A.isActive),$isActive:A.isActive,title:`${A.isActive?"Desactivar":"Activar"} rol`,disabled:A.isSystem,children:A.isActive?l.jsx(ov,{}):l.jsx(av,{})}),S&&l.jsxs(Vh,{color:"#10b981",onClick:()=>T(A),title:"Editar rol",children:[l.jsx(Ir,{}),"Editar"]}),b&&!A.isSystem&&A.userCount===0&&l.jsxs(Vh,{color:"#ef4444",onClick:()=>N(A._id,A.displayName),title:"Eliminar rol",children:[l.jsx(Nr,{}),"Eliminar"]})]})]},A._id))})]}):l.jsxs(JQ,{children:[l.jsx(ZQ,{children:"🔒"}),l.jsx(eX,{children:"Acceso Denegado"}),l.jsx(tX,{children:"No tienes permisos para acceder a la gestión de roles."})]})},zQ=v.div`
  padding: 24px;
  max-width: 1200px;
  margin: 0 auto;
`,FQ=v.header`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 32px;

  @media (max-width: 768px) {
    flex-direction: column;
    gap: 16px;
  }
`,qQ=v.div`
  flex: 1;
`,HQ=v.div`
  display: flex;
  gap: 12px;
`,UQ=v.h1`
  font-size: 28px;
  font-weight: 700;
  margin: 0 0 8px 0;
  color: ${({theme:e})=>e.text};
`,VQ=v.p`
  font-size: 16px;
  color: ${({theme:e})=>e.textSecondary};
  margin: 0;
`,eA=v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 20px;
  background: ${({theme:e})=>e.primary};
  border: none;
  border-radius: 8px;
  color: white;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    background: ${({theme:e})=>e.primaryHover};
    transform: translateY(-1px);
  }
`,WQ=v.section`
  display: flex;
  gap: 16px;
  margin-bottom: 24px;
  align-items: center;

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: stretch;
  }
`,YQ=v.div`
  position: relative;
  flex: 1;
  max-width: 400px;
`,GQ=v.div`
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: ${({theme:e})=>e.textSecondary};
`,KQ=v.input`
  width: 100%;
  padding: 12px 12px 12px 40px;
  border: 1px solid ${({theme:e})=>e.border};
  border-radius: 8px;
  background: ${({theme:e})=>e.bg};
  color: ${({theme:e})=>e.text};
  font-size: 14px;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.primary};
  }
`,QQ=v.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px 20px;
  color: ${({theme:e})=>e.textSecondary};

  .spinner {
    width: 32px;
    height: 32px;
    border: 3px solid ${({theme:e})=>e.border};
    border-top: 3px solid ${({theme:e})=>e.primary};
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: 16px;
  }

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }
`,XQ=v.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px 20px;
  text-align: center;
  color: ${({theme:e})=>e.textSecondary};

  h3 {
    margin: 16px 0 8px 0;
    color: ${({theme:e})=>e.text};
  }

  p {
    margin: 0 0 24px 0;
    max-width: 400px;
  }
`,JQ=v.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 400px;
  text-align: center;
  padding: 40px;
`,ZQ=v.div`
  font-size: 64px;
  margin-bottom: 16px;
`,eX=v.h2`
  font-size: 24px;
  font-weight: 600;
  color: ${({theme:e})=>e.text};
  margin: 0 0 12px 0;
`,tX=v.p`
  font-size: 16px;
  color: ${({theme:e})=>e.textSecondary};
  max-width: 400px;
  line-height: 1.5;
  margin: 0;
`,rX=v.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
`,nX=v.div`
  background: ${({theme:e})=>e.bg};
  border: 1px solid
    ${({theme:e,$isSystem:t})=>t?e.warning||"#f59e0b":e.border};
  border-radius: 12px;
  padding: 20px;
  transition: all 0.2s ease;

  &:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: ${({theme:e})=>e.primary};
  }

  ${({$isSystem:e,theme:t})=>e&&`
   background: ${t.warningAlpha||"rgba(245, 158, 11, 0.05)"};
 `}
`,aX=v.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 16px;

  @media (max-width: 768px) {
    flex-direction: column;
    gap: 12px;
  }
`,oX=v.div`
  flex: 1;
`,iX=v.h3`
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 20px;
  font-weight: 600;
  margin: 0 0 8px 0;
  color: ${({theme:e})=>e.text};

  svg {
    color: ${({theme:e})=>e.warning||"#f59e0b"};
  }
`,sX=v.div`
  margin-bottom: 12px;
`,lX=v.div`
  font-size: 12px;
  color: ${({theme:e})=>e.textSecondary};
  font-family: monospace;
  margin-bottom: 4px;
`,cX=v.p`
  font-size: 14px;
  color: ${({theme:e})=>e.textSecondary};
  margin: 0;
  line-height: 1.4;
`,uX=v.div`
  display: flex;
  gap: 16px;
  align-items: center;
  flex-wrap: wrap;
`,tA=v.div`
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  color: ${({theme:e})=>e.textSecondary};

  svg {
    font-size: 14px;
  }
`,dX=v.div`
  display: flex;
  align-items: center;
  gap: 4px;
  background: ${({theme:e})=>e.warning||"#f59e0b"};
  color: white;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
`,fX=v.div`
  display: flex;
  flex-direction: column;
  align-items: flex-end;
`,pX=v.div`
  padding: 4px 12px;
  border-radius: 16px;
  font-size: 12px;
  font-weight: 500;

  background: ${({$isActive:e,theme:t})=>e?t.successAlpha||"rgba(16, 185, 129, 0.1)":t.grayAlpha||"rgba(107, 114, 128, 0.1)"};
  color: ${({$isActive:e,theme:t})=>e?t.success||"#10b981":t.textSecondary};
`,hX=v.div`
  display: flex;
  gap: 8px;
  flex-wrap: wrap;

  @media (max-width: 768px) {
    justify-content: flex-end;
  }
`,Vh=v.button`
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  background: ${({color:e})=>e}15;
  color: ${({color:e})=>e};
  border: 1px solid ${({color:e})=>e}40;
  border-radius: 6px;
  cursor: pointer;
  font-size: 12px;
  font-weight: 500;
  transition: all 0.2s ease;

  &:hover {
    background: ${({color:e})=>e};
    color: white;
    transform: translateY(-1px);
  }
`,mX=v.button`
  display: flex;
  align-items: center;
  padding: 8px 12px;
  background: none;
  border: 1px solid ${({theme:e})=>e.border};
  border-radius: 6px;
  cursor: pointer;
  color: ${({$isActive:e,theme:t})=>e?t.success||"#10b981":t.textSecondary};
  font-size: 16px;
  transition: all 0.2s ease;

  &:hover:not(:disabled) {
    background: ${({theme:e})=>e.bgSecondary};
    transform: translateY(-1px);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,rA=new Yr,gX=`
  .schedule-manager-form {
    text-align: left;
    max-width: 500px;
    margin: 0 auto;
  }
  
  .toggle-section {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }
  
  .toggle-label {
    font-weight: 500;
    font-size: 16px;
  }
  
  .toggle-button {
    background-color: #6c757d;
    color: white;
    border: none;
    border-radius: 30px;
    padding: 8px 16px;
    font-size: 14px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
  }
  
  .toggle-button.active {
    background-color: #28a745;
  }
  
  .divider {
    border: 0;
    border-top: 1px solid #eee;
    margin: 20px 0;
  }
  
  .time-section {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }
  
  .time-label {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 16px;
  }
  
  .time-input {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 16px;
  }
  
  .time-input.disabled {
    background-color: #f5f5f5;
    opacity: 0.7;
    cursor: not-allowed;
  }
  
  .next-execution {
    background-color: rgba(108, 117, 125, 0.05);
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
  }
  
  .next-execution.active {
    background-color: rgba(0, 123, 255, 0.05);
  }
  
  .next-run-label {
    font-weight: 500;
    margin-bottom: 5px;
  }
  
  .next-run-time {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 10px;
  }
  
  .schedule-description {
    font-size: 14px;
    color: #666;
  }
  
  .info-section {
    margin-top: 25px;
    border-top: 1px dashed #ddd;
    padding-top: 15px;
  }
  
  .info-section h4 {
    font-size: 16px;
    margin-bottom: 10px;
    color: #17a2b8;
  }
  
  .info-section p {
    font-size: 14px;
    margin: 8px 0;
  }
`;function fv({disabled:e=!1,onSuccess:t}){const{accessToken:r}=wt(),[n,a]=_.useState(!1),o=async()=>{a(!0);try{const c=await rA.getSchuledTime(r),d=(c==null?void 0:c.hour)||"02:00",f=(c==null?void 0:c.enabled)!==!1;i(d,f)}catch(c){console.error("Error fetching schedule config:",c),i("02:00",!0)}finally{a(!1)}},i=(c,d)=>{let f=c,p=d;const m=()=>{if(!p)return"Programación automática desactivada";const[y,w]=f.split(":").map(Number),S=new Date;S.setHours(y,w,0,0),S<new Date&&S.setDate(S.getDate()+1);const b=S.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),k=S.toLocaleDateString([],{weekday:"long",day:"numeric",month:"long"});return`${b} - ${k}`},g=()=>`
        <div class="schedule-manager-form">
          <div class="toggle-section">
            <div class="toggle-label">Activar ejecución automática</div>
            <button id="toggleScheduler" class="toggle-button ${p?"active":"inactive"}">
              ${p?'<i class="fa fa-play"></i> Activado':'<i class="fa fa-pause"></i> Desactivado'}
            </button>
          </div>
          
          <hr class="divider" />
          
          <div class="time-section">
            <div class="time-label">
              <i class="fa fa-clock"></i> Hora de ejecución diaria:
            </div>
            <input 
              id="timeInput" 
              type="time" 
              value="${f}" 
              ${p?"":"disabled"}
              class="time-input ${p?"":"disabled"}"
            />
          </div>
          
          <div class="next-execution ${p?"active":"inactive"}">
            <div class="next-run-label">Próxima ejecución:</div>
            <div class="next-run-time">${m()}</div>
            <div class="schedule-description">
              ${p?'A la hora programada, se ejecutarán automáticamente todas las tareas configuradas como "automáticas" o "ambas".':"La ejecución automática está desactivada. Las tareas tendrán que ser ejecutadas manualmente."}
            </div>
          </div>
          
          <div class="info-section">
            <h4>Información Adicional</h4>
            <p>El planificador automático ejecutará todas las tareas configuradas como <strong>automáticas</strong> a la hora especificada cada día.</p>
            <p>Las tareas con tipo <strong>manual</strong> no se ejecutarán automáticamente, independientemente de esta configuración.</p>
            <p>Si desactiva la ejecución automática, las tareas seguirán disponibles, pero no se ejecutarán por sí solas.</p>
          </div>
        </div>
      `;z.fire({title:"Gestión de Programación Automática",html:g(),width:600,showCancelButton:!0,confirmButtonText:"Guardar Configuración",cancelButtonText:"Cancelar",showLoaderOnConfirm:!0,didOpen:y=>{const w=document.createElement("style");w.innerHTML=gX,document.head.appendChild(w);const S=y.querySelector("#timeInput"),b=y.querySelector("#toggleScheduler"),k=y.querySelector(".next-execution"),C=y.querySelector(".schedule-description"),$=y.querySelector(".next-run-time");S&&S.addEventListener("change",L=>{f=L.target.value,$&&($.textContent=m())}),b&&b.addEventListener("click",()=>{p=!p,b.classList.toggle("active"),b.classList.toggle("inactive"),b.classList.contains("active")?(b.innerHTML='<i class="fas fa-play"></i> Activado',S&&(S.disabled=!1,S.classList.remove("disabled"))):(b.innerHTML='<i class="fas fa-pause"></i> Desactivado',S&&(S.disabled=!0,S.classList.add("disabled"))),k&&(k.classList.toggle("active",p),k.classList.toggle("inactive",!p)),C&&(C.textContent=p?'A la hora programada, se ejecutarán automáticamente todas las tareas configuradas como "automáticas" o "ambas".':"La ejecución automática está desactivada. Las tareas tendrán que ser ejecutadas manualmente."),$&&($.textContent=m())})},preConfirm:async()=>{try{if(await rA.addTimeTransfer(r,{hour:f,enabled:p}))return{success:!0,hour:f,enabled:p,message:`Configuración guardada correctamente. Las tareas ${p?`se ejecutarán automáticamente todos los días a las ${f}.`:"automáticas han sido desactivadas."}`};throw new Error("No se pudo actualizar la configuración.")}catch(y){return console.error("Error saving configuration:",y),z.showValidationMessage(y.message||"Error desconocido"),{success:!1}}}}).then(y=>{var w;y.isConfirmed&&((w=y.value)!=null&&w.success)&&(z.fire("Configuración Guardada",y.value.message,"success"),t&&typeof t=="function"&&t(y.value))})};return l.jsxs(yX,{onClick:o,disabled:e||n,children:[l.jsx(_s,{})," ",n?"Cargando...":"Configuración Avanzada"]})}const yX=v.button`
  background-color: #6f42c1;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 12px;
  margin-left: 10px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;

  &:hover {
    background-color: #5a36a5;
  }

  &:disabled {
    background-color: #a18cc9;
    cursor: not-allowed;
  }

  @media (max-width: 480px) {
    width: 100%;
    margin-left: 0;
  }
`,vX=new Yr;function o7(){const{accessToken:e}=wt(),[t,r]=_.useState(null),[n,a]=_.useState(!0),[o,i]=_.useState({total:0,automatic:0,manual:0,inactive:0});_.useEffect(()=>{c(),d()},[]);const c=async()=>{try{const g=await vX.getSchuledTime(e);r(g)}catch(g){console.error("Error al cargar configuración:",g)}finally{a(!1)}},d=async()=>{try{i({total:12,automatic:8,manual:3,inactive:1})}catch(g){console.error("Error al cargar estadísticas:",g)}},f=g=>{console.log("Configuración actualizada:",g),r({hour:g.hour,enabled:g.enabled})},m=(()=>{if(!(t!=null&&t.enabled)||!(t!=null&&t.hour))return"Programación desactivada";const[g,y]=t.hour.split(":").map(Number),w=new Date;w.setHours(g,y,0,0),w<new Date&&w.setDate(w.getDate()+1);const S=w.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),b=w.toLocaleDateString([],{weekday:"long",day:"numeric",month:"long"}),k=Math.ceil((w-new Date)/(1e3*60*60));return{time:S,date:b,hoursUntil:k>24?Math.floor(k/24)+" días":k+" horas"}})();return l.jsxs(xX,{children:[l.jsxs(bX,{children:[l.jsxs("div",{children:[l.jsxs("h2",{children:[l.jsx(Zf,{})," Configuración de Programación Automática"]}),l.jsx("p",{children:"Configura cuándo se ejecutarán automáticamente las tareas del sistema y revisa el estado actual."})]}),l.jsx(fv,{onSuccess:f})]}),n?l.jsxs(wX,{children:[l.jsx(Zt,{className:"spinning"}),l.jsx("span",{children:"Cargando configuración..."})]}):l.jsxs(SX,{children:[l.jsxs(EX,{$enabled:t==null?void 0:t.enabled,children:[l.jsxs(jX,{children:[l.jsx(CX,{$enabled:t==null?void 0:t.enabled,children:t!=null&&t.enabled?l.jsx(Zl,{}):l.jsx(dn,{})}),l.jsxs("div",{children:[l.jsx($X,{children:"Estado del Programador"}),l.jsx(TX,{children:t!=null&&t.enabled?"Activo":"Inactivo"})]})]}),(t==null?void 0:t.enabled)&&l.jsxs(nA,{children:[l.jsxs(Wh,{children:[l.jsx("strong",{children:"Hora configurada:"})," ",t.hour]}),typeof m=="object"&&l.jsxs(l.Fragment,{children:[l.jsxs(Wh,{children:[l.jsx("strong",{children:"Próxima ejecución:"})," ",m.time," -"," ",m.date]}),l.jsxs(Wh,{children:[l.jsx("strong",{children:"Tiempo restante:"})," ",m.hoursUntil]})]})]}),!(t!=null&&t.enabled)&&l.jsx(nA,{children:l.jsx(Wh,{children:"Las tareas automáticas están desactivadas. Solo se ejecutarán manualmente."})})]}),l.jsxs(kX,{children:[l.jsxs(Yh,{children:[l.jsx(Gh,{$color:"#007bff",children:l.jsx(ZR,{})}),l.jsxs(Kh,{children:[l.jsx(Qh,{children:o.total}),l.jsx(Xh,{children:"Total de Tareas"})]})]}),l.jsxs(Yh,{children:[l.jsx(Gh,{$color:"#28a745",children:l.jsx(_s,{})}),l.jsxs(Kh,{children:[l.jsx(Qh,{children:o.automatic}),l.jsx(Xh,{children:"Tareas Automáticas"})]})]}),l.jsxs(Yh,{children:[l.jsx(Gh,{$color:"#ffc107",children:l.jsx(Li,{})}),l.jsxs(Kh,{children:[l.jsx(Qh,{children:o.manual}),l.jsx(Xh,{children:"Tareas Manuales"})]})]}),l.jsxs(Yh,{children:[l.jsx(Gh,{$color:"#dc3545",children:l.jsx(dn,{})}),l.jsxs(Kh,{children:[l.jsx(Qh,{children:o.inactive}),l.jsx(Xh,{children:"Tareas Inactivas"})]})]})]}),l.jsxs(AX,{children:[l.jsxs(aA,{children:[l.jsxs(oA,{children:[l.jsx(_n,{}),l.jsx("h3",{children:"¿Cómo funciona la programación automática?"})]}),l.jsx(iA,{children:l.jsxs(sA,{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Ejecución diaria:"}),' El sistema ejecuta automáticamente todas las tareas marcadas como "automáticas" a la hora configurada.']}),l.jsxs("li",{children:[l.jsx("strong",{children:"Tareas incluidas:"}),' Solo se ejecutan las tareas con tipo "automático" o "ambas" que estén activas.']}),l.jsxs("li",{children:[l.jsx("strong",{children:"Logs y seguimiento:"})," Todas las ejecuciones automáticas se registran en el sistema de logs."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Manejo de errores:"})," Si una tarea falla, se registra el error y continúa con las siguientes tareas."]})]})})]}),l.jsxs(aA,{children:[l.jsxs(oA,{children:[l.jsx(Oo,{}),l.jsx("h3",{children:"Consideraciones importantes"})]}),l.jsx(iA,{children:l.jsxs(sA,{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Recursos del servidor:"})," Las tareas automáticas consumen recursos. Evita programar en horas pico."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Conexiones de red:"})," Asegúrate de que las conexiones a bases de datos estén disponibles."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Notificaciones:"})," Configura destinatarios de email para recibir reportes de ejecución."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Monitoreo:"})," Revisa regularmente los logs para detectar problemas."]})]})})]})]}),l.jsxs(OX,{children:[l.jsxs(PX,{children:[l.jsxs("h3",{children:[l.jsx(Hs,{})," Últimas Ejecuciones Automáticas"]}),l.jsx(_X,{children:"Ver Historial Completo"})]}),l.jsxs(DX,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Fecha y Hora"}),l.jsx("th",{children:"Tareas Ejecutadas"}),l.jsx("th",{children:"Estado"}),l.jsx("th",{children:"Duración"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:"06/06/2025 02:00:15"}),l.jsx("td",{children:"8 tareas"}),l.jsx("td",{children:l.jsx(lA,{children:"Exitoso"})}),l.jsx("td",{children:"12m 34s"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"05/06/2025 02:00:12"}),l.jsx("td",{children:"7 tareas"}),l.jsx("td",{children:l.jsx(MX,{children:"Con advertencias"})}),l.jsx("td",{children:"15m 22s"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"04/06/2025 02:00:08"}),l.jsx("td",{children:"8 tareas"}),l.jsx("td",{children:l.jsx(lA,{children:"Exitoso"})}),l.jsx("td",{children:"11m 45s"})]})]})]})]}),l.jsxs(RX,{children:[l.jsx("h3",{children:"Acciones Rápidas"}),l.jsxs(IX,{children:[l.jsxs(Jh,{$color:"#007bff",children:[l.jsx(Ro,{})," Ejecutar Ahora"]}),l.jsxs(Jh,{$color:"#28a745",children:[l.jsx(ta,{})," Ver Logs"]}),l.jsxs(Jh,{$color:"#6f42c1",children:[l.jsx(EV,{})," Gestionar Tareas"]}),l.jsxs(Jh,{$color:"#17a2b8",children:[l.jsx(rv,{})," Config. Email"]})]})]})]})]})}const xX=v.div`
  h2 {
    margin: 0 0 10px 0;
    color: ${({theme:e})=>e.title};
    display: flex;
    align-items: center;
    gap: 10px;
  }

  p {
    color: ${({theme:e})=>e.textSecondary};
    margin-bottom: 20px;
  }
`,bX=v.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 30px;
  gap: 20px;

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: stretch;
  }
`,wX=v.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 15px;
  padding: 40px;
  background: ${({theme:e})=>e.cardBg};
  border-radius: 8px;
  color: ${({theme:e})=>e.textSecondary};

  .spinning {
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`,SX=v.div`
  display: flex;
  flex-direction: column;
  gap: 25px;
`,EX=v.div`
  background: ${({theme:e})=>e.cardBg};
  border-radius: 12px;
  padding: 25px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  border-left: 4px solid ${({$enabled:e})=>e?"#28a745":"#dc3545"};
`,jX=v.div`
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 15px;
`,CX=v.div`
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: ${({$enabled:e})=>e?"#28a745":"#dc3545"};
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
`,$X=v.h3`
  margin: 0;
  color: ${({theme:e})=>e.title};
  font-size: 18px;
`,TX=v.p`
  margin: 0;
  color: ${({theme:e})=>e.textSecondary};
  font-size: 14px;
`,nA=v.div`
  padding-left: 65px;
`,Wh=v.div`
  margin-bottom: 8px;
  color: ${({theme:e})=>e.text};
  font-size: 14px;
  line-height: 1.4;
`,kX=v.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
`,Yh=v.div`
  background: ${({theme:e})=>e.cardBg};
  border-radius: 8px;
  padding: 20px;
  display: flex;
  align-items: center;
  gap: 15px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s;

  &:hover {
    transform: translateY(-2px);
  }
`,Gh=v.div`
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: ${({$color:e})=>e}15;
  color: ${({$color:e})=>e};
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
`,Kh=v.div``,Qh=v.div`
  font-size: 24px;
  font-weight: 700;
  color: ${({theme:e})=>e.title};
  margin-bottom: 4px;
`,Xh=v.div`
  font-size: 13px;
  color: ${({theme:e})=>e.textSecondary};
  font-weight: 500;
`,AX=v.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 20px;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
`,aA=v.div`
  background: ${({theme:e})=>e.cardBg};
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`,oA=v.div`
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 15px;

  svg {
    color: ${({theme:e})=>e.primary};
    font-size: 20px;
  }

  h3 {
    margin: 0;
    color: ${({theme:e})=>e.title};
    font-size: 16px;
  }
`,iA=v.div``,sA=v.ul`
  margin: 0;
  padding-left: 20px;
  color: ${({theme:e})=>e.text};

  li {
    margin-bottom: 10px;
    line-height: 1.5;
    font-size: 14px;

    strong {
      color: ${({theme:e})=>e.title};
    }
  }
`,OX=v.div`
  background: ${({theme:e})=>e.cardBg};
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`,PX=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;

  h3 {
    margin: 0;
    color: ${({theme:e})=>e.title};
    display: flex;
    align-items: center;
    gap: 10px;
  }
`,_X=v.button`
  background: none;
  border: 1px solid ${({theme:e})=>e.primary};
  color: ${({theme:e})=>e.primary};
  padding: 6px 12px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  transition: all 0.2s;

  &:hover {
    background: ${({theme:e})=>e.primary};
    color: white;
  }
`,DX=v.table`
  width: 100%;
  border-collapse: collapse;

  th,
  td {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid ${({theme:e})=>e.border};
  }

  th {
    background: ${({theme:e})=>e.tableHeader};
    color: ${({theme:e})=>e.tableHeaderText};
    font-weight: 600;
    font-size: 13px;
  }

  td {
    color: ${({theme:e})=>e.text};
    font-size: 14px;
  }
`,lA=v.span`
  background: #28a745;
  color: white;
  padding: 3px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
`,MX=v.span`
  background: #ffc107;
  color: #212529;
  padding: 3px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
`,RX=v.div`
  background: ${({theme:e})=>e.cardBg};
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

  h3 {
    margin: 0 0 15px 0;
    color: ${({theme:e})=>e.title};
  }
`,IX=v.div`
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
`,Jh=v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 16px;
  background: ${({$color:e})=>e};
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 13px;
  font-weight: 500;
  transition: all 0.2s;

  &:hover {
    filter: brightness(1.1);
    transform: translateY(-1px);
  }
`;function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TE.apply(this,arguments)}var NX=H.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},H.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),LX=H.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},H.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function cA(e){if(e.length===7)return e;for(var t="#",r=1;r<4;r+=1)t+=e[r]+e[r];return t}function uA(e,t,r,n,a){return function(o,i,c,d,f){var p=(o-c)/(i-c);if(p===0)return d;if(p===1)return f;for(var m="#",g=1;g<6;g+=2){var y=parseInt(d.substr(g,2),16),w=parseInt(f.substr(g,2),16),S=Math.round((1-p)*y+p*w).toString(16);S.length===1&&(S="0"+S),m+=S}return m}(e,t,r,cA(n),cA(a))}var i7=function(e){function t(r){e.call(this,r);var n=r.height,a=r.width,o=r.checked;this.t=r.handleDiameter||n-2,this.i=Math.max(a-n,a-(n+this.t)/2),this.o=Math.max(0,(n-this.t)/2),this.state={h:o?this.i:this.o},this.l=0,this.u=0,this.p=this.p.bind(this),this.v=this.v.bind(this),this.k=this.k.bind(this),this.m=this.m.bind(this),this.M=this.M.bind(this),this.T=this.T.bind(this),this.$=this.$.bind(this),this.C=this.C.bind(this),this.D=this.D.bind(this),this.O=this.O.bind(this),this.S=this.S.bind(this),this.W=this.W.bind(this)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.componentDidMount=function(){this.I=!0},t.prototype.componentDidUpdate=function(r){r.checked!==this.props.checked&&this.setState({h:this.props.checked?this.i:this.o})},t.prototype.componentWillUnmount=function(){this.I=!1},t.prototype.H=function(r){this.R.focus(),this.setState({j:r,B:!0,L:Date.now()})},t.prototype.N=function(r){var n=this.state,a=n.j,o=n.h,i=(this.props.checked?this.i:this.o)+r-a;n.U||r===a||this.setState({U:!0});var c=Math.min(this.i,Math.max(this.o,i));c!==o&&this.setState({h:c})},t.prototype.A=function(r){var n=this.state,a=n.h,o=n.U,i=n.L,c=this.props.checked,d=(this.i+this.o)/2;this.setState({h:this.props.checked?this.i:this.o});var f=Date.now()-i;(!o||f<250||c&&a<=d||!c&&a>=d)&&this.X(r),this.I&&this.setState({U:!1,B:!1}),this.l=Date.now()},t.prototype.p=function(r){r.preventDefault(),typeof r.button=="number"&&r.button!==0||(this.H(r.clientX),window.addEventListener("mousemove",this.v),window.addEventListener("mouseup",this.k))},t.prototype.v=function(r){r.preventDefault(),this.N(r.clientX)},t.prototype.k=function(r){this.A(r),window.removeEventListener("mousemove",this.v),window.removeEventListener("mouseup",this.k)},t.prototype.m=function(r){this.F=null,this.H(r.touches[0].clientX)},t.prototype.M=function(r){this.N(r.touches[0].clientX)},t.prototype.T=function(r){r.preventDefault(),this.A(r)},t.prototype.C=function(r){Date.now()-this.l>50&&(this.X(r),Date.now()-this.u>50&&this.I&&this.setState({B:!1}))},t.prototype.D=function(){this.u=Date.now()},t.prototype.O=function(){this.setState({B:!0})},t.prototype.S=function(){this.setState({B:!1})},t.prototype.W=function(r){this.R=r},t.prototype.$=function(r){r.preventDefault(),this.R.focus(),this.X(r),this.I&&this.setState({B:!1})},t.prototype.X=function(r){var n=this.props;(0,n.onChange)(!n.checked,r,n.id)},t.prototype.render=function(){var r=this.props,n=r.checked,a=r.disabled,o=r.className,i=r.offColor,c=r.onColor,d=r.offHandleColor,f=r.onHandleColor,p=r.checkedIcon,m=r.uncheckedIcon,g=r.checkedHandleIcon,y=r.uncheckedHandleIcon,w=r.boxShadow,S=r.activeBoxShadow,b=r.height,k=r.width,C=r.borderRadius,$=function(F,U){var Y={};for(var W in F)Object.prototype.hasOwnProperty.call(F,W)&&U.indexOf(W)===-1&&(Y[W]=F[W]);return Y}(r,["checked","disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","checkedHandleIcon","uncheckedHandleIcon","boxShadow","activeBoxShadow","height","width","borderRadius","handleDiameter"]),L=this.state,T=L.h,P=L.U,O=L.B,N={position:"relative",display:"inline-block",textAlign:"left",opacity:a?.5:1,direction:"ltr",borderRadius:b/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},R={height:b,width:k,margin:Math.max(0,(this.t-b)/2),position:"relative",background:uA(T,this.i,this.o,i,c),borderRadius:typeof C=="number"?C:b/2,cursor:a?"default":"pointer",WebkitTransition:P?null:"background 0.25s",MozTransition:P?null:"background 0.25s",transition:P?null:"background 0.25s"},D={height:b,width:Math.min(1.5*b,k-(this.t+b)/2+1),position:"relative",opacity:(T-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:P?null:"opacity 0.25s",MozTransition:P?null:"opacity 0.25s",transition:P?null:"opacity 0.25s"},j={height:b,width:Math.min(1.5*b,k-(this.t+b)/2+1),position:"absolute",opacity:1-(T-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:P?null:"opacity 0.25s",MozTransition:P?null:"opacity 0.25s",transition:P?null:"opacity 0.25s"},A={height:this.t,width:this.t,background:uA(T,this.i,this.o,d,f),display:"inline-block",cursor:a?"default":"pointer",borderRadius:typeof C=="number"?C-1:"50%",position:"absolute",transform:"translateX("+T+"px)",top:Math.max(0,(b-this.t)/2),outline:0,boxShadow:O?S:w,border:0,WebkitTransition:P?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:P?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:P?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"},I={height:this.t,width:this.t,opacity:Math.max(2*(1-(T-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:P?null:"opacity 0.25s",MozTransition:P?null:"opacity 0.25s",transition:P?null:"opacity 0.25s"},B={height:this.t,width:this.t,opacity:Math.max(2*((T-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:P?null:"opacity 0.25s",MozTransition:P?null:"opacity 0.25s",transition:P?null:"opacity 0.25s"};return H.createElement("div",{className:o,style:N},H.createElement("div",{className:"react-switch-bg",style:R,onClick:a?null:this.$,onMouseDown:function(F){return F.preventDefault()}},p&&H.createElement("div",{style:D},p),m&&H.createElement("div",{style:j},m)),H.createElement("div",{className:"react-switch-handle",style:A,onClick:function(F){return F.preventDefault()},onMouseDown:a?null:this.p,onTouchStart:a?null:this.m,onTouchMove:a?null:this.M,onTouchEnd:a?null:this.T,onTouchCancel:a?null:this.S},y&&H.createElement("div",{style:I},y),g&&H.createElement("div",{style:B},g)),H.createElement("input",TE({},{type:"checkbox",role:"switch","aria-checked":n,checked:n,disabled:a,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},$,{ref:this.W,onFocus:this.O,onBlur:this.S,onKeyUp:this.D,onChange:this.C})))},t}(_.Component);i7.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:NX,checkedIcon:LX,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56};function s7({state:e,setState:t}){var C,$,L,T;const{theme:r,toggleTheme:n}=_.useContext(xC),{logout:a,user:o}=wt(),{hasPermission:i,isAdmin:c}=oo();Ko();const d=_.useContext(Mg),[f,p]=_.useState(null),m=(d==null?void 0:d.sidebarOpen)!==void 0?d.sidebarOpen:e,g=(d==null?void 0:d.toggleSidebar)||t,y=_.useMemo(()=>[{path:"/dashboard",name:"Dashboard",icon:"🏠",category:"General",description:"Panel principal del sistema",order:1,isAccessible:!0},{path:"/tasks",name:"Tareas",icon:"📋",category:"Operaciones",description:"Gestión y transferencia de tareas",order:2,isAccessible:i("tasks","read")},{path:"/loads",name:"Cargas",icon:"📦",category:"Operaciones",description:"Gestión de cargas de datos",order:3,isAccessible:i("loads","read")},{path:"/documents",name:"Documentos",icon:"📄",category:"Documentos",description:"Gestión de documentos del sistema",order:4,isAccessible:i("documents","read")},{path:"/summaries",name:"Resúmenes",icon:"📊",category:"Análisis",description:"Resúmenes y reportes del sistema",order:5,isAccessible:i("reports","read")},{path:"/analytics",name:"Analíticas",icon:"📈",category:"Análisis",description:"Análisis estadístico y métricas",order:6,isAccessible:i("analytics","read")},{path:"/historys",name:"Historial",icon:"🕐",category:"Análisis",description:"Historial de operaciones",order:7,isAccessible:i("history","read")},{path:"/logs",name:"Logs",icon:"🪲",category:"Análisis",description:"Logs de operaciones",order:7,isAccessible:i("logs","read")},{path:"/users",name:"Usuarios",icon:"👥",category:"Administración",description:"Gestión de usuarios del sistema",order:8,isAccessible:c&&i("users","read")},{path:"/roles",name:"Roles",icon:"🔐",category:"Administración",description:"Gestión de roles y permisos",order:9,isAccessible:c&&i("roles","read")},{path:"/modules",name:"Modulos",icon:"🔐",category:"Administración",description:"Gestión de modulos",order:9,isAccessible:c&&i("modules","read")},{path:"/configuraciones",name:"Configuraciones",icon:"⚙️",category:"Sistema",description:"Configuraciones del sistema",order:10,isAccessible:i("settings","read")},{path:"/perfil",name:"Mi Perfil",icon:"👤",category:"Personal",description:"Configuración del perfil personal",order:11,isAccessible:!0}],[i,c]),w=_.useMemo(()=>y.filter(N=>N.isAccessible).sort((N,R)=>N.order-R.order).reduce((N,R)=>(N[R.category]||(N[R.category]=[]),N[R.category].push(R),N),{}),[y]),S=()=>{window.confirm("¿Estás seguro de que deseas cerrar sesión?")&&a()},b=P=>l.jsx(YX,{children:l.jsxs(GX,{to:P.path,className:({isActive:O})=>O?"active":"",title:P.description,children:[l.jsx("span",{className:"icon",children:P.icon}),m&&l.jsx("span",{className:"label",children:P.name})]})},P.path),k=(P,O)=>l.jsxs(UX,{onMouseEnter:()=>p(P),onMouseLeave:()=>p(null),children:[m&&l.jsxs(VX,{children:[P,f===P&&l.jsxs(WX,{children:[O.length," elemento",O.length>1?"s":""]})]}),l.jsx("nav",{children:O.map(b)})]},P);return l.jsxs(BX,{className:m?"open":"closed",children:[l.jsxs(zX,{children:[l.jsxs("div",{className:"brand",children:[l.jsx("span",{className:"logo",children:"📊"}),m&&l.jsx("span",{className:"brand-text",children:"Control Panel"})]}),l.jsx(FX,{onClick:g,children:m?l.jsx(dV,{}):l.jsx(fV,{})})]}),m&&o&&l.jsxs(qX,{children:[l.jsx("div",{className:"user-avatar",children:(($=(C=o.name)==null?void 0:C.charAt(0))==null?void 0:$.toUpperCase())||"U"}),l.jsxs("div",{className:"user-details",children:[l.jsxs("div",{className:"user-name",children:[o.name," ",o.lastname]}),l.jsx("div",{className:"user-role",children:c?"Administrador":((T=(L=o.roles)==null?void 0:L[0])==null?void 0:T.displayName)||"Usuario"})]})]}),l.jsx(HX,{children:Object.entries(w).map(([P,O])=>k(P,O))}),l.jsxs(KX,{children:[l.jsxs(QX,{children:[l.jsx(i7,{checked:r==="dark",onChange:n,offColor:"#ccc",onColor:"#4a90e2",uncheckedIcon:l.jsx(SV,{size:16,color:"#FDB813"}),checkedIcon:l.jsx(yV,{size:16,color:"#fff"}),width:48,height:24}),m&&l.jsxs("span",{children:["Tema ",r==="dark"?"Oscuro":"Claro"]})]}),l.jsxs(XX,{onClick:S,title:"Cerrar Sesión",children:[l.jsx(bV,{}),m&&l.jsx("span",{children:"Cerrar Sesión"})]})]})]})}const BX=v.aside`
  display: flex;
  flex-direction: column;
  height: 100vh;
  background: ${({theme:e})=>e.sidebarBg||e.bg};
  border-right: 1px solid ${({theme:e})=>e.border||"#e0e0e0"};
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  z-index: 10;

  &.open {
    width: 260px;
  }

  &.closed {
    width: 65px;
  }

  @media (max-width: 768px) {
    position: fixed;
    left: 0;
    top: 0;
    z-index: 1000;

    &.closed {
      transform: translateX(-100%);
    }
  }
`,zX=v.header`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem;
  border-bottom: 1px solid ${({theme:e})=>e.border||"#e0e0e0"};
  min-height: 70px;

  .brand {
    display: flex;
    align-items: center;
    gap: 0.75rem;

    .logo {
      font-size: 1.5rem;
    }

    .brand-text {
      font-weight: 600;
      color: ${({theme:e})=>e.primary||"#4a90e2"};
    }
  }
`,FX=v.button`
  background: none;
  border: none;
  color: ${({theme:e})=>e.text||"#333"};
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 4px;
  transition: background-color 0.2s;

  &:hover {
    background-color: ${({theme:e})=>e.hoverBg||"#f5f5f5"};
  }
`,qX=v.div`
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1rem;
  border-bottom: 1px solid ${({theme:e})=>e.border||"#e0e0e0"};

  .user-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: ${({theme:e})=>e.primary||"#4a90e2"};
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
  }

  .user-details {
    flex: 1;
    min-width: 0;

    .user-name {
      font-weight: 500;
      font-size: 0.9rem;
      color: ${({theme:e})=>e.text||"#333"};
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .user-role {
      font-size: 0.75rem;
      color: ${({theme:e})=>e.textSecondary||"#666"};
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
  }
`,HX=v.nav`
  flex: 1;
  overflow-y: auto;
  padding: 0.5rem 0;
`,UX=v.div`
  margin-bottom: 1rem;
  position: relative;
`,VX=v.h3`
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
  margin: 0 0 0.5rem 0;
  padding: 0 1rem;
  position: relative;
`,WX=v.span`
  position: absolute;
  right: 1rem;
  font-size: 0.6rem;
  background: ${({theme:e})=>e.tooltipBg||"#333"};
  color: white;
  padding: 0.2rem 0.4rem;
  border-radius: 3px;
  opacity: 0.8;
`,YX=v.div`
  margin: 0 0.5rem;
`,GX=v(dC)`
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem;
  color: ${({theme:e})=>e.text||"#333"};
  text-decoration: none;
  border-radius: 8px;
  transition: all 0.2s ease;
  position: relative;

  .icon {
    font-size: 1.2rem;
    min-width: 20px;
    text-align: center;
  }

  .label {
    font-size: 0.9rem;
    font-weight: 400;
    white-space: nowrap;
  }

  &:hover {
    background-color: ${({theme:e})=>e.hoverBg||"#f5f5f5"};
    transform: translateX(2px);
  }

  &.active {
    background-color: ${({theme:e})=>e.activeBg||"#4a90e2"};
    color: ${({theme:e})=>e.activeText||"white"};

    &::before {
      content: "";
      position: absolute;
      left: -0.5rem;
      top: 50%;
      transform: translateY(-50%);
      width: 3px;
      height: 70%;
      background-color: ${({theme:e})=>e.primary||"#4a90e2"};
      border-radius: 0 2px 2px 0;
    }
  }
`,KX=v.footer`
  padding: 1rem;
  border-top: 1px solid ${({theme:e})=>e.border||"#e0e0e0"};
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
`,QX=v.div`
  display: flex;
  align-items: center;
  gap: 0.75rem;

  span {
    font-size: 0.85rem;
    color: ${({theme:e})=>e.text||"#333"};
  }
`,XX=v.button`
  display: flex;
  align-items: center;
  gap: 0.75rem;
  background: none;
  border: none;
  color: ${({theme:e})=>e.danger||"#e74c3c"};
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 6px;
  font-size: 0.85rem;
  transition: background-color 0.2s;
  width: 100%;
  text-align: left;

  &:hover {
    background-color: ${({theme:e})=>e.dangerBg||"#fee"};
  }
`,Rl=new tv,JX=new bC,BC=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!1),[a,o]=_.useState(""),[i,c]=_.useState([]),[d,f]=_.useState({currentPage:1,totalPages:1,totalUsers:0,limit:10}),{user:p,accessToken:m,reloadUserPermissions:g}=wt(),{hasPermission:y}=oo(),w=y("users","create"),S=y("users","update"),b=y("users","delete"),k=y("users","read");_.useEffect(()=>{k&&m&&(C(),$())},[k,m,d.currentPage]);const C=async()=>{var j,A;if(m){n(!0);try{const I=await Rl.getUsersWithRoles(m,{page:d.currentPage,limit:d.limit,search:a});if(I&&I.success)t(((j=I.data)==null?void 0:j.users)||I.users||[]),((A=I.data)!=null&&A.pagination||I.pagination)&&f(B=>{var F;return{...B,...((F=I.data)==null?void 0:F.pagination)||I.pagination}});else throw new Error((I==null?void 0:I.message)||"Error cargando usuarios")}catch(I){console.error("Error cargando usuarios:",I),z.fire("Error","No se pudieron cargar los usuarios","error")}finally{n(!1)}}},$=async()=>{if(m)try{const A=await await JX.getAvailableRoles(m);A.success&&c(A.data)}catch(j){console.error("Error cargando roles:",j)}},L=async(j=null)=>{const A=!!j,I=i.map(F=>{var U;return`
        <option value="${F._id}" ${(U=j==null?void 0:j.rolesInfo)!=null&&U.some(Y=>Y._id===F._id)?"selected":""}>
          ${F.displayName}
        </option>
      `}).join(""),{value:B}=await z.fire({title:A?"Editar Usuario":"Crear Usuario",html:`
        <div style="text-align: left;">
          <div style="margin-bottom: 1rem;">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Nombre:</label>
            <input id="name" class="swal2-input" placeholder="Nombre" value="${(j==null?void 0:j.name)||""}" style="margin: 0;">
          </div>
          
          <div style="margin-bottom: 1rem;">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Apellido:</label>
            <input id="lastname" class="swal2-input" placeholder="Apellido" value="${(j==null?void 0:j.lastname)||""}" style="margin: 0;">
          </div>
          
          <div style="margin-bottom: 1rem;">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Email:</label>
            <input id="email" class="swal2-input" type="email" placeholder="Email" value="${(j==null?void 0:j.email)||""}" style="margin: 0;">
          </div>
          
          <div style="margin-bottom: 1rem;">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Teléfono:</label>
            <input id="telefono" class="swal2-input" placeholder="Teléfono" value="${(j==null?void 0:j.telefono)||""}" style="margin: 0;">
          </div>
          
          ${A?"":`
            <div style="margin-bottom: 1rem;">
              <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Contraseña:</label>
              <input id="password" class="swal2-input" type="password" placeholder="Contraseña" style="margin: 0;">
            </div>
          `}
          
          <div style="margin-bottom: 1rem;">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Roles:</label>
            <select id="roles" class="swal2-input" multiple style="margin: 0; height: 120px;">
              ${I}
            </select>
            <small style="color: #666;">Mantén Ctrl/Cmd presionado para seleccionar múltiples roles</small>
          </div>
          
          <div style="margin-bottom: 1rem;">
            <label style="display: flex; align-items: center; gap: 0.5rem;">
              <input id="isAdmin" type="checkbox" ${j!=null&&j.isAdmin?"checked":""}>
              <span style="font-weight: 600;">Administrador del sistema</span>
            </label>
          </div>
        </div>
      `,showCancelButton:!0,confirmButtonText:A?"Actualizar":"Crear",cancelButtonText:"Cancelar",width:"500px",preConfirm:()=>{var K;const F=document.getElementById("name").value,U=document.getElementById("lastname").value,Y=document.getElementById("email").value,W=document.getElementById("telefono").value,Q=(K=document.getElementById("password"))==null?void 0:K.value,Z=Array.from(document.getElementById("roles").selectedOptions).map(se=>se.value),V=document.getElementById("isAdmin").checked;return!F||!U||!Y?(z.showValidationMessage("Nombre, apellido y email son requeridos"),!1):!A&&!Q?(z.showValidationMessage("La contraseña es requerida para nuevos usuarios"),!1):{name:F,lastname:U,email:Y,telefono:W,password:Q,roles:Z,isAdmin:V}}});B&&(A?await P(j._id,B):await T(B))},T=async j=>{try{n(!0);const A=await Rl.createUser(m,j);if(A&&A.success)z.fire("¡Éxito!","Usuario creado correctamente","success"),await C();else throw new Error((A==null?void 0:A.message)||"Error creando usuario")}catch(A){console.error("Error creando usuario:",A),z.fire("Error",A.message||"No se pudo crear el usuario","error")}finally{n(!1)}},P=async(j,A)=>{try{n(!0);const{roles:I,...B}=A,F=await Rl.updateUser(m,j,B);if(!F||!F.success)throw new Error((F==null?void 0:F.message)||"Error actualizando usuario");if(I&&I.length>=0){const U=await Rl.updateUserRoles(m,j,I);(!U||!U.success)&&console.warn("Error actualizando roles:",U==null?void 0:U.message)}z.fire("¡Éxito!","Usuario actualizado correctamente","success"),await C(),j===p._id&&await g()}catch(I){console.error("Error actualizando usuario:",I),z.fire("Error",I.message||"No se pudo actualizar el usuario","error")}finally{n(!1)}},O=async(j,A)=>{const I=A?"desactivar":"activar";if((await z.fire({title:`¿${I.charAt(0).toUpperCase()+I.slice(1)} usuario?`,text:`¿Estás seguro de que deseas ${I} este usuario?`,icon:"question",showCancelButton:!0,confirmButtonText:`Sí, ${I}`,cancelButtonText:"Cancelar"})).isConfirmed)try{n(!0);const F=await Rl.ActiveInactiveUser(m,j,{activo:!A});if(F&&F.success)z.fire("¡Éxito!",`Usuario ${I}do correctamente`,"success"),await C();else throw new Error((F==null?void 0:F.message)||`Error ${I}ndo usuario`)}catch(F){console.error(`Error ${I}ndo usuario:`,F),z.fire("Error",`No se pudo ${I} el usuario`,"error")}finally{n(!1)}},N=async(j,A)=>{if((await z.fire({title:"¿Eliminar usuario?",text:`¿Estás seguro de que deseas eliminar a ${A}? Esta acción no se puede deshacer.`,icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar",confirmButtonColor:"#d33"})).isConfirmed)try{n(!0);const B=await Rl.deleteUser(m,j);if(B&&B.success)z.fire("¡Eliminado!","Usuario eliminado correctamente","success"),await C();else throw new Error((B==null?void 0:B.message)||"Error eliminando usuario")}catch(B){console.error("Error eliminando usuario:",B),z.fire("Error","No se pudo eliminar el usuario","error")}finally{n(!1)}},R=async j=>{const A=j.roles&&j.roles.length>0?j.roles.map(I=>`<span style="background: ${I.isActive?"#28a745":"#6c757d"}; color: white; padding: 2px 8px; border-radius: 12px; font-size: 0.8rem; margin-right: 4px;">${I.displayName}</span>`).join(" "):"<em>Sin roles asignados</em>";await z.fire({title:"Detalles del Usuario",html:`
        <div style="text-align: left; padding: 1rem;">
          <div style="margin-bottom: 1rem;">
            <strong>Nombre completo:</strong><br>
            ${j.name} ${j.lastname}
          </div>
          
          <div style="margin-bottom: 1rem;">
            <strong>Email:</strong><br>
            ${j.email}
          </div>
          
          <div style="margin-bottom: 1rem;">
            <strong>Teléfono:</strong><br>
            ${j.telefono||"No especificado"}
          </div>
          
          <div style="margin-bottom: 1rem;">
            <strong>Estado:</strong><br>
            <span style="color: ${j.activo?"#28a745":"#dc3545"};">
              ${j.activo?"✅ Activo":"❌ Inactivo"}
            </span>
          </div>
          
          <div style="margin-bottom: 1rem;">
            <strong>Administrador:</strong><br>
            <span style="color: ${j.isAdmin?"#f39c12":"#6c757d"};">
              ${j.isAdmin?"👑 Sí":"👤 No"}
            </span>
          </div>
          
          <div style="margin-bottom: 1rem;">
            <strong>Roles asignados:</strong><br>
            ${A}
          </div>
          
          <div>
            <strong>Fecha de registro:</strong><br>
            ${j.createdAt?new Date(j.createdAt).toLocaleString():"No disponible"}
          </div>
        </div>
      `,width:"500px",confirmButtonText:"Cerrar"})},D=e.filter(j=>{var A,I,B;return((A=j.name)==null?void 0:A.toLowerCase().includes(a.toLowerCase()))||((I=j.lastname)==null?void 0:I.toLowerCase().includes(a.toLowerCase()))||((B=j.email)==null?void 0:B.toLowerCase().includes(a.toLowerCase()))});return console.log("🎯 Usuarios filtrados:",D),k?l.jsxs(dA,{children:[l.jsxs(ZX,{children:[l.jsxs(eJ,{children:[l.jsxs("h2",{children:[l.jsx(Li,{})," Gestión de Usuarios"]}),l.jsx("p",{children:"Administra los usuarios del sistema"})]}),l.jsx(tJ,{children:w&&l.jsxs("button",{onClick:()=>L(),disabled:r,children:[l.jsx(ar,{})," Nuevo Usuario"]})})]}),l.jsxs(rJ,{children:[l.jsxs(nJ,{children:[l.jsx(Zs,{}),l.jsx("input",{type:"text",placeholder:"Buscar usuarios...",value:a,onChange:j=>o(j.target.value)})]}),l.jsxs(aJ,{children:["Total: ",D.length," usuario(s)"]})]}),l.jsxs(oJ,{children:[l.jsxs(iJ,{children:[l.jsx("th",{children:"Usuario"}),l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Roles"}),l.jsx("th",{children:"Estado"}),l.jsx("th",{children:"Acciones"})]}),l.jsx("tbody",{children:D.map(j=>{var A,I;return l.jsxs(sJ,{children:[l.jsxs(lJ,{children:[l.jsx(cJ,{children:((I=(A=j.name)==null?void 0:A.charAt(0))==null?void 0:I.toUpperCase())||"U"}),l.jsxs(uJ,{children:[l.jsxs(dJ,{children:[j.name," ",j.lastname,j.isAdmin&&l.jsx(Eg,{className:"admin-icon"})]}),l.jsxs(fJ,{children:["ID: ",j._id]})]})]}),l.jsx("td",{children:j.email}),l.jsxs(pJ,{children:[j.roles&&j.roles.length>0?j.roles.slice(0,2).map(B=>l.jsx(hJ,{active:B.isActive,children:B.displayName},B._id)):l.jsx(mJ,{children:"Sin roles"}),j.roles&&j.roles.length>2&&l.jsxs(gJ,{children:["+",j.roles.length-2]})]}),l.jsx(yJ,{children:l.jsx(vJ,{active:j.activo,children:j.activo?"Activo":"Inactivo"})}),l.jsxs(xJ,{children:[l.jsx(Zh,{onClick:()=>R(j),title:"Ver detalles",children:l.jsx(ta,{})}),S&&l.jsx(Zh,{onClick:()=>L(j),title:"Editar",children:l.jsx(Ir,{})}),S&&l.jsx(Zh,{onClick:()=>O(j._id,j.activo),title:j.activo?"Desactivar":"Activar",className:j.activo?"warning":"success",children:j.activo?l.jsx(ov,{}):l.jsx(av,{})}),b&&j._id!==p._id&&l.jsx(Zh,{onClick:()=>N(j._id,`${j.name} ${j.lastname}`),title:"Eliminar",className:"danger",children:l.jsx(Nr,{})})]})]},j._id)})})]}),D.length===0&&!r&&l.jsxs(bJ,{children:[l.jsx(Li,{}),l.jsx("h3",{children:"No se encontraron usuarios"}),l.jsx("p",{children:"Intenta con otros términos de búsqueda o crea un nuevo usuario"})]}),r&&l.jsx(wJ,{children:l.jsx("div",{children:"Cargando usuarios..."})})]}):l.jsx(dA,{children:l.jsxs(SJ,{children:[l.jsx(Oo,{}),l.jsx("h3",{children:"Sin permisos"}),l.jsx("p",{children:"No tienes permisos para gestionar usuarios."})]})})},dA=v.div`
  padding: 2rem;
  max-width: 1400px;
  margin: 0 auto;
`,ZX=v.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 2rem;

  @media (max-width: 768px) {
    flex-direction: column;
    gap: 1rem;
  }
`,eJ=v.div`
  h2 {
    margin: 0 0 0.5rem 0;
    color: ${({theme:e})=>e.text};
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  p {
    margin: 0;
    color: ${({theme:e})=>e.textSecondary};
  }
`,tJ=v.div`
  button {
    background: ${({theme:e})=>e.primary};
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 500;

    &:hover:not(:disabled) {
      background: ${({theme:e})=>e.primaryDark};
    }

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
  }
`,rJ=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
  gap: 1rem;

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: stretch;
  }
`,nJ=v.div`
  position: relative;
  display: flex;
  align-items: center;
  flex: 1;
  max-width: 400px;

  svg {
    position: absolute;
    left: 12px;
    color: ${({theme:e})=>e.textSecondary};
  }

  input {
    width: 100%;
    padding: 0.75rem 0.75rem 0.75rem 2.5rem;
    border: 1px solid ${({theme:e})=>e.border};
    border-radius: 6px;
    background: ${({theme:e})=>e.bg};
    color: ${({theme:e})=>e.text};
    font-size: 0.9rem;

    &:focus {
      outline: none;
      border-color: ${({theme:e})=>e.primary};
    }
  }
`,aJ=v.div`
  color: ${({theme:e})=>e.textSecondary};
  font-size: 0.9rem;
  font-weight: 500;
`,oJ=v.table`
  width: 100%;
  border-collapse: collapse;
  background: ${({theme:e})=>e.cardBg||e.bg};
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`,iJ=v.thead`
  background: ${({theme:e})=>e.headerBg||e.primary};
  color: white;

  th {
    padding: 1rem;
    text-align: left;
    font-weight: 600;
    font-size: 0.9rem;
  }
`,sJ=v.tr`
  border-bottom: 1px solid ${({theme:e})=>e.border};

  &:hover {
    background: ${({theme:e})=>e.hoverBg||"#f8f9fa"};
  }

  td {
    padding: 1rem;
    vertical-align: middle;
  }
`,lJ=v.td`
  display: flex;
  align-items: center;
  gap: 0.75rem;
`,cJ=v.div`
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: ${({theme:e})=>e.primary};
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 1rem;
`,uJ=v.div`
  display: flex;
  flex-direction: column;
`,dJ=v.div`
  font-weight: 600;
  color: ${({theme:e})=>e.text};
  display: flex;
  align-items: center;
  gap: 0.5rem;

  .admin-icon {
    color: #f39c12;
    font-size: 0.9rem;
  }
`,fJ=v.div`
  font-size: 0.75rem;
  color: ${({theme:e})=>e.textSecondary};
`,pJ=v.td`
  display: flex;
  flex-wrap: wrap;
  gap: 0.25rem;
  align-items: center;
`,hJ=v.span`
  padding: 0.2rem 0.6rem;
  background: ${({active:e,theme:t})=>e?t.primary||"#007bff":t.textSecondary||"#6c757d"};
  color: white;
  border-radius: 10px;
  font-size: 0.7rem;
  font-weight: 500;
  opacity: ${({active:e})=>e?1:.6};
`,mJ=v.span`
  color: ${({theme:e})=>e.textSecondary};
  font-style: italic;
  font-size: 0.8rem;
`,gJ=v.span`
  color: ${({theme:e})=>e.textSecondary};
  font-size: 0.75rem;
  font-weight: 500;
`,yJ=v.td``,vJ=v.span`
  padding: 0.25rem 0.75rem;
  border-radius: 12px;
  font-size: 0.8rem;
  font-weight: 500;
  background: ${({active:e,theme:t})=>e?t.success||"#28a745":t.danger||"#dc3545"};
  color: white;
`,xJ=v.td`
  display: flex;
  gap: 0.5rem;
`,Zh=v.button`
  background: ${({theme:e})=>e.secondary||"#6c757d"};
  color: white;
  border: none;
  padding: 0.5rem;
  border-radius: 4px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  transition: all 0.2s;

  &:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }

  &.success {
    background: ${({theme:e})=>e.success||"#28a745"};
  }

  &.warning {
    background: ${({theme:e})=>e.warning||"#ffc107"};
  }

  &.danger {
    background: ${({theme:e})=>e.danger||"#dc3545"};
  }
`,bJ=v.div`
  text-align: center;
  padding: 3rem 1rem;
  color: ${({theme:e})=>e.textSecondary};

  svg {
    font-size: 3rem;
    margin-bottom: 1rem;
    opacity: 0.5;
  }

  h3 {
    margin: 0 0 0.5rem 0;
  }

  p {
    margin: 0;
  }
`,wJ=v.div`
  text-align: center;
  padding: 2rem;
  color: ${({theme:e})=>e.textSecondary};
`,SJ=v.div`
  text-align: center;
  padding: 3rem 1rem;
  color: ${({theme:e})=>e.textSecondary};

  svg {
    font-size: 3rem;
    margin-bottom: 1rem;
    color: ${({theme:e})=>e.danger||"#dc3545"};
  }

  h3 {
    margin: 0 0 0.5rem 0;
    color: ${({theme:e})=>e.text};
  }

  p {
    margin: 0;
  }
`,gb=new tv;function l7(){var N;const{user:e,accessToken:t,updateUser:r}=wt(),[n,a]=_.useState(!1),[o,i]=_.useState({current:!1,new:!1,confirm:!1}),[c,d]=_.useState({name:(e==null?void 0:e.name)||"",lastname:(e==null?void 0:e.lastname)||"",email:(e==null?void 0:e.email)||"",telefono:(e==null?void 0:e.telefono)||""}),[f,p]=_.useState({current:"",new:"",confirm:""}),[m,g]=_.useState(null),[y,w]=_.useState(null),S=_.useRef(null),b=R=>{const{name:D,value:j}=R.target;d(A=>({...A,[D]:j}))},k=R=>{const{name:D,value:j}=R.target;p(A=>({...A,[D]:j}))},C=R=>{const D=R.target.files[0];if(D){if(D.size>5*1024*1024){z.fire("Error","El archivo no puede ser mayor a 5MB","error");return}g(D);const j=new FileReader;j.onload=A=>w(A.target.result),j.readAsDataURL(D)}},$=async()=>{try{if(!t){z.fire("Error","No hay sesión activa. Por favor, inicia sesión nuevamente.","error");return}if(!(e!=null&&e._id)){z.fire("Error","No se pudo identificar al usuario.","error");return}z.fire({title:"Actualizando perfil...",allowOutsideClick:!1,didOpen:()=>z.showLoading()});const R={...c};m&&(R.fileAvatar=m),console.log("Datos a enviar:",{...R,fileAvatar:m?"archivo seleccionado":"sin archivo"});const D=await gb.updateUser(t,e._id,R);if(console.log("Respuesta de la API:",D),D&&D.success)try{const j=await gb.getMe(t);z.fire("¡Éxito!","Perfil actualizado correctamente","success"),a(!1),g(null),w(null),r&&typeof r=="function"&&r(j),d({name:(j==null?void 0:j.name)||"",lastname:(j==null?void 0:j.lastname)||"",email:(j==null?void 0:j.email)||"",telefono:(j==null?void 0:j.telefono)||""})}catch(j){console.error("Error al recargar usuario:",j),z.fire("¡Éxito!","Perfil actualizado correctamente","success"),a(!1),g(null),w(null)}else{const j=(D==null?void 0:D.msg)||(D==null?void 0:D.message)||"Error al actualizar perfil";throw console.error("Error de la API:",D),new Error(j)}}catch(R){console.error("Error completo:",R),z.fire("Error",R.message||"No se pudo actualizar el perfil","error")}},L=async()=>{if(f.new!==f.confirm){z.fire("Error","Las contraseñas nuevas no coinciden","error");return}if(f.new.length<6){z.fire("Error","La nueva contraseña debe tener al menos 6 caracteres","error");return}try{z.fire({title:"Cambiando contraseña...",allowOutsideClick:!1,didOpen:()=>z.showLoading()});const R=await gb.updateUser(t,e._id,{currentPassword:f.current,password:f.new});if(R&&R.success)z.fire("¡Éxito!","Contraseña actualizada correctamente","success"),p({current:"",new:"",confirm:""});else{const D=(R==null?void 0:R.msg)||(R==null?void 0:R.message)||"Error al cambiar contraseña";throw new Error(D)}}catch(R){console.error("Error:",R),z.fire("Error",R.message||"No se pudo cambiar la contraseña","error")}},T=R=>{i(D=>({...D,[R]:!D[R]}))},P=()=>y||(console.log("Avatar del usuario:",e==null?void 0:e.avatar),e!=null&&e.avatar?e.avatar.startsWith("http")?e.avatar:e.avatar.startsWith("uploads/")?`${ue.BASE_PATH}/${e.avatar}`:`${ue.BASE_PATH}/uploads/avatar/${e.avatar}`:"/default-avatar.png"),O=()=>{a(!1),g(null),w(null),d({name:(e==null?void 0:e.name)||"",lastname:(e==null?void 0:e.lastname)||"",email:(e==null?void 0:e.email)||"",telefono:(e==null?void 0:e.telefono)||""})};return l.jsxs(jJ,{children:[l.jsxs(CJ,{children:[l.jsxs("h1",{children:[l.jsx(Li,{})," Mi Perfil"]}),l.jsx("p",{children:"Gestiona tu información personal y configuraciones de cuenta"})]}),l.jsxs($J,{children:[l.jsxs(TJ,{children:[l.jsxs(kJ,{children:[l.jsx(AJ,{src:P(),alt:"Avatar"}),n&&l.jsxs(OJ,{onClick:()=>{var R;return(R=S.current)==null?void 0:R.click()},children:[l.jsx(cV,{}),l.jsx("span",{children:"Cambiar foto"})]})]}),l.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:C,style:{display:"none"}}),l.jsxs(PJ,{children:[l.jsxs("h2",{children:[e==null?void 0:e.name," ",e==null?void 0:e.lastname]}),l.jsx(_J,{children:(N=e==null?void 0:e.role)==null?void 0:N.join(", ")})]})]}),l.jsxs(fA,{children:[l.jsxs(pA,{children:[l.jsx("h3",{children:"Información Personal"}),l.jsxs(DJ,{onClick:()=>n?O():a(!0),children:[n?l.jsx(dn,{}):l.jsx(Ir,{}),n?"Cancelar":"Editar"]})]}),l.jsxs(hA,{children:[l.jsxs(ps,{children:[l.jsx("label",{children:"Nombre"}),l.jsx(em,{name:"name",value:c.name,onChange:b,disabled:!n,icon:l.jsx(Li,{}),placeholder:"Ingrese su nombre"})]}),l.jsxs(ps,{children:[l.jsx("label",{children:"Apellido"}),l.jsx(em,{name:"lastname",value:c.lastname,onChange:b,disabled:!n,icon:l.jsx(Li,{}),placeholder:"Ingrese su apellido"})]}),l.jsxs(ps,{children:[l.jsx("label",{children:"Email"}),l.jsx(em,{name:"email",value:c.email,onChange:b,disabled:!n,icon:l.jsx(rv,{}),placeholder:"correo@ejemplo.com"})]}),l.jsxs(ps,{children:[l.jsx("label",{children:"Teléfono"}),l.jsx(em,{name:"telefono",value:c.telefono,onChange:b,disabled:!n,icon:l.jsx(xV,{}),placeholder:"Número de teléfono"})]})]}),n&&l.jsx(mA,{children:l.jsxs(gA,{onClick:$,children:[l.jsx(nv,{})," Guardar Cambios"]})})]}),l.jsxs(fA,{children:[l.jsx(pA,{children:l.jsx("h3",{children:"Seguridad"})}),l.jsxs(hA,{children:[l.jsxs(ps,{children:[l.jsx("label",{children:"Contraseña Actual"}),l.jsx(yb,{children:l.jsxs(vb,{children:[l.jsx(og,{children:l.jsx(Mh,{})}),l.jsx(xb,{type:o.current?"text":"password",name:"current",value:f.current,onChange:k,placeholder:"Ingrese su contraseña actual"}),l.jsx(bb,{onClick:()=>T("current"),children:o.current?l.jsx(ob,{}):l.jsx(ta,{})})]})})]}),l.jsxs(ps,{children:[l.jsx("label",{children:"Nueva Contraseña"}),l.jsx(yb,{children:l.jsxs(vb,{children:[l.jsx(og,{children:l.jsx(Mh,{})}),l.jsx(xb,{type:o.new?"text":"password",name:"new",value:f.new,onChange:k,placeholder:"Ingrese su nueva contraseña"}),l.jsx(bb,{onClick:()=>T("new"),children:o.new?l.jsx(ob,{}):l.jsx(ta,{})})]})})]}),l.jsxs(ps,{children:[l.jsx("label",{children:"Confirmar Nueva Contraseña"}),l.jsx(yb,{children:l.jsxs(vb,{children:[l.jsx(og,{children:l.jsx(Mh,{})}),l.jsx(xb,{type:o.confirm?"text":"password",name:"confirm",value:f.confirm,onChange:k,placeholder:"Confirme su nueva contraseña"}),l.jsx(bb,{onClick:()=>T("confirm"),children:o.confirm?l.jsx(ob,{}):l.jsx(ta,{})})]})})]})]}),l.jsx(mA,{children:l.jsxs(gA,{onClick:L,disabled:!f.current||!f.new||!f.confirm,children:[l.jsx(Mh,{})," Cambiar Contraseña"]})})]})]})]})}const EJ=({icon:e,disabled:t,...r})=>l.jsxs(MJ,{$disabled:t,children:[l.jsx(og,{children:e}),l.jsx(RJ,{disabled:t,...r})]}),jJ=v.div`
  padding: 20px;
  background-color: ${({theme:e})=>e.bg};
  color: ${({theme:e})=>e.text};
  min-height: 100vh;
`,CJ=v.div`
  text-align: center;
  margin-bottom: 30px;

  h1 {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    margin: 0 0 10px 0;
    color: ${({theme:e})=>e.title};
  }

  p {
    color: ${({theme:e})=>e.textSecondary};
    margin: 0;
  }
`,$J=v.div`
  max-width: 800px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 30px;
`,TJ=v.div`
  display: flex;
  align-items: center;
  gap: 20px;
  padding: 30px;
  background: ${({theme:e})=>e.cardBg};
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);

  @media (max-width: 768px) {
    flex-direction: column;
    text-align: center;
  }
`,kJ=v.div`
  position: relative;
  width: 120px;
  height: 120px;
  border-radius: 50%;
  overflow: hidden;
  cursor: pointer;

  &:hover > div {
    opacity: 1;
  }
`,AJ=v.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
`,OJ=v.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s;
  color: white;
  gap: 5px;

  span {
    font-size: 12px;
  }
`,PJ=v.div`
  h2 {
    margin: 0 0 10px 0;
    color: ${({theme:e})=>e.title};
  }
`,_J=v.span`
  background: ${({theme:e})=>e.primary};
  color: white;
  padding: 4px 12px;
  border-radius: 16px;
  font-size: 12px;
  font-weight: 500;
  text-transform: capitalize;
`,fA=v.div`
  background: ${({theme:e})=>e.cardBg};
  border-radius: 12px;
  padding: 30px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
`,pA=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;

  h3 {
    margin: 0;
    color: ${({theme:e})=>e.title};
  }
`,DJ=v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  background: ${({theme:e})=>e.primary};
  color: white;
  border: none;
  border-radius: 8px;
  padding: 8px 16px;
  cursor: pointer;
  transition: background-color 0.3s;

  &:hover {
    background: ${({theme:e})=>e.primaryHover};
  }
`,hA=v.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin-bottom: 20px;
`,ps=v.div`
  display: flex;
  flex-direction: column;
  gap: 8px;

  label {
    font-weight: 500;
    color: ${({theme:e})=>e.text};
  }
`,MJ=v.div`
  position: relative;
  display: flex;
  align-items: center;
  opacity: ${({$disabled:e})=>e?.6:1};
`,og=v.div`
  position: absolute;
  left: 12px;
  color: ${({theme:e})=>e.textSecondary};
  z-index: 1;
  pointer-events: none;
`,RJ=v.input`
  width: 100%;
  padding: 12px 12px 12px 40px;
  border: 1px solid ${({theme:e})=>e.border};
  border-radius: 8px;
  font-size: 14px;
  background: ${({theme:e,disabled:t})=>t?e.tableDisabled:e.inputBg};
  color: ${({theme:e})=>e.text};
  transition: border-color 0.3s;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.primary};
  }

  &:disabled {
    cursor: not-allowed;
  }
`,em=EJ,yb=v.div`
  width: 100%;
`,vb=v.div`
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
`,xb=v.input`
  width: 100%;
  padding: 12px 45px 12px 40px;
  border: 1px solid ${({theme:e})=>e.border};
  border-radius: 8px;
  font-size: 14px;
  background: ${({theme:e})=>e.inputBg};
  color: ${({theme:e})=>e.text};
  transition: border-color 0.3s;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.primary};
  }

  &::placeholder {
    color: ${({theme:e})=>e.textSecondary};
  }
`,bb=v.button`
  position: absolute;
  right: 12px;
  background: none;
  border: none;
  color: ${({theme:e})=>e.textSecondary};
  cursor: pointer;
  padding: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  transition: color 0.3s, background-color 0.3s;

  &:hover {
    color: ${({theme:e})=>e.primary};
    background-color: rgba(0, 0, 0, 0.05);
  }

  svg {
    font-size: 16px;
  }
`,mA=v.div`
  display: flex;
  gap: 10px;
  margin-top: 10px;
`,gA=v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  background: ${({theme:e})=>e.primary};
  color: white;
  border: none;
  border-radius: 8px;
  padding: 12px 24px;
  cursor: pointer;
  transition: background-color 0.3s;

  &:hover {
    background: ${({theme:e})=>e.primaryHover};
  }

  &:disabled {
    background: ${({theme:e})=>e.textSecondary};
    cursor: not-allowed;
    opacity: 0.6;
  }
`;v.div`
  padding: 2rem;
  max-width: 1200px;
  margin: 0 auto;
`;v.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 2rem;

  @media (max-width: 768px) {
    flex-direction: column;
    gap: 1rem;
  }
`;v.div`
  h2 {
    margin: 0 0 0.5rem 0;
    color: ${({theme:e})=>e.text};
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  p {
    margin: 0;
    color: ${({theme:e})=>e.textSecondary};
  }
`;v.div`
  button {
    background: ${({theme:e})=>e.primary};
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 500;

    &:hover:not(:disabled) {
      background: ${({theme:e})=>e.primaryDark};
    }

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
  }
`;v.div`
  display: grid;
  grid-template-columns: 1fr auto auto;
  gap: 1rem;
  margin-bottom: 1.5rem;
  align-items: center;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
`;v.div`
  position: relative;
  display: flex;
  align-items: center;

  svg {
    position: absolute;
    left: 12px;
    color: ${({theme:e})=>e.textSecondary};
  }

  input {
    width: 100%;
    padding: 0.75rem 0.75rem 0.75rem 2.5rem;
    border: 1px solid ${({theme:e})=>e.border};
    border-radius: 6px;
    background: ${({theme:e})=>e.bg};
    color: ${({theme:e})=>e.text};
    font-size: 0.9rem;

    &:focus {
      outline: none;
      border-color: ${({theme:e})=>e.primary};
    }
  }
`;v.div`
  select {
    padding: 0.75rem;
    border: 1px solid ${({theme:e})=>e.border};
    border-radius: 6px;
    background: ${({theme:e})=>e.bg};
    color: ${({theme:e})=>e.text};
    min-width: 200px;

    &:focus {
      outline: none;
      border-color: ${({theme:e})=>e.primary};
    }
  }
`;v.div`
  display: flex;
  gap: 0.5rem;

  button {
    padding: 0.75rem 1rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 500;
    transition: all 0.2s;

    &.assign {
      background: ${({theme:e})=>e.success||"#28a745"};
      color: white;

      &:hover:not(:disabled) {
        background: #218838;
      }
    }

    &.remove {
      background: ${({theme:e})=>e.danger||"#dc3545"};
      color: white;

      &:hover:not(:disabled) {
        background: #c82333;
      }
    }

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
  }
`;v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  padding: 0.75rem;
  background: ${({theme:e})=>e.cardBg||e.bg};
  border-radius: 6px;
  border: 1px solid ${({theme:e})=>e.border};

  span {
    color: ${({theme:e})=>e.textSecondary};
    font-size: 0.9rem;
  }

  .clear-selection {
    background: none;
    border: none;
    color: ${({theme:e})=>e.primary};
    cursor: pointer;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;

    &:hover {
      background: ${({theme:e})=>e.primaryLight||"#f0f8ff"};
    }
  }
`;v.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 1rem;
`;v.div`
  border: 1px solid ${({theme:e})=>e.border};
  border-radius: 8px;
  padding: 1rem;
  background: ${({theme:e})=>e.cardBg||e.bg};
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    border-color: ${({theme:e})=>e.primary};
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  &.selected {
    border-color: ${({theme:e})=>e.primary};
    background: ${({theme:e})=>e.primaryLight||"#f0f8ff"};
  }
`;v.div`
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 1rem;
`;v.div`
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: ${({theme:e})=>e.primary};
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 1.1rem;
`;v.div`
  flex: 1;
`;v.div`
  font-weight: 600;
  color: ${({theme:e})=>e.text};
  display: flex;
  align-items: center;
  gap: 0.5rem;

  .admin-icon {
    color: #f39c12;
    font-size: 0.9rem;
  }
`;v.div`
  font-size: 0.85rem;
  color: ${({theme:e})=>e.textSecondary};
`;v.input`
  width: 18px;
  height: 18px;
  cursor: pointer;
`;v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
`;v.span`
  padding: 0.25rem 0.75rem;
  background: ${({active:e,theme:t})=>e?t.primary||"#007bff":t.textSecondary||"#6c757d"};
  color: white;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
  opacity: ${({active:e})=>e?1:.6};
`;v.span`
  color: ${({theme:e})=>e.textSecondary};
  font-style: italic;
  font-size: 0.85rem;
`;v.div`
  text-align: center;
  padding: 3rem 1rem;
  color: ${({theme:e})=>e.textSecondary};

  svg {
    font-size: 3rem;
    margin-bottom: 1rem;
    opacity: 0.5;
  }

  h3 {
    margin: 0 0 0.5rem 0;
  }

  p {
    margin: 0;
  }
`;v.div`
  text-align: center;
  padding: 3rem 1rem;
  color: ${({theme:e})=>e.textSecondary};

  svg {
    font-size: 3rem;
    margin-bottom: 1rem;
    color: ${({theme:e})=>e.danger||"#dc3545"};
  }

  h3 {
    margin: 0 0 0.5rem 0;
    color: ${({theme:e})=>e.text};
  }

  p {
    margin: 0;
  }
`;function c7(){var o;const[e,t]=_.useState("database"),{user:r}=wt(),a=[{id:"database",label:"Bases de Datos",icon:l.jsx(sc,{}),component:l.jsx(m7,{}),requiresAdmin:!0},{id:"email",label:"Configuración de Email",icon:l.jsx(rv,{}),component:l.jsx(d7,{}),requiresAdmin:!1},{id:"consecutive",label:"Gestión de Consecutivos",icon:l.jsx(ZR,{}),component:l.jsx(u7,{}),requiresAdmin:!1},{id:"recipients",label:"Destinatarios de Email",icon:l.jsx(df,{}),component:l.jsx(f7,{}),requiresAdmin:!1},{id:"schedule",label:"Programación Automática",icon:l.jsx(Zf,{}),component:l.jsx(o7,{}),requiresAdmin:!0},{id:"users",label:"Gestión de Usuarios",icon:l.jsx(Li,{}),component:l.jsx(BC,{}),requiresAdmin:!0}].filter(i=>{var c;return!i.requiresAdmin||((c=r==null?void 0:r.role)==null?void 0:c.includes("admin"))});return l.jsxs(IJ,{children:[l.jsxs(NJ,{children:[l.jsxs("h1",{children:[l.jsx(_s,{})," Centro de Configuraciones"]}),l.jsx("p",{children:"Gestiona todas las configuraciones del sistema desde un solo lugar"})]}),l.jsxs(LJ,{children:[l.jsx(BJ,{children:a.map(i=>l.jsxs(zJ,{$active:e===i.id,onClick:()=>t(i.id),children:[i.icon,l.jsx("span",{children:i.label})]},i.id))}),l.jsx(FJ,{children:(o=a.find(i=>i.id===e))==null?void 0:o.component})]})]})}const IJ=v.div`
  padding: 20px;
  background-color: ${({theme:e})=>e.bg};
  color: ${({theme:e})=>e.text};
  min-height: 100vh;
`,NJ=v.div`
  text-align: center;
  margin-bottom: 30px;

  h1 {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    margin: 0 0 10px 0;
    color: ${({theme:e})=>e.title};
    font-size: 2rem;
  }

  p {
    color: ${({theme:e})=>e.textSecondary};
    margin: 0;
  }
`,LJ=v.div`
  background: ${({theme:e})=>e.cardBg};
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  overflow: hidden;
`,BJ=v.div`
  display: flex;
  background: ${({theme:e})=>e.tableHeader};
  border-bottom: 1px solid ${({theme:e})=>e.border};
  overflow-x: auto;

  @media (max-width: 768px) {
    flex-direction: column;
  }
`,zJ=v.button`
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 15px 20px;
  background: ${({$active:e,theme:t})=>e?t.primary:"transparent"};
  color: ${({$active:e,theme:t})=>e?"white":t.text};
  border: none;
  cursor: pointer;
  transition: all 0.3s;
  white-space: nowrap;
  border-bottom: 3px solid
    ${({$active:e,theme:t})=>e?t.primary:"transparent"};

  &:hover {
    background: ${({$active:e,theme:t})=>e?t.primary:t.tableHover};
  }

  span {
    font-weight: 500;
  }

  @media (max-width: 768px) {
    justify-content: flex-start;
    border-bottom: none;
    border-left: 3px solid
      ${({$active:e,theme:t})=>e?t.primary:"transparent"};
  }
`,FJ=v.div`
  padding: 20px;
  min-height: 400px;
`;v.div`
  h2 {
    margin: 0 0 10px 0;
    color: ${({theme:e})=>e.title};
  }

  p {
    color: ${({theme:e})=>e.textSecondary};
    margin-bottom: 20px;
  }
`;v.div`
  padding: 20px;
`;v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
`;v.button`
  background: none;
  border: 1px solid #ccc;
  border-radius: 4px;
  padding: 8px 12px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 5px;

  &:hover {
    background-color: #f5f5f5;
  }
`;v.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
`;v.div`
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
  }
`;v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px;
  border-bottom: 1px solid #eee;
`;v.h3`
  margin: 0;
  font-size: 16px;
`;v.div`
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: ${e=>e.$color};
`;v.div`
  padding: 15px;
`;v.div`
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
`;v.span`
  color: #666;
`;v.span`
  font-weight: 500;
`;v.div`
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  padding: 20px;
`;v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
`;v.div`
  select {
    padding: 8px;
    border-radius: 4px;
    border: 1px solid #ccc;
  }
`;v.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
`;v.div`
  border: 1px solid #eee;
  border-radius: 6px;
  padding: 15px;
  background: #f9f9f9;
`;v.h4`
  margin: 0 0 10px 0;
  color: #333;
`;v.ul`
  list-style: none;
  padding: 0;
  margin: 0;

  li {
    padding: 5px 0;
    color: #666;
  }
`;v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 0;
`;v.div`
  text-align: center;
`;v.div`
  font-size: 12px;
  color: #666;
  margin-bottom: 4px;
`;v.div`
  font-size: 16px;
  font-weight: 500;
`;v.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
`;v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px;
  background: white;
  border-radius: 4px;
  border: 1px solid #eee;
`;v.div`
  font-weight: 500;
`;v.div`
  color: #007bff;
  font-weight: 500;
`;v.div`
  font-size: 12px;
  color: #666;
`;v.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
  font-size: 16px;
  color: #666;
`;const za=new Yr;function u7(){const{accessToken:e}=wt(),[t,r]=_.useState([]),[n,a]=_.useState(!0),[o,i]=_.useState(""),[c,d]=_.useState(!1),[f,p]=_.useState([]);_.useEffect(()=>{if(m(),c){g();const O=setInterval(g,3e4);return()=>clearInterval(O)}},[c]);const m=async()=>{try{a(!0);const O=await za.getConsecutives(e);if(O.success)r(O.data);else throw new Error(O.message||"Error al cargar los consecutivos")}catch(O){console.error("Error al cargar consecutivos:",O),z.fire({icon:"error",title:"Error",text:"No se pudieron cargar los consecutivos"})}finally{a(!1)}},g=async()=>{try{const O=await za.getConsecutiveDashboard(e);O.success&&p(O.data)}catch(O){console.error("Error al cargar dashboard:",O)}},y=async(O,N)=>{try{if((await z.fire({title:"¿Eliminar consecutivo?",text:`¿Está seguro de eliminar el consecutivo "${N}"?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"})).isConfirmed){const D=await za.deleteConsecutive(e,O);if(D.success)z.fire("Eliminado","El consecutivo ha sido eliminado","success"),m();else throw new Error(D.message||"Error al eliminar")}}catch(R){console.error("Error al eliminar:",R),z.fire({icon:"error",title:"Error",text:R.message||"No se pudo eliminar el consecutivo"})}},w=async(O,N)=>{try{const{value:R}=await z.fire({title:`Reiniciar consecutivo: ${N}`,input:"number",inputLabel:"Nuevo valor inicial",inputValue:0,showCancelButton:!0,confirmButtonText:"Reiniciar",cancelButtonText:"Cancelar",inputValidator:D=>{if(!D)return"Debe ingresar un valor";if(isNaN(parseInt(D)))return"Debe ser un número válido"}});if(R!==void 0){const D=await za.resetConsecutive(e,O,R);if(D.success)z.fire("Reiniciado",`Consecutivo reiniciado a ${R}`,"success"),m();else throw new Error(D.message||"Error al reiniciar")}}catch(R){console.error("Error al reiniciar:",R),z.fire({icon:"error",title:"Error",text:R.message||"No se pudo reiniciar el consecutivo"})}},S=async(O,N)=>{try{a(!0);const R=await za.getMappings(e);if(a(!1),!R||R.length===0){z.fire({icon:"info",title:"Sin mapeos",text:"No hay configuraciones de mapeo disponibles para asignar este consecutivo."});return}const D=R.map(B=>`<option value="${B._id}">${B.name} (${B.entityType||"pedidos"})</option>`).join(""),{value:j}=await z.fire({title:`Asignar Consecutivo: ${N}`,html:`
          <div class="form-group">
            <label for="mapping-select">Seleccione un mapeo:</label>
            <select id="mapping-select" class="swal2-select" style="width: 100%">
              ${D}
            </select>
          </div>
        `,showCancelButton:!0,confirmButtonText:"Asignar",cancelButtonText:"Cancelar",preConfirm:()=>document.getElementById("mapping-select").value});if(!j)return;const{value:A}=await z.fire({title:"Confirmar asignación",html:`
          <p>Se asignará el consecutivo <strong>${N}</strong> al mapeo seleccionado.</p>
          <p>Operaciones permitidas:</p>
          <ul style="text-align: left; margin-left: 20px;">
            <li>Lectura (permitir consultar el consecutivo)</li>
            <li>Incremento (permitir generar nuevos valores)</li>
          </ul>
        `,icon:"question",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"});if(!A)return;a(!0);const I=await za.assignConsecutive(e,O,{entityType:"mapping",entityId:j,allowedOperations:["read","increment"]});if(a(!1),I.success)z.fire({icon:"success",title:"Asignación exitosa",text:"El consecutivo ha sido asignado correctamente al mapeo seleccionado."});else throw new Error(I.message||"Error en la asignación")}catch(R){a(!1),console.error("Error al asignar consecutivo a mapeo:",R),z.fire({icon:"error",title:"Error",text:R.message||"No se pudo completar la asignación"})}},b=async O=>{try{const N=await za.getConsecutiveMetrics(e,O,"24h");if(N.success){const R=N.data;let D=`
          <div style="text-align: left; max-height: 400px; overflow-y: auto;">
            <h4 style="margin-top: 0;">Resumen del Consecutivo</h4>
            <table style="width: 100%; border-collapse: collapse;">
              <tr style="border-bottom: 1px solid #eee;">
                <td style="padding: 8px; font-weight: bold;">Valor Actual:</td>
                <td style="padding: 8px;">${R.currentValue}</td>
              </tr>
              <tr style="border-bottom: 1px solid #eee;">
                <td style="padding: 8px; font-weight: bold;">Incrementos (24h):</td>
                <td style="padding: 8px;">${R.metrics.totalIncrements}</td>
              </tr>
              <tr style="border-bottom: 1px solid #eee;">
                <td style="padding: 8px; font-weight: bold;">Reservas Activas:</td>
                <td style="padding: 8px; color: #17a2b8;">${R.metrics.activeReservations}</td>
              </tr>
              <tr style="border-bottom: 1px solid #eee;">
                <td style="padding: 8px; font-weight: bold;">Rango de Valores:</td>
                <td style="padding: 8px;">
                  Min: ${R.metrics.valueRange.min} | 
                  Actual: ${R.metrics.valueRange.current} | 
                  Max: ${R.metrics.valueRange.max}
                </td>
              </tr>
            </table>
            
            ${R.metrics.bySegment?`
              <h4 style="margin-top: 20px;">Segmentos</h4>
              <table style="width: 100%; border-collapse: collapse;">
                ${Object.entries(R.metrics.bySegment).map(([j,A])=>`
                  <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 8px; font-weight: bold;">${j}:</td>
                    <td style="padding: 8px;">
                      Valor: ${A.currentValue} | 
                      Incrementos: ${A.incrementCount}
                    </td>
                  </tr>
                `).join("")}
              </table>
            `:""}
          </div>
        `;z.fire({title:`Detalles: ${R.consecutiveName}`,html:D,showCloseButton:!0,width:600,confirmButtonText:"Cerrar"})}}catch(N){console.error("Error al obtener detalles:",N),z.fire({icon:"error",title:"Error",text:"No se pudieron cargar los detalles del consecutivo"})}},k=async O=>{try{const N=t.find(j=>j._id===O);if(!N||!N.reservations)return;const R=N.reservations.filter(j=>j.status==="reserved"&&new Date(j.expiresAt)>new Date);if(R.length===0){z.fire({icon:"info",title:"Sin Reservas Activas",text:"No hay reservas activas para este consecutivo."});return}const D=`
        <div style="max-height: 400px; overflow-y: auto;">
          <table style="width: 100%; border-collapse: collapse;">
            <thead>
              <tr style="background-color: #f8f9fa;">
                <th style="padding: 10px; border: 1px solid #dee2e6;">Valor</th>
                <th style="padding: 10px; border: 1px solid #dee2e6;">Reservado Por</th>
                <th style="padding: 10px; border: 1px solid #dee2e6;">Expira En</th>
                <th style="padding: 10px; border: 1px solid #dee2e6;">Estado</th>
              </tr>
            </thead>
            <tbody>
              ${R.map(j=>{const A=Math.max(0,Math.floor((new Date(j.expiresAt)-new Date)/1e3)),I=Math.floor(A/60),B=A%60;return`
                  <tr>
                    <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">
                      ${j.value}
                    </td>
                    <td style="padding: 10px; border: 1px solid #dee2e6;">
                      ${j.reservedBy}
                    </td>
                    <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">
                      ${I}m ${B}s
                    </td>
                    <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">
                      <span style="color: ${j.status==="reserved"?"#17a2b8":"#28a745"};">
                        ${j.status.toUpperCase()}
                      </span>
                    </td>
                  </tr>
                `}).join("")}
            </tbody>
          </table>
        </div>
      `;z.fire({title:"Reservas Activas",html:D,showCloseButton:!0,showConfirmButton:!1,width:800})}catch(N){console.error("Error al obtener reservas:",N),z.fire({icon:"error",title:"Error",text:"No se pudieron cargar las reservas activas."})}},C=async(O,N)=>{try{let R="";N.segments&&N.segments.enabled?R=`
          <div id="segment-options" style="margin-top: 15px; padding: 10px; background: #f8f8f8; border-radius: 5px;">
            <div class="form-group">
              <input type="checkbox" id="enable-segments" checked>
              <label for="enable-segments">Habilitar segmentación</label>
            </div>
            <div class="form-group" style="margin-top: 10px;">
              <label for="segment-type">Tipo de segmento:</label>
              <select id="segment-type" class="swal2-select" style="width: 100%; margin-top: 5px;">
                <option value="year" ${N.segments.type==="year"?"selected":""}>Por año</option>
                <option value="month" ${N.segments.type==="month"?"selected":""}>Por mes</option>
                <option value="company" ${N.segments.type==="company"?"selected":""}>Por compañía</option>
                <option value="user" ${N.segments.type==="user"?"selected":""}>Por usuario</option>
                <option value="custom" ${N.segments.type==="custom"?"selected":""}>Personalizado</option>
              </select>
            </div>
            <div id="custom-segment" style="display: ${N.segments.type==="custom"?"block":"none"}; margin-top: 10px;">
              <div class="form-group">
                <label for="segment-field">Campo personalizado:</label>
                <input id="segment-field" class="swal2-input" value="${N.segments.field||""}" placeholder="Nombre del campo">
              </div>
            </div>
          </div>
        `:R=`
          <div class="form-group" style="margin-top: 15px;">
            <input type="checkbox" id="enable-segments">
            <label for="enable-segments">Habilitar segmentación</label>
          </div>
          <div id="segment-options" style="display: none; margin-top: 10px; padding: 10px; background: #f8f8f8; border-radius: 5px;">
            <div class="form-group">
              <label for="segment-type">Tipo de segmento:</label>
              <select id="segment-type" class="swal2-select" style="width: 100%; margin-top: 5px;">
                <option value="year">Por año</option>
                <option value="month">Por mes</option>
                <option value="company">Por compañía</option>
                <option value="user">Por usuario</option>
                <option value="custom">Personalizado</option>
              </select>
            </div>
            <div id="custom-segment" style="display: none; margin-top: 10px;">
              <div class="form-group">
                <label for="segment-field">Campo personalizado:</label>
                <input id="segment-field" class="swal2-input" placeholder="Nombre del campo">
              </div>
            </div>
          </div>
        `;const{value:D}=await z.fire({title:"Editar Consecutivo",html:`
          <div class="form-group" style="margin-bottom: 15px; text-align: left;">
            <label for="name">Nombre:</label>
            <input id="name" class="swal2-input" value="${N.name}" placeholder="Nombre del consecutivo">
          </div>
          <div class="form-group" style="margin-bottom: 15px; text-align: left;">
            <label for="description">Descripción:</label>
            <input id="description" class="swal2-input" value="${N.description||""}" placeholder="Descripción (opcional)">
          </div>
          <div class="form-group" style="margin-bottom: 15px; text-align: left;">
            <label for="current-value">Valor actual:</label>
            <input id="current-value" type="number" class="swal2-input" value="${N.currentValue||0}">
          </div>
          <div class="form-group" style="margin-bottom: 15px; text-align: left;">
          <label for="prefix">Prefijo (opcional):</label>
           <input id="prefix" class="swal2-input" value="${N.prefix||""}" placeholder="Ej: INV-">
         </div>
         <div class="form-group" style="margin-bottom: 15px; text-align: left;">
           <label for="pattern">Patrón de formato (opcional):</label>
           <input id="pattern" class="swal2-input" value="${N.pattern||""}" placeholder="Ej: {PREFIX}{YEAR}-{VALUE:6}">
         </div>
         <div class="form-group" style="margin-bottom: 15px; text-align: left;">
           <input type="checkbox" id="active" ${N.active?"checked":""}>
           <label for="active">Activo</label>
         </div>
         ${R}
       `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Guardar cambios",cancelButtonText:"Cancelar",didOpen:()=>{const j=document.getElementById("enable-segments"),A=document.getElementById("segment-options"),I=document.getElementById("segment-type"),B=document.getElementById("custom-segment");j&&j.addEventListener("change",()=>{A.style.display=j.checked?"block":"none"}),I&&I.addEventListener("change",()=>{B.style.display=I.value==="custom"?"block":"none"})},preConfirm:()=>{var Q,Z;const j=document.getElementById("name").value,A=document.getElementById("description").value,I=parseInt(document.getElementById("current-value").value||"0",10),B=document.getElementById("prefix").value,F=document.getElementById("pattern").value,U=document.getElementById("active").checked,Y=((Q=document.getElementById("enable-segments"))==null?void 0:Q.checked)||!1;let W=null;if(Y){const V=document.getElementById("segment-type").value;let K=null;if(V==="custom"&&(K=document.getElementById("segment-field").value,!K))return z.showValidationMessage("Debe especificar un campo para la segmentación personalizada"),!1;W={enabled:!0,type:V,field:K,values:((Z=N.segments)==null?void 0:Z.values)||{}}}return j?{name:j,description:A,currentValue:I,prefix:B,pattern:F,active:U,segments:W}:(z.showValidationMessage("El nombre es obligatorio"),!1)}});if(D){a(!0);const j=await za.updateConsecutive(e,O,D);if(a(!1),j.success)z.fire({title:"Consecutivo actualizado",text:"Los cambios han sido guardados correctamente",icon:"success"}),m();else throw new Error(j.message||"Error al actualizar el consecutivo")}}catch(R){a(!1),console.error("Error al editar consecutivo:",R),z.fire({title:"Error",text:R.message||"No se pudo editar el consecutivo",icon:"error"})}},$=async()=>{try{const{value:O}=await z.fire({title:"Nuevo Consecutivo",html:`
         <div class="form-group">
           <label for="name">Nombre:</label>
           <input id="name" class="swal2-input" placeholder="Nombre del consecutivo">
         </div>
         <div class="form-group">
           <label for="description">Descripción:</label>
           <input id="description" class="swal2-input" placeholder="Descripción (opcional)">
         </div>
         <div class="form-group">
           <label for="current-value">Valor inicial:</label>
           <input id="current-value" type="number" class="swal2-input" value="0">
         </div>
         <div class="form-group">
           <label for="prefix">Prefijo (opcional):</label>
           <input id="prefix" class="swal2-input" placeholder="Ej: INV-">
         </div>
         <div class="form-group">
           <label for="pad-length">Longitud de relleno:</label>
           <input id="pad-length" type="number" class="swal2-input" value="7">
         </div>
         <div class="form-group">
           <label for="pad-char">Carácter de relleno:</label>
           <input id="pad-char" class="swal2-input" value="0" maxlength="1">
         </div>
         <div class="form-group">
           <label for="pattern">Patrón de formato (opcional):</label>
           <input id="pattern" class="swal2-input" placeholder="Ej: {PREFIX}{YEAR}-{VALUE:6}">
         </div>
         <div class="form-group">
           <input type="checkbox" id="enable-segments"> <label for="enable-segments">Habilitar segmentación</label>
         </div>
         <div id="segment-options" style="display: none; margin-top: 10px; padding: 10px; background: #f8f8f8; border-radius: 5px;">
           <div class="form-group">
             <label for="segment-type">Tipo de segmento:</label>
             <select id="segment-type" class="swal2-select">
               <option value="year">Por año</option>
               <option value="month">Por mes</option>
               <option value="company">Por compañía</option>
               <option value="user">Por usuario</option>
               <option value="custom">Personalizado</option>
             </select>
           </div>
           <div id="custom-segment" style="display: none;">
             <div class="form-group">
               <label for="segment-field">Campo personalizado:</label>
               <input id="segment-field" class="swal2-input" placeholder="Nombre del campo">
             </div>
           </div>
         </div>
       `,width:600,showCancelButton:!0,confirmButtonText:"Crear",cancelButtonText:"Cancelar",didOpen:()=>{const N=document.getElementById("enable-segments"),R=document.getElementById("segment-options"),D=document.getElementById("segment-type"),j=document.getElementById("custom-segment");N.addEventListener("change",()=>{R.style.display=N.checked?"block":"none"}),D.addEventListener("change",()=>{j.style.display=D.value==="custom"?"block":"none"})},preConfirm:()=>{const N=document.getElementById("name").value,R=document.getElementById("description").value,D=parseInt(document.getElementById("current-value").value||"0",10),j=document.getElementById("prefix").value,A=parseInt(document.getElementById("pad-length").value||"7",10),I=document.getElementById("pad-char").value||"0",B=document.getElementById("pattern").value,F=document.getElementById("enable-segments").checked;let U=null;if(F){const Y=document.getElementById("segment-type").value;let W=null;if(Y==="custom"&&(W=document.getElementById("segment-field").value,!W))return z.showValidationMessage("Debe especificar un campo para la segmentación personalizada"),!1;U={enabled:!0,type:Y,field:W,values:{}}}return N?{name:N,description:R,currentValue:D,prefix:j,padLength:A,padChar:I,pattern:B,segments:U,active:!0}:(z.showValidationMessage("El nombre es obligatorio"),!1)}});if(O){const N=await za.createConsecutive(e,O);if(N.success)z.fire("Creado","El consecutivo ha sido creado correctamente","success"),m();else throw new Error(N.message||"Error al crear")}}catch(O){console.error("Error al crear consecutivo:",O),z.fire({icon:"error",title:"Error",text:O.message||"No se pudo crear el consecutivo"})}},L=async(O,N)=>{try{const R=t.find(A=>A._id===O);let D=null;if(R&&R.segments&&R.segments.enabled)if(R.segments.type==="year")D=new Date().getFullYear().toString();else if(R.segments.type==="month"){const A=new Date;D=`${A.getFullYear()}${(A.getMonth()+1).toString().padStart(2,"0")}`}else{const{value:A}=await z.fire({title:`Obtener siguiente valor de: ${N}`,input:"text",inputLabel:`Valor del segmento (${R.segments.type}):`,showCancelButton:!0,confirmButtonText:"Obtener",cancelButtonText:"Cancelar",inputValidator:I=>{if(!I)return"Debe ingresar un valor para el segmento"}});if(!A)return;D=A}const j=await za.getNextConsecutiveValue(e,O,{segment:D});if(j.success)z.fire({title:"Siguiente valor generado",html:`
           <div style="margin: 20px; padding: 15px; background: #f8f8f8; border-radius: 5px; font-size: 1.2em; word-break: break-all;">
             <strong>${j.data.value}</strong>
           </div>
         `,icon:"success"}),m();else throw new Error(j.message||"Error al obtener el siguiente valor")}catch(R){console.error("Error al obtener siguiente valor:",R),z.fire({icon:"error",title:"Error",text:R.message||"No se pudo obtener el siguiente valor"})}},T=t.filter(O=>{var N;return O.name.toLowerCase().includes(o.toLowerCase())||((N=O.description)==null?void 0:N.toLowerCase().includes(o.toLowerCase()))}),P=()=>{const O=N=>N.expiredReservations>5?{status:"warning",color:"#ffc107"}:N.activeReservations>10?{status:"caution",color:"#17a2b8"}:{status:"good",color:"#28a745"};return l.jsxs(rZ,{children:[l.jsxs(nZ,{children:[l.jsx("h3",{children:"Dashboard de Consecutivos"}),l.jsxs(aZ,{onClick:()=>d(!1),children:[l.jsx(dn,{})," Cerrar Dashboard"]})]}),l.jsx(oZ,{children:f.map(N=>{const R=O(N);return l.jsxs(iZ,{children:[l.jsxs(sZ,{children:[l.jsx(lZ,{children:N.name}),l.jsx(cZ,{$color:R.color})]}),l.jsxs(uZ,{children:[l.jsxs(tm,{children:[l.jsx(rm,{children:"Valor Actual:"}),l.jsx(nm,{children:N.currentValue})]}),l.jsxs(tm,{children:[l.jsx(rm,{children:"Reservas Activas:"}),l.jsx(nm,{style:{color:"#17a2b8"},children:N.activeReservations})]}),l.jsxs(tm,{children:[l.jsx(rm,{children:"Incrementos (24h):"}),l.jsx(nm,{style:{color:"#28a745"},children:N.totalIncrements})]}),N.expiredReservations>0&&l.jsxs(tm,{children:[l.jsx(rm,{children:"Reservas Expiradas:"}),l.jsxs(nm,{style:{color:"#dc3545"},children:[l.jsx(FaExclamationTriangle,{})," ",N.expiredReservations]})]})]})]},N.id)})})]})};return l.jsxs(qJ,{children:[l.jsxs(HJ,{children:[l.jsx("h2",{children:"Gestión de Consecutivos"}),l.jsxs(UJ,{children:[l.jsx(VJ,{children:l.jsx(WJ,{type:"text",placeholder:"Buscar consecutivo...",value:o,onChange:O=>i(O.target.value)})}),l.jsxs(yA,{onClick:$,children:[l.jsx(ar,{})," Nuevo Consecutivo"]}),l.jsxs(yA,{onClick:()=>d(!c),children:[l.jsx(cf,{})," ",c?"Ver Lista":"Ver Dashboard"]}),l.jsx(YJ,{onClick:m,children:l.jsx(Zt,{})})]})]}),c?l.jsx(P,{}):l.jsx(l.Fragment,{children:n?l.jsx(XJ,{children:"Cargando consecutivos..."}):l.jsx(l.Fragment,{children:T.length===0?l.jsx(JJ,{children:"No se encontraron consecutivos."}):l.jsx(GJ,{children:l.jsxs(KJ,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nombre"}),l.jsx("th",{children:"Descripción"}),l.jsx("th",{children:"Valor Actual"}),l.jsx("th",{children:"Formato"}),l.jsx("th",{children:"Segmentado"}),l.jsx("th",{children:"Estado"}),l.jsx("th",{children:"Acciones"})]})}),l.jsx("tbody",{children:T.map(O=>{var N;return l.jsxs("tr",{children:[l.jsx("td",{children:O.name}),l.jsx("td",{children:O.description||"-"}),l.jsx("td",{children:O.currentValue}),l.jsx("td",{children:O.pattern||`${O.prefix||""}[${O.padChar.repeat(O.padLength)}]${O.suffix||""}`}),l.jsx("td",{className:"centered",children:(N=O.segments)!=null&&N.enabled?l.jsx(wb,{$type:"info",children:O.segments.type}):l.jsx(wb,{$type:"default",children:"No"})}),l.jsx("td",{className:"centered",children:l.jsx(wb,{$type:O.active?"success":"warning",children:O.active?"Activo":"Inactivo"})}),l.jsx("td",{children:l.jsxs(QJ,{children:[l.jsx(hs,{$color:"#007bff",onClick:()=>L(O._id,O.name),title:"Obtener siguiente valor",children:l.jsx(Ro,{})}),l.jsx(hs,{$color:"#6f42c1",onClick:()=>k(O._id),title:"Ver reservas activas",children:l.jsx(Zf,{})}),l.jsx(hs,{$color:"#17a2b8",onClick:()=>b(O._id),title:"Ver detalles y métricas",children:l.jsx(_n,{})}),l.jsx(hs,{$color:"#28a745",onClick:()=>w(O._id,O.name),title:"Reiniciar consecutivo",children:l.jsx(Zt,{})}),l.jsx(hs,{$color:"#6f42c1",onClick:()=>S(O._id,O.name),title:"Asignar a mapeo",children:l.jsx(JR,{})}),l.jsx(hs,{$color:"#ffc107",onClick:()=>C(O._id,O),title:"Editar consecutivo",children:l.jsx(Ir,{})}),l.jsx(hs,{$color:"#dc3545",onClick:()=>y(O._id,O.name),title:"Eliminar consecutivo",children:l.jsx(Nr,{})})]})})]},O._id)})})]})})})}),n&&l.jsxs(ZJ,{children:[l.jsx(eZ,{}),l.jsx(tZ,{children:"Procesando solicitud..."})]})]})}const qJ=v.div`
  padding: 20px;
  background-color: ${e=>e.theme.bg};
  color: ${e=>e.theme.text};
  position: relative;
  min-height: 300px;
`,HJ=v.div`
  display: flex;
  flex-direction: column;
  margin-bottom: 20px;

  h2 {
    margin: 0 0 15px 0;
    color: ${e=>e.theme.title};
  }
`,UJ=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: stretch;
  }
`,VJ=v.div`
  position: relative;
  flex: 1;
  max-width: 400px;
`,WJ=v.input`
  width: 100%;
  padding: 10px 15px;
  border: 1px solid ${e=>e.theme.border};
  border-radius: 4px;
  font-size: 14px;
  color: ${e=>e.theme.text};
  background-color: ${e=>e.theme.inputBg};
`,yA=v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 15px;
  background-color: ${e=>e.theme.primary};
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;

  &:hover {
    background-color: ${e=>e.theme.primaryHover};
  }
`,YJ=v.button`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  background-color: ${e=>e.theme.secondary};
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;

  &:hover {
    background-color: ${e=>e.theme.secondaryHover};
  }
`,GJ=v.div`
  width: 100%;
  overflow-x: auto;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
`,KJ=v.table`
  width: 100%;
  border-collapse: collapse;

  th,
  td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid ${e=>e.theme.border};
  }

  th {
    background-color: ${e=>e.theme.tableHeader};
    color: ${e=>e.theme.tableHeaderText};
    font-weight: 600;
  }

  td.centered {
    text-align: center;
  }

  tr:hover td {
    background-color: ${e=>e.theme.tableHover};
  }
`,QJ=v.div`
  display: flex;
  gap: 5px;
`,hs=v.button`
  background: none;
  border: none;
  font-size: 16px;
  cursor: pointer;
  color: ${e=>e.$color||e.theme.primary};
  padding: 5px;

  &:hover {
    transform: scale(1.1);
  }
`,wb=v.span`
  display: inline-block;
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 12px;
  background-color: ${e=>{switch(e.$type){case"success":return"#28a745";case"warning":return"#ffc107";case"danger":return"#dc3545";case"info":return"#17a2b8";default:return"#6c757d"}}};
  color: ${e=>e.$type==="warning"?"#212529":"white"};
`,XJ=v.div`
  text-align: center;
  padding: 20px;
  color: ${e=>e.theme.textSecondary};
`,JJ=v.div`
  text-align: center;
  padding: 30px;
  color: ${e=>e.theme.textSecondary};
  background-color: ${e=>e.theme.cardBg};
  border-radius: 8px;
  margin-top: 20px;
`,ZJ=v.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(255, 255, 255, 0.7);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 10;
`,eZ=v.div`
  width: 40px;
  height: 40px;
  border: 4px solid rgba(0, 0, 0, 0.1);
  border-radius: 50%;
  border-top: 4px solid ${e=>e.theme.primary};
  animation: spin 1s linear infinite;

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
`,tZ=v.div`
  margin-top: 10px;
  color: ${e=>e.theme.primary};
  font-size: 14px;
`,rZ=v.div`
  margin-top: 20px;
`,nZ=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
`,aZ=v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 15px;
  background-color: ${e=>e.theme.secondary};
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;
`,oZ=v.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 20px;
`,iZ=v.div`
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
  }
`,sZ=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px;
  border-bottom: 1px solid #eee;
`,lZ=v.h3`
  margin: 0;
  font-size: 16px;
`,cZ=v.div`
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: ${e=>e.$color};
`,uZ=v.div`
  padding: 15px;
`,tm=v.div`
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
`,rm=v.span`
  color: #666;
`,nm=v.span`
  font-weight: 500;
`,ji=new IR;function d7(){const[e,t]=_.useState(!1),{accessToken:r,user:n}=wt(),a=5e3,o=_.useCallback(async(C={})=>{try{return await ji.getConfigs(r)}catch($){throw console.error("Error al obtener configuraciones de email:",$),$}},[r]),{data:i,loading:c,refreshing:d,error:f,refetch:p}=Yi(o,[r],{autoRefresh:!0,refreshInterval:a,enableCache:!0,cacheTime:6e4,initialData:[]}),m=()=>{z.fire({title:"Agregar Configuración de Email",html:`
        <div class="email-config-form">
          <div class="form-group">
            <label for="name">Nombre de configuración *</label>
            <input id="name" class="swal2-input" placeholder="Ej: Gmail Corporativo">
          </div>
          
          <div class="form-group">
            <label for="host">Servidor SMTP *</label>
            <input id="host" class="swal2-input" placeholder="Ej: smtp.gmail.com">
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="port">Puerto *</label>
              <input id="port" type="number" class="swal2-input" value="587" placeholder="587">
            </div>
            <div class="form-check">
              <input type="checkbox" id="secure" class="swal2-checkbox">
              <label for="secure">Conexión segura (SSL)</label>
            </div>
          </div>
          
          <div class="form-group">
            <label for="authUser">Usuario/Email *</label>
            <input id="authUser" type="email" class="swal2-input" placeholder="usuario@ejemplo.com">
          </div>
          
          <div class="form-group">
            <label for="authPass">Contraseña *</label>
            <input id="authPass" type="password" class="swal2-input" placeholder="Contraseña o App Password">
          </div>
          
          <div class="form-group">
            <label for="fromEmail">Dirección de envío *</label>
            <input id="fromEmail" class="swal2-input" placeholder='"Sistema de Transferencia" <noreply@ejemplo.com>'>
          </div>
          
          <div class="form-check">
            <input type="checkbox" id="isDefault" class="swal2-checkbox">
            <label for="isDefault">Establecer como configuración por defecto</label>
          </div>
          
          <div class="form-check">
            <input type="checkbox" id="isActive" class="swal2-checkbox" checked>
            <label for="isActive">Activar configuración</label>
          </div>
        </div>
        
        <style>
          .email-config-form { text-align: left; }
          .form-group { margin-bottom: 15px; }
          .form-row { display: flex; gap: 10px; align-items: end; }
          .form-check { display: flex; align-items: center; gap: 5px; margin-bottom: 10px; }
          .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
          .swal2-input { margin: 0 !important; }
        </style>
      `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Guardar",cancelButtonText:"Cancelar",width:600,preConfirm:()=>{const C=z.getPopup().querySelector("#name").value,$=z.getPopup().querySelector("#host").value,L=parseInt(z.getPopup().querySelector("#port").value),T=z.getPopup().querySelector("#secure").checked,P=z.getPopup().querySelector("#authUser").value,O=z.getPopup().querySelector("#authPass").value,N=z.getPopup().querySelector("#fromEmail").value,R=z.getPopup().querySelector("#isDefault").checked,D=z.getPopup().querySelector("#isActive").checked;return C?$?!L||L<1||L>65535?(z.showValidationMessage("Por favor ingrese un puerto válido (1-65535)"),!1):P?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P)?O?N?{name:C,host:$,port:L,secure:T,auth:{user:P,pass:O},from:N,isDefault:R,isActive:D}:(z.showValidationMessage("Por favor ingrese la dirección de envío"),!1):(z.showValidationMessage("Por favor ingrese la contraseña"),!1):(z.showValidationMessage("Por favor ingrese un email válido para el usuario"),!1):(z.showValidationMessage("Por favor ingrese el usuario/email"),!1):(z.showValidationMessage("Por favor ingrese el servidor SMTP"),!1):(z.showValidationMessage("Por favor ingrese un nombre para la configuración"),!1)}}).then(async C=>{if(C.isConfirmed)try{z.fire({title:"Guardando...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}}),await ji.createConfig(r,C.value),await p(),z.fire("¡Guardado!","La configuración de email ha sido agregada correctamente.","success")}catch($){console.error("Error al agregar configuración:",$),z.fire("Error",$.message||"No se pudo agregar la configuración","error")}})},g=C=>{var $;z.fire({title:"Editar Configuración de Email",html:`
        <div class="email-config-form">
          <div class="form-group">
            <label for="name">Nombre de configuración *</label>
            <input id="name" class="swal2-input" value="${C.name}" placeholder="Ej: Gmail Corporativo">
          </div>
          
          <div class="form-group">
            <label for="host">Servidor SMTP *</label>
            <input id="host" class="swal2-input" value="${C.host}" placeholder="Ej: smtp.gmail.com">
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="port">Puerto *</label>
              <input id="port" type="number" class="swal2-input" value="${C.port}" placeholder="587">
            </div>
            <div class="form-check">
              <input type="checkbox" id="secure" class="swal2-checkbox" ${C.secure?"checked":""}>
              <label for="secure">Conexión segura (SSL)</label>
            </div>
          </div>
          
          <div class="form-group">
            <label for="authUser">Usuario/Email *</label>
            <input id="authUser" type="email" class="swal2-input" value="${(($=C.auth)==null?void 0:$.user)||""}" placeholder="usuario@ejemplo.com">
          </div>
          
          <div class="form-group">
            <label for="authPass">Contraseña *</label>
            <input id="authPass" type="password" class="swal2-input" placeholder="Dejar vacío para mantener actual">
          </div>
          
          <div class="form-group">
            <label for="fromEmail">Dirección de envío *</label>
            <input id="fromEmail" class="swal2-input" value="${C.from}" placeholder='"Sistema de Transferencia" <noreply@ejemplo.com>'>
          </div>
          
          <div class="form-check">
            <input type="checkbox" id="isActive" class="swal2-checkbox" ${C.isActive?"checked":""}>
            <label for="isActive">Activar configuración</label>
          </div>
        </div>
        
        <style>
          .email-config-form { text-align: left; }
          .form-group { margin-bottom: 15px; }
          .form-row { display: flex; gap: 10px; align-items: end; }
          .form-check { display: flex; align-items: center; gap: 5px; margin-bottom: 10px; }
          .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
          .swal2-input { margin: 0 !important; }
        </style>
      `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Actualizar",cancelButtonText:"Cancelar",width:600,preConfirm:()=>{const L=z.getPopup().querySelector("#name").value,T=z.getPopup().querySelector("#host").value,P=parseInt(z.getPopup().querySelector("#port").value),O=z.getPopup().querySelector("#secure").checked,N=z.getPopup().querySelector("#authUser").value,R=z.getPopup().querySelector("#authPass").value,D=z.getPopup().querySelector("#fromEmail").value,j=z.getPopup().querySelector("#isActive").checked;if(!L)return z.showValidationMessage("Por favor ingrese un nombre para la configuración"),!1;if(!T)return z.showValidationMessage("Por favor ingrese el servidor SMTP"),!1;if(!P||P<1||P>65535)return z.showValidationMessage("Por favor ingrese un puerto válido (1-65535)"),!1;if(!N)return z.showValidationMessage("Por favor ingrese el usuario/email"),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N))return z.showValidationMessage("Por favor ingrese un email válido para el usuario"),!1;if(!D)return z.showValidationMessage("Por favor ingrese la dirección de envío"),!1;const I={name:L,host:T,port:P,secure:O,auth:{user:N},from:D,isActive:j};return R&&(I.auth.pass=R),I}}).then(async L=>{if(L.isConfirmed)try{z.fire({title:"Actualizando...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}}),await ji.updateConfig(r,C._id,L.value),await p(),z.fire("¡Actualizado!","La configuración de email ha sido actualizada correctamente.","success")}catch(T){console.error("Error al actualizar configuración:",T),z.fire("Error",T.message||"No se pudo actualizar la configuración","error")}})},y=(C,$)=>{z.fire({title:"¿Estás seguro?",text:`¿Deseas eliminar la configuración "${$}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async L=>{if(L.isConfirmed)try{z.fire({title:"Eliminando...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}}),await ji.deleteConfig(r,C),await p(),z.fire("¡Eliminado!","La configuración ha sido eliminada correctamente.","success")}catch(T){console.error("Error al eliminar configuración:",T),z.fire("Error",T.message||"No se pudo eliminar la configuración","error")}})},w=async(C,$,L)=>{try{z.fire({title:`${$?"Desactivando":"Activando"}...`,allowOutsideClick:!1,didOpen:()=>{z.showLoading()}}),await ji.toggleStatus(r,C),await p(),z.fire("Estado Actualizado",`La configuración "${L}" ha sido ${$?"desactivada":"activada"}.`,"success")}catch(T){console.error("Error al cambiar estado:",T),z.fire("Error",T.message||"No se pudo cambiar el estado","error")}},S=async(C,$)=>{try{if(!(await z.fire({title:"Establecer como predeterminada",text:`¿Deseas establecer "${$}" como la configuración predeterminada?`,icon:"question",showCancelButton:!0,confirmButtonText:"Sí, establecer",cancelButtonText:"Cancelar"})).isConfirmed)return;z.fire({title:"Actualizando...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}}),await ji.setAsDefault(r,C),await p(),z.fire("¡Actualizado!",`"${$}" es ahora la configuración predeterminada.`,"success")}catch(L){console.error("Error al establecer configuración por defecto:",L),z.fire("Error",L.message||"No se pudo establecer como predeterminada","error")}},b=async(C,$)=>{const{value:L}=await z.fire({title:"Probar Configuración",text:`Ingresa el email donde enviar la prueba para "${$}":`,input:"email",inputPlaceholder:"correo@ejemplo.com",showCancelButton:!0,confirmButtonText:"Enviar Prueba",cancelButtonText:"Cancelar",inputValidator:T=>{if(!T)return"¡Debes ingresar un email!";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(T))return"Ingresa un email válido"}});if(L)try{z.fire({title:"Enviando prueba...",text:"Esto puede tomar unos segundos",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}});const T=await ji.testConfig(r,C,L);T.success?z.fire("¡Prueba Exitosa!",`El correo de prueba fue enviado a ${L}. Revisa tu bandeja de entrada.`,"success"):z.fire("Prueba Fallida",T.message||"No se pudo enviar el correo de prueba","error")}catch(T){console.error("Error al probar configuración:",T),z.fire("Error",T.message||"No se pudo realizar la prueba","error")}},k=async()=>{try{if(!(await z.fire({title:"Inicializar configuraciones por defecto",text:"¿Deseas crear las configuraciones por defecto del sistema?",icon:"question",showCancelButton:!0,confirmButtonText:"Sí, inicializar",cancelButtonText:"Cancelar"})).isConfirmed)return;z.fire({title:"Inicializando...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}}),await ji.initializeDefaults(r),await p(),z.fire("¡Inicializado!","Las configuraciones por defecto han sido creadas correctamente.","success")}catch(C){console.error("Error al inicializar configuraciones:",C),z.fire("Error",C.message||"No se pudieron inicializar las configuraciones","error")}};return l.jsxs(l.Fragment,{children:[l.jsx(dZ,{children:l.jsxs(fZ,{children:[l.jsx("h2",{children:"Control de Configuraciones de Email"}),l.jsx("p",{children:"Configura los servidores SMTP para el envío de notificaciones por correo electrónico."})]})}),l.jsx("section",{className:"main-content",children:l.jsxs(pZ,{children:[l.jsxs(hZ,{onClick:m,children:[l.jsx(ar,{})," Agregar Configuración"]}),l.jsxs(mZ,{onClick:p,refreshing:d,className:d?"refreshing":"",children:[l.jsx(Zt,{className:d?"spinning":""}),d?"Actualizando...":"Refrescar"]}),l.jsxs(gZ,{onClick:k,children:[l.jsx(_s,{})," Inicializar por defecto"]})]})}),l.jsxs("section",{className:"main-content",style:{position:"relative"},children:[d&&l.jsx(_Z,{children:l.jsxs(DZ,{children:[l.jsx(Zt,{className:"refresh-icon-spin"}),l.jsx(MZ,{children:"Actualizando configuraciones..."})]})}),c&&!d&&l.jsx(kZ,{children:l.jsx(AZ,{children:"Cargando configuraciones de email..."})}),f&&l.jsx(OZ,{children:f}),!c&&!d&&i.length===0&&l.jsx(PZ,{children:'No hay configuraciones de email. Haga clic en "Agregar Configuración" para crear una.'}),i.length>0&&l.jsx(yZ,{children:l.jsxs(vZ,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nombre"}),l.jsx("th",{children:"Servidor SMTP"}),l.jsx("th",{children:"Puerto"}),l.jsx("th",{children:"Usuario"}),l.jsx("th",{children:"SSL"}),l.jsx("th",{children:"Estado"}),l.jsx("th",{children:"Por Defecto"}),l.jsx("th",{children:"Acciones"})]})}),l.jsx("tbody",{children:i.map(C=>{var $;return l.jsxs("tr",{className:C.isActive?"":"disabled",children:[l.jsx("td",{children:l.jsxs(EZ,{$isDefault:C.isDefault,children:[C.isDefault&&l.jsx(Tk,{}),C.name]})}),l.jsx("td",{children:l.jsxs(jZ,{children:[l.jsx(uf,{}),C.host]})}),l.jsx("td",{children:l.jsxs($Z,{$secure:C.secure,children:[C.port,C.secure&&" (SSL)"]})}),l.jsx("td",{children:l.jsxs(CZ,{children:[l.jsx(rv,{}),($=C.auth)==null?void 0:$.user]})}),l.jsx("td",{children:C.secure?l.jsx(bZ,{children:"✓"}):l.jsx(wZ,{children:"✗"})}),l.jsx("td",{children:l.jsx(SZ,{$active:C.isActive,children:C.isActive?l.jsx("span",{title:"Configuración activa",children:"Activa"}):l.jsx("span",{title:"Configuración inactiva",children:"Inactiva"})})}),l.jsx("td",{children:C.isDefault?l.jsxs(TZ,{children:[l.jsx(Tk,{})," Predeterminada"]}):l.jsx("span",{children:"-"})}),l.jsx("td",{children:l.jsxs(xZ,{children:[l.jsx(sd,{title:"Editar",onClick:()=>g(C),children:l.jsx(Ir,{})}),l.jsx(sd,{title:"Probar configuración",color:"#17a2b8",onClick:()=>b(C._id,C.name),children:l.jsx(rI,{})}),!C.isDefault&&l.jsx(sd,{title:"Establecer como predeterminada",color:"#ffc107",onClick:()=>S(C._id,C.name),children:l.jsx(CV,{})}),l.jsx(sd,{title:C.isActive?"Desactivar configuración":"Activar configuración",color:C.isActive?"#ffa500":"#28a745",onClick:()=>w(C._id,C.isActive,C.name),children:C.isActive?l.jsx(ov,{}):l.jsx(av,{})}),l.jsx(sd,{title:"Eliminar",color:"#dc3545",onClick:()=>y(C._id,C.name),children:l.jsx(Nr,{})})]})})]},C._id)})})]})})]})]})}const dZ=v.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 15px 0;
`,fZ=v.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 5px;

  h2 {
    margin: 0;
    font-size: 1.5rem;
    color: ${({theme:e})=>e.title||e.text};
  }

  p {
    margin: 0;
    color: ${({theme:e})=>e.textSecondary||"#666"};
  }
`,pZ=v.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 20px;

  @media (max-width: 768px) {
    width: 100%;
    justify-content: center;
  }

  @media (max-width: 480px) {
    flex-direction: column;
  }
`,hZ=v.button`
  background-color: #28a745;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;

  &:hover {
    background-color: #218838;
  }

  @media (max-width: 480px) {
    width: 100%;
    justify-content: center;
  }
`,mZ=v.button`
  background-color: #17a2b8;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;

  &:hover {
    background-color: #138496;
  }

  &.refreshing {
    opacity: 0.7;
  }

  @media (max-width: 480px) {
    width: 100%;
    justify-content: center;
  }
`,gZ=v.button`
  background-color: #6c757d;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;

  &:hover {
    background-color: #5a6268;
  }

  @media (max-width: 480px) {
    width: 100%;
    justify-content: center;
  }
`,yZ=v.div`
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
  overflow-x: auto;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  -webkit-overflow-scrolling: touch;

  @media (max-width: 576px) {
    margin-left: -10px;
    margin-right: -10px;
    width: calc(100% + 20px);
    border-radius: 0;
  }
`,vZ=v.table`
  width: 100%;
  border-collapse: collapse;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  color: ${({theme:e})=>e.text};

  th,
  td {
    padding: 12px 15px;
    text-align: left;
  }

  th {
    background-color: ${({theme:e})=>e.tableHeader||"#f0f0f0"};
    color: ${({theme:e})=>e.tableHeaderText||"#333"};
    font-weight: bold;
    white-space: nowrap;
  }

  tr {
    border-bottom: 1px solid ${({theme:e})=>e.border||"#ddd"};

    &:last-child {
      border-bottom: none;
    }

    &:hover {
      background-color: ${({theme:e})=>e.tableHover||"#f8f9fa"};
    }

    &.disabled {
      opacity: 0.6;
      background-color: ${({theme:e})=>e.tableDisabled||"#f2f2f2"};
    }
  }
`,xZ=v.div`
  display: flex;
  gap: 8px;
  justify-content: center;
  flex-wrap: wrap;
`,sd=v.button`
  background: none;
  border: none;
  color: ${e=>e.color||"#0275d8"};
  font-size: 16px;
  cursor: pointer;
  padding: 5px;
  border-radius: 4px;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;

  &:hover {
    color: ${e=>e.hoverColor||e.color||"#0275d8"};
    background-color: rgba(0, 0, 0, 0.05);
    transform: scale(1.1);
  }
`,bZ=v.span`
  color: #28a745;
  font-weight: bold;
  font-size: 18px;
`,wZ=v.span`
  color: #dc3545;
  font-weight: bold;
  font-size: 18px;
`,SZ=v.div`
  color: ${e=>e.$active?"#28a745":"#dc3545"};
  font-weight: bold;
  display: flex;
  align-items: center;
  gap: 5px;
`,EZ=v.div`
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: ${e=>e.$isDefault?"bold":"normal"};
  color: ${e=>e.$isDefault?"#ffc107":"inherit"};

  svg {
    color: #ffc107;
  }
`,jZ=v.div`
  display: flex;
  align-items: center;
  gap: 8px;

  svg {
    color: #6c757d;
  }
`,CZ=v.div`
  display: flex;
  align-items: center;
  gap: 8px;

  svg {
    color: #007bff;
  }
`,$Z=v.span`
  background-color: ${e=>e.$secure?"#28a745":"#6c757d"};
  color: white;
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: bold;
`,TZ=v.div`
  display: flex;
  align-items: center;
  gap: 5px;
  color: #ffc107;
  font-weight: bold;
  font-size: 12px;
`,kZ=v.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
`,AZ=v.div`
  padding: 20px;
  text-align: center;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,OZ=v.div`
  padding: 20px;
  text-align: center;
  color: #dc3545;
  background-color: rgba(220, 53, 69, 0.1);
  border-radius: 8px;
  margin: 20px 0;
`,PZ=v.div`
  padding: 30px;
  text-align: center;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
`,_Z=v.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(255, 255, 255, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 50;
  animation: fadeIn 0.2s ease-in-out;

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`,DZ=v.div`
  background-color: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 20px;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;

  .refresh-icon-spin {
    font-size: 24px;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  .spinning {
    animation: spin 1s linear infinite;
  }
`,MZ=v.div`
  font-size: 14px;
  font-weight: 500;
`,Il=new zR;function f7(){const[e,t]=_.useState(!1),{accessToken:r,user:n}=wt(),a=5e3,o=_.useCallback(async(b={})=>{try{return await Il.getRecipients(r)}catch(k){throw console.error("Error al obtener tareas:",k),k}},[r]),{data:i,loading:c,refreshing:d,error:f,refetch:p}=Yi(o,[r],{autoRefresh:!0,refreshInterval:a,enableCache:!0,cacheTime:6e4,initialData:[]}),m=()=>{z.fire({title:"Agregar Destinatario",html:`
        <div class="form-group">
          <label for="name">Nombre</label>
          <input id="name" class="swal2-input" placeholder="Nombre completo">
        </div>
        <div class="form-group">
          <label for="email">Correo electrónico</label>
          <input id="email" class="swal2-input" placeholder="correo@ejemplo.com">
        </div>
        <div class="form-check">
          <input type="checkbox" id="notifTraspaso" class="swal2-checkbox">
          <label for="notifTraspaso">Recibir notificaciones de Traspasos</label>
        </div>
        <div class="form-check">
          <input type="checkbox" id="notifTransferencias" class="swal2-checkbox">
          <label for="notifTransferencias">Recibir notificaciones de Transferencias</label>
        </div>
        <div class="form-check">
          <input type="checkbox" id="notifErrores" class="swal2-checkbox">
          <label for="notifErrores">Recibir notificaciones de Errores Críticos</label>
        </div>
        <div class="form-check">
          <input type="checkbox" id="isSend" class="swal2-checkbox" checked>
          <label for="isSend">Activar envío de correos</label>
        </div>
      `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Guardar",cancelButtonText:"Cancelar",preConfirm:()=>{const b=z.getPopup().querySelector("#name").value,k=z.getPopup().querySelector("#email").value,C=z.getPopup().querySelector("#notifTraspaso").checked,$=z.getPopup().querySelector("#notifTransferencias").checked,L=z.getPopup().querySelector("#notifErrores").checked,T=z.getPopup().querySelector("#isSend").checked;return b?k?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k)?{name:b,email:k,notificationTypes:{traspaso:C,transferencias:$,erroresCriticos:L},isSend:T}:(z.showValidationMessage("Ingrese un correo electrónico válido"),!1):(z.showValidationMessage("Por favor ingrese un correo electrónico"),!1):(z.showValidationMessage("Por favor ingrese un nombre"),!1)}}).then(async b=>{if(b.isConfirmed)try{z.fire({title:"Guardando...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}});const k=await Il.createRecipient(r,b.value);await p(),z.fire("¡Guardado!","El destinatario ha sido agregado correctamente.","success")}catch(k){console.error("Error al agregar destinatario:",k),z.fire("Error",k.message||"No se pudo agregar el destinatario","error")}})},g=b=>{var k,C,$;z.fire({title:"Editar Destinatario",html:`
        <div class="form-group">
          <label for="name">Nombre</label>
          <input id="name" class="swal2-input" value="${b.name}" placeholder="Nombre completo">
        </div>
        <div class="form-group">
          <label for="email">Correo electrónico</label>
          <input id="email" class="swal2-input" value="${b.email}" placeholder="correo@ejemplo.com">
        </div>
        <div class="form-check">
          <input type="checkbox" id="notifTraspaso" class="swal2-checkbox" ${(k=b.notificationTypes)!=null&&k.traspaso?"checked":""}>
          <label for="notifTraspaso">Recibir notificaciones de Traspasos</label>
        </div>
        <div class="form-check">
          <input type="checkbox" id="notifTransferencias" class="swal2-checkbox" ${(C=b.notificationTypes)!=null&&C.transferencias?"checked":""}>
          <label for="notifTransferencias">Recibir notificaciones de Transferencias</label>
        </div>
        <div class="form-check">
          <input type="checkbox" id="notifErrores" class="swal2-checkbox" ${($=b.notificationTypes)!=null&&$.erroresCriticos?"checked":""}>
          <label for="notifErrores">Recibir notificaciones de Errores Críticos</label>
        </div>
      `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Actualizar",cancelButtonText:"Cancelar",preConfirm:()=>{const L=z.getPopup().querySelector("#name").value,T=z.getPopup().querySelector("#email").value,P=z.getPopup().querySelector("#notifTraspaso").checked,O=z.getPopup().querySelector("#notifTransferencias").checked,N=z.getPopup().querySelector("#notifErrores").checked;return L?T?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(T)?{name:L,email:T,notificationTypes:{traspaso:P,transferencias:O,erroresCriticos:N}}:(z.showValidationMessage("Ingrese un correo electrónico válido"),!1):(z.showValidationMessage("Por favor ingrese un correo electrónico"),!1):(z.showValidationMessage("Por favor ingrese un nombre"),!1)}}).then(async L=>{if(L.isConfirmed)try{z.fire({title:"Actualizando...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}}),await Il.updateRecipient(r,b._id,L.value),await p(),z.fire("¡Actualizado!","El destinatario ha sido actualizado correctamente.","success")}catch(T){console.error("Error al actualizar destinatario:",T),z.fire("Error",T.message||"No se pudo actualizar el destinatario","error")}})},y=(b,k)=>{z.fire({title:"¿Estás seguro?",text:`¿Deseas eliminar al destinatario "${k}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async C=>{if(C.isConfirmed)try{z.fire({title:"Eliminando...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}}),await Il.deleteRecipient(r,b),await p(),z.fire("¡Eliminado!","El destinatario ha sido eliminado correctamente.","success")}catch($){console.error("Error al eliminar destinatario:",$),z.fire("Error",$.message||"No se pudo eliminar el destinatario","error")}})},w=async(b,k,C)=>{try{z.fire({title:`${k?"Desactivando":"Activando"}...`,allowOutsideClick:!1,didOpen:()=>{z.showLoading()}}),await Il.toggleSendStatus(r,b),await p(),z.fire("Estado Actualizado",`El envío de correos a "${C}" ha sido ${k?"desactivado":"activado"}.`,"success")}catch($){console.error("Error al cambiar estado:",$),z.fire("Error",$.message||"No se pudo cambiar el estado","error")}},S=async()=>{try{if(!(await z.fire({title:"Inicializar destinatarios por defecto",text:"¿Deseas crear los destinatarios por defecto del sistema?",icon:"question",showCancelButton:!0,confirmButtonText:"Sí, inicializar",cancelButtonText:"Cancelar"})).isConfirmed)return;z.fire({title:"Inicializando...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}}),await Il.initializeDefaults(r),await p(),z.fire("¡Inicializado!","Los destinatarios por defecto han sido creados correctamente.","success")}catch(b){console.error("Error al inicializar destinatarios:",b),z.fire("Error",b.message||"No se pudieron inicializar los destinatarios por defecto","error")}};return l.jsxs(l.Fragment,{children:[l.jsx(RZ,{children:l.jsxs(IZ,{children:[l.jsx("h2",{children:"Control de Destinatarios de Correo"}),l.jsx("p",{children:"Configura qué usuarios recibirán notificaciones por correo electrónico del sistema."})]})}),l.jsx("section",{className:"main-content",children:l.jsxs(NZ,{children:[l.jsxs(LZ,{onClick:m,children:[l.jsx(ar,{})," Agregar Destinatario"]}),l.jsxs(BZ,{onClick:p,refreshing:d,label:"Recargar",className:d?"refreshing":"",children:[l.jsx(Zt,{className:d?"spinning":""}),d?"Actualizando...":"Refrescar"]}),l.jsx(zZ,{onClick:S,children:"Inicializar por defecto"})]})}),l.jsxs("section",{className:"main-content",style:{position:"relative"},children:[d&&l.jsx(KZ,{children:l.jsxs(QZ,{children:[l.jsx(Zt,{className:"refresh-icon-spin"}),l.jsx(XZ,{children:"Actualizando tareas..."})]})}),c&&!d&&l.jsx(VZ,{children:l.jsx(WZ,{children:"Cargando destinatarios..."})}),f&&l.jsx(YZ,{children:f}),!c&&!d&&i.length===0&&l.jsx(GZ,{children:'No hay destinatarios configurados. Haga clic en "Agregar Destinatario" para crear uno.'}),i.length>0&&l.jsx(FZ,{children:l.jsxs(qZ,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nombre"}),l.jsx("th",{children:"Correo Electrónico"}),l.jsx("th",{children:"Traspasos"}),l.jsx("th",{children:"Transferencias"}),l.jsx("th",{children:"Errores"}),l.jsx("th",{children:"Estado"}),l.jsx("th",{children:"Acciones"})]})}),l.jsx("tbody",{children:i.map(b=>{var k,C,$;return l.jsxs("tr",{className:b.isSend?"":"disabled",children:[l.jsx("td",{children:b.name}),l.jsx("td",{children:b.email}),l.jsx("td",{children:(k=b.notificationTypes)!=null&&k.traspaso?l.jsx(Eb,{children:"✓"}):l.jsx(jb,{children:"✗"})}),l.jsx("td",{children:(C=b.notificationTypes)!=null&&C.transferencias?l.jsx(Eb,{children:"✓"}):l.jsx(jb,{children:"✗"})}),l.jsx("td",{children:($=b.notificationTypes)!=null&&$.erroresCriticos?l.jsx(Eb,{children:"✓"}):l.jsx(jb,{children:"✗"})}),l.jsx("td",{children:l.jsx(UZ,{$active:b.isSend,children:b.isSend?l.jsx("span",{title:"Envío activo",children:"Activo"}):l.jsx("span",{title:"Envío desactivado",children:"Inactivo"})})}),l.jsx("td",{children:l.jsxs(HZ,{children:[l.jsx(Sb,{title:"Editar",onClick:()=>g(b),children:l.jsx(Ir,{})}),l.jsx(Sb,{title:b.isSend?"Desactivar envío":"Activar envío",color:b.isSend?"#ffa500":"#28a745",onClick:()=>w(b._id,b.isSend,b.name),children:b.isSend?l.jsx(ov,{}):l.jsx(av,{})}),l.jsx(Sb,{title:"Eliminar",color:"#dc3545",onClick:()=>y(b._id,b.name),children:l.jsx(Nr,{})})]})})]},b._id)})})]})})]})]})}v.div`
  min-height: 100vh;
  padding: 15px;
  width: 100%;
  background-color: ${e=>e.theme.bg};
  color: ${({theme:e})=>e.text};
  display: grid;

  grid-template:
    "header" 90px
    "area1" auto
    "area2" auto
    "main" 1fr;

  @media (max-width: 768px) {
    grid-template:
      "header" 70px
      "area1" auto
      "area2" auto
      "main" 1fr;
    padding: 10px;
  }

  @media (max-width: 480px) {
    grid-template:
      "header" 60px
      "area1" auto
      "area2" auto
      "main" 1fr;
    padding: 5px;
  }

  .header {
    grid-area: header;
    display: flex;
    align-items: center;
    margin-bottom: 20px;
  }

  .area1 {
    grid-area: area1;
    margin-bottom: 10px;
  }

  .area2 {
    grid-area: area2;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    margin-bottom: 20px;

    @media (max-width: 768px) {
      margin-top: 15px;
      margin-bottom: 10px;
    }

    @media (max-width: 480px) {
      margin-top: 10px;
      margin-bottom: 5px;
      flex-direction: column;
    }
  }

  .main {
    grid-area: main;
    margin-top: 10px;
    overflow-x: auto;

    @media (max-width: 768px) {
      padding: 10px;
    }

    @media (max-width: 480px) {
      padding: 5px;
    }
  }
`;const RZ=v.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 15px 0;
`,IZ=v.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 5px;

  h2 {
    margin: 0;
    font-size: 1.5rem;
    color: ${({theme:e})=>e.title||e.text};
  }

  p {
    margin: 0;
    color: ${({theme:e})=>e.textSecondary||"#666"};
  }
`,NZ=v.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  flex-wrap: wrap;

  @media (max-width: 768px) {
    width: 100%;
    justify-content: center;
  }

  @media (max-width: 480px) {
    flex-direction: column;
  }
`,LZ=v.button`
  background-color: #28a745;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;

  &:hover {
    background-color: #218838;
  }

  @media (max-width: 480px) {
    width: 100%;
  }
`,BZ=v.button`
  background-color: #17a2b8;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;

  &:hover {
    background-color: #138496;
  }

  @media (max-width: 480px) {
    width: 100%;
  }
`,zZ=v.button`
  background-color: #6c757d;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.3s;

  &:hover {
    background-color: #5a6268;
  }

  @media (max-width: 480px) {
    width: 100%;
  }
`,FZ=v.div`
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  overflow-x: auto; // Ya tienes esto, correcto
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);

  /* Añadir esto */
  -webkit-overflow-scrolling: touch; /* Para mejor scroll en iOS */

  @media (max-width: 576px) {
    /* Mejora la visualización en móviles pequeños */
    margin-left: -10px;
    margin-right: -10px;
    width: calc(100% + 20px);
    border-radius: 0;
  }
`,qZ=v.table`
  width: 100%;
  border-collapse: collapse;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  color: ${({theme:e})=>e.text};

  th,
  td {
    padding: 12px 15px;
    text-align: left;
  }

  th {
    background-color: ${({theme:e})=>e.tableHeader||"#f0f0f0"};
    color: ${({theme:e})=>e.tableHeaderText||"#333"};
    font-weight: bold;
  }

  tr {
    border-bottom: 1px solid ${({theme:e})=>e.border||"#ddd"};

    &:last-child {
      border-bottom: none;
    }

    &:hover {
      background-color: ${({theme:e})=>e.tableHover||"#f8f9fa"};
    }

    &.disabled {
      opacity: 0.6;
      background-color: ${({theme:e})=>e.tableDisabled||"#f2f2f2"};
    }
  }
`,HZ=v.div`
  display: flex;
  gap: 8px;
  justify-content: center;
`,Sb=v.button`
  background: none;
  border: none;
  color: ${e=>e.color||"#0275d8"};
  font-size: 16px;
  cursor: pointer;
  padding: 5px;
  border-radius: 4px;
  transition: all 0.2s;

  &:hover {
    color: ${e=>e.hoverColor||e.color||"#0275d8"};
    background-color: rgba(0, 0, 0, 0.05);
  }
`,Eb=v.span`
  color: #28a745;
  font-weight: bold;
`,jb=v.span`
  color: #dc3545;
  font-weight: bold;
`,UZ=v.div`
  color: ${e=>e.$active?"#28a745":"#dc3545"};
  font-weight: bold;
  display: flex;
  align-items: center;
  gap: 5px;
`,VZ=v.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
`,WZ=v.div`
  padding: 20px;
  text-align: center;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,YZ=v.div`
  padding: 20px;
  text-align: center;
  color: #dc3545;
  background-color: rgba(220, 53, 69, 0.1);
  border-radius: 8px;
  margin: 20px 0;
`,GZ=v.div`
  padding: 30px;
  text-align: center;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
`,KZ=v.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(255, 255, 255, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 50;
  animation: fadeIn 0.2s ease-in-out;

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`,QZ=v.div`
  background-color: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 20px;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;

  .refresh-icon-spin {
    font-size: 24px;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`,XZ=v.div`
  font-size: 14px;
  font-weight: 500;
`,am=new Yr;function p7({customer:e,mappingId:t,onSave:r,onCancel:n}){const{accessToken:a}=wt(),[o,i]=_.useState({}),[c,d]=_.useState(null),[f,p]=_.useState(!0),[m,g]=_.useState(null),[y,w]=_.useState({}),[S,b]=_.useState({}),[k,C]=_.useState([]);_.useEffect(()=>{(async()=>{if(!t){console.error("No se proporcionó ID de mapping"),p(!1);return}try{p(!0);const j=await am.getMappingById(a,t);g(j);let A=null;if(e){const I=j.tableConfigs.find(B=>!B.isDetailTable);if(I&&I.primaryKey){const B=I.fieldMappings.find(F=>F.sourceField===I.primaryKey);B?A=e[B.targetField]:A=e[I.primaryKey]}A||(A=e[Object.keys(e)[0]])}if(A)try{console.log(`Cargando datos de origen para documento ${A}`);const I=await am.getSourceDataByMapping(a,t,A);if(console.log(`Datos de origen cargados con éxito para documento ${A}`,I),I.success){const B=I.data.sourceData;d(B);const F={},U=j.tableConfigs.find(Y=>!Y.isDetailTable);U&&U.fieldMappings&&U.fieldMappings.forEach(Y=>{var W;if(Y.sourceField){let Q=B[Y.sourceField];if(Y.removePrefix&&typeof Q=="string"&&Q.startsWith(Y.removePrefix)){const Z=Q;Q=Q.substring(Y.removePrefix.length),console.log(`Prefijo '${Y.removePrefix}' eliminado del campo ${Y.sourceField}: '${Z}' → '${Q}'`)}if(Q!=null&&((W=Y.valueMappings)==null?void 0:W.length)>0){const Z=Y.valueMappings.find(V=>V.sourceValue===Q);Z&&(Q=Z.targetValue)}F[Y.targetField]=Q}else Y.defaultValue!==void 0&&(F[Y.targetField]=Y.defaultValue==="NULL"?null:Y.defaultValue)}),console.log("Datos transformados desde origen:",F),i(F)}else console.warn("No se obtuvieron datos de origen, usando datos proporcionados"),i(e||{})}catch(I){console.warn("Error al cargar datos de origen:",I),i(e||{})}else i(e||{});if(j&&j.tableConfigs){const I=j.tableConfigs.find(B=>!B.isDetailTable);if(I&&I.fieldMappings){const B=I.fieldMappings.filter(U=>U.fieldType!=="hidden"&&U.isEditable!==!1);L(B);const F={};B.forEach(U=>{F[U.targetField]={...U,loading:!1,originalField:U.sourceField,dynamicValue:null},U.dynamicQuery&&T(U.targetField,U)}),b(F)}}p(!1)}catch(j){console.error("Error al inicializar editor:",j),z.fire({title:"Error",text:`No se pudo cargar la configuración: ${j.message}`,icon:"error"}),p(!1)}})()},[t,a,e]);const $=async()=>{try{p(!0);let D=null;if(m){const A=m.tableConfigs.find(I=>!I.isDetailTable);if(A&&A.primaryKey){const I=A.fieldMappings.find(B=>B.sourceField===A.primaryKey);I?D=o[I.targetField]:D=o[A.primaryKey]}D||(D=o[Object.keys(o)[0]])}if(!D){z.fire({title:"Error",text:"No se pudo determinar el ID del documento",icon:"error"}),p(!1);return}const j=await am.getSourceDataByMapping(a,t,D);if(j.success){const A=j.data.sourceData;if(d(A),(await z.fire({title:"Datos cargados",text:"¿Desea reemplazar los datos actuales con los datos de la tabla origen?",icon:"question",showCancelButton:!0,confirmButtonText:"Sí, reemplazar",cancelButtonText:"No, mantener mis cambios"})).isConfirmed){const B={},F=m.tableConfigs.find(U=>!U.isDetailTable);F&&F.fieldMappings&&F.fieldMappings.forEach(U=>{var Y;if(U.sourceField){let W=A[U.sourceField];if(U.removePrefix&&typeof W=="string"&&W.startsWith(U.removePrefix)){const Q=W;W=W.substring(U.removePrefix.length),console.log(`Prefijo '${U.removePrefix}' eliminado del campo ${U.sourceField}: '${Q}' → '${W}'`)}if(W!=null&&((Y=U.valueMappings)==null?void 0:Y.length)>0){const Q=U.valueMappings.find(Z=>Z.sourceValue===W);Q&&(W=Q.targetValue)}B[U.targetField]=W}else U.defaultValue!==void 0&&(B[U.targetField]=U.defaultValue==="NULL"?null:U.defaultValue)}),i(B)}}}catch(D){console.error("Error al cargar datos de origen:",D),z.fire({title:"Error",text:`No se pudieron cargar los datos de origen: ${D.message}`,icon:"error"})}finally{p(!1)}},L=D=>{if(D.some(A=>A.fieldGroup)){const A={};D.forEach(B=>{if(B.fieldType==="hidden"||B.isEditable===!1)return;const F=B.fieldGroup||"OTROS CAMPOS";A[F]||(A[F]={title:F,fields:[]}),A[F].fields.push(B.targetField)});const I=Object.values(A);I.forEach(B=>{B.fields.sort((F,U)=>{const Y=D.find(Q=>Q.targetField===F),W=D.find(Q=>Q.targetField===U);return((Y==null?void 0:Y.displayOrder)||0)-((W==null?void 0:W.displayOrder)||0)})}),I.sort((B,F)=>B.title.localeCompare(F.title)),C(I)}else{const A=U=>{const Y=U.toUpperCase(),W={"INFORMACIÓN BÁSICA":[/^NOMBRE/i,/^ALIAS/i,/^RAZON/i,/^COD/i,/^ID/i,/^CODE/i,/UNIT/i,/ORG/i,/CLIENTE/i],CONTACTO:[/CONTACTO/i,/MAIL/i,/EMAIL/i,/^E_MAIL/i,/TELEFONO/i,/^TEL/i,/FAX/i,/DIRECCION/i,/DIR_/i],UBICACIÓN:[/PAIS/i,/ZONA/i,/RUTA/i,/GEO/i,/LATITUD/i,/LONGITUD/i,/UBICACION/i,/DIVISION_GEO/i,/GEOGRAFICA/i],COMERCIAL:[/VENDEDOR/i,/COBRADOR/i,/CATEGORIA/i,/CLASE/i,/NIVEL/i,/PRECIO/i,/LIMITE/i,/CREDITO/i,/CONDICION/i,/TARJETA/i,/MORA/i,/DESCUENTO/i,/TASA/i],FINANZAS:[/SALDO/i,/MONTO/i,/LIMITE_CREDITO/i,/MORA/i,/MONEDA/i,/TASA_INTERES/i,/IMPUESTO/i,/CREDITO/i,/COBRO/i],IMPUESTOS:[/IMPUESTO/i,/CONTRIBUYENTE/i,/EXEN/i,/IVA/i,/REGIMEN/i,/RETENCION/i,/TARIFA/i,/IMP[0-9]/i,/TRIBUTA/i],CONFIGURACIÓN:[/ACTIVO/i,/CONFIG/i,/ACEPTA/i,/PERMITE/i,/USA/i,/^ES_/i,/DOC_/i,/USUARIO/i,/FECHA_HORA/i,/ELECTRONICO/i,/API/i]};for(const[Q,Z]of Object.entries(W))for(const V of Z)if(V.test(Y))return Q;return"OTROS CAMPOS"},I={};D.forEach(U=>{if(U.fieldType==="hidden"||U.isEditable===!1)return;const Y=U.targetField,W=A(Y);I[W]||(I[W]={title:W,fields:[]}),I[W].fields.push(Y)});const B=Object.values(I),F=["INFORMACIÓN BÁSICA","CONTACTO","UBICACIÓN","COMERCIAL","FINANZAS","IMPUESTOS","CONFIGURACIÓN","OTROS CAMPOS"];B.sort((U,Y)=>{const W=F.indexOf(U.title),Q=F.indexOf(Y.title);return W!==-1&&Q!==-1?W-Q:W!==-1?-1:Q!==-1?1:U.title.localeCompare(Y.title)}),C(B)}},T=async(D,j)=>{try{w(B=>({...B,[D]:!0}));const A={...o},I=await am.queryDynamicFieldValue(a,t,j,A);if(I.success){let B;j.queryType==="sequence"?(B=I.nextValue,b(F=>({...F,[D]:{...F[D],currentValue:I.currentValue,dynamicValue:B}}))):(B=I.value,b(F=>({...F,[D]:{...F[D],dynamicValue:B}}))),i(F=>({...F,[D]:B}))}}catch(A){console.error(`Error al cargar valor dinámico para ${D}:`,A),z.fire({title:"Error",text:`No se pudo obtener valor para ${D}: ${A.message}`,icon:"error",timer:3e3})}finally{w(A=>({...A,[D]:!1}))}},P=D=>{const{name:j,value:A,type:I,checked:B}=D.target;i({...o,[j]:I==="checkbox"?B:A})},O=D=>{const j=S[D];j&&j.dynamicQuery&&T(D,j)},N=async()=>{try{p(!0);const j=Object.entries(S).filter(([I,B])=>B.isRequired).map(([I])=>I).filter(I=>!o[I]&&o[I]!==0&&o[I]!==!1);if(j.length>0){z.fire({title:"Campos requeridos",html:`Por favor complete los siguientes campos:<br><br>
          <ul style="text-align: left; display: inline-block;">
            ${j.map(I=>`<li>${I}</li>`).join("")}
          </ul>`,icon:"warning"}),p(!1);return}const A={mappingId:t,documentId:null,targetData:o,sourceData:{},_dynamicFields:{}};if(m){const I=m.tableConfigs.find(B=>!B.isDetailTable);if(I&&I.primaryKey){const B=I.fieldMappings.find(F=>F.sourceField===I.primaryKey);B?A.documentId=o[B.targetField]:A.documentId=o[I.primaryKey]}A.documentId||(A.documentId=o[Object.keys(o)[0]]),I&&I.fieldMappings&&I.fieldMappings.forEach(B=>{var F;if(B.sourceField&&o[B.targetField]!==void 0){let U=o[B.targetField];if(((F=B.valueMappings)==null?void 0:F.length)>0){const Y=B.valueMappings.find(W=>W.targetValue===U);Y&&(U=Y.sourceValue)}if(B.removePrefix&&c){const Y=c[B.sourceField];Y&&typeof Y=="string"&&Y.startsWith(B.removePrefix)&&(U=B.removePrefix+U)}A.sourceData[B.sourceField]=U}})}Object.entries(S).forEach(([I,B])=>{B.dynamicQuery&&B.queryType==="sequence"&&B.queryDefinition&&B.queryDefinition.updateOnSave&&(A._dynamicFields[I]={...B,newValue:o[I]})}),await r(A),z.fire({title:"Guardado",text:"Los datos se guardaron correctamente en ambas tablas",icon:"success",timer:2e3})}catch(D){console.error("Error al guardar:",D),z.fire({title:"Error",text:D.message||"No se pudieron guardar los cambios",icon:"error"})}finally{p(!1)}},R=D=>{const j=S[D]||{};if(j.isEditable===!1&&!j.dynamicQuery)return null;const A=o[D]!==void 0?o[D]:"",I=y[D]||!1,B=j.isEditable===!1&&!j.dynamicQuery;let F=j.fieldType||"text";return j.fieldType||(D.includes("EMAIL")||D.includes("E_MAIL")?F="email":D.includes("FECHA")||D.includes("DATE")?F="date":D.includes("TELEFONO")||D.includes("PHONE")||D.includes("TEL")?F="tel":typeof A=="number"||D.includes("PRECIO")||D.includes("MONTO")||D.includes("CREDITO")||D.includes("SALDO")||D.includes("LIMITE")?F="number":(typeof A=="string"&&A.length>100||D.includes("NOTAS")||D.includes("DIRECCION")||D.includes("OBSERVACION"))&&(F="textarea"),(typeof A=="boolean"||["ACTIVO","ES_","PERMITE_","ACEPTA_","USA_"].some(W=>D.toUpperCase().includes(W)))&&(F="boolean")),F==="hidden"?l.jsx("input",{type:"hidden",name:D,value:A||""},D):l.jsxs("div",{className:"form-group",style:{flex:"1 1 250px"},children:[l.jsxs("label",{children:[j.displayName||D,j.isRequired&&l.jsx("span",{style:{color:"var(--danger-color)"},children:" *"})]}),l.jsxs("div",{style:{display:"flex",gap:"5px"},children:[F==="textarea"?l.jsx("textarea",{name:D,value:A||"",onChange:P,className:"swal2-textarea",rows:"3",disabled:I||B,readOnly:B,style:{flex:1,backgroundColor:B?"#f8f9fa":"white"}}):F==="boolean"?l.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[l.jsx("input",{type:"checkbox",name:D,checked:!!A,onChange:P,disabled:I||B,style:{marginRight:"8px",width:"18px",height:"18px",cursor:B?"default":"pointer"}}),l.jsx("span",{children:j.displayName||D})]}):F==="select"?l.jsxs("select",{name:D,value:A||"",onChange:P,className:"swal2-select",disabled:I||B,style:{flex:1,backgroundColor:B?"#f8f9fa":"white"},children:[l.jsx("option",{value:"",children:"-- Seleccione --"}),j.options&&j.options.map((U,Y)=>l.jsx("option",{value:U.value,children:U.label},Y))]}):l.jsx("input",{type:F,name:D,value:A||"",onChange:P,className:"swal2-input",style:{flex:1,backgroundColor:B?"#f8f9fa":"white"},disabled:I||B,readOnly:B,step:F==="number"?"0.01":void 0}),j.dynamicQuery&&l.jsx("button",{onClick:()=>O(D),disabled:I,style:{backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",padding:"0 10px",cursor:I?"not-allowed":"pointer"},title:"Refrescar valor",children:l.jsx(Zt,{})})]}),j.dynamicQuery&&j.queryType==="sequence"&&j.currentValue!==void 0&&l.jsxs("small",{style:{display:"block",fontSize:"0.8rem",color:"#6c757d",marginTop:"3px"},children:["Valor actual en secuencia: ",j.currentValue]}),j.originalField&&l.jsxs("small",{style:{display:"block",fontSize:"0.8rem",color:"#6c757d",marginTop:"3px"},children:["Campo origen: ",j.originalField]})]},D)};return f?l.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[l.jsx("div",{className:"loading-spinner"}),l.jsx("p",{children:"Cargando formulario..."})]}):l.jsxs("div",{className:"customer-editor",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[l.jsxs("h3",{style:{margin:0},children:["Editar ",(m==null?void 0:m.entityType)==="customers"?"Cliente":"Documento"]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsxs("button",{style:{backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",padding:"8px 15px",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},onClick:$,title:"Cargar datos de la tabla origen",children:[l.jsx(sc,{})," Actualizar desde origen"]}),l.jsxs("button",{style:{backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",padding:"8px 15px",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},onClick:n,children:[l.jsx(dn,{})," Cancelar"]}),l.jsxs("button",{style:{backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",padding:"8px 15px",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},onClick:N,children:[l.jsx(nv,{})," Guardar"]})]})]}),c&&l.jsx("div",{style:{marginBottom:"20px",borderBottom:"1px solid #dee2e6",paddingBottom:"10px"},children:l.jsx("button",{onClick:()=>{z.fire({title:"Datos originales",html:`
                  <div style="max-height: 60vh; overflow-y: auto; text-align: left;">
                    <table style="width: 100%; border-collapse: collapse;">
                      <thead>
                        <tr>
                          <th style="padding: 8px; border-bottom: 1px solid #ddd; text-align: left;">Campo</th>
                          <th style="padding: 8px; border-bottom: 1px solid #ddd; text-align: left;">Valor</th>
                        </tr>
                      </thead>
                      <tbody>
                        ${Object.entries(c).map(([D,j])=>`
                            <tr>
                              <td style="padding: 8px; border-bottom: 1px solid #eee; font-weight: bold;">${D}</td>
                              <td style="padding: 8px; border-bottom: 1px solid #eee;">${j??"N/A"}</td>
                            </tr>
                          `).join("")}
                      </tbody>
                    </table>
                  </div>
                `,width:800,showConfirmButton:!0,confirmButtonText:"Cerrar"})},style:{backgroundColor:"transparent",color:"#17a2b8",border:"1px solid #17a2b8",borderRadius:"4px",padding:"5px 10px",fontSize:"13px",cursor:"pointer"},children:"Ver datos originales de la tabla fuente"})}),k.map((D,j)=>l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("h4",{style:{borderBottom:"1px solid #dee2e6",paddingBottom:"8px",marginBottom:"15px"},children:D.title}),l.jsx("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap"},children:D.fields.map(A=>R(A))})]},j)),l.jsx("style",{jsx:"true",children:`
        .loading-spinner {
          display: inline-block;
          width: 40px;
          height: 40px;
          border: 4px solid rgba(0, 123, 255, 0.1);
          border-radius: 50%;
          border-top-color: #007bff;
          animation: spin 1s linear infinite;
          margin-bottom: 15px;
        }

        @keyframes spin {
          to {
            transform: rotate(360deg);
          }
        }

        .swal2-input,
        .swal2-textarea {
          width: 100%;
          padding: 8px 12px;
          border: 1px solid #ced4da;
          border-radius: 4px;
          font-size: 14px;
        }

        .swal2-textarea {
          min-height: 80px;
          resize: vertical;
        }

        .form-group {
          margin-bottom: 15px;
        }

        .form-group label {
          display: block;
          margin-bottom: 5px;
          font-weight: 500;
        }
      `})]})}const ld=new Yr;function h7(){var D,j,A,I,B,F,U,Y,W,Q,Z;const[e,t]=_.useState(!1),{accessToken:r}=wt(),[n,a]=_.useState([]),[o,i]=_.useState({totalTasks:0,activeTasks:0,runningTasks:0,completedToday:0,failedToday:0}),[c,d]=_.useState({server1:{status:"checking",responseTime:0},server2:{status:"checking",responseTime:0},mongodb:{status:"checking"}}),[f,p]=_.useState(!0),[m,g]=_.useState(null),[y,w]=_.useState(null),[S,b]=_.useState(!1),[k,C]=_.useState("02:00"),[$,L]=_.useState(!1),T=_.useCallback(async()=>{try{L(!0);const V=await ld.getSchuledTime(r);if(V!=null&&V.hour){C(V.hour);const[K,se]=V.hour.split(":"),he=new Date;he.setHours(Number(K),Number(se),0,0),he<new Date&&he.setDate(he.getDate()+1),w(he)}}catch(V){console.error("Error al obtener hora programada:",V)}finally{L(!1)}},[r]),P=async()=>{try{p(!0),g(null);const V=await ld.getTasks(r),K=await ld.getTransferHistory(r);console.log("Respuesta de historial:",K);const se=await ld.getSchuledTime(r);let he;try{he=await ld.checkServerStatus(r)}catch(me){console.error("Error verificando servidores:",me),he={server1:{status:"unknown",responseTime:0},server2:{status:"unknown",responseTime:0},mongodb:{status:"unknown"}}}if(Array.isArray(V)){const me=V,ne=me.filter(Ae=>Ae.active).length,ve=me.filter(Ae=>Ae.status==="running").length,we=(K==null?void 0:K.completedToday)||0,de=(K==null?void 0:K.failedToday)||0;i({totalTasks:me.length,activeTasks:ne,runningTasks:ve,completedToday:we,failedToday:de}),console.log("Estadísticas actualizadas:",{totalTasks:me.length,activeTasks:ne,runningTasks:ve,completedToday:we,failedToday:de})}if(K!=null&&K.history){const me=K.history.map(ne=>{const ve=new Date(ne.date),we=`${ve.getFullYear()}-${String(ve.getMonth()+1).padStart(2,"0")}-${String(ve.getDate()).padStart(2,"0")}`;return{name:ne.taskName||ne.name||"N/A",date:ne.date,displayDate:we,status:ne.status,totalRecords:ne.totalRecords||ne.totalProducts||ne.successfulRecords||0}});a(me.slice(0,5)),console.log("Últimas transferencias formateadas:",me.slice(0,5))}else a([]);if(se!=null&&se.hour){const[me,ne]=se.hour.split(":"),ve=new Date;ve.setHours(Number(me),Number(ne),0,0),ve<new Date&&ve.setDate(ve.getDate()+1),w(ve),C(se.hour)}else{const me=new Date;me.setDate(me.getDate()+1),me.setHours(2,0,0,0),w(me)}he&&d(he)}catch(V){console.error("Error cargando datos del dashboard:",V),g("Error al cargar los datos del dashboard. Por favor, intente nuevamente.")}finally{p(!1),b(!1)}};_.useEffect(()=>{P(),T();const V=setInterval(()=>{P(),T()},6e4);return()=>clearInterval(V)},[r,T]);const O=()=>{S||(b(!0),P())},N=V=>{console.log("Configuración de programación actualizada:",V),V.hour&&C(V.hour),P(),T()},R=V=>{switch(V){case"online":return"Conectado";case"offline":return"Desconectado";case"checking":return"Verificando...";case"warning":return"Advertencia";default:return"Desconocido"}};return l.jsxs(l.Fragment,{children:[l.jsx(vC,{children:l.jsx("title",{children:"Dashboard - Sistema Core ERP "})}),l.jsx("section",{className:"main-content",children:l.jsxs(JZ,{children:[l.jsx(ZZ,{children:"Panel de Control"}),l.jsx(eee,{children:"Sistema de Transferencia de Datos"}),l.jsxs(mee,{onClick:O,disabled:S,children:[l.jsx(Zt,{})," ",S?"Actualizando...":"Actualizar"]})]})}),l.jsxs("section",{className:"main-content",children:[l.jsxs(tee,{children:[l.jsxs(cd,{children:[l.jsx(ud,{children:l.jsx(uf,{})}),l.jsxs(dd,{children:[l.jsx(fd,{children:o.totalTasks}),l.jsx(pd,{children:"Tareas configuradas"})]})]}),l.jsxs(cd,{children:[l.jsx(ud,{children:l.jsx(jg,{})}),l.jsxs(dd,{children:[l.jsx(fd,{children:o.activeTasks}),l.jsx(pd,{children:"Tareas activas"})]})]}),l.jsxs(cd,{highlight:o.runningTasks>0,children:[l.jsx(ud,{children:l.jsx(Zf,{color:o.runningTasks>0?"#17a2b8":void 0})}),l.jsxs(dd,{children:[l.jsx(fd,{children:o.runningTasks}),l.jsx(pd,{children:"En ejecución"})]})]}),l.jsxs(cd,{children:[l.jsx(ud,{children:l.jsx(Sg,{color:"#28a745"})}),l.jsxs(dd,{children:[l.jsx(fd,{children:o.completedToday}),l.jsx(pd,{children:"Completadas hoy"})]})]}),l.jsxs(cd,{highlight:o.failedToday>0,children:[l.jsx(ud,{children:l.jsx(wC,{color:o.failedToday>0?"#dc3545":void 0})}),l.jsxs(dd,{children:[l.jsx(fd,{children:o.failedToday}),l.jsx(pd,{children:"Fallidas hoy"})]})]})]}),f&&!S?l.jsxs(gee,{children:[l.jsx(yee,{}),l.jsx(vee,{children:"Cargando información del sistema..."})]}):m?l.jsxs(xee,{children:[l.jsx(bee,{}),l.jsx(wee,{children:m}),l.jsx(See,{onClick:P,children:"Reintentar"})]}):l.jsxs(ree,{children:[l.jsxs(hd,{children:[l.jsx(md,{children:l.jsxs(gd,{children:[l.jsx(uf,{})," Estado de Servidores"]})}),l.jsx(yd,{children:l.jsxs(nee,{children:[l.jsxs($b,{status:((D=c.server1)==null?void 0:D.status)||"unknown",children:[l.jsx(Tb,{status:((j=c.server1)==null?void 0:j.status)||"unknown"}),l.jsx(kb,{children:"Server 1"}),l.jsx(Ab,{children:((A=c.server1)==null?void 0:A.status)==="online"?`Conectado (${c.server1.responseTime||0}ms)`:((I=c.server1)==null?void 0:I.status)==="offline"?"Desconectado":"Estado desconocido"})]}),l.jsxs($b,{status:((B=c.server2)==null?void 0:B.status)||"unknown",children:[l.jsx(Tb,{status:((F=c.server2)==null?void 0:F.status)||"unknown"}),l.jsx(kb,{children:"Server 2"}),l.jsx(Ab,{children:((U=c.server2)==null?void 0:U.status)==="online"?`Conectado (${c.server2.responseTime||0}ms)`:((Y=c.server2)==null?void 0:Y.status)==="offline"?"Desconectado":"Estado desconocido"})]}),l.jsxs($b,{status:((W=c.mongodb)==null?void 0:W.status)||"unknown",children:[l.jsx(Tb,{status:((Q=c.mongodb)==null?void 0:Q.status)||"unknown"}),l.jsx(kb,{children:"MongoDB"}),l.jsx(Ab,{children:R(((Z=c.mongodb)==null?void 0:Z.status)||"unknown")})]})]})})]}),l.jsxs(hd,{children:[l.jsx(md,{children:l.jsxs(gd,{children:[l.jsx(Ui,{})," Próxima Ejecución"]})}),l.jsx(yd,{children:l.jsxs(aee,{children:[l.jsx(oee,{children:y?y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"No programada"}),l.jsx(iee,{children:y?y.toLocaleDateString([],{weekday:"long",day:"numeric",month:"long"}):"Configure una hora en la sección de tareas"}),l.jsx(see,{children:"Se ejecutarán todas las tareas activas configuradas como automáticas."})]})}),l.jsx(Cb,{children:l.jsx(fv,{disabled:f||$,onSuccess:N})})]}),l.jsxs(hd,{fullWidth:!0,children:[l.jsx(md,{children:l.jsxs(gd,{children:[l.jsx(Hs,{})," Últimas Transferencias"]})}),l.jsx(yd,{children:n.length>0?l.jsxs(lee,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Tarea"}),l.jsx("th",{children:"Fecha"}),l.jsx("th",{children:"Registros"}),l.jsx("th",{children:"Estado"})]})}),l.jsx("tbody",{children:n.map((V,K)=>l.jsxs("tr",{children:[l.jsx("td",{children:V.name||V.taskName||"N/A"}),l.jsx("td",{children:new Date(V.date).toLocaleString()}),l.jsx("td",{children:V.totalRecords||V.totalProducts||V.successfulRecords||0}),l.jsx("td",{children:l.jsx(cee,{status:V.status,children:V.status==="completed"?"Completada":V.status==="failed"||V.status==="error"?"Fallida":V.status==="cancelled"?"Cancelada":V.status==="running"?"En ejecución":V.status||"Desconocido"})})]},K))})]}):l.jsx(uee,{children:"No hay registros de transferencias recientes"})}),l.jsx(Cb,{children:l.jsx(sf,{to:"/historys",children:l.jsx(wA,{children:"Ver historial completo"})})})]}),l.jsxs(hd,{children:[l.jsx(md,{children:l.jsx(gd,{children:"Acciones Rápidas"})}),l.jsx(yd,{children:l.jsxs(dee,{children:[l.jsxs(om,{to:"/tasks",children:[l.jsx(im,{children:l.jsx(jg,{})}),l.jsx(sm,{children:"Gestionar Tareas"})]}),l.jsxs(om,{to:"/logs",children:[l.jsx(im,{children:l.jsx(sc,{})}),l.jsx(sm,{children:"Ver Logs"})]}),l.jsxs(om,{to:"/historys",children:[l.jsx(im,{children:l.jsx(Hs,{})}),l.jsx(sm,{children:"Historial"})]}),l.jsxs(om,{to:"/analytics",children:[l.jsx(im,{children:l.jsx(cf,{})}),l.jsx(sm,{children:"Estadísticas"})]})]})})]}),l.jsxs(hd,{children:[l.jsx(md,{children:l.jsxs(gd,{children:[l.jsx(cf,{})," Rendimiento"]})}),l.jsx(yd,{children:l.jsxs(fee,{children:[l.jsx(pee,{children:"Resumen de actividad"}),l.jsxs(hee,{children:[l.jsxs(vA,{children:[l.jsx(xA,{children:o.completedToday+o.failedToday}),l.jsx(bA,{children:"Ejecuciones hoy"})]}),l.jsxs(vA,{children:[l.jsx(xA,{children:o.completedToday+o.failedToday>0?(o.completedToday/(o.completedToday+o.failedToday)*100).toFixed(1)+"%":"N/A"}),l.jsx(bA,{children:"Tasa de éxito"})]})]})]})}),l.jsx(Cb,{children:l.jsx(sf,{to:"/analytics",children:l.jsx(wA,{children:"Ver análisis detallado"})})})]})]})]})]})}const JZ=v.div`
  text-align: center;
  padding: 15px 0;
`,ZZ=v.h1`
  font-size: 1.8rem;
  font-weight: 600;
  margin: 0;
  color: ${({theme:e})=>e.title||e.text};
`,eee=v.p`
  font-size: 1rem;
  margin: 5px 0 0;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,tee=v.div`
  display: flex;
  justify-content: space-between;
  gap: 15px;
  width: 100%;
  flex-wrap: wrap;

  @media (max-width: 768px) {
    gap: 10px;
  }
`,cd=v.div`
  background-color: ${({theme:e,highlight:t})=>t?"rgba(23, 162, 184, 0.1)":e.cardBg||"#fff"};
  border-radius: 8px;
  padding: 15px;
  display: flex;
  align-items: center;
  flex: 1;
  min-width: 160px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
  transition: transform 0.2s;

  &:hover {
    transform: translateY(-3px);
  }

  @media (max-width: 768px) {
    min-width: calc(50% - 10px);
    flex: 0 0 calc(50% - 10px);
  }

  @media (max-width: 480px) {
    min-width: 100%;
    flex: 0 0 100%;
  }
`,ud=v.div`
  font-size: 28px;
  color: ${({theme:e})=>e.primary||"#007bff"};
  margin-right: 15px;
  display: flex;
  align-items: center;
  justify-content: center;
`,dd=v.div`
  display: flex;
  flex-direction: column;
`,fd=v.div`
  font-size: 22px;
  font-weight: 600;
  line-height: 1.2;
`,pd=v.div`
  font-size: 13px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,ree=v.div`
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
  margin-top: 20px;

  @media (max-width: 992px) {
    grid-template-columns: 1fr;
  }

  @media (max-width: 576px) {
    gap: 15px; /* Gap más pequeño en móviles */
  }
`,hd=v.div`
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  grid-column: ${({fullWidth:e})=>e?"1 / -1":"auto"};
`,md=v.div`
  padding: 15px;
  border-bottom: 1px solid ${({theme:e})=>e.border||"#eee"};
`,gd=v.h2`
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;

  svg {
    color: ${({theme:e})=>e.primary||"#007bff"};
  }
`,yd=v.div`
  padding: 15px;
  flex: 1;

  @media (max-width: 480px) {
    padding: 12px 10px; /* Menos padding en móviles pequeños */
  }
`,Cb=v.div`
  padding: 10px 15px;
  border-top: 1px solid ${({theme:e})=>e.border||"#eee"};
  display: flex;
  justify-content: flex-end;
`,nee=v.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
`,$b=v.div`
  display: flex;
  align-items: center;
  background-color: ${({status:e,theme:t})=>e==="online"?"rgba(40, 167, 69, 0.1)":e==="offline"?"rgba(220, 53, 69, 0.1)":e==="checking"?"rgba(108, 117, 125, 0.1)":t.cardBg||"#fff"};
  padding: 12px;
  border-radius: 6px;
`,Tb=v.div`
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: ${({status:e})=>e==="online"?"#28a745":e==="offline"?"#dc3545":e==="warning"?"#ffc107":"#6c757d"};
  margin-right: 10px;
`,kb=v.div`
  font-weight: 500;
  flex: 1;
`,Ab=v.div`
  font-size: 13px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,aee=v.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 15px 0;
`,oee=v.div`
  font-size: 28px;
  font-weight: bold;
  margin-bottom: 5px;
`,iee=v.div`
  font-size: 16px;
  margin-bottom: 15px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,see=v.div`
  font-size: 13px;
  text-align: center;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,lee=v.table`
  width: 100%;
  border-collapse: collapse;

  th,
  td {
    padding: 10px;
    text-align: left;
    border-bottom: 1px solid ${({theme:e})=>e.border||"#eee"};
  }

  th {
    font-size: 14px;
    font-weight: 600;
    color: ${({theme:e})=>e.textSecondary||"#666"};
  }

  td {
    font-size: 14px;
  }
`,cee=v.span`
  display: inline-block;
  padding: 3px 8px;
  border-radius: 20px;
  font-size: 12px;

  background-color: ${({status:e})=>{switch(e){case"completed":return"rgba(40, 167, 69, 0.1)";case"failed":return"rgba(220, 53, 69, 0.1)";case"running":return"rgba(0, 123, 255, 0.1)";default:return"rgba(108, 117, 125, 0.1)"}}};

  color: ${({status:e})=>{switch(e){case"completed":return"#28a745";case"failed":return"#dc3545";case"running":return"#007bff";default:return"#6c757d"}}};
`,uee=v.div`
  text-align: center;
  padding: 30px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
  font-style: italic;
`,dee=v.div`
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 15px;
`,om=v(sf)`
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border: 1px solid ${({theme:e})=>e.border||"#eee"};
  border-radius: 8px;
  text-decoration: none;
  color: inherit;
  transition: all 0.2s;

  &:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    background-color: ${({theme:e})=>e.hoverBg||"#f8f9fa"};
  }
`,im=v.div`
  font-size: 24px;
  color: ${({theme:e})=>e.primary||"#007bff"};
  margin-bottom: 8px;
`,sm=v.div`
  font-size: 14px;
  font-weight: 500;
  text-align: center;
`,fee=v.div`
  min-height: 180px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,pee=v.div`
  margin-bottom: 20px;
  font-size: 14px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,hee=v.div`
  display: flex;
  gap: 20px;
`,vA=v.div`
  display: flex;
  flex-direction: column;
  align-items: center;
`,xA=v.div`
  font-size: 22px;
  font-weight: 600;
`,bA=v.div`
  font-size: 12px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,mee=v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  background-color: transparent;
  border: 1px solid ${({theme:e})=>e.border||"#ddd"};
  color: ${({theme:e})=>e.text};
  border-radius: 4px;
  padding: 6px 12px;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s;
  margin-top: 10px;

  &:hover:not(:disabled) {
    background-color: ${({theme:e})=>e.hoverBg||"#f8f9fa"};
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  svg {
    animation: ${({disabled:e})=>e?"spin 1s linear infinite":"none"};
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
`,gee=v.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 200px;
  gap: 15px;
`,yee=v.div`
  display: inline-block;
  width: ${e=>e.size==="large"?"60px":"40px"};
  height: ${e=>e.size==="large"?"60px":"40px"};
  border: 4px solid rgba(23, 162, 184, 0.2);
  border-radius: 50%;
  border-top-color: #17a2b8;
  animation: spinner-rotate 1s linear infinite;

  &::after {
    content: "";
    position: absolute;
    top: 4px;
    left: 4px;
    right: 4px;
    bottom: 4px;
    border: 3px solid transparent;
    border-top-color: #17a2b8;
    border-radius: 50%;
    animation: spinner-rotate 0.8s linear infinite reverse;
  }

  @keyframes spinner-rotate {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`,vee=v.div`
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,xee=v.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 200px;
  background-color: rgba(220, 53, 69, 0.05);
  border-radius: 8px;
  padding: 30px;
`,bee=v(wC)`
  color: #dc3545;
  font-size: 32px;
  margin-bottom: 15px;
`,wee=v.div`
  color: #dc3545;
  text-align: center;
  margin-bottom: 20px;
`,See=v.button`
  background-color: ${({theme:e})=>e.primary||"#007bff"};
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 15px;
  cursor: pointer;

  &:hover {
    background-color: ${({theme:e})=>e.primaryHover||"#0056b3"};
  }
`;v.div`
  /* background-color: ${({theme:e})=>e.primary||"#007bff"}; */
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 15px;
  cursor: pointer;
  font-size: 13px;
  transition: background-color 0.2s;

  &:hover {
    background-color: ${({theme:e})=>e.primaryHover||"#0056b3"};
  }

  @media (max-width: 480px) {
    flex-direction: column;
  }
`;const wA=v.button`
  background-color: ${({theme:e})=>e.primary||"#007bff"};
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 15px;
  cursor: pointer;
  font-size: 13px;
  transition: background-color 0.2s;

  &:hover {
    background-color: ${({theme:e})=>e.primaryHover||"#0056b3"};
  }
`,lm=new BR;function m7(){const{accessToken:e}=wt(),[t,r]=_.useState([]),[n,a]=_.useState(!0),o=_.useCallback(async()=>{try{a(!0);const g=await lm.getDBConfigs(e);r(g||[])}catch(g){console.error("Error al cargar conexiones:",g),z.fire("Error","No se pudieron cargar las conexiones","error")}finally{a(!1)}},[e]);_.useEffect(()=>{e&&o()},[o]);const i=async(g=null)=>{var k,C,$,L;const y=!!g,w=y?"Editar Conexión":"Nueva Conexión a Base de Datos",{value:S}=await z.fire({title:w,html:`
        <div class="task-form-container">
          <div class="task-form-section">
            <h4 class="task-form-section-title">Información del Servidor</h4>
            
            <div class="task-form-group">
              <label class="task-form-label">Nombre del Servidor *</label>
              <input id="serverName" class="task-form-input" value="${(g==null?void 0:g.serverName)||""}" 
                     placeholder="Ej: SERVIDOR_PRINCIPAL" ${y?"readonly":""}>
              <small class="task-form-help-text">Identificador único para esta conexión</small>
            </div>
            
            <div class="task-form-group">
              <label class="task-form-label">Tipo de Base de Datos *</label>
              <select id="type" class="task-form-select">
                <option value="">Seleccione un tipo</option>
                <option value="mssql" ${(g==null?void 0:g.type)==="mssql"?"selected":""}>SQL Server (MSSQL)</option>
                <option value="mysql" ${(g==null?void 0:g.type)==="mysql"?"selected":""}>MySQL</option>
                <option value="postgres" ${(g==null?void 0:g.type)==="postgres"?"selected":""}>PostgreSQL</option>
                <option value="mariadb" ${(g==null?void 0:g.type)==="mariadb"?"selected":""}>MariaDB</option>
                <option value="mongodb" ${(g==null?void 0:g.type)==="mongodb"?"selected":""}>MongoDB</option>
              </select>
            </div>

            <div class="task-form-group">
              <label class="task-form-label">Host/Dirección IP *</label>
              <input id="host" class="task-form-input" value="${(g==null?void 0:g.host)||""}" 
                     placeholder="Ej: localhost, 192.168.1.100">
            </div>

            <div class="task-form-group">
              <label class="task-form-label">Puerto *</label>
              <input id="port" type="number" class="task-form-input" value="${(g==null?void 0:g.port)||""}" 
                     placeholder="Ej: 1433 (SQL Server), 3306 (MySQL), 5432 (PostgreSQL)">
              <small class="task-form-help-text">Puerto por defecto: SQL Server: 1433, MySQL: 3306, PostgreSQL: 5432</small>
            </div>
          </div>

          <div class="task-form-section">
            <h4 class="task-form-section-title">Credenciales de Acceso</h4>
            
            <div class="task-form-group">
              <label class="task-form-label">Usuario *</label>
              <input id="user" class="task-form-input" value="${(g==null?void 0:g.user)||""}" 
                     placeholder="Nombre de usuario">
            </div>
            
            <div class="task-form-group">
              <label class="task-form-label">Contraseña *</label>
              <div style="position: relative;">
                <input id="password" type="password" class="task-form-input" 
                       value="${(g==null?void 0:g.password)||""}" placeholder="Contraseña">
                <button type="button" id="togglePassword" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer;">
                  <i class="fa fa-eye"></i>
                </button>
              </div>
            </div>

            <div class="task-form-group">
              <label class="task-form-label">Base de Datos *</label>
              <input id="database" class="task-form-input" value="${(g==null?void 0:g.database)||""}" 
                     placeholder="Nombre de la base de datos">
            </div>

            <div class="task-form-group" id="instanceGroup" style="display: ${(g==null?void 0:g.type)==="mssql"?"block":"none"};">
              <label class="task-form-label">Instancia (SQL Server)</label>
              <input id="instance" class="task-form-input" value="${(g==null?void 0:g.instance)||""}" 
                     placeholder="Ej: SQLEXPRESS">
              <small class="task-form-help-text">Solo requerido para instancias con nombre en SQL Server</small>
            </div>
          </div>

          <div class="task-form-section">
            <h4 class="task-form-section-title">Opciones Avanzadas</h4>
            
            <div class="task-form-checkbox-container">
              <input type="checkbox" id="encrypt" ${((k=g==null?void 0:g.options)==null?void 0:k.encrypt)!==!1?"checked":""}>
              <label class="task-form-checkbox-label" for="encrypt">Encriptar conexión</label>
            </div>
            
            <div class="task-form-checkbox-container">
              <input type="checkbox" id="trustServerCertificate" ${((C=g==null?void 0:g.options)==null?void 0:C.trustServerCertificate)!==!1?"checked":""}>
              <label class="task-form-checkbox-label" for="trustServerCertificate">Confiar en certificado del servidor</label>
            </div>
            
            <div class="task-form-checkbox-container" id="sslGroup" style="display: ${["postgres","mysql","mariadb"].includes(g==null?void 0:g.type)?"block":"none"};">
              <input type="checkbox" id="ssl" ${($=g==null?void 0:g.options)!=null&&$.ssl?"checked":""}>
              <label class="task-form-checkbox-label" for="ssl">Usar SSL</label>
            </div>

            <div class="task-form-group" id="authSourceGroup" style="display: ${(g==null?void 0:g.type)==="mongodb"?"block":"none"};">
              <label class="task-form-label">Auth Source (MongoDB)</label>
              <input id="authSource" class="task-form-input" value="${((L=g==null?void 0:g.options)==null?void 0:L.authSource)||"admin"}" 
                     placeholder="admin">
            </div>
          </div>
        </div>
      `,width:700,showCancelButton:!0,confirmButtonText:y?"Actualizar Conexión":"Crear Conexión",cancelButtonText:"Cancelar",showDenyButton:!0,denyButtonText:"Probar Conexión",customClass:{popup:"task-modal-popup",title:"task-modal-title",htmlContainer:"task-modal-html",actions:"task-modal-actions"},didOpen:()=>{const T=document.getElementById("togglePassword"),P=document.getElementById("password");T==null||T.addEventListener("click",()=>{const A=P.type==="password"?"text":"password";P.type=A,T.innerHTML=`<i class="fa fa-${A==="password"?"eye":"eye-slash"}"></i>`});const O=document.getElementById("type"),N=document.getElementById("instanceGroup"),R=document.getElementById("sslGroup"),D=document.getElementById("authSourceGroup"),j=()=>{const A=O.value;N.style.display=A==="mssql"?"block":"none",R.style.display=["postgres","mysql","mariadb"].includes(A)?"block":"none",D.style.display=A==="mongodb"?"block":"none"};O==null||O.addEventListener("change",j)},preConfirm:()=>b(),preDeny:async()=>{const T=b();return T&&await c(T),!1}});function b(){var Y,W,Q;const T=document.getElementById("serverName").value.trim(),P=document.getElementById("type").value,O=document.getElementById("host").value.trim(),N=parseInt(document.getElementById("port").value),R=document.getElementById("user").value.trim(),D=document.getElementById("password").value,j=document.getElementById("database").value.trim(),A=((Y=document.getElementById("instance"))==null?void 0:Y.value.trim())||null,I=document.getElementById("encrypt").checked,B=document.getElementById("trustServerCertificate").checked,F=((W=document.getElementById("ssl"))==null?void 0:W.checked)||!1,U=((Q=document.getElementById("authSource"))==null?void 0:Q.value.trim())||"admin";return T?P?O?!N||N<1||N>65535?(z.showValidationMessage("Ingrese un puerto válido (1-65535)"),!1):R?D?j?{serverName:T,type:P,host:O,port:N,user:R,password:D,database:j,instance:A,options:{encrypt:I,trustServerCertificate:B,ssl:F,authSource:P==="mongodb"?U:null,useNewUrlParser:!0,useUnifiedTopology:!0,enableArithAbort:!0}}:(z.showValidationMessage("El nombre de la base de datos es obligatorio"),!1):(z.showValidationMessage("La contraseña es obligatoria"),!1):(z.showValidationMessage("El usuario es obligatorio"),!1):(z.showValidationMessage("La dirección del host es obligatoria"),!1):(z.showValidationMessage("Debe seleccionar un tipo de base de datos"),!1):(z.showValidationMessage("El nombre del servidor es obligatorio"),!1)}S&&await d(S)},c=async g=>{try{z.fire({title:"Probando conexión...",text:"Verificando conectividad con el servidor",allowOutsideClick:!1,didOpen:()=>z.showLoading()});const y=await lm.testConnection(e,g);y.success?z.fire("¡Conexión exitosa!","La conexión a la base de datos se estableció correctamente","success"):z.fire("Error de conexión",y.error||"No se pudo conectar a la base de datos","error")}catch(y){z.fire("Error",y.message||"Error al probar la conexión","error")}},d=async g=>{try{z.fire({title:"Guardando conexión...",allowOutsideClick:!1,didOpen:()=>z.showLoading()});const y=await lm.createDBConfig(e,g);if(y.message)z.fire("¡Éxito!",y.message,"success"),o();else throw new Error("Error desconocido al guardar")}catch(y){console.error("Error al guardar:",y),z.fire("Error",y.error||y.message||"No se pudo guardar la conexión","error")}},f=async g=>{try{(await z.fire({title:"¿Eliminar conexión?",text:`¿Está seguro de eliminar la conexión "${g}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&(z.fire({title:"Eliminando conexión...",allowOutsideClick:!1,didOpen:()=>z.showLoading()}),await lm.deleteDBConfig(e,g),z.fire("Eliminado","La conexión ha sido eliminada","success"),o())}catch(y){console.error("Error al eliminar:",y),z.fire("Error",y.error||y.message||"No se pudo eliminar la conexión","error")}},p=g=>({mssql:"🟦",mysql:"🐬",postgres:"🐘",mariadb:"🦭",mongodb:"🍃"})[g]||"🗄️",m=g=>({mssql:"#CC2927",mysql:"#4479A1",postgres:"#336791",mariadb:"#003545",mongodb:"#47A248"})[g]||"#6c757d";return l.jsxs(Eee,{children:[l.jsxs(jee,{children:[l.jsxs("h1",{children:[l.jsx(sc,{})," Conexiones a Bases de Datos"]}),l.jsx("p",{children:"Gestiona las conexiones a servidores de bases de datos"})]}),l.jsxs(Cee,{children:[l.jsxs(SA,{onClick:()=>i(),children:[l.jsx(ar,{})," Nueva Conexión"]}),l.jsx($ee,{onClick:o,disabled:n,children:l.jsx(Zt,{className:n?"spinning":""})})]}),n?l.jsx(Tee,{children:"Cargando conexiones..."}):l.jsx(l.Fragment,{children:t.length===0?l.jsxs(kee,{children:[l.jsx(sc,{size:48}),l.jsx("h3",{children:"No hay conexiones configuradas"}),l.jsx("p",{children:"Agregue su primera conexión a base de datos para comenzar"}),l.jsxs(SA,{onClick:()=>i(),children:[l.jsx(ar,{})," Crear Primera Conexión"]})]}):l.jsx(Aee,{children:t.map(g=>{var y,w;return l.jsxs(Oee,{$type:g.type,children:[l.jsxs(Pee,{children:[l.jsx(_ee,{children:p(g.type)}),l.jsxs("div",{children:[l.jsx(Dee,{children:g.serverName}),l.jsx(Mee,{$color:m(g.type),children:g.type.toUpperCase()})]})]}),l.jsxs(Ree,{children:[l.jsxs(Iee,{children:[l.jsxs(Ob,{children:[l.jsx(uf,{}),l.jsxs("span",{children:[g.host,":",g.port]})]}),l.jsxs(Ob,{children:[l.jsx(sc,{}),l.jsx("span",{children:g.database})]}),g.instance&&l.jsxs(Ob,{children:[l.jsx("span",{children:"📋"}),l.jsxs("span",{children:["Instancia: ",g.instance]})]})]}),l.jsxs(Nee,{children:[((y=g.options)==null?void 0:y.encrypt)&&l.jsx(EA,{$type:"encrypt",children:"🔒 Encriptado"}),((w=g.options)==null?void 0:w.ssl)&&l.jsx(EA,{$type:"ssl",children:"🛡️ SSL"})]})]}),l.jsxs(Lee,{children:[l.jsx(Pb,{$color:"#17a2b8",onClick:()=>c(g),title:"Probar conexión",children:l.jsx(rI,{})}),l.jsx(Pb,{$color:"#ffc107",onClick:()=>i(g),title:"Editar conexión",children:l.jsx(Ir,{})}),l.jsx(Pb,{$color:"#dc3545",onClick:()=>f(g.serverName),title:"Eliminar conexión",children:l.jsx(Nr,{})})]})]},g.serverName)})})})]})}const Eee=v.div`
  padding: 20px;
  background-color: ${({theme:e})=>e.bg};
  color: ${({theme:e})=>e.text};
  min-height: 100vh;
`,jee=v.div`
  text-align: center;
  margin-bottom: 30px;

  h1 {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    margin: 0 0 10px 0;
    color: ${({theme:e})=>e.title};
  }

  p {
    margin: 0;
    color: ${({theme:e})=>e.textSecondary};
  }
`,Cee=v.div`
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 15px;
  margin-bottom: 30px;
`,SA=v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 20px;
  background-color: ${({theme:e})=>e.primary};
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.3s;

  &:hover {
    background-color: ${({theme:e})=>e.primaryHover};
    transform: translateY(-1px);
  }
`,$ee=v.button`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 45px;
  height: 45px;
  background-color: ${({theme:e})=>e.secondary};
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.3s;

  &:hover {
    background-color: ${({theme:e})=>e.secondaryHover};
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .spinning {
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`,Tee=v.div`
  text-align: center;
  padding: 60px;
  color: ${({theme:e})=>e.textSecondary};
  font-size: 18px;
`,kee=v.div`
  text-align: center;
  padding: 60px;
  background-color: ${({theme:e})=>e.cardBg};
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);

  svg {
    color: ${({theme:e})=>e.textSecondary};
    margin-bottom: 20px;
  }

  h3 {
    margin: 20px 0 10px 0;
    color: ${({theme:e})=>e.title};
  }

  p {
    margin-bottom: 30px;
    color: ${({theme:e})=>e.textSecondary};
  }
`,Aee=v.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  gap: 20px;
  max-width: 1200px;
  margin: 0 auto;
`,Oee=v.div`
  background: ${({theme:e})=>e.cardBg};
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  transition: all 0.3s;
  border-left: 4px solid
    ${({$type:e})=>({mssql:"#CC2927",mysql:"#4479A1",postgres:"#336791",mariadb:"#003545",mongodb:"#47A248"})[e]||"#6c757d"};

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
  }
`,Pee=v.div`
  display: flex;
  align-items: center;
  gap: 15px;
  padding: 20px;
  background: ${({theme:e})=>e.tableHeader};
`,_ee=v.div`
  font-size: 24px;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
`,Dee=v.h3`
  margin: 0 0 5px 0;
  color: ${({theme:e})=>e.title};
  font-size: 16px;
`,Mee=v.span`
  color: ${({$color:e})=>e};
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
`,Ree=v.div`
  padding: 20px;
`,Iee=v.div`
  margin-bottom: 15px;
`,Ob=v.div`
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
  color: ${({theme:e})=>e.text};
  font-size: 14px;

  svg {
    color: ${({theme:e})=>e.textSecondary};
    width: 14px;
  }
`,Nee=v.div`
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
`,EA=v.span`
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
  background-color: ${({$type:e})=>e==="encrypt"?"#e3f2fd":"#f3e5f5"};
  color: ${({$type:e})=>e==="encrypt"?"#1976d2":"#7b1fa2"};
`,Lee=v.div`
  display: flex;
  justify-content: center;
  gap: 10px;
  padding: 15px 20px;
  background: ${({theme:e})=>e.bg};
  border-top: 1px solid ${({theme:e})=>e.border};
`,Pb=v.button`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 35px;
  height: 35px;
  background: none;
  border: 1px solid ${({$color:e})=>e};
  color: ${({$color:e})=>e};
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    background-color: ${({$color:e})=>e};
    color: white;
    transform: scale(1.05);
  }
`;v.div`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: ${({size:e})=>e==="large"?"32px":"20px"};
  height: ${({size:e})=>e==="large"?"32px":"20px"};
  border-radius: 50%;
  background-color: ${({color:e})=>e};
  color: white;
  font-size: ${({size:e})=>e==="large"?"0.9rem":"0.7rem"};
  cursor: help;
  margin-left: 0.5rem;

  &:hover {
    opacity: 0.8;
    transform: scale(1.1);
  }
`;v.div`
  background-color: ${({theme:e})=>(e==null?void 0:e.cardBg)||"#ffffff"};
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  overflow: hidden;
`;v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  background-color: ${({theme:e})=>(e==null?void 0:e.background)||"#f8f9fa"};
  border-bottom: 1px solid ${({theme:e})=>(e==null?void 0:e.border)||"#eee"};
`;v.h3`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin: 0;
  font-size: 1.1rem;
  color: ${({theme:e})=>(e==null?void 0:e.text)||"#333"};
`;v.span`
  display: flex;
  align-items: center;
  gap: 0.25rem;
  background-color: #2ecc71;
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 12px;
  font-size: 0.8rem;
  font-weight: 500;
`;v.div`
  display: flex;
  gap: 0.5rem;
`;v.button`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  border: 1px solid ${({theme:e})=>(e==null?void 0:e.border)||"#ccc"};
  border-radius: 4px;
  background-color: ${({active:e,theme:t})=>e?(t==null?void 0:t.primary)||"#0275d8":"white"};
  color: ${({active:e})=>e?"white":"#333"};
  cursor: pointer;
  font-size: 0.9rem;

  &:hover {
    opacity: 0.8;
  }
`;v.div`
  overflow-x: auto;
  max-height: 600px;
  overflow-y: auto;
`;v.table`
  width: 100%;
  border-collapse: collapse;
  font-size: 0.9rem;
`;v.th`
  padding: 0.75rem;
  text-align: left;
  background-color: ${({theme:e})=>(e==null?void 0:e.background)||"#f8f9fa"};
  border-bottom: 1px solid ${({theme:e})=>(e==null?void 0:e.border)||"#eee"};
  font-weight: 600;
  color: ${({theme:e})=>(e==null?void 0:e.textSecondary)||"#555"};
  width: ${({width:e})=>e||"auto"};
  position: sticky;
  top: 0;
  z-index: 10;
`;v.tr`
  &:hover {
    background-color: ${({theme:e})=>(e==null?void 0:e.hoverBg)||"#f8f9fa"};
  }
`;v.td`
  padding: 0.75rem;
  border-bottom: 1px solid ${({theme:e})=>(e==null?void 0:e.border)||"#eee"};
  color: ${({theme:e})=>(e==null?void 0:e.text)||"#333"};
`;v.span`
  color: #3498db;
  font-weight: 500;
  cursor: pointer;

  &:hover {
    text-decoration: underline;
  }
`;v.div`
  padding: 1rem;
  background-color: ${({theme:e})=>(e==null?void 0:e.background)||"#f8f9fa"};
  border-top: 1px solid ${({theme:e})=>(e==null?void 0:e.border)||"#eee"};
`;v.div`
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
`;v.div`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.8rem;
  color: ${({theme:e})=>(e==null?void 0:e.textSecondary)||"#555"};
`;v.div`
  width: 16px;
  height: 16px;
  border-radius: 2px;
  background-color: ${({color:e})=>e};
`;const vd=new Yr;function g7(){const[e,t]=_.useState(""),[r,n]=_.useState("table"),{accessToken:a}=wt(),[o,i]=_.useState(!1),[c,d]=_.useState([]),[f,p]=_.useState(!1),[m,g]=_.useState("mappingsList"),[y,w]=_.useState(null),[S,b]=_.useState(null),[k,C]=_.useState(!1),[$,L]=_.useState(null),[T,P]=_.useState(""),[O,N]=_.useState(!1),[R,D]=_.useState(null),[j,A]=_.useState("orders"),[I,B]=_.useState(null),[F,U]=_.useState({dateFrom:new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],dateTo:new Date().toISOString().split("T")[0],status:"all",warehouse:"all",showProcessed:!1}),Y=_.useMemo(()=>({dateFrom:F.dateFrom,dateTo:F.dateTo,status:F.status,warehouse:F.warehouse,showProcessed:F.showProcessed}),[F]),W=_.useCallback(()=>y?vd.getDocumentsByMapping(a,y,Y):Promise.resolve([]),[a,y,Y]),{data:Q,loading:Z,refreshing:V,error:K,refetch:se}=Yi(W,[a,y,Y],!!y),he=_.useCallback(async je=>{try{i(!0);const re=await vd.getMappingById(a,je);L(re),P(re.name||"Configuración sin nombre"),A(re.entityType||"orders"),i(!1)}catch(re){console.error("Error al cargar configuración:",re),i(!1),z.fire({icon:"error",title:"Error",text:"No se pudo cargar los detalles de la configuración"})}},[a]);_.useEffect(()=>{y&&he(y)},[y,he]);const me=_.useMemo(()=>Q.filter(je=>{if(!e)return!0;const re=e.toLowerCase();return Object.values(je).some(Se=>Se&&typeof Se=="string"&&Se.toLowerCase().includes(re))}),[Q,e]),ne=_.useCallback(je=>{d(re=>re.includes(je)?re.filter(Se=>Se!==je):[...re,je])},[]),ve=_.useCallback(()=>{if(f||c.length===me.length)d([]),p(!1);else{const je=me.length>0?Object.keys(me[0])[0]:null;je&&(d(me.map(re=>re[je])),p(!0))}},[me,f,c.length]),we=_.useCallback(je=>{j==="customers"?(D(je),N(!0)):j==="orders"&&de(je)},[j]),de=_.useCallback(async je=>{try{if(!y){z.fire({title:"Error",text:"No hay configuración de mapeo seleccionada",icon:"error"});return}i(!0);const re=Object.keys(je)[0],Se=je[re],ye=await vd.getDocumentDetailsByMapping(a,y,Se);i(!1);let Pe=[],Ze={};if(ye&&ye.details)for(const ge in ye.details)Array.isArray(ye.details[ge])&&ye.details[ge].length>0&&(ye.details[ge].forEach(De=>{De._detailTableName=ge,Ze[ge]=De._targetTable||ge}),Pe=Pe.concat(ye.details[ge]));if(Pe.length===0){z.fire({title:`Documento: ${Se}`,html:`
          <div class="document-details">
            <div class="document-header">
              ${Object.entries(je).filter(([ge])=>ge!==re).map(([ge,De])=>`
                  <div class="document-header-item">
                    <strong>${ge}:</strong> ${De!==null?De:"N/A"}
                  </div>
                `).join("")}
            </div>
            <h4>Detalle</h4>
            <p>No se encontraron detalles para este documento.</p>
            ${$?`
              <div style="text-align: left; margin-top: 15px; padding: 10px; background-color: #f8f9fa; border-radius: 5px;">
                <strong>Información de configuración:</strong>
                <ul style="margin-top: 5px; padding-left: 20px;">
                  <li>Tablas de detalle configuradas: ${$.tableConfigs.filter(ge=>ge.isDetailTable).length}</li>
                  <li>Tablas con misma fuente que el encabezado: ${$.tableConfigs.filter(ge=>ge.isDetailTable&&ge.useSameSourceTable).length}</li>
                </ul>
              </div>
            `:""}
          </div>
        `,showConfirmButton:!0,confirmButtonText:"Cerrar",customClass:{container:"document-details-container",htmlContainer:"document-details-wrapper"}});return}const lt=new Set;Pe.forEach(ge=>{Object.keys(ge).forEach(De=>{De.startsWith("_")||lt.add(De)})});const st=Array.from(lt).sort().slice(0,5);z.fire({title:`Documento: ${Se}`,width:900,html:`
        <div class="document-details">
          <div class="document-header">
            ${Object.entries(je).filter(([ge])=>ge!==re).map(([ge,De])=>`
                <div class="document-header-item">
                  <strong>${ge}:</strong> ${De!==null?De:"N/A"}
                </div>
              `).join("")}
          </div>
          
          <h4>Detalle</h4>
          
          <div class="items-table-container">
            <div style="margin-bottom: 8px; text-align: left;">
              <strong>Tablas disponibles:</strong> 
              ${Object.keys(Ze).map(ge=>`<span style="background-color: #f0f0f0; padding: 2px 6px; border-radius: 3px; margin-right: 5px;">${ge}</span>`).join("")}
            </div>
            
            <table class="items-table">
              <thead>
                <tr>
                  <th style="width: 150px;">Tabla</th>
                  ${st.map(ge=>`<th>${ge}</th>`).join("")}
                  <th>Acción</th>
                </tr>
              </thead>
              <tbody>
                ${Pe.map((ge,De)=>`
                  <tr>
                    <td style="font-weight: bold; color: #007bff;">
                      ${ge._detailTableName||"N/A"}
                    </td>
                    ${st.map(xt=>`
                      <td>${ge[xt]!==null&&ge[xt]!==void 0?ge[xt]:"N/A"}</td>
                    `).join("")}
                    <td>
                      <button type="button" class="view-item-btn" data-item-index="${De}"
                              style="background: #007bff; color: white; border: none; border-radius: 4px; padding: 5px 10px; cursor: pointer;">
                        Ver más
                      </button>
                    </td>
                  </tr>
                `).join("")}
              </tbody>
            </table>
          </div>
        </div>
      `,showConfirmButton:!0,confirmButtonText:"Cerrar",customClass:{container:"document-details-container",htmlContainer:"document-details-wrapper"},didOpen:()=>{const ge=Pe;z.getPopup().querySelectorAll(".view-item-btn").forEach(xt=>{xt.addEventListener("click",Nt=>{const Qt=parseInt(Nt.target.getAttribute("data-item-index"),10),xr=ge[Qt];if(xr){let at='<div style="text-align: left; max-height: 60vh; overflow-y: auto;">';at+=`
                <div style="margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #eee;">
                  <strong style="font-size: 16px; color: #007bff;">Tabla de detalle: ${xr._detailTableName||"N/A"}</strong>
                  ${xr._targetTable?`<div><strong>Tabla destino:</strong> ${xr._targetTable}</div>`:""}
                </div>
              `,at+='<table style="width: 100%; border-collapse: collapse;">',Object.entries(xr).forEach(([J,$e])=>{J.startsWith("_")||(at+=`
                    <tr style="border-bottom: 1px solid #eee;">
                      <td style="padding: 8px; font-weight: bold; width: 40%;">${J}</td>
                      <td style="padding: 8px;">${$e??"N/A"}</td>
                    </tr>
                  `)}),at+="</table></div>",z.fire({title:"Detalle completo",html:at,width:600,showConfirmButton:!0,confirmButtonText:"Cerrar"})}})})}})}catch(re){i(!1),z.fire({title:"Error",text:re.message||"No se pudieron cargar los detalles del documento",icon:"error"})}},[y,a,i]),Ae=_.useCallback(()=>{if(!O||!R)return null;switch(j){case"customers":return l.jsx(jte,{children:l.jsx(Cte,{children:l.jsx(p7,{customer:R,mappingId:y,onSave:_e,onCancel:()=>N(!1)})})});default:return null}},[j,R,O,y]),_e=async je=>{try{i(!0),await vd.updateEntityData(a,je),N(!1),se(),z.fire({icon:"success",title:"Actualizado",text:"Los datos han sido actualizados correctamente en ambas bases de datos"})}catch(re){z.fire({icon:"error",title:"Error",text:re.message||"No se pudo actualizar la entidad"})}finally{i(!1)}},le=_.useCallback(async()=>{var je,re,Se,ye,Pe,Ze,lt,We;if(!y){z.fire({title:"Error",text:"No hay configuración de mapeo seleccionada",icon:"error"});return}if(c.length===0){z.fire({title:"Ningún documento seleccionado",text:"Por favor, seleccione al menos un documento para procesar",icon:"warning"});return}try{if(!(await z.fire({title:"¿Procesar documentos?",text:`¿Está seguro de procesar ${c.length} documentos?`,icon:"question",showCancelButton:!0,confirmButtonText:"Sí, procesar",cancelButtonText:"Cancelar"})).isConfirmed)return;i(!0);let ge=null;try{ge=z.fire({title:"Procesando documentos...",text:"Esto puede tomar un momento",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}});const De=await vd.processDocumentsByMapping(a,y,c);ge&&ge.close(),i(!1);let xt="success";De.data&&De.data.processed===0&&De.data.failed>0?xt="error":De.data&&De.data.failed>0&&(xt="warning");let Nt="Procesamiento completado",Qt="";if(xt==="error"){if(Nt="Procesamiento fallido",(je=De.data)!=null&&je.details){const at=De.data.details.filter(J=>!J.success&&(J.errorCode==="CONNECTION_ERROR"||J.errorCode==="SEVERE_CONNECTION_ERROR"));at.length>0&&(Qt="Hubo problemas de conexión con la base de datos durante el procesamiento. ",at.length<De.data.details.length&&(Qt+="Algunos documentos fueron procesados correctamente."))}}else xt==="warning"&&(Nt="Procesamiento parcial",Qt="Algunos documentos fueron procesados correctamente, pero otros fallaron.");const xr=(at,J)=>{if(J==="NULL_VALUE_ERROR")return at;if(J==="TRUNCATION_ERROR")return at;if(J==="CONNECTION_ERROR")return"Error de conexión a la base de datos. Intente nuevamente.";if(J==="SEVERE_CONNECTION_ERROR")return"Error grave de conexión. Contacte al administrador del sistema.";if(at.includes("Cannot insert the value NULL into column")){const $e=at.match(/column '([^']+)'/);return`No se puede insertar NULL en columna '${$e?$e[1]:"desconocida"}'. Configure un valor por defecto.`}else if(at.includes("String or binary data would be truncated")){const $e=at.match(/column '([^']+)'/);return`Texto demasiado largo para columna '${$e?$e[1]:"desconocida"}'. Verifique la longitud máxima.`}return at};await z.fire({title:Nt,html:`
          <div class="result-summary">
            <p><strong>Resumen:</strong></p>
            <ul>
              <li>Procesados correctamente: ${((re=De.data)==null?void 0:re.processed)||0}</li>
              <li>Fallidos: ${((Se=De.data)==null?void 0:Se.failed)||0}</li>
              <li>Omitidos: ${((ye=De.data)==null?void 0:ye.skipped)||0}</li>
            </ul>
            ${((Pe=De.data)==null?void 0:Pe.failed)>0||(Ze=De.data)!=null&&Ze.errorDetails&&De.data.errorDetails.length>0?`<p><strong>Detalles de errores:</strong></p>
              <div class="error-details" style="max-height: 200px; overflow-y: auto; text-align: left;">
                ${(lt=De.data)!=null&&lt.errorDetails?De.data.errorDetails.map(at=>`<p class="error-detail-item">
                      <strong>Documento ${at.documentId}:</strong> ${xr(at.error||"Error no especificado",at.errorCode)}
                    </p>`).join(""):(We=De.data)!=null&&We.details?De.data.details.filter(at=>!at.success).map(at=>`<p class="error-detail-item">
                      <strong>Documento ${at.documentId}:</strong> ${xr(at.message||at.error||"Error no especificado",at.errorCode)}
                    </p>`).join(""):"<p>No hay detalles específicos del error disponibles.</p>"}
              </div>`:""}
            ${Qt?`<p>${Qt}</p>`:""}
          </div>
        `,icon:xt,width:600,customClass:{htmlContainer:"document-processing-result"}}),se(),d([]),p(!1)}catch(De){ge&&ge.close(),i(!1),console.error("Error completo del procesamiento:",De);let xt="Ocurrió un error al procesar los documentos",Nt="";De.response&&De.response.data?(xt=De.response.data.message||xt,Nt=De.response.data.errorDetails||""):De.message&&(xt=De.message),z.fire({title:"Error en el procesamiento",html:`
          <div>
            <p>${xt}</p>
            ${Nt?`
              <div style="text-align: left; margin-top: 10px; padding: 10px; background: #f8f8f8; border-radius: 5px; max-height: 200px; overflow-y: auto;">
                <strong>Detalles técnicos:</strong><br>
                <pre style="white-space: pre-wrap; font-size: 12px;">${Nt}</pre>
              </div>
            `:""}
          </div>
        `,icon:"error",width:600})}finally{i(!1),se()}}catch(st){i(!1),console.error("Error externo en el proceso:",st),z.fire({title:"Error",text:st.message||"Ocurrió un error inesperado",icon:"error"})}},[y,a,c,se]),Je=_.useCallback(je=>{w(je),g("documents"),d([]),p(!1)},[]),G=_.useCallback(je=>{b(je),g("mappingEditor")},[]),pe=_.useCallback(()=>{b(null),g("mappingEditor")},[]),Ce=_.useCallback(je=>{je._id&&y===je._id&&(se(),he(je._id)),g("mappingsList")},[y,se,he]),He=_.useCallback(()=>{var je,re,Se;switch(m){case"mappingsList":return l.jsx(iN,{onSelectMapping:Je,onEditMapping:G,onCreateMapping:pe});case"mappingEditor":return l.jsx(oN,{mappingId:S,onSave:Ce,onCancel:()=>g("mappingsList")});case"documents":return l.jsxs(l.Fragment,{children:[l.jsxs(Uee,{children:[l.jsxs(Vee,{onClick:()=>g("mappingsList"),children:[l.jsx(GR,{})," Volver a configuraciones"]}),l.jsxs(Wee,{onClick:()=>C(!k),children:[l.jsx(_n,{})," ",k?"Ocultar":"Mostrar"," ","Detalles de Configuración"]})]}),k&&l.jsxs(Yee,{children:[l.jsxs("h3",{children:["Configuración activa: ",T]}),l.jsxs(cm,{children:[l.jsx("h4",{children:"Información General"}),l.jsxs(Fa,{children:[l.jsx(ya,{children:"Tipo de entidad:"}),l.jsx(qa,{children:($==null?void 0:$.entityType)||"orders"})]}),l.jsxs(Fa,{children:[l.jsx(ya,{children:"Tipo de transferencia:"}),l.jsx(qa,{children:($==null?void 0:$.transferType)||"N/A"})]}),l.jsxs(Fa,{children:[l.jsx(ya,{children:"Servidor origen:"}),l.jsx(qa,{children:($==null?void 0:$.sourceServer)||"N/A"})]}),l.jsxs(Fa,{children:[l.jsx(ya,{children:"Servidor destino:"}),l.jsx(qa,{children:($==null?void 0:$.targetServer)||"N/A"})]})]}),l.jsxs(cm,{children:[l.jsx("h4",{children:"Tipos de Documento"}),(je=$==null?void 0:$.documentTypeRules)!=null&&je.length?$.documentTypeRules.map((ye,Pe)=>l.jsxs($te,{children:[l.jsxs("div",{children:[l.jsx("strong",{children:ye.name}),": ",ye.sourceField," ="," ",ye.sourceValues.join(", ")]}),ye.description&&l.jsx("div",{children:ye.description})]},Pe)):l.jsx("div",{children:"No hay reglas de tipo de documento definidas"})]}),l.jsxs(cm,{children:[l.jsx("h4",{children:"Tablas"}),(re=$==null?void 0:$.tableConfigs)!=null&&re.length?$.tableConfigs.map((ye,Pe)=>{var Ze,lt;return l.jsxs("div",{className:"table-info-item",style:{padding:"8px",marginBottom:"8px",backgroundColor:`${({theme:We})=>We.tableHeader||"#f0f0f0"}`,borderRadius:"4px"},children:[l.jsxs("div",{children:[l.jsx("strong",{children:ye.name})," (",ye.isDetailTable?"Detalle":"Principal",")"]}),l.jsxs("div",{children:["Origen: ",ye.sourceTable," → Destino:"," ",ye.targetTable]}),l.jsxs("div",{children:["Clave origen: ",ye.primaryKey||"N/A"," → Clave destino: ",ye.targetPrimaryKey||"Auto-detectada"]}),ye.isDetailTable&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:["Padre: ",ye.parentTableRef||"N/A"]}),ye.useSameSourceTable&&l.jsx("div",{style:{color:"#e67e22",fontWeight:"bold"},children:"Usa misma tabla de origen que el encabezado"})]}),l.jsxs("div",{children:[((Ze=ye.fieldMappings)==null?void 0:Ze.length)||0," campos mapeados",l.jsx("div",{style:{marginTop:"8px",paddingLeft:"20px",listStyleType:"none"},children:(lt=ye.fieldMappings)==null?void 0:lt.map((We,st)=>l.jsxs("div",{style:{marginBottom:"4px",fontSize:"13px"},children:[We.sourceField||"(sin origen)"," →"," ",l.jsx("strong",{children:We.targetField}),We.removePrefix&&l.jsxs("span",{style:{color:"#e74c3c",marginLeft:"5px",fontSize:"11px"},children:["(quitar prefijo: ",We.removePrefix,")"]}),We.defaultValue!==void 0&&l.jsxs("span",{style:{marginLeft:"5px",color:"#666",fontStyle:"italic",fontSize:"12px"},children:[We.isRequired?"* ":"","(default: ",We.defaultValue,")"]}),We.lookupFromTarget&&l.jsx("span",{style:{marginLeft:"5px",color:"#3498db",fontSize:"11px"},children:"(consulta en destino)"})]},st))})]})]},Pe)}):l.jsx("div",{children:"No hay tablas configuradas"})]}),((Se=$==null?void 0:$.consecutiveConfig)==null?void 0:Se.enabled)&&l.jsxs(cm,{children:[l.jsx("h4",{children:"Configuración de Consecutivos"}),l.jsxs(Fa,{children:[l.jsx(ya,{children:"Último valor:"}),l.jsx(qa,{children:$.consecutiveConfig.lastValue||0})]}),l.jsxs(Fa,{children:[l.jsx(ya,{children:"Campo en encabezado:"}),l.jsx(qa,{children:$.consecutiveConfig.fieldName||"No definido"})]}),l.jsxs(Fa,{children:[l.jsx(ya,{children:"Campo en detalle:"}),l.jsx(qa,{children:$.consecutiveConfig.detailFieldName||"No definido"})]}),$.consecutiveConfig.applyToTables&&$.consecutiveConfig.applyToTables.length>0&&l.jsxs(l.Fragment,{children:[l.jsx(ya,{children:"Asignaciones específicas:"}),$.consecutiveConfig.applyToTables.map((ye,Pe)=>l.jsxs("div",{style:{marginLeft:"20px",marginBottom:"5px"},children:[l.jsx("strong",{children:ye.tableName}),":"," ",ye.fieldName]},Pe))]}),$.consecutiveConfig.prefix&&l.jsxs(Fa,{children:[l.jsx(ya,{children:"Prefijo:"}),l.jsx(qa,{children:$.consecutiveConfig.prefix})]}),$.consecutiveConfig.pattern&&l.jsxs(Fa,{children:[l.jsx(ya,{children:"Formato:"}),l.jsx(qa,{children:$.consecutiveConfig.pattern})]})]})]}),l.jsxs(Gee,{children:[l.jsx(Kee,{children:l.jsx(Qee,{type:"text",placeholder:"Buscar documento...",value:e,onChange:ye=>t(ye.target.value)})}),l.jsxs(Xee,{children:[l.jsxs(_b,{children:[l.jsx(Db,{children:"Desde:"}),l.jsx(jA,{type:"date",value:F.dateFrom,onChange:ye=>U(Pe=>({...Pe,dateFrom:ye.target.value}))})]}),l.jsxs(_b,{children:[l.jsx(Db,{children:"Hasta:"}),l.jsx(jA,{type:"date",value:F.dateTo,onChange:ye=>U(Pe=>({...Pe,dateTo:ye.target.value}))})]}),l.jsxs(_b,{children:[l.jsx(Db,{children:"Estado:"}),l.jsxs(Jee,{value:F.status,onChange:ye=>U(Pe=>({...Pe,status:ye.target.value})),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"P",children:"Pendientes"}),l.jsx("option",{value:"F",children:"Facturados"}),l.jsx("option",{value:"A",children:"Anulados"})]})]}),l.jsxs(Zee,{children:[l.jsx(um,{type:"checkbox",id:"showProcessed",checked:F.showProcessed,onChange:ye=>U(Pe=>({...Pe,showProcessed:ye.target.checked}))}),l.jsx(ete,{htmlFor:"showProcessed",children:"Mostrar procesados"})]}),l.jsx(tte,{onClick:()=>U({dateFrom:new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],dateTo:new Date().toISOString().split("T")[0],status:"all",warehouse:"all",showProcessed:!1}),children:"Limpiar Filtros"})]}),l.jsxs(rte,{children:[l.jsxs(CA,{onClick:se,title:"Refrescar datos",disabled:V,className:V?"refreshing":"",children:[l.jsx(Zt,{className:V?"spinning":""}),V?"Actualizando...":"Refrescar"]}),l.jsxs(CA,{onClick:le,title:"Procesar documentos seleccionados",disabled:o||c.length===0,children:[l.jsx(Ro,{})," Procesar Seleccionados"]}),l.jsxs(nte,{children:[l.jsxs($A,{$active:r==="table",onClick:()=>n("table"),title:"Ver como tabla",children:[l.jsx(SC,{})," Tabla"]}),l.jsxs($A,{$active:r==="cards",onClick:()=>n("cards"),title:"Ver como tarjetas",children:[l.jsx(gV,{})," Tarjetas"]})]})]}),l.jsxs(ate,{children:["Mostrando ",me.length," de ",Q.length," ","documentos",c.length>0&&` | ${c.length} seleccionados`]})]}),l.jsxs("div",{style:{position:"relative"},children:[V&&l.jsx(Bee,{children:l.jsxs(zee,{children:[l.jsx(Zt,{className:"refresh-icon-spin"}),l.jsx(Fee,{children:"Actualizando documentos..."})]})}),Z&&!V&&l.jsxs(ote,{children:[l.jsx(TA,{}),l.jsx(ite,{children:"Cargando documentos..."})]}),K&&l.jsx(lte,{children:K}),!Z&&!V&&me.length===0&&l.jsx(cte,{children:"No se encontraron documentos con los filtros seleccionados."}),o&&l.jsx(ste,{children:l.jsx(TA,{size:"large"})}),!Z&&me.length>0&&r==="table"&&l.jsx(ute,{children:l.jsxs(dte,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"checkbox-column",children:l.jsx(um,{type:"checkbox",checked:f||c.length>0&&c.length===me.length,onChange:ve})}),$&&$.tableConfigs&&(()=>{const ye=$.tableConfigs.find(Pe=>!Pe.isDetailTable);return ye&&ye.fieldMappings&&ye.fieldMappings.some(Pe=>Pe.showInList)?ye.fieldMappings.filter(Pe=>Pe.showInList).sort((Pe,Ze)=>(Pe.displayOrder||0)-(Ze.displayOrder||0)).map(Pe=>l.jsx("th",{children:Pe.displayName||Pe.targetField},Pe.targetField)):Object.keys(me[0]||{}).map(Pe=>l.jsx("th",{children:Pe},Pe))})(),l.jsx("th",{className:"actions-column",children:"Acciones"})]})}),l.jsx("tbody",{children:me.map((ye,Pe)=>{const Ze=ye[Object.keys(ye)[0]];return l.jsxs("tr",{children:[l.jsx("td",{className:"checkbox-column",children:l.jsx(um,{type:"checkbox",checked:c.includes(Ze),onChange:()=>ne(Ze)})}),$&&$.tableConfigs&&(()=>{const lt=$.tableConfigs.find(We=>!We.isDetailTable);return lt&&lt.fieldMappings&&lt.fieldMappings.some(We=>We.showInList)?lt.fieldMappings.filter(We=>We.showInList).sort((We,st)=>(We.displayOrder||0)-(st.displayOrder||0)).map(We=>l.jsx("td",{children:ye[We.sourceField]!==null&&ye[We.sourceField]!==void 0?ye[We.sourceField]:"N/A"},We.sourceField)):Object.entries(ye).map(([We,st])=>l.jsx("td",{children:st??"N/A"},We))})(),l.jsx("td",{className:"actions-column",children:l.jsxs(pte,{children:[j==="customers"&&l.jsx(Mb,{title:"Editar cliente",$color:"#ffc107",onClick:()=>we(ye),children:l.jsx($k,{})}),l.jsx(Mb,{title:"Ver detalles",$color:"#007bff",onClick:()=>de(ye),children:l.jsx(ta,{})}),l.jsx(Mb,{title:"Procesar documento",$color:"#28a745",onClick:()=>{d([Ze]),le()},children:l.jsx(Ro,{})})]})})]},Pe)})})]})}),!Z&&me.length>0&&r==="cards"&&l.jsx(hte,{children:me.map((ye,Pe)=>{const Ze=ye[Object.keys(ye)[0]],lt=Object.keys(ye).find(ge=>ge.toLowerCase().includes("estado")||ge.toLowerCase().includes("status")||ge.toLowerCase().includes("type")),We=lt?ye[lt]:null;let st=[];if($&&$.tableConfigs){const ge=$.tableConfigs.find(De=>!De.isDetailTable);ge&&ge.fieldMappings&&ge.fieldMappings.some(De=>De.showInList)?st=ge.fieldMappings.filter(De=>De.showInList).sort((De,xt)=>(De.displayOrder||0)-(xt.displayOrder||0)).map(De=>({key:De.targetField,label:De.displayName||De.targetField,value:ye[De.targetField]})):st=Object.entries(ye).filter(([De])=>De!==Object.keys(ye)[0]&&De!==lt).map(([De,xt])=>({key:De,label:De,value:xt}))}else st=Object.entries(ye).filter(([ge])=>ge!==Object.keys(ye)[0]&&ge!==lt).map(([ge,De])=>({key:ge,label:ge,value:De}));return l.jsxs(mte,{$selected:c.includes(Ze),$status:We,children:[l.jsxs(gte,{children:[l.jsx(yte,{children:Ze}),We&&l.jsx(fte,{status:We,children:We})]}),l.jsx(vte,{children:l.jsx(xte,{children:st.map(ge=>l.jsxs(Fa,{children:[l.jsxs(ya,{children:[ge.label,":"]}),l.jsx(qa,{children:ge.value!==null&&ge.value!==void 0?ge.value:"N/A"})]},ge.key))})}),l.jsxs(bte,{children:[l.jsxs(wte,{children:[l.jsx(um,{type:"checkbox",checked:c.includes(Ze),onChange:()=>ne(Ze)}),l.jsx("span",{children:"Seleccionar"})]}),l.jsx(Ste,{children:l.jsxs(Ete,{children:[j==="customers"&&l.jsx(Rb,{$color:"#ffc107",onClick:()=>we(ye),title:"Editar cliente",children:l.jsx($k,{})}),l.jsx(Rb,{$color:"#007bff",onClick:()=>de(ye),title:"Ver detalles",children:l.jsx(ta,{})}),l.jsx(Rb,{$color:"#28a745",onClick:()=>{d([Ze]),le()},title:"Procesar documento",children:l.jsx(Ro,{})})]})})]})]},Pe)})}),O&&Ae()]})]});default:return l.jsx("div",{children:"Vista no encontrada"})}},[m,S,Je,G,pe,Ce,T,k,$,e,F,Q.length,me,Z,V,K,o,f,c,r,j,ve,ne,we,de,se,le,Ae,O]);return l.jsxs(l.Fragment,{children:[l.jsx(qee,{children:l.jsxs(Hee,{children:[l.jsx("h2",{children:"Gestión de Documentos"}),l.jsxs("p",{children:[m==="mappingsList"&&"Seleccione una configuración de mapeo para comenzar",m==="mappingEditor"&&"Configure los parámetros de mapeo entre servidores",m==="documents"&&"Visualice y procese los documentos según la configuración seleccionada"]})]})}),l.jsx("section",{className:"main",children:He()})]})}v.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  background-color: #f5f5f5;
`;const Bee=v.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(255, 255, 255, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 50;
  animation: fadeIn 0.2s ease-in-out;

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`,zee=v.div`
  background-color: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 20px;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;

  .refresh-icon-spin {
    font-size: 24px;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`,Fee=v.div`
  font-size: 14px;
  font-weight: 500;
`;v.div`
  padding: 20px;
  background-color: ${e=>e.theme.bg};
  color: ${e=>e.theme.text};
`;const qee=v.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 15px 0;
`,Hee=v.div`
  display: flex;
  flex-direction: column;
  text-align: center;
  gap: 5px;

  h2 {
    margin: 0;
    font-size: 1.5rem;
    color: ${({theme:e})=>e.title||e.text};
  }

  p {
    margin: 0;
    color: ${({theme:e})=>e.textSecondary||"#666"};
  }
`,Uee=v.div`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  margin-bottom: 15px;
  position: relative;

  @media (max-width: 768px) {
    flex-direction: column;
    gap: 10px;
  }
`,Vee=v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 15px;
  background-color: ${e=>e.theme.secondary};
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;
  margin: 5px;
  transition: background-color 0.3s, transform 0.2s;

  &:hover {
    background-color: ${e=>e.theme.secondaryHover};
  }

  @media (max-width: 768px) {
    width: 100%;
    justify-content: center;
  }
`,Wee=v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 15px;
  background-color: ${e=>e.theme.secondary};
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;
  margin: 5px;
  transition: background-color 0.3s, transform 0.2s;
  &:hover {
    background-color: ${e=>e.theme.secondaryHover};
  }
  @media (max-width: 768px) {
    width: 100%;
    justify-content: center;
  }
`,Yee=v.div`
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  padding: 15px;
  margin-bottom: 20px;
`,cm=v.div`
  margin-bottom: 15px;

  h4 {
    margin-top: 10px;
    margin-bottom: 8px;
    color: ${({theme:e})=>e.primary};
    border-bottom: 1px solid ${({theme:e})=>e.border};
    padding-bottom: 4px;
  }
`,Fa=v.div`
  display: flex;
  margin-bottom: 5px;
`,ya=v.div`
  width: 150px;
  font-weight: 500;
`,qa=v.div`
  flex: 1;
`,Gee=v.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;

  @media (max-width: 768px) {
    justify-content: center;
  }
`,Kee=v.div`
  display: flex;
  width: 100%;
  justify-content: center;
  margin-bottom: 10px;
`,Qee=v.input`
  width: 100%;
  max-width: 800px;
  padding: 10px 15px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};

  &:focus {
    outline: none;
    border-color: #007bff;
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
  }
`,Xee=v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 15px;
  justify-content: center;

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: center;
  }
`,_b=v.div`
  display: flex;
  align-items: center;
  gap: 5px;

  @media (max-width: 768px) {
    width: 100%;
    max-width: 300px;
  }
`,Db=v.label`
  font-size: 14px;
  font-weight: 500;
  color: ${({theme:e})=>e.textSecondary||"#666"};
  white-space: nowrap;
`,Jee=v.select`
  padding: 6px 10px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  background-color: ${({theme:e})=>e.inputBg||"#fff"};
  color: ${({theme:e})=>e.text};

  @media (max-width: 768px) {
    flex: 1;
  }
`,jA=v.input`
  padding: 6px 10px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  background-color: ${({theme:e})=>e.inputBg||"#fff"};
  color: ${({theme:e})=>e.text};

  @media (max-width: 768px) {
    flex: 1;
  }
`,Zee=v.div`
  display: flex;
  align-items: center;
  gap: 5px;
`,um=v.input`
  width: 16px;
  height: 16px;
  cursor: pointer;
`,ete=v.label`
  font-size: 14px;
  cursor: pointer;
`,tte=v.button`
  background-color: #6c757d;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 6px 10px;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: #5a6268;
  }

  @media (max-width: 768px) {
    width: 100%;
    max-width: 300px;
  }
`,rte=v.div`
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  margin-bottom: 10px;

  @media (max-width: 480px) {
    flex-direction: column;
    width: 100%;
  }
`,CA=v.button`
  background-color: #17a2b8;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.3s ease;

  &:hover {
    background-color: #138496;
  }

  &:disabled {
    background-color: #ccc;
    cursor: not-allowed;
  }

  /* Estilo especial cuando está refrescando */
  &.refreshing {
    background-color: #6c757d;
    animation: pulse 2s infinite;
  }

  /* Animación para el ícono */
  .spinning {
    animation: spin 1s linear infinite;
  }

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 rgba(23, 162, 184, 0.7);
    }
    70% {
      box-shadow: 0 0 0 10px rgba(23, 162, 184, 0);
    }
    100% {
      box-shadow: 0 0 0 0 rgba(23, 162, 184, 0);
    }
  }

  @media (max-width: 480px) {
    width: 100%;
  }
`,nte=v.div`
  display: flex;
  margin-left: 10px;
`,$A=v.button`
  background-color: ${e=>e.$active?"#6c757d":"#f8f9fa"};
  color: ${e=>e.$active?"white":"#212529"};
  border: 1px solid #dee2e6;
  border-radius: 4px;
  padding: 8px 12px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.2s;

  &:hover {
    background-color: ${e=>e.$active?"#5a6268":"#e2e6ea"};
  }

  @media (max-width: 480px) {
    flex: 1;
  }
`,ate=v.div`
  text-align: center;
  margin-bottom: 15px;
  font-size: 14px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,ote=v.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 200px;
  gap: 15px;
`,TA=v.div`
  display: inline-block;
  width: ${e=>e.size==="large"?"60px":"40px"};
  height: ${e=>e.size==="large"?"60px":"40px"};
  border: 4px solid rgba(23, 162, 184, 0.2);
  border-radius: 50%;
  border-top-color: #17a2b8;
  animation: spinner-rotate 1s linear infinite;

  &::after {
    content: "";
    position: absolute;
    top: 4px;
    left: 4px;
    right: 4px;
    bottom: 4px;
    border: 3px solid transparent;
    border-top-color: #17a2b8;
    border-radius: 50%;
    animation: spinner-rotate 0.8s linear infinite reverse;
  }

  @keyframes spinner-rotate {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`,ite=v.div`
  padding: 20px;
  text-align: center;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,ste=v.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(255, 255, 255, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;

  /* Agregar una animación sutil de fade-in */
  animation: fadeIn 0.3s ease;

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`,lte=v.div`
  padding: 20px;
  text-align: center;
  color: #dc3545;
  background-color: rgba(220, 53, 69, 0.1);
  border-radius: 8px;
  margin: 20px 0;
`,cte=v.div`
  padding: 30px;
  text-align: center;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
`,ute=v.div`
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  overflow-x: auto;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);

  -webkit-overflow-scrolling: touch; /* Para mejor scroll en iOS */

  @media (max-width: 576px) {
    margin-left: -10px;
    margin-right: -10px;
    width: calc(100% + 20px);
    border-radius: 0;
  }
`,dte=v.table`
  width: 100%;
  border-collapse: collapse;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  color: ${({theme:e})=>e.text};

  th,
  td {
    padding: 12px 15px;
    text-align: left;
  }

  th {
    background-color: ${({theme:e})=>e.tableHeader||"#f0f0f0"};
    color: ${({theme:e})=>e.tableHeaderText||"#333"};
    font-weight: bold;
    position: sticky;
    top: 0;
    z-index: 10;
  }

  tr {
    border-bottom: 1px solid ${({theme:e})=>e.border||"#ddd"};

    &:hover {
      background-color: ${({theme:e})=>e.tableHover||"#f8f9fa"};
    }
  }

  .checkbox-column {
    width: 40px;
    text-align: center;
  }

  .actions-column {
    width: 100px;
    text-align: center;
  }
`,fte=v.span`
  display: inline-block;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 500;
  text-align: center;
  background-color: ${e=>{if(typeof e.status=="string"){const t=e.status.toUpperCase();if(t==="P"||t.includes("PEND"))return"#17a2b8";if(t==="F"||t.includes("FACT"))return"#28a745";if(t==="A"||t.includes("ANUL"))return"#dc3545"}return"#6c757d"}};
  color: white;
`,pte=v.div`
  display: flex;
  gap: 5px;
  justify-content: center;
`,Mb=v.button`
  background: none;
  border: none;
  color: ${e=>e.$color||"#0275d8"};
  font-size: 16px;
  cursor: pointer;
  padding: 5px;
  border-radius: 4px;
  transition: all 0.2s;

  &:hover {
    color: ${e=>e.$color||"#0275d8"};
    background-color: rgba(0, 0, 0, 0.05);
  }

  &:disabled {
    color: #adb5bd;
    cursor: not-allowed;
  }
`,hte=v.div`
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  padding: 10px;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
`,mte=v.div`
  width: 320px;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  border-left: 4px solid
    ${e=>{if(e.$selected)return"#007bff";if(typeof e.$status=="string"){const t=e.$status.toUpperCase();if(t==="P"||t.includes("PEND"))return"#17a2b8";if(t==="F"||t.includes("FACT"))return"#28a745";if(t==="A"||t.includes("ANUL"))return"#dc3545"}return"#6c757d"}};
  transition: all 0.2s;

  &:hover {
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
  }
`,gte=v.div`
  padding: 15px;
  border-bottom: 1px solid ${({theme:e})=>e.border||"#eee"};
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: ${({theme:e})=>e.cardHeaderBg||"#f8f9fa"};
`,yte=v.h3`
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: ${({theme:e})=>e.title||e.text};
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 10px;
`,vte=v.div`
  padding: 15px;
  flex: 1;
`,xte=v.div`
  margin-bottom: 15px;
`,bte=v.div`
  display: flex;
  gap: 8px;
  padding: 15px;
  border-top: 1px solid ${({theme:e})=>e.border||"#eee"};
  background-color: ${({theme:e})=>e.cardFooterBg||"#f8f9fa"};
  justify-content: space-between;
  align-items: center;
`,wte=v.label`
  display: flex;
  align-items: center;
  gap: 5px;
  font-size: 14px;
  cursor: pointer;
`,Ste=v.div`
  display: flex;
  flex-direction: column;
`,Ete=v.div`
  display: flex;
  gap: 8px;
`,Rb=v.button`
  padding: 8px;
  border: none;
  border-radius: 4px;
  background-color: ${e=>e.$color||"#6c757d"};
  color: white;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s;

  &:hover {
    filter: brightness(90%);
  }

  &:disabled {
    background-color: #adb5bd;
    cursor: not-allowed;
    opacity: 0.7;
  }
`,jte=v.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1100;
`,Cte=v.div`
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  padding: 20px;
  width: 90%;
  max-width: 800px;
  max-height: 90vh;
  overflow-y: auto;
`,$te=v.div`
  padding: 5px 0;
  border-bottom: 1px dashed ${({theme:e})=>e.border};
`,dm=new NR;function y7(){const[e,t]=_.useState(!1),[r,n]=_.useState({page:1,limit:10,loadId:"",route:"",dateFrom:"",dateTo:"",status:""}),[a,o]=_.useState(1),[i,c]=_.useState(1),{accessToken:d,user:f}=wt(),p=Xf(),{loadId:m}=Eq(),g=5e3,y=_.useMemo(()=>({...r,page:a}),[r,a]),w=_.useCallback(async()=>{try{console.log("Ejecutando fetchSummaries con params:",y);const D=await dm.getSummaries(d,y);if(D.success)return D.pagination.pages!==i&&c(D.pagination.pages),D.data;throw new Error(D.message||"Error al obtener resúmenes")}catch(D){throw console.error("Error al obtener resúmenes:",D),D}},[d,y]),{data:S,loading:b,refreshing:k,error:C,refetch:$}=Yi(w,[d,y],{autoRefresh:!0,refreshInterval:g,enableCache:!0,cacheTime:6e4,initialData:[]});_.useEffect(()=>{m&&m!==r.loadId&&n(D=>({...D,loadId:m}))},[m]);const L=_.useCallback(()=>{o(1),setTimeout(()=>$(),100)},[$]);console.log("Summaries:",S);const T=()=>{n({page:1,limit:10,loadId:"",route:"",dateFrom:"",dateTo:"",status:""}),o(1)},P=D=>{D>=1&&D<=i&&o(D)},O=()=>{p("/loads")},N=async D=>{try{z.fire({title:"Cargando detalles...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}});const j=await dm.getSummaryById(d,D);if(!j.success)throw new Error(j.message||"Error al obtener detalles");const A=j.data,I=A.products.map(F=>`
        <tr>
          <td>${F.code}</td>
          <td>${F.description||"Sin descripción"}</td>
          <td class="text-right">${F.quantity}</td>
          <td class="text-right">${F.returnedQuantity||0}</td>
          <td class="text-right">${F.quantity-(F.returnedQuantity||0)}</td>
        </tr>
      `).join("");let B="";A.returnData&&A.returnData.documentId&&(B=`
          <div class="swal2-return-info">
            <h4>Información de Devolución</h4>
            <p><strong>Documento:</strong> ${A.returnData.documentId}</p>
            <p><strong>Fecha:</strong> ${new Date(A.returnData.date).toLocaleString()}</p>
            <p><strong>Motivo:</strong> ${A.returnData.reason||"No especificado"}</p>
          </div>
        `),z.fire({title:`Detalles de Carga #${A.loadId}`,html:`
          <div class="swal2-summary-details">
            <div class="swal2-summary-header">
              <p><strong>Ruta/Vendedor:</strong> ${A.route}</p>
              <p><strong>Documento de Traspaso:</strong> ${A.documentId||"N/A"}</p>
              <p><strong>Fecha:</strong> ${new Date(A.date).toLocaleString()}</p>
              <p><strong>Estado:</strong> 
                ${A.status==="completed"?"Completado":A.status==="partial_return"?"Devolución Parcial":A.status==="full_return"?"Devolución Total":A.status}
              </p>
            </div>
            
            ${B}
            
            <h4>Productos</h4>
            <div class="swal2-table-container">
              <table class="swal2-table">
                <thead>
                  <tr>
                    <th>Código</th>
                    <th>Descripción</th>
                    <th class="text-right">Cantidad</th>
                    <th class="text-right">Devuelto</th>
                    <th class="text-right">Pendiente</th>
                  </tr>
                </thead>
                <tbody>
                  ${I}
                </tbody>
                <tfoot>
                  <tr>
                    <th colspan="2">Total</th>
                    <th class="text-right">${A.totalQuantity}</th>
                    <th class="text-right">${A.products.reduce((F,U)=>F+(U.returnedQuantity||0),0)}</th>
                    <th class="text-right">${A.products.reduce((F,U)=>F+(U.quantity-(U.returnedQuantity||0)),0)}</th>
                  </tr>
                </tfoot>
              </table>
            </div>
          </div>
        `,width:"800px",showConfirmButton:!0,confirmButtonText:"Cerrar"})}catch(j){console.error("Error viewing summary details:",j),z.fire("Error",j.message,"error")}},R=async D=>{try{z.fire({title:"Verificando inventario disponible...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}});const j=await dm.checkInventoryForReturns(d,D);if(!j.success)throw new Error(j.message||"Error al verificar inventario");const{summaryId:A,loadId:I,productsWithInventory:B}=j.data,F=B.map((Z,V)=>{const K=Z.maxReturnableQuantity,se=K<=0;return`
          <tr>
            <td>
              <input 
                type="checkbox" 
                id="return-product-${V}" 
                class="return-checkbox" 
                data-index="${V}" 
                ${se?"disabled":""}
              />
            </td>
            <td>${Z.code}</td>
            <td>${Z.description||"Sin descripción"}</td>
            <td class="text-right">${Z.quantity}</td>
            <td class="text-right">${Z.returnedQuantity||0}</td>
            <td class="text-right">${Z.availableInInventory||0}</td>
            <td class="text-right">${K}</td>
            <td>
              <input 
                type="number" 
                id="return-quantity-${V}" 
                class="return-quantity swal2-input" 
                min="1" 
                max="${K}" 
                value="${K>0?1:0}"
                ${se?"disabled":""}
                style="width: 80px; padding: 5px;"
              />
            </td>
          </tr>
        `}).join("");if(!B.some(Z=>Z.maxReturnableQuantity>0)){z.fire({title:"No se puede realizar devolución",text:"No hay productos disponibles para devolver en el inventario.",icon:"warning"});return}const{value:Y,dismiss:W}=await z.fire({title:`Devolución para Carga #${I}`,html:`
          <div class="swal2-return-form">
            <p>Seleccione los productos a devolver y especifique la cantidad:</p>
            
            <div class="swal2-table-container">
              <table class="swal2-table">
                <thead>
                  <tr>
                    <th></th>
                    <th>Código</th>
                    <th>Descripción</th>
                    <th class="text-right">Cantidad Original</th>
                    <th class="text-right">Ya Devuelto</th>
                    <th class="text-right">Disponible en Inventario</th>
                    <th class="text-right">Máximo a Devolver</th>
                    <th class="text-right">Cantidad a Devolver</th>
                  </tr>
                </thead>
                <tbody>
                  ${F}
                </tbody>
              </table>
            </div>
            
            <div class="form-group" style="margin-top: 20px;">
              <label for="return-reason">Motivo de la devolución:</label>
              <textarea id="return-reason" class="swal2-textarea" placeholder="Especifique el motivo de la devolución" style="width: 100%;"></textarea>
            </div>
          </div>
        `,width:"900px",showCancelButton:!0,confirmButtonText:"Procesar Devolución",cancelButtonText:"Cancelar",showLoaderOnConfirm:!0,didOpen:()=>{document.querySelectorAll(".return-checkbox").forEach(V=>{V.addEventListener("change",function(){const K=this.getAttribute("data-index"),se=document.getElementById(`return-quantity-${K}`);this.checked?se.disabled=!1:se.disabled=!0})})},preConfirm:()=>{const Z=[];if(document.querySelectorAll(".return-checkbox").forEach(se=>{if(se.checked){const he=se.getAttribute("data-index"),me=document.getElementById(`return-quantity-${he}`),ne=parseInt(me.value,10);if(ne<=0)return z.showValidationMessage("La cantidad debe ser mayor a 0"),!1;const ve=parseInt(me.getAttribute("max"),10);if(ne>ve)return z.showValidationMessage(`La cantidad no puede exceder ${ve}`),!1;Z.push({code:B[he].code,quantity:ne})}}),Z.length===0)return z.showValidationMessage("Seleccione al menos un producto para devolver"),!1;const K=document.getElementById("return-reason").value;return K.trim()?{summaryId:A,productsToReturn:Z,reason:K}:(z.showValidationMessage("El motivo de devolución es requerido"),!1)}});if(W)return;z.fire({title:"Procesando devolución...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}});const Q=await dm.processTransferReturn(d,Y);if(!Q.success)throw new Error(Q.message||"Error al procesar la devolución");z.fire({title:"¡Devolución exitosa!",text:`Se ha procesado la devolución. Documento: ${Q.returnDocument}`,icon:"success"}),$()}catch(j){console.error("Error processing return:",j),z.fire("Error",j.message,"error")}};return l.jsxs(l.Fragment,{children:[l.jsx(Tte,{children:l.jsxs(kte,{children:[l.jsxs(Ate,{onClick:O,children:[l.jsx(GR,{})," Volver a cargas"]}),l.jsx("h2",{children:"Resumen de Traspasos de Productos"}),l.jsx("p",{children:"Visualice y gestione los traspasos realizados, incluyendo opciones de devolución."})]})}),l.jsxs("section",{className:"main-content",children:[l.jsxs(Ote,{children:[l.jsxs(xd,{children:[l.jsxs(bd,{children:[l.jsx(Pk,{})," Carga #"]}),l.jsx(fm,{type:"text",placeholder:"ID de carga",value:r.loadId,onChange:D=>n({...r,loadId:D.target.value})})]}),l.jsxs(xd,{children:[l.jsxs(bd,{children:[l.jsx(Pk,{})," Ruta/Vendedor"]}),l.jsx(fm,{type:"text",placeholder:"Código de ruta",value:r.route,onChange:D=>n({...r,route:D.target.value})})]}),l.jsxs(xd,{children:[l.jsxs(bd,{children:[l.jsx(Ui,{})," Desde"]}),l.jsx(fm,{type:"date",value:r.dateFrom,onChange:D=>n({...r,dateFrom:D.target.value})})]}),l.jsxs(xd,{children:[l.jsxs(bd,{children:[l.jsx(Ui,{})," Hasta"]}),l.jsx(fm,{type:"date",value:r.dateTo,onChange:D=>n({...r,dateTo:D.target.value})})]}),l.jsxs(xd,{children:[l.jsxs(bd,{children:[l.jsx(mV,{})," Estado"]}),l.jsxs(Pte,{value:r.status,onChange:D=>n({...r,status:D.target.value}),children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"completed",children:"Completado"}),l.jsx("option",{value:"partial_return",children:"Devolución Parcial"}),l.jsx("option",{value:"full_return",children:"Devolución Total"})]})]}),l.jsxs(_te,{children:[l.jsxs(Dte,{onClick:L,children:[l.jsx(Zs,{})," Buscar"]}),l.jsx(Mte,{onClick:T,children:"Limpiar Filtros"}),l.jsxs(Rte,{onClick:$,refreshing:k,label:"Recargar",className:k?"refreshing":"",children:[l.jsx(Zt,{className:k?"spinning":""}),k?"Actualizando...":"Refrescar"]})]})]}),b&&l.jsx(zte,{children:l.jsx(Fte,{children:"Cargando resúmenes..."})}),C&&l.jsx(qte,{children:C}),!b&&!C&&S.length===0&&l.jsx(Hte,{children:"No se encontraron traspasos que coincidan con los criterios de búsqueda."}),!b&&!k&&S.length>0&&l.jsxs(l.Fragment,{children:[l.jsx(Ite,{children:l.jsxs(Nte,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"ID Carga"}),l.jsx("th",{children:"Documento"}),l.jsx("th",{children:"Ruta"}),l.jsx("th",{children:"Fecha"}),l.jsx("th",{children:"Estado"}),l.jsx("th",{children:"Productos"}),l.jsx("th",{children:"Cantidad Total"}),l.jsx("th",{children:"Devuelto"}),l.jsx("th",{children:"Acciones"})]})}),l.jsx("tbody",{children:S.map(D=>l.jsxs("tr",{className:D.status==="full_return"?"returned":D.status==="partial_return"?"partial-returned":"",children:[l.jsx("td",{children:D.loadId}),l.jsx("td",{children:D.documentId||"N/A"}),l.jsx("td",{children:D.route}),l.jsx("td",{children:new Date(D.date).toLocaleDateString()}),l.jsx("td",{children:l.jsx(Lte,{status:D.status,children:D.status==="completed"?"Completado":D.status==="partial_return"?"Devolución Parcial":D.status==="full_return"?"Devolución Total":D.status})}),l.jsx("td",{children:D.totalProducts}),l.jsx("td",{children:D.totalQuantity}),l.jsx("td",{children:D.products.reduce((j,A)=>j+(A.returnedQuantity||0),0)}),l.jsx("td",{children:l.jsxs(Bte,{children:[l.jsx(kA,{title:"Ver detalles",onClick:()=>N(D._id),children:l.jsx(ta,{})}),D.status!=="full_return"&&l.jsx(kA,{title:"Procesar devolución",color:"#ffa500",onClick:()=>R(D._id),children:l.jsx(jV,{})})]})})]},D._id))})]})}),l.jsxs(Ute,{children:[l.jsx(pm,{onClick:()=>P(1),disabled:a===1,children:"Primera"}),l.jsx(pm,{onClick:()=>P(a-1),disabled:a===1,children:"Anterior"}),l.jsxs(Vte,{children:["Página ",a," de ",i]}),l.jsx(pm,{onClick:()=>P(a+1),disabled:a===i,children:"Siguiente"}),l.jsx(pm,{onClick:()=>P(i),disabled:a===i,children:"Última"})]})]})]})]})}v.div`
  min-height: 100vh;
  padding: 15px;
  width: 100%;
  background-color: ${e=>e.theme.bg};
  color: ${e=>e.theme.text};
  display: grid;
  grid-template:
    "header" 90px
    "area1" auto
    "area2" auto
    "main" 1fr;

  @media (max-width: 768px) {
    grid-template:
      "header" 70px
      "area1" auto
      "area2" auto
      "main" 1fr;
    padding: 10px;
  }

  @media (max-width: 480px) {
    grid-template:
      "header" 60px
      "area1" auto
      "area2" auto
      "main" 1fr;
    padding: 5px;
  }

  .header {
    grid-area: header;
    display: flex;
    align-items: center;
    margin-bottom: 20px;
  }

  .area1 {
    grid-area: area1;
    margin-bottom: 10px;
  }

  .area2 {
    grid-area: area2;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    margin-bottom: 20px;

    @media (max-width: 768px) {
      margin-top: 15px;
      margin-bottom: 10px;
    }

    @media (max-width: 480px) {
      margin-top: 10px;
      margin-bottom: 5px;
      flex-direction: column;
    }
  }

  .main {
    grid-area: main;
    margin-top: 10px;
    overflow-x: auto;

    @media (max-width: 768px) {
      padding: 10px;
    }

    @media (max-width: 480px) {
      padding: 5px;
    }
  }
`;const Tte=v.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 15px 0;
`,kte=v.div`
  display: flex;
  flex-direction: column;
  gap: 5px;
  text-align: center;
  position: relative;

  h2 {
    margin: 0;
    font-size: 1.5rem;
    color: ${({theme:e})=>e.title||e.text};
  }

  p {
    margin: 0;
    color: ${({theme:e})=>e.textSecondary||"#666"};
  }
`,Ate=v.button`
  position: absolute;
  left: 0;
  top: 0;
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 8px 15px;
  background-color: #6c757d;
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.3s;

  &:hover {
    background-color: #5a6268;
  }
`,Ote=v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  padding: 15px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  margin-bottom: 10px;

  @media (max-width: 768px) {
    flex-direction: column;
    padding: 10px;
  }
`,xd=v.div`
  display: flex;
  flex-direction: column;
  gap: 5px;
  flex: 1;
  min-width: 150px;

  @media (max-width: 768px) {
    width: 100%;
  }
`,bd=v.label`
  font-size: 14px;
  font-weight: 500;
  color: ${({theme:e})=>e.textSecondary||"#666"};
  display: flex;
  align-items: center;
  gap: 5px;
`,fm=v.input`
  padding: 8px 12px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};

  &:focus {
    outline: none;
    border-color: #007bff;
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
  }
`,Pte=v.select`
  padding: 8px 12px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};

  &:focus {
    outline: none;
    border-color: #007bff;
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
  }
`,_te=v.div`
  display: flex;
  gap: 10px;
  align-items: flex-end;
  margin-top: 5px;

  @media (max-width: 768px) {
    width: 100%;
    flex-wrap: wrap;
  }

  @media (max-width: 480px) {
    flex-direction: column;
  }
`,Dte=v.button`
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;

  &:hover {
    background-color: #0069d9;
  }

  @media (max-width: 480px) {
    width: 100%;
  }
`,Mte=v.button`
  background-color: #6c757d;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 15px;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.3s;

  &:hover {
    background-color: #5a6268;
  }

  @media (max-width: 480px) {
    width: 100%;
  }
`,Rte=v.button`
  background-color: #17a2b8;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;

  &:hover {
    background-color: #138496;
  }

  @media (max-width: 480px) {
    width: 100%;
  }
`,Ite=v.div`
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  overflow-x: auto; // Ya tienes esto, correcto
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);

  /* Añadir esto */
  -webkit-overflow-scrolling: touch; /* Para mejor scroll en iOS */

  @media (max-width: 576px) {
    /* Mejora la visualización en móviles pequeños */
    margin-left: -10px;
    margin-right: -10px;
    width: calc(100% + 20px);
    border-radius: 0;
  }
`,Nte=v.table`
  width: 100%;
  border-collapse: collapse;
  color: ${({theme:e})=>e.text};

  th,
  td {
    padding: 12px 15px;
    text-align: left;
  }

  th {
    background-color: ${({theme:e})=>e.tableHeader||"#f0f0f0"};
    color: ${({theme:e})=>e.tableHeaderText||"#333"};
    font-weight: bold;
    white-space: nowrap;
  }

  tr {
    border-bottom: 1px solid ${({theme:e})=>e.border||"#ddd"};

    &:last-child {
      border-bottom: none;
    }

    &:hover {
      background-color: ${({theme:e})=>e.tableHover||"#f8f9fa"};
    }

    &.returned {
      background-color: rgba(220, 53, 69, 0.1);
    }

    &.partial-returned {
      background-color: rgba(255, 193, 7, 0.1);
    }
  }
`,Lte=v.div`
  display: inline-block;
  padding: 5px 10px;
  border-radius: 50px;
  font-size: 12px;
  font-weight: 500;
  color: white;
  background-color: ${e=>{switch(e.status){case"completed":return"#28a745";case"partial_return":return"#ffc107";case"full_return":return"#dc3545";default:return"#6c757d"}}};
`,Bte=v.div`
  display: flex;
  gap: 8px;
  justify-content: center;
`,kA=v.button`
  background: none;
  border: none;
  color: ${e=>e.color||"#0275d8"};
  font-size: 16px;
  cursor: pointer;
  padding: 5px;
  border-radius: 4px;
  transition: all 0.2s;

  &:hover {
    color: ${e=>e.color||"#0275d8"};
    background-color: rgba(0, 0, 0, 0.05);
  }

  &:disabled {
    color: #adb5bd;
    cursor: not-allowed;
  }
`,zte=v.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
`,Fte=v.div`
  padding: 20px;
  text-align: center;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,qte=v.div`
  padding: 20px;
  text-align: center;
  color: #dc3545;
  background-color: rgba(220, 53, 69, 0.1);
  border-radius: 8px;
  margin: 20px 0;
`,Hte=v.div`
  padding: 30px;
  text-align: center;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
`,Ute=v.div`
  display: flex;
  gap: 10px;
  justify-content: center;
  align-items: center;
  margin-top: 20px;

  @media (max-width: 480px) {
    flex-wrap: wrap;
  }
`,pm=v.button`
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 15px;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.3s;

  &:hover {
    background-color: #0069d9;
  }

  &:disabled {
    background-color: #6c757d;
    cursor: not-allowed;
    opacity: 0.65;
  }
`,Vte=v.div`
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  padding: 0 10px;
`,ms=new Yr;function v7(){const[e,t]=_.useState(""),{accessToken:r,user:n}=wt(),[a,o]=_.useState("cards"),[i,c]=_.useState(null),[d,f]=_.useState([]),[p,m]=_.useState(!1),g=5e3,y=Xf(),w=async()=>{try{m(!0);const O=await ms.getVendedores(r);O&&O.success&&f(O.data||[])}catch(O){console.error("Error al cargar vendedores:",O)}finally{m(!1)}},S=_.useCallback(async(O={})=>{try{return await ms.getTasks(r)}catch(N){throw console.error("Error al obtener tareas:",N),N}},[r]),{data:b,loading:k,error:C,refetch:$}=Yi(S,[r],{autoRefresh:!0,refreshInterval:g,enableCache:!0,cacheTime:6e4,initialData:[]});_.useEffect(()=>{r&&w()},[r]);const L=b.filter(O=>{const N=O.name.toLowerCase().includes(e.toLowerCase()),R=O.executionMode==="batchesSSE";return N&&R}),T=O=>{t(O.target.value)},P=async O=>{let N=[],R="",D="",j="";z.fire({title:"Obteniendo consecutivo...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}});try{const I=await ms.getLoadConsecutivo(r);if(!I.success)throw new Error("Error al obtener loadId");R=(await I).loadId,z.close()}catch(I){console.error("Error al obtener loadId:",I),z.close(),z.fire("Error","No se pudo obtener el loadId","error");return}if(console.log("loadId obtenido:",R),d.length===0)try{z.fire({title:"Obteniendo vendedores...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}}),await w(),z.close()}catch(I){console.error("Error al cargar vendedores:",I),z.close(),z.fire("Error","No se pudieron cargar los vendedores","error")}if(await new Promise((I,B)=>{z.fire({title:`Obteniendo ventas para - ${R}`,html:`
        <div style="text-align:left;">
          <label>Fecha:</label>
          <input id="swal-input-date" type="date" class="swal2-input" style="margin-bottom:10px;" />

          <label>Vendedores (separados por coma):</label>
          <input id="swal-input-vendors" class="swal2-input" placeholder="Ej: 001,002,003" style="margin-bottom:10px;" />

          <div class="form-group">
            <button id="btnBuscar" class="swal2-confirm swal2-styled" style="background-color: #3085d6; margin-right:10px;">
              Buscar
            </button>
            <button id="btnSiguiente" class="swal2-confirm swal2-styled" style="background-color: #28a745; margin-right:10px;" disabled>
              Siguiente
            </button>
            <button id="btnCancelar" class="swal2-cancel swal2-styled" style="background-color: #aaa;">
              Cancelar
            </button>
          </div>

          <div class="form-group">
            <div id="salesSummary" style="margin:10px 0; font-weight:500;"></div>
          </div>
        </div>
      `,showConfirmButton:!1,showCancelButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,didOpen:()=>{const F=document.getElementById("swal-input-date"),U=document.getElementById("swal-input-vendors"),Y=document.getElementById("btnBuscar"),W=document.getElementById("btnSiguiente"),Q=document.getElementById("btnCancelar"),Z=document.getElementById("salesSummary");Y.addEventListener("click",async()=>{const V=F.value,K=U.value;if(!V||!K){z.showValidationMessage("Debes ingresar fecha y vendedores");return}try{z.showLoading();const se=await ms.executeLoadTask(r,V,K,O);if(!se.success)throw new Error("Error al obtener las ventas");N=se.result,z.hideLoading(),Z.innerHTML=`
              Se han encontrado <b>${N.length}</b> ventas
              para la fecha <b>${V}</b>.
            `,W.disabled=!1}catch(se){console.error(se),z.showValidationMessage("Ocurrió un error al buscar las ventas.")}}),W.addEventListener("click",()=>{z.close(),I(!0)}),Q.addEventListener("click",()=>{z.close(),B("Cancelado por el usuario")})}})}),!N.length&&!(await z.fire({icon:"info",title:"Sin ventas",text:"No se encontraron ventas. ¿Deseas continuar?",showCancelButton:!0,confirmButtonText:"Sí, continuar",cancelButtonText:"No"})).isConfirmed)return;if(N.length>0)for(const I of N)I.Code_load=R;if((await z.fire({title:"¿Deseas generar la carga a IMPLT_Orders?",icon:"question",showCancelButton:!0,confirmButtonText:"Sí, generar",cancelButtonText:"No"})).isConfirmed){z.fire({title:"Insertando las ventas a IMPLT_Orders...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}});try{const B=await ms.executeInsertOrders(r,N,R);if(!B.success)throw new Error("Error al insertar en IMPLT_Orders");console.log("Datos insertados en IMPLT_Orders -> ",B),z.close()}catch(B){console.error(B),z.close(),await z.fire({icon:"error",title:"Error",text:"Ocurrió un error al insertar en IMPLT_Orders"});return}}else{await z.fire("Proceso cancelado","No se generó la carga.","info");return}await new Promise((I,B)=>{const F=d.map(U=>`<option value="${U.VENDEDOR}" data-bodega="${U.U_BODEGA||"02"}">${U.VENDEDOR} - ${U.NOMBRE||"Sin nombre"}</option>`).join("");z.fire({title:"Parámetros para cargar camiones",html:`
        <div style="text-align:left;">
          <label>Selecciona Repartidor / Code Route:</label>
          <select id="swal-select-route" class="swal2-select" style="width:100%; margin-bottom:10px;">
            <option value="">-- Selecciona un vendedor --</option>
            ${F}
          </select>
          
          <div>
            <label>Código de Vendedor:</label>
            <input id="swal-input-route" class="swal2-input" readonly />
          </div>
          
          <div>
            <label>Bodega Asignada:</label>
            <input id="swal-input-bodega" class="swal2-input" readonly />
          </div>

          <div style="margin-top:10px;">
            <button id="btnSiguienteLoad" class="swal2-confirm swal2-styled" style="background-color: #28a745; margin-right:10px;" disabled>
              Siguiente
            </button>
            <button id="btnCancelarLoad" class="swal2-cancel swal2-styled" style="background-color: #aaa;">
              Cancelar
            </button>
          </div>
        </div>
      `,showConfirmButton:!1,showCancelButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,didOpen:async()=>{const U=document.getElementById("swal-select-route"),Y=document.getElementById("swal-input-route"),W=document.getElementById("swal-input-bodega"),Q=document.getElementById("btnSiguienteLoad"),Z=document.getElementById("btnCancelarLoad");U.addEventListener("change",()=>{const V=U.options[U.selectedIndex];V.value?(D=V.value,j=V.getAttribute("data-bodega")||"02",Y.value=D,W.value=j,Q.disabled=!1):(D="",j="",Y.value="",W.value="",Q.disabled=!0)}),Q.addEventListener("click",()=>{if(!D){z.showValidationMessage("Debes seleccionar un vendedor");return}z.close(),I({route:D,bodega:j})}),Z.addEventListener("click",()=>{z.close(),B("Cancelado por el usuario")})}})}).then(({route:I,bodega:B})=>{console.log(`Vendedor seleccionado: ${I}, Bodega: ${B}`)}).catch(I=>{throw console.log("Operación cancelada por el usuario:",I),new Error("Operación cancelada")});{z.fire({title:`Insertando datos en IMPLT_loads_detail para el load: ${R}`,allowOutsideClick:!1,didOpen:()=>{z.showLoading()}});try{const I=await ms.executeInsertLoads(r,D,R,N,j);if(!I.success)throw new Error("Error al insertar en IMPLT_loads_detail");await I,z.close()}catch(I){console.error(I),z.close(),await z.fire({icon:"error",title:"Error",text:`Ocurrió un error al insertar en IMPLT_loads_detail ${I}`});return}}if(!(await z.fire({title:"Hemos terminado el proceso de carga",text:"¿Deseas realizar el proceso de traspaso de bodegas en el ERP?",icon:"question",showCancelButton:!0,confirmButtonText:"Sí, traspasar",cancelButtonText:"No"})).isConfirmed){await z.fire({icon:"info",title:"Proceso de traspaso",text:"Debe realizarlo manualmente."});return}z.fire({title:"Realizando traspaso al ERP...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}});try{console.log(`Seleccionado vendedor y bodega : ${D}, Bodega: ${j}`);const I=await ms.executeInsertTrapaso(r,D,R,N,j);if(!I.success)throw new Error("Error al insertar el TRAPASO");await I,z.close(),await z.fire({icon:"success",title:"Proceso completado",text:"El proceso ha terminado correctamente."})}catch(I){console.error(I),z.close(),await z.fire({icon:"error",title:"Error",text:"Ocurrió un error al realizar el traspaso en el ERP"})}};return l.jsxs(l.Fragment,{children:[l.jsx("section",{className:"main",children:l.jsx(Wte,{children:l.jsxs(Yte,{children:[l.jsx("h2",{children:"Gestor de Tareas de Carga"}),l.jsx("p",{children:"Administre y ejecute las tareas de carga de camiones y traspasos entre bodegas."})]})})}),l.jsxs("section",{className:"main",children:[l.jsxs(Gte,{children:[l.jsx(Kte,{children:l.jsx(Qte,{type:"text",placeholder:"Buscar tarea...",value:e,onChange:T})}),l.jsxs(Xte,{children:[l.jsxs(Zte,{onClick:$,children:[l.jsx(Zt,{})," Refrescar"]}),l.jsxs(Jte,{children:[l.jsxs(AA,{$active:a==="cards",onClick:()=>o("cards"),title:"Ver como tarjetas",children:[l.jsx(eI,{})," Cards"]}),l.jsxs(AA,{$active:a==="table",onClick:()=>o("table"),title:"Ver como tabla",children:[l.jsx(SC,{})," Tabla"]})]})]})]}),k&&l.jsx(ere,{children:l.jsx(tre,{children:"Cargando tareas..."})}),C&&l.jsx(rre,{children:C}),!k&&!C&&L.length===0&&l.jsx(nre,{children:'No hay tareas de carga disponibles. Las tareas deben tener modo de ejecución "batchesSSE".'}),!k&&L.length>0&&a==="cards"&&l.jsx(are,{children:L.map(O=>l.jsxs(ore,{$selected:i&&i._id===O._id,$active:O.active,children:[l.jsxs(ire,{children:[l.jsx(sre,{children:O.name}),l.jsxs(OA,{$status:O.status,$active:O.active,children:[O.status==="completed"&&"✅ Completada",O.status==="running"&&"🔄 En Progreso",O.status==="error"&&"⚠️ Error",!O.status&&(O.active?"Activa":"Inactiva")]})]}),l.jsxs(lre,{children:[l.jsxs(cre,{children:[l.jsxs(Ib,{children:[l.jsx(Nb,{children:"Tipo:"}),l.jsx(Lb,{children:O.type})]}),l.jsxs(Ib,{children:[l.jsx(Nb,{children:"Modo de ejecución:"}),l.jsx(Lb,{children:O.executionMode})]}),O.transferType&&l.jsxs(Ib,{children:[l.jsx(Nb,{children:"Dirección:"}),l.jsxs(Lb,{children:[O.transferType==="up"&&"Transfer Up ↑",O.transferType==="down"&&"Transfer Down ↓",O.transferType==="general"&&"General"]})]})]}),l.jsxs(ure,{children:[l.jsx(dre,{children:"Consulta SQL:"}),l.jsx(fre,{readOnly:!0,value:O.query})]}),O.status==="running"&&l.jsx(pre,{children:l.jsxs(hre,{style:{width:`${O.progress}%`},children:[O.progress,"%"]})})]}),l.jsxs(mre,{children:[l.jsxs(PA,{$color:"#17a2b8",onClick:()=>P(O.name),disabled:O.status==="running"||!O.active,title:"Iniciar proceso de carga",children:[l.jsx(Ro,{})," Iniciar Proceso"]}),l.jsxs(PA,{$color:"#6f42c1",onClick:()=>y("/summaries"),title:"Ver histórico de traspasos",children:[l.jsx(Hs,{})," Histórico"]})]})]},O._id))}),!k&&L.length>0&&a==="table"&&l.jsx(gre,{children:l.jsxs(yre,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nombre"}),l.jsx("th",{children:"Estado"}),l.jsx("th",{children:"Tipo"}),l.jsx("th",{children:"Acciones"})]})}),l.jsx("tbody",{children:L.map(O=>l.jsxs("tr",{className:O.active?"":"disabled",children:[l.jsx("td",{children:O.name}),l.jsx("td",{children:l.jsxs(OA,{$status:O.status,$active:O.active,$small:!0,children:[O.status==="completed"&&"✅ Completada",O.status==="running"&&"🔄 En Progreso",O.status==="error"&&"⚠️ Error",!O.status&&(O.active?"Activa":"Inactiva")]})}),l.jsx("td",{children:O.type}),l.jsx("td",{children:l.jsxs(vre,{children:[l.jsx(_A,{title:"Iniciar proceso de carga",$color:"#17a2b8",onClick:()=>P(O.name),disabled:O.status==="running"||!O.active,children:l.jsx(Ro,{})}),l.jsx(_A,{$color:"#6f42c1",onClick:()=>y("/summaries"),title:"Ver histórico de traspasos",children:l.jsx(Hs,{})})]})})]},O._id))})]})})]})]})}v.div`
  min-height: 100vh;
  padding: 15px;
  width: 100%;
  background-color: ${e=>e.theme.bg};
  color: ${e=>e.theme.text};
  display: grid;
  grid-template:
    "header" 90px
    "area1" auto
    "area2" auto
    "main" 1fr;

  @media (max-width: 768px) {
    grid-template:
      "header" 70px
      "area1" auto
      "area2" auto
      "main" 1fr;
    padding: 10px;
  }

  @media (max-width: 480px) {
    grid-template:
      "header" 60px
      "area1" auto
      "area2" auto
      "main" 1fr;
    padding: 5px;
  }

  .header {
    grid-area: header;
    display: flex;
    align-items: center;
    margin-bottom: 20px;
  }

  .area1 {
    grid-area: area1;
    margin-bottom: 10px;
  }

  .area2 {
    grid-area: area2;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    margin-bottom: 20px;

    @media (max-width: 768px) {
      margin-top: 15px;
      margin-bottom: 10px;
    }

    @media (max-width: 480px) {
      margin-top: 10px;
      margin-bottom: 5px;
      flex-direction: column;
    }
  }

  .main {
    grid-area: main;
    margin-top: 10px;
    overflow-x: auto;

    @media (max-width: 768px) {
      padding: 10px;
    }

    @media (max-width: 480px) {
      padding: 5px;
    }
  }
`;const Wte=v.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 15px 0;
`,Yte=v.div`
  display: flex;
  flex-direction: column;
  gap: 5px;
  text-align: center;

  h2 {
    margin: 0;
    font-size: 1.5rem;
    color: ${({theme:e})=>e.title||e.text};
  }

  p {
    margin: 0;
    color: ${({theme:e})=>e.textSecondary||"#666"};
  }
`,Gte=v.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;

  @media (max-width: 768px) {
    justify-content: center;
  }
`,Kte=v.div`
  display: flex;
  width: 100%;
  justify-content: center;
  margin-bottom: 10px;
`,Qte=v.input`
  width: 100%;
  max-width: 800px;
  padding: 10px 15px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};

  &:focus {
    outline: none;
    border-color: #007bff;
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
  }
`,Xte=v.div`
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  margin-bottom: 10px;

  @media (max-width: 480px) {
    flex-direction: column;
    width: 100%;
  }
`,Jte=v.div`
  display: flex;
  margin-left: 10px;
`,Zte=v.button`
  background-color: #17a2b8;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;

  &:hover {
    background-color: #138496;
  }

  @media (max-width: 480px) {
    width: 100%;
  }
`,AA=v.button`
  background-color: ${e=>e.$active?"#6c757d":"#f8f9fa"};
  color: ${e=>e.$active?"white":"#212529"};
  border: 1px solid #dee2e6;
  border-radius: 4px;
  padding: 8px 12px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.2s;

  &:hover {
    background-color: ${e=>e.$active?"#5a6268":"#e2e6ea"};
  }

  @media (max-width: 480px) {
    flex: 1;
  }
`,ere=v.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
`,tre=v.div`
  padding: 20px;
  text-align: center;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,rre=v.div`
  padding: 20px;
  text-align: center;
  color: #dc3545;
  background-color: rgba(220, 53, 69, 0.1);
  border-radius: 8px;
  margin: 20px 0;
`,nre=v.div`
  padding: 30px;
  text-align: center;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
`,are=v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  justify-content: center;
  padding: 10px;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
`,ore=v.div`
  width: 320px;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  border-left: 4px solid
    ${e=>e.$selected?"#007bff":e.$active?"#28a745":"#6c757d"};
  opacity: ${e=>e.$active?1:.7};
  transition: all 0.2s;

  &:hover {
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
  }
`,ire=v.div`
  padding: 15px;
  border-bottom: 1px solid ${({theme:e})=>e.border||"#eee"};
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: ${({theme:e})=>e.cardHeaderBg||"#f8f9fa"};
`,sre=v.h3`
  margin: 0;
  font-size: 12px;
  font-weight: 600;
  color: ${({theme:e})=>e.title||e.text};
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 10px;
`,OA=v.div`
  padding: ${e=>e.$small?"3px 8px":"5px 10px"};
  border-radius: 50px;
  font-size: ${e=>e.$small?"12px":"14px"};
  font-weight: 500;
  color: white;
  background-color: ${e=>{if(!e.$active)return"#6c757d";switch(e.$status){case"completed":return"#28a745";case"running":return"#ffc107";case"error":return"#dc3545";default:return"#17a2b8"}}};
  display: flex;
  align-items: center;
  gap: 5px;
  flex-shrink: 0;
  min-width: 80px;
  justify-content: center;
  animation: ${e=>e.$status==="running"?"blink 1s infinite alternate":"none"};

  @keyframes blink {
    from {
      opacity: 1;
    }
    to {
      opacity: 0.6;
    }
  }
`,lre=v.div`
  padding: 15px;
  margin: 10px;
  flex: 1;
`,cre=v.div`
  margin-bottom: 15px;
`,Ib=v.div`
  display: flex;
  margin-bottom: 8px;
  font-size: 14px;

  &:last-child {
    margin-bottom: 0;
  }
`,Nb=v.span`
  font-weight: 500;
  width: 120px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,Lb=v.span`
  flex: 1;
`,ure=v.div`
  margin-top: 15px;
`,dre=v.div`
  font-size: 14px;
  font-weight: 500;
  margin-bottom: 5px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,fre=v.textarea`
  width: 100%;
  height: 80px;
  padding: 8px;
  border: 1px solid ${({theme:e})=>e.border||"#ddd"};
  border-radius: 4px;
  font-family: monospace;
  font-size: 12px;
  resize: none;
  background-color: ${({theme:e})=>e.codeBg||"#f5f5f5"};
  color: ${({theme:e})=>e.text};
`,pre=v.div`
  width: 100%;
  height: 20px;
  background-color: #eee;
  border-radius: 10px;
  margin-top: 15px;
  overflow: hidden;
`,hre=v.div`
  height: 100%;
  background-color: #17a2b8;
  text-align: center;
  font-size: 12px;
  font-weight: 500;
  color: white;
  line-height: 20px;
  transition: width 0.5s ease-in-out;
`,mre=v.div`
  display: flex;
  gap: 8px;
  padding: 15px;
  border-top: 1px solid ${({theme:e})=>e.border||"#eee"};
  background-color: ${({theme:e})=>e.cardFooterBg||"#f8f9fa"};
`,PA=v.button`
  flex: 1;
  padding: 10px 15px;
  border: none;
  border-radius: 4px;
  background-color: ${e=>e.$color||"#6c757d"};
  color: white;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  transition: background-color 0.2s;

  &:hover {
    filter: brightness(90%);
  }

  &:disabled {
    background-color: #adb5bd;
    cursor: not-allowed;
    opacity: 0.7;
  }
`,gre=v.div`
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  overflow-x: auto; // Ya tienes esto, correcto
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);

  /* Añadir esto */
  -webkit-overflow-scrolling: touch; /* Para mejor scroll en iOS */

  @media (max-width: 576px) {
    /* Mejora la visualización en móviles pequeños */
    margin-left: -10px;
    margin-right: -10px;
    width: calc(100% + 20px);
    border-radius: 0;
  }
`,yre=v.table`
  width: 100%;
  border-collapse: collapse;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  color: ${({theme:e})=>e.text};

  th,
  td {
    padding: 12px 15px;
    text-align: left;
  }

  th {
    background-color: ${({theme:e})=>e.tableHeader||"#f0f0f0"};
    color: ${({theme:e})=>e.tableHeaderText||"#333"};
    font-weight: bold;
  }

  tr {
    border-bottom: 1px solid ${({theme:e})=>e.border||"#ddd"};

    &:last-child {
      border-bottom: none;
    }

    &:hover {
      background-color: ${({theme:e})=>e.tableHover||"#f8f9fa"};
    }

    &.disabled {
      opacity: 0.6;
      background-color: ${({theme:e})=>e.tableDisabled||"#f2f2f2"};
    }
  }
`,vre=v.div`
  display: flex;
  gap: 8px;
  justify-content: center;
`,_A=v.button`
  background: none;
  border: none;
  color: ${e=>e.$color||"#0275d8"};
  font-size: 16px;
  cursor: pointer;
  padding: 5px;
  border-radius: 4px;
  transition: all 0.2s;

  &:hover {
    color: ${e=>e.$color||"#0275d8"};
    background-color: rgba(0, 0, 0, 0.05);
  }

  &:disabled {
    color: #adb5bd;
    cursor: not-allowed;
  }
`;function x7(){const{login:e}=wt(),{formData:t,errors:r,handleChange:n,handleBlur:a,setErrors:o}=M9({email:"",password:""},rC);console.log(t);const[i,c]=_.useState(!1),[d,f]=_.useState(""),p=async m=>{m.preventDefault();const g=rC(t);if(o(g),Object.keys(g).length>0){z.fire({icon:"warning",title:"Formulario Incompleto",text:"Por favor, completa todos los campos requeridos."});return}try{c(!0),console.log("🎯 Iniciando login desde formulario..."),await e(t),console.log("✅ Login exitoso desde formulario")}catch(y){console.error("❌ Error en login desde formulario:",y),z.fire({icon:"error",title:"Error en inicio de sesión",text:y.message||"Error al iniciar sesión"})}finally{c(!1)}};return l.jsxs(xre,{children:[l.jsx(vC,{children:l.jsx("title",{children:"Login - Sistema Core ERP "})}),l.jsxs(bre,{children:[l.jsx(wre,{children:"Iniciar Sesión"}),d&&l.jsx(jre,{children:d}),l.jsxs(Sre,{onSubmit:p,children:[l.jsx(DA,{children:"Email"}),l.jsx(MA,{type:"email",name:"email",placeholder:"Ingrese su correo",value:t.email,onChange:n,onBlur:a}),r.email&&l.jsx(RA,{children:r.email}),l.jsx(DA,{children:"Contraseña"}),l.jsx(MA,{type:"password",name:"password",placeholder:"Ingrese su contraseña",value:t.password,onChange:n,onBlur:a}),r.password&&l.jsx(RA,{children:r.password}),l.jsx(Ere,{type:"submit",disabled:i,children:i?"Cargando...":"Iniciar Sesión"})]})]})]})}const xre=v.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background: linear-gradient(to right, #4facfe, #00f2fe);
`,bre=v.div`
  background: white;
  padding: 2rem;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  width: 100%;
  max-width: 400px;
  text-align: center;
`,wre=v.h2`
  color: #333;
  margin-bottom: 1rem;
`,Sre=v.form`
  display: flex;
  flex-direction: column;
`,DA=v.label`
  text-align: left;
  margin-top: 10px;
  font-weight: bold;
`,MA=v.input`
  padding: 10px;
  margin: 5px 0 15px;
  border: 1px solid #ccc;
  border-radius: 5px;
  font-size: 16px;
  width: 100%;

  @media (max-width: 480px) {
    padding: 12px; /* Inputs más grandes en móviles pequeños */
    margin: 4px 0 12px;
  }
`,Ere=v.button`
  background: #4facfe;
  color: white;
  padding: 10px;
  border: none;
  border-radius: 5px;
  font-size: 18px;
  cursor: pointer;
  transition: background 0.3s;

  &:hover {
    background: #00c6fb;
  }

  &:disabled {
    background: #ccc;
    cursor: not-allowed;
  }

  @media (max-width: 480px) {
    padding: 12px; /* Botones más grandes en móviles */
    font-size: 16px; /* Texto más grande para mejor tap target */
  }
`,RA=v.p`
  color: red;
  font-size: 14px;
  margin: -10px 0 10px;
`,jre=v.p`
  color: green;
  font-size: 14px;
  margin-bottom: 10px;
`;function b7(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=b7(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ue(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=b7(e))&&(n&&(n+=" "),n+=t);return n}const w7=6048e5,Cre=864e5,pv=6e4,hv=36e5,$re=1e3,IA=Symbol.for("constructDateFrom");function kt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&IA in e?e[IA](t):e instanceof Date?new e.constructor(t):new Date(t)}function qe(e,t){return kt(t||e,e)}function Ta(e,t,r){const n=qe(e,r==null?void 0:r.in);return isNaN(t)?kt((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Oa(e,t,r){const n=qe(e,r==null?void 0:r.in);if(isNaN(t))return kt(e,NaN);if(!t)return n;const a=n.getDate(),o=kt(e,n.getTime());o.setMonth(n.getMonth()+t+1,0);const i=o.getDate();return a>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),a),n)}function S7(e,t,r){return kt(e,+qe(e)+t)}function Tre(e,t,r){return S7(e,t*hv)}let kre={};function rl(){return kre}function Vo(e,t){var c,d,f,p;const r=rl(),n=(t==null?void 0:t.weekStartsOn)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,a=qe(e,t==null?void 0:t.in),o=a.getDay(),i=(o<n?7:0)+o-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function wc(e,t){return Vo(e,{...t,weekStartsOn:1})}function E7(e,t){const r=qe(e,t==null?void 0:t.in),n=r.getFullYear(),a=kt(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=wc(a),i=kt(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const c=wc(i);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Rg(e){const t=qe(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Qo(e,...t){const r=kt.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Vs(e,t){const r=qe(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function Sc(e,t,r){const[n,a]=Qo(r==null?void 0:r.in,e,t),o=Vs(n),i=Vs(a),c=+o-Rg(o),d=+i-Rg(i);return Math.round((c-d)/Cre)}function Are(e,t){const r=E7(e,t),n=kt(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),wc(n)}function kE(e,t,r){const n=qe(e,r==null?void 0:r.in);return n.setTime(n.getTime()+t*pv),n}function zC(e,t,r){return Oa(e,t*3,r)}function Ore(e,t,r){return S7(e,t*1e3)}function Ig(e,t,r){return Ta(e,t*7,r)}function No(e,t,r){return Oa(e,t*12,r)}function NA(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=kt.bind(null,a));const o=qe(a,n);(!r||r<o||isNaN(+o))&&(r=o)}),kt(n,r||NaN)}function LA(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=kt.bind(null,a));const o=qe(a,n);(!r||r>o||isNaN(+o))&&(r=o)}),kt(n,r||NaN)}function Pre(e,t,r){const[n,a]=Qo(r==null?void 0:r.in,e,t);return+Vs(n)==+Vs(a)}function Lo(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ng(e){return!(!Lo(e)&&typeof e!="number"||isNaN(+qe(e)))}function Lg(e,t,r){const[n,a]=Qo(r==null?void 0:r.in,e,t),o=n.getFullYear()-a.getFullYear(),i=n.getMonth()-a.getMonth();return o*12+i}function Ms(e,t){const r=qe(e,t==null?void 0:t.in);return Math.trunc(r.getMonth()/3)+1}function Bg(e,t,r){const[n,a]=Qo(r==null?void 0:r.in,e,t),o=n.getFullYear()-a.getFullYear(),i=Ms(n)-Ms(a);return o*4+i}function zg(e,t,r){const[n,a]=Qo(r==null?void 0:r.in,e,t);return n.getFullYear()-a.getFullYear()}function _re(e,t,r){const[n,a]=Qo(r==null?void 0:r.in,e,t),o=BA(n,a),i=Math.abs(Sc(n,a));n.setDate(n.getDate()-o*i);const c=+(BA(n,a)===-o),d=o*(i-c);return d===0?0:d}function BA(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function j7(e,t){const r=qe(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function C7(e,t){const r=qe(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function AE(e,t){const r=qe(e,t==null?void 0:t.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function $7(e,t){const r=qe(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function T7(e,t){const r=qe(e,t==null?void 0:t.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function mv(e,t){const r=qe(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Dre(e,t){var c,d;const r=rl(),n=r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,a=qe(e,t==null?void 0:t.in),o=a.getDay(),i=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}const Mre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Rre=(e,t,r)=>{let n;const a=Mre[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Bb(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Ire={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Nre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bre={date:Bb({formats:Ire,defaultWidth:"full"}),time:Bb({formats:Nre,defaultWidth:"full"}),dateTime:Bb({formats:Lre,defaultWidth:"full"})},zre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fre=(e,t,r,n)=>zre[e];function wd(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):i;a=e.formattingValues[c]||e.formattingValues[i]}else{const i=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const qre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ure={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Vre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Wre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gre=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Kre={ordinalNumber:Gre,era:wd({values:qre,defaultWidth:"wide"}),quarter:wd({values:Hre,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wd({values:Ure,defaultWidth:"wide"}),day:wd({values:Vre,defaultWidth:"wide"}),dayPeriod:wd({values:Wre,defaultWidth:"wide",formattingValues:Yre,defaultFormattingWidth:"wide"})};function Sd(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?Xre(c,m=>m.test(i)):Qre(c,m=>m.test(i));let f;f=e.valueCallback?e.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const p=t.slice(i.length);return{value:f,rest:p}}}function Qre(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Xre(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Jre(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const c=t.slice(a.length);return{value:i,rest:c}}}const Zre=/^(\d+)(th|st|nd|rd)?/i,ene=/\d+/i,tne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rne={any:[/^b/i,/^(a|c)/i]},nne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ane={any:[/1/i,/2/i,/3/i,/4/i]},one={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ine={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},une={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dne={ordinalNumber:Jre({matchPattern:Zre,parsePattern:ene,valueCallback:e=>parseInt(e,10)}),era:Sd({matchPatterns:tne,defaultMatchWidth:"wide",parsePatterns:rne,defaultParseWidth:"any"}),quarter:Sd({matchPatterns:nne,defaultMatchWidth:"wide",parsePatterns:ane,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Sd({matchPatterns:one,defaultMatchWidth:"wide",parsePatterns:ine,defaultParseWidth:"any"}),day:Sd({matchPatterns:sne,defaultMatchWidth:"wide",parsePatterns:lne,defaultParseWidth:"any"}),dayPeriod:Sd({matchPatterns:cne,defaultMatchWidth:"any",parsePatterns:une,defaultParseWidth:"any"})},k7={code:"en-US",formatDistance:Rre,formatLong:Bre,formatRelative:Fre,localize:Kre,match:dne,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fne(e,t){const r=qe(e,t==null?void 0:t.in);return Sc(r,mv(r))+1}function FC(e,t){const r=qe(e,t==null?void 0:t.in),n=+wc(r)-+Are(r);return Math.round(n/w7)+1}function qC(e,t){var p,m,g,y;const r=qe(e,t==null?void 0:t.in),n=r.getFullYear(),a=rl(),o=(t==null?void 0:t.firstWeekContainsDate)??((m=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(g=a.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,i=kt((t==null?void 0:t.in)||e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const c=Vo(i,t),d=kt((t==null?void 0:t.in)||e,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const f=Vo(d,t);return+r>=+c?n+1:+r>=+f?n:n-1}function pne(e,t){var c,d,f,p;const r=rl(),n=(t==null?void 0:t.firstWeekContainsDate)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=qC(e,t),o=kt((t==null?void 0:t.in)||e,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),Vo(o,t)}function A7(e,t){const r=qe(e,t==null?void 0:t.in),n=+Vo(r,t)-+pne(r,t);return Math.round(n/w7)+1}function Tt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ci={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Tt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Tt(r+1,2)},d(e,t){return Tt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Tt(e.getHours()%12||12,t.length)},H(e,t){return Tt(e.getHours(),t.length)},m(e,t){return Tt(e.getMinutes(),t.length)},s(e,t){return Tt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Tt(a,t.length)}},Nl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zA={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ci.y(e,t)},Y:function(e,t,r,n){const a=qC(e,n),o=a>0?a:1-a;if(t==="YY"){const i=o%100;return Tt(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Tt(o,t.length)},R:function(e,t){const r=E7(e);return Tt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Tt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Tt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Tt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ci.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Tt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=A7(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Tt(a,t.length)},I:function(e,t,r){const n=FC(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Tt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ci.d(e,t)},D:function(e,t,r){const n=fne(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Tt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Tt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Tt(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Tt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Nl.noon:n===0?a=Nl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Nl.evening:n>=12?a=Nl.afternoon:n>=4?a=Nl.morning:a=Nl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ci.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ci.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Tt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Tt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ci.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ci.s(e,t)},S:function(e,t){return Ci.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return qA(n);case"XXXX":case"XX":return xs(n);case"XXXXX":case"XXX":default:return xs(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return qA(n);case"xxxx":case"xx":return xs(n);case"xxxxx":case"xxx":default:return xs(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+FA(n,":");case"OOOO":default:return"GMT"+xs(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+FA(n,":");case"zzzz":default:return"GMT"+xs(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Tt(n,t.length)},T:function(e,t,r){return Tt(+e,t.length)}};function FA(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),o=n%60;return o===0?r+String(a):r+String(a)+t+Tt(o,2)}function qA(e,t){return e%60===0?(e>0?"-":"+")+Tt(Math.abs(e)/60,2):xs(e,t)}function xs(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Tt(Math.trunc(n/60),2),o=Tt(n%60,2);return r+a+t+o}const HA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},O7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},hne=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return HA(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",HA(n,t)).replace("{{time}}",O7(a,t))},OE={p:O7,P:hne},mne=/^D+$/,gne=/^Y+$/,yne=["D","DD","YY","YYYY"];function vne(e){return mne.test(e)}function xne(e){return gne.test(e)}function bne(e,t,r){const n=wne(e,t,r);if(console.warn(n),yne.includes(e))throw new RangeError(n)}function wne(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ene=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jne=/^'([^]*?)'?$/,Cne=/''/g,$ne=/[a-zA-Z]/;function UA(e,t,r){var p,m,g,y,w,S,b,k;const n=rl(),a=(r==null?void 0:r.locale)??n.locale??k7,o=(r==null?void 0:r.firstWeekContainsDate)??((m=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((S=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:S.weekStartsOn)??n.weekStartsOn??((k=(b=n.locale)==null?void 0:b.options)==null?void 0:k.weekStartsOn)??0,c=qe(e,r==null?void 0:r.in);if(!Ng(c))throw new RangeError("Invalid time value");let d=t.match(Ene).map(C=>{const $=C[0];if($==="p"||$==="P"){const L=OE[$];return L(C,a.formatLong)}return C}).join("").match(Sne).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const $=C[0];if($==="'")return{isToken:!1,value:Tne(C)};if(zA[$])return{isToken:!0,value:C};if($.match($ne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return{isToken:!1,value:C}});a.localize.preprocessor&&(d=a.localize.preprocessor(c,d));const f={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return d.map(C=>{if(!C.isToken)return C.value;const $=C.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&xne($)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&vne($))&&bne($,t,String(e));const L=zA[$[0]];return L(c,$,a.localize,f)}).join("")}function Tne(e){const t=e.match(jne);return t?t[1].replace(Cne,"'"):e}function VA(e,t){return qe(e,t==null?void 0:t.in).getDate()}function kne(e,t){return qe(e,t==null?void 0:t.in).getDay()}function Ane(e,t){const r=qe(e,t==null?void 0:t.in),n=r.getFullYear(),a=r.getMonth(),o=kt(r,0);return o.setFullYear(n,a+1,0),o.setHours(0,0,0,0),o.getDate()}function One(){return Object.assign({},rl())}function Bo(e,t){return qe(e,t==null?void 0:t.in).getHours()}function Pne(e,t){const r=qe(e,t==null?void 0:t.in).getDay();return r===0?7:r}function zo(e,t){return qe(e,t==null?void 0:t.in).getMinutes()}function Zr(e,t){return qe(e,t==null?void 0:t.in).getMonth()}function Bi(e){return qe(e).getSeconds()}function PE(e){return+qe(e)}function it(e,t){return qe(e,t==null?void 0:t.in).getFullYear()}function Vi(e,t){return+qe(e)>+qe(t)}function Ws(e,t){return+qe(e)<+qe(t)}function _ne(e,t){return+qe(e)==+qe(t)}function Dne(e,t){const r=Mne(t)?new t(0):kt(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function Mne(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const Rne=10;class P7{constructor(){ke(this,"subPriority",0)}validate(t,r){return!0}}class Ine extends P7{constructor(t,r,n,a,o){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,o&&(this.subPriority=o)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class Nne extends P7{constructor(r,n){super();ke(this,"priority",Rne);ke(this,"subPriority",-1);this.context=r||(a=>kt(n,a))}set(r,n){return n.timestampIsSet?r:kt(r,Dne(r,this.context))}}class bt{run(t,r,n,a){const o=this.parse(t,r,n,a);return o?{setter:new Ine(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,r,n){return!0}}class Lne extends bt{constructor(){super(...arguments);ke(this,"priority",140);ke(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const or={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ga={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ir(e,t){return e&&{value:t(e.value),rest:e.rest}}function Kt(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Ka(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,i=r[5]?parseInt(r[5],10):0;return{value:n*(a*hv+o*pv+i*$re),rest:t.slice(r[0].length)}}function _7(e){return Kt(or.anyDigitsSigned,e)}function er(e,t){switch(e){case 1:return Kt(or.singleDigit,t);case 2:return Kt(or.twoDigits,t);case 3:return Kt(or.threeDigits,t);case 4:return Kt(or.fourDigits,t);default:return Kt(new RegExp("^\\d{1,"+e+"}"),t)}}function Fg(e,t){switch(e){case 1:return Kt(or.singleDigitSigned,t);case 2:return Kt(or.twoDigitsSigned,t);case 3:return Kt(or.threeDigitsSigned,t);case 4:return Kt(or.fourDigitsSigned,t);default:return Kt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function HC(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function D7(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const o=n+50,i=Math.trunc(o/100)*100,c=e>=o%100;a=e+i-(c?100:0)}return r?a:1-a}function M7(e){return e%400===0||e%4===0&&e%100!==0}class Bne extends bt{constructor(){super(...arguments);ke(this,"priority",130);ke(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const o=i=>({year:i,isTwoDigitYear:n==="yy"});switch(n){case"y":return ir(er(4,r),o);case"yo":return ir(a.ordinalNumber(r,{unit:"year"}),o);default:return ir(er(n.length,r),o)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const o=r.getFullYear();if(a.isTwoDigitYear){const c=D7(a.year,o);return r.setFullYear(c,0,1),r.setHours(0,0,0,0),r}const i=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}class zne extends bt{constructor(){super(...arguments);ke(this,"priority",130);ke(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const o=i=>({year:i,isTwoDigitYear:n==="YY"});switch(n){case"Y":return ir(er(4,r),o);case"Yo":return ir(a.ordinalNumber(r,{unit:"year"}),o);default:return ir(er(n.length,r),o)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,o){const i=qC(r,o);if(a.isTwoDigitYear){const d=D7(a.year,i);return r.setFullYear(d,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),Vo(r,o)}const c=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(c,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),Vo(r,o)}}class Fne extends bt{constructor(){super(...arguments);ke(this,"priority",130);ke(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return Fg(n==="R"?4:n.length,r)}set(r,n,a){const o=kt(r,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),wc(o)}}class qne extends bt{constructor(){super(...arguments);ke(this,"priority",130);ke(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return Fg(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class Hne extends bt{constructor(){super(...arguments);ke(this,"priority",120);ke(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return er(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Une extends bt{constructor(){super(...arguments);ke(this,"priority",120);ke(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return er(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Vne extends bt{constructor(){super(...arguments);ke(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ke(this,"priority",110)}parse(r,n,a){const o=i=>i-1;switch(n){case"M":return ir(Kt(or.month,r),o);case"MM":return ir(er(2,r),o);case"Mo":return ir(a.ordinalNumber(r,{unit:"month"}),o);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class Wne extends bt{constructor(){super(...arguments);ke(this,"priority",110);ke(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const o=i=>i-1;switch(n){case"L":return ir(Kt(or.month,r),o);case"LL":return ir(er(2,r),o);case"Lo":return ir(a.ordinalNumber(r,{unit:"month"}),o);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function Yne(e,t,r){const n=qe(e,r==null?void 0:r.in),a=A7(n,r)-t;return n.setDate(n.getDate()-a*7),qe(n,r==null?void 0:r.in)}class Gne extends bt{constructor(){super(...arguments);ke(this,"priority",100);ke(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return Kt(or.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return er(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,o){return Vo(Yne(r,a,o),o)}}function Kne(e,t,r){const n=qe(e,r==null?void 0:r.in),a=FC(n,r)-t;return n.setDate(n.getDate()-a*7),n}class Qne extends bt{constructor(){super(...arguments);ke(this,"priority",100);ke(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return Kt(or.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return er(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return wc(Kne(r,a))}}const Xne=[31,28,31,30,31,30,31,31,30,31,30,31],Jne=[31,29,31,30,31,30,31,31,30,31,30,31];class Zne extends bt{constructor(){super(...arguments);ke(this,"priority",90);ke(this,"subPriority",1);ke(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return Kt(or.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return er(n.length,r)}}validate(r,n){const a=r.getFullYear(),o=M7(a),i=r.getMonth();return o?n>=1&&n<=Jne[i]:n>=1&&n<=Xne[i]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class eae extends bt{constructor(){super(...arguments);ke(this,"priority",90);ke(this,"subpriority",1);ke(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return Kt(or.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return er(n.length,r)}}validate(r,n){const a=r.getFullYear();return M7(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function UC(e,t,r){var m,g,y,w;const n=rl(),a=(r==null?void 0:r.weekStartsOn)??((g=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((w=(y=n.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,o=qe(e,r==null?void 0:r.in),i=o.getDay(),d=(t%7+7)%7,f=7-a,p=t<0||t>6?t-(i+f)%7:(d+f)%7-(i+f)%7;return Ta(o,p,r)}class tae extends bt{constructor(){super(...arguments);ke(this,"priority",90);ke(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,o){return r=UC(r,a,o),r.setHours(0,0,0,0),r}}class rae extends bt{constructor(){super(...arguments);ke(this,"priority",90);ke(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,o){const i=c=>{const d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return ir(er(n.length,r),i);case"eo":return ir(a.ordinalNumber(r,{unit:"day"}),i);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,o){return r=UC(r,a,o),r.setHours(0,0,0,0),r}}class nae extends bt{constructor(){super(...arguments);ke(this,"priority",90);ke(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,o){const i=c=>{const d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return ir(er(n.length,r),i);case"co":return ir(a.ordinalNumber(r,{unit:"day"}),i);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,o){return r=UC(r,a,o),r.setHours(0,0,0,0),r}}function aae(e,t,r){const n=qe(e,r==null?void 0:r.in),a=Pne(n,r),o=t-a;return Ta(n,o,r)}class oae extends bt{constructor(){super(...arguments);ke(this,"priority",90);ke(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const o=i=>i===0?7:i;switch(n){case"i":case"ii":return er(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return ir(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o);case"iiiii":return ir(a.day(r,{width:"narrow",context:"formatting"}),o);case"iiiiii":return ir(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o);case"iiii":default:return ir(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=aae(r,a),r.setHours(0,0,0,0),r}}class iae extends bt{constructor(){super(...arguments);ke(this,"priority",80);ke(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(HC(a),0,0,0),r}}class sae extends bt{constructor(){super(...arguments);ke(this,"priority",80);ke(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(HC(a),0,0,0),r}}class lae extends bt{constructor(){super(...arguments);ke(this,"priority",80);ke(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(HC(a),0,0,0),r}}class cae extends bt{constructor(){super(...arguments);ke(this,"priority",70);ke(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return Kt(or.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return er(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const o=r.getHours()>=12;return o&&a<12?r.setHours(a+12,0,0,0):!o&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class uae extends bt{constructor(){super(...arguments);ke(this,"priority",70);ke(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return Kt(or.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return er(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class dae extends bt{constructor(){super(...arguments);ke(this,"priority",70);ke(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return Kt(or.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return er(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class fae extends bt{constructor(){super(...arguments);ke(this,"priority",70);ke(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return Kt(or.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return er(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const o=a<=24?a%24:a;return r.setHours(o,0,0,0),r}}class pae extends bt{constructor(){super(...arguments);ke(this,"priority",60);ke(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return Kt(or.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return er(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class hae extends bt{constructor(){super(...arguments);ke(this,"priority",50);ke(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return Kt(or.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return er(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class mae extends bt{constructor(){super(...arguments);ke(this,"priority",30);ke(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=o=>Math.trunc(o*Math.pow(10,-n.length+3));return ir(er(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class gae extends bt{constructor(){super(...arguments);ke(this,"priority",10);ke(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Ka(Ga.basicOptionalMinutes,r);case"XX":return Ka(Ga.basic,r);case"XXXX":return Ka(Ga.basicOptionalSeconds,r);case"XXXXX":return Ka(Ga.extendedOptionalSeconds,r);case"XXX":default:return Ka(Ga.extended,r)}}set(r,n,a){return n.timestampIsSet?r:kt(r,r.getTime()-Rg(r)-a)}}class yae extends bt{constructor(){super(...arguments);ke(this,"priority",10);ke(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Ka(Ga.basicOptionalMinutes,r);case"xx":return Ka(Ga.basic,r);case"xxxx":return Ka(Ga.basicOptionalSeconds,r);case"xxxxx":return Ka(Ga.extendedOptionalSeconds,r);case"xxx":default:return Ka(Ga.extended,r)}}set(r,n,a){return n.timestampIsSet?r:kt(r,r.getTime()-Rg(r)-a)}}class vae extends bt{constructor(){super(...arguments);ke(this,"priority",40);ke(this,"incompatibleTokens","*")}parse(r){return _7(r)}set(r,n,a){return[kt(r,a*1e3),{timestampIsSet:!0}]}}class xae extends bt{constructor(){super(...arguments);ke(this,"priority",20);ke(this,"incompatibleTokens","*")}parse(r){return _7(r)}set(r,n,a){return[kt(r,a),{timestampIsSet:!0}]}}const bae={G:new Lne,y:new Bne,Y:new zne,R:new Fne,u:new qne,Q:new Hne,q:new Une,M:new Vne,L:new Wne,w:new Gne,I:new Qne,d:new Zne,D:new eae,E:new tae,e:new rae,c:new nae,i:new oae,a:new iae,b:new sae,B:new lae,h:new cae,H:new uae,K:new dae,k:new fae,m:new pae,s:new hae,S:new mae,X:new gae,x:new yae,t:new vae,T:new xae},wae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Eae=/^'([^]*?)'?$/,jae=/''/g,Cae=/\S/,$ae=/[a-zA-Z]/;function Tae(e,t,r,n){var b,k,C,$,L,T,P,O;const a=()=>kt((n==null?void 0:n.in)||r,NaN),o=One(),i=(n==null?void 0:n.locale)??o.locale??k7,c=(n==null?void 0:n.firstWeekContainsDate)??((k=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:k.firstWeekContainsDate)??o.firstWeekContainsDate??(($=(C=o.locale)==null?void 0:C.options)==null?void 0:$.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((T=(L=n==null?void 0:n.locale)==null?void 0:L.options)==null?void 0:T.weekStartsOn)??o.weekStartsOn??((O=(P=o.locale)==null?void 0:P.options)==null?void 0:O.weekStartsOn)??0;if(!t)return e?a():qe(r,n==null?void 0:n.in);const f={firstWeekContainsDate:c,weekStartsOn:d,locale:i},p=[new Nne(n==null?void 0:n.in,r)],m=t.match(Sae).map(N=>{const R=N[0];if(R in OE){const D=OE[R];return D(N,i.formatLong)}return N}).join("").match(wae),g=[];for(let N of m){const R=N[0],D=bae[R];if(D){const{incompatibleTokens:j}=D;if(Array.isArray(j)){const I=g.find(B=>j.includes(B.token)||B.token===R);if(I)throw new RangeError(`The format string mustn't contain \`${I.fullToken}\` and \`${N}\` at the same time`)}else if(D.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${N}\` and any other token at the same time`);g.push({token:R,fullToken:N});const A=D.run(e,N,i.match,f);if(!A)return a();p.push(A.setter),e=A.rest}else{if(R.match($ae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(N==="''"?N="'":R==="'"&&(N=kae(N)),e.indexOf(N)===0)e=e.slice(N.length);else return a()}}if(e.length>0&&Cae.test(e))return a();const y=p.map(N=>N.priority).sort((N,R)=>R-N).filter((N,R,D)=>D.indexOf(N)===R).map(N=>p.filter(R=>R.priority===N).sort((R,D)=>D.subPriority-R.subPriority)).map(N=>N[0]);let w=qe(r,n==null?void 0:n.in);if(isNaN(+w))return a();const S={};for(const N of y){if(!N.validate(w,f))return a();const R=N.set(w,S,f);Array.isArray(R)?(w=R[0],Object.assign(S,R[1])):w=R}return w}function kae(e){return e.match(Eae)[1].replace(jae,"'")}function Aae(e,t,r){const[n,a]=Qo(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Oae(e,t,r){const[n,a]=Qo(r==null?void 0:r.in,e,t);return+AE(n)==+AE(a)}function Pae(e,t,r){const[n,a]=Qo(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()}function ff(e,t,r){const n=+qe(e,r==null?void 0:r.in),[a,o]=[+qe(t.start,r==null?void 0:r.in),+qe(t.end,r==null?void 0:r.in)].sort((i,c)=>i-c);return n>=a&&n<=o}function _ae(e,t,r){return Ta(e,-1,r)}function Dae(e,t){const r=()=>kt(t==null?void 0:t.in,NaN),a=Nae(e);let o;if(a.date){const f=Lae(a.date,2);o=Bae(f.restDateString,f.year)}if(!o||isNaN(+o))return r();const i=+o;let c=0,d;if(a.time&&(c=zae(a.time),isNaN(c)))return r();if(a.timezone){if(d=Fae(a.timezone),isNaN(d))return r()}else{const f=new Date(i+c),p=qe(0,t==null?void 0:t.in);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return qe(i+c+d,t==null?void 0:t.in)}const hm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Mae=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Rae=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Iae=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Nae(e){const t={},r=e.split(hm.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],hm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(hm.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=hm.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Lae(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?a:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function Bae(e,t){if(t===null)return new Date(NaN);const r=e.match(Mae);if(!r)return new Date(NaN);const n=!!r[4],a=Ed(r[1]),o=Ed(r[2])-1,i=Ed(r[3]),c=Ed(r[4]),d=Ed(r[5])-1;if(n)return Wae(t,c,d)?qae(t,c,d):new Date(NaN);{const f=new Date(0);return!Uae(t,o,i)||!Vae(t,a)?new Date(NaN):(f.setUTCFullYear(t,o,Math.max(a,i)),f)}}function Ed(e){return e?parseInt(e):1}function zae(e){const t=e.match(Rae);if(!t)return NaN;const r=zb(t[1]),n=zb(t[2]),a=zb(t[3]);return Yae(r,n,a)?r*hv+n*pv+a*1e3:NaN}function zb(e){return e&&parseFloat(e.replace(",","."))||0}function Fae(e){if(e==="Z")return 0;const t=e.match(Iae);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Gae(n,a)?r*(n*hv+a*pv):NaN}function qae(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,o=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+o),n}const Hae=[31,null,31,30,31,30,31,31,30,31,30,31];function R7(e){return e%400===0||e%4===0&&e%100!==0}function Uae(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Hae[t]||(R7(e)?29:28))}function Vae(e,t){return t>=1&&t<=(R7(e)?366:365)}function Wae(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Yae(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Gae(e,t){return t>=0&&t<=59}function Xn(e,t,r){const n=qe(e,r==null?void 0:r.in),a=n.getFullYear(),o=n.getDate(),i=kt(e,0);i.setFullYear(a,t,15),i.setHours(0,0,0,0);const c=Ane(i);return n.setMonth(t,Math.min(o,c)),n}function ig(e,t,r){const n=qe(e,r==null?void 0:r.in);return n.setHours(t),n}function sg(e,t,r){const n=qe(e,r==null?void 0:r.in);return n.setMinutes(t),n}function Xl(e,t,r){const n=qe(e,r==null?void 0:r.in),a=Math.trunc(n.getMonth()/3)+1,o=t-a;return Xn(n,n.getMonth()+o*3)}function lg(e,t,r){const n=qe(e,r==null?void 0:r.in);return n.setSeconds(t),n}function Va(e,t,r){const n=qe(e,r==null?void 0:r.in);return isNaN(+n)?kt(e,NaN):(n.setFullYear(t),n)}function Rs(e,t,r){return Oa(e,-t,r)}function I7(e,t,r){return zC(e,-1,r)}function WA(e,t,r){return Ig(e,-1,r)}function Ec(e,t,r){return No(e,-t,r)}function gv(){return typeof window<"u"}function lu(e){return N7(e)?(e.nodeName||"").toLowerCase():"#document"}function Dn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function io(e){var t;return(t=(N7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function N7(e){return gv()?e instanceof Node||e instanceof Dn(e).Node:!1}function en(e){return gv()?e instanceof Element||e instanceof Dn(e).Element:!1}function ro(e){return gv()?e instanceof HTMLElement||e instanceof Dn(e).HTMLElement:!1}function YA(e){return!gv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Dn(e).ShadowRoot}function ip(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=aa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function Kae(e){return["table","td","th"].includes(lu(e))}function yv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function VC(e){const t=WC(),r=en(e)?aa(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Qae(e){let t=Wi(e);for(;ro(t)&&!jc(t);){if(VC(t))return t;if(yv(t))return null;t=Wi(t)}return null}function WC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jc(e){return["html","body","#document"].includes(lu(e))}function aa(e){return Dn(e).getComputedStyle(e)}function vv(e){return en(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wi(e){if(lu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||YA(e)&&e.host||io(e);return YA(t)?t.host:t}function L7(e){const t=Wi(e);return jc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ro(t)&&ip(t)?t:L7(t)}function pf(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=L7(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),i=Dn(a);if(o){const c=_E(i);return t.concat(i,i.visualViewport||[],ip(a)?a:[],c&&r?pf(c):[])}return t.concat(a,pf(a,[],r))}function _E(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Cc=Math.min,Is=Math.max,qg=Math.round,mm=Math.floor,Ja=e=>({x:e,y:e}),Xae={left:"right",right:"left",bottom:"top",top:"bottom"},Jae={start:"end",end:"start"};function Zae(e,t,r){return Is(e,Cc(t,r))}function xv(e,t){return typeof e=="function"?e(t):e}function $c(e){return e.split("-")[0]}function sp(e){return e.split("-")[1]}function eoe(e){return e==="x"?"y":"x"}function YC(e){return e==="y"?"height":"width"}function hf(e){return["top","bottom"].includes($c(e))?"y":"x"}function GC(e){return eoe(hf(e))}function toe(e,t,r){r===void 0&&(r=!1);const n=sp(e),a=GC(e),o=YC(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Hg(i)),[i,Hg(i)]}function roe(e){const t=Hg(e);return[DE(e),t,DE(t)]}function DE(e){return e.replace(/start|end/g,t=>Jae[t])}function noe(e,t,r){const n=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?o:i;default:return[]}}function aoe(e,t,r,n){const a=sp(e);let o=noe($c(e),r==="start",n);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(DE)))),o}function Hg(e){return e.replace(/left|right|bottom|top/g,t=>Xae[t])}function ooe(e){return{top:0,right:0,bottom:0,left:0,...e}}function B7(e){return typeof e!="number"?ooe(e):{top:e,right:e,bottom:e,left:e}}function Ug(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function GA(e,t,r){let{reference:n,floating:a}=e;const o=hf(t),i=GC(t),c=YC(i),d=$c(t),f=o==="y",p=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,g=n[c]/2-a[c]/2;let y;switch(d){case"top":y={x:p,y:n.y-a.height};break;case"bottom":y={x:p,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:m};break;case"left":y={x:n.x-a.width,y:m};break;default:y={x:n.x,y:n.y}}switch(sp(t)){case"start":y[i]-=g*(r&&f?-1:1);break;case"end":y[i]+=g*(r&&f?-1:1);break}return y}const ioe=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:i}=r,c=o.filter(Boolean),d=await(i.isRTL==null?void 0:i.isRTL(t));let f=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:m}=GA(f,n,d),g=n,y={},w=0;for(let S=0;S<c.length;S++){const{name:b,fn:k}=c[S],{x:C,y:$,data:L,reset:T}=await k({x:p,y:m,initialPlacement:n,placement:g,strategy:a,middlewareData:y,rects:f,platform:i,elements:{reference:e,floating:t}});p=C??p,m=$??m,y={...y,[b]:{...y[b],...L}},T&&w<=50&&(w++,typeof T=="object"&&(T.placement&&(g=T.placement),T.rects&&(f=T.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):T.rects),{x:p,y:m}=GA(f,g,d)),S=-1)}return{x:p,y:m,placement:g,strategy:a,middlewareData:y}};async function soe(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:i,elements:c,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:g=!1,padding:y=0}=xv(t,e),w=B7(y),b=c[g?m==="floating"?"reference":"floating":m],k=Ug(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:d})),C=m==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),L=await(o.isElement==null?void 0:o.isElement($))?await(o.getScale==null?void 0:o.getScale($))||{x:1,y:1}:{x:1,y:1},T=Ug(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:C,offsetParent:$,strategy:d}):C);return{top:(k.top-T.top+w.top)/L.y,bottom:(T.bottom-k.bottom+w.bottom)/L.y,left:(k.left-T.left+w.left)/L.x,right:(T.right-k.right+w.right)/L.x}}const loe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:o,platform:i,elements:c,middlewareData:d}=t,{element:f,padding:p=0}=xv(e,t)||{};if(f==null)return{};const m=B7(p),g={x:r,y:n},y=GC(a),w=YC(y),S=await i.getDimensions(f),b=y==="y",k=b?"top":"left",C=b?"bottom":"right",$=b?"clientHeight":"clientWidth",L=o.reference[w]+o.reference[y]-g[y]-o.floating[w],T=g[y]-o.reference[y],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(f));let O=P?P[$]:0;(!O||!await(i.isElement==null?void 0:i.isElement(P)))&&(O=c.floating[$]||o.floating[w]);const N=L/2-T/2,R=O/2-S[w]/2-1,D=Cc(m[k],R),j=Cc(m[C],R),A=D,I=O-S[w]-j,B=O/2-S[w]/2+N,F=Zae(A,B,I),U=!d.arrow&&sp(a)!=null&&B!==F&&o.reference[w]/2-(B<A?D:j)-S[w]/2<0,Y=U?B<A?B-A:B-I:0;return{[y]:g[y]+Y,data:{[y]:F,centerOffset:B-F-Y,...U&&{alignmentOffset:Y}},reset:U}}}),coe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:o,rects:i,initialPlacement:c,platform:d,elements:f}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:S=!0,...b}=xv(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const k=$c(a),C=hf(c),$=$c(c)===c,L=await(d.isRTL==null?void 0:d.isRTL(f.floating)),T=g||($||!S?[Hg(c)]:roe(c)),P=w!=="none";!g&&P&&T.push(...aoe(c,S,w,L));const O=[c,...T],N=await soe(t,b),R=[];let D=((n=o.flip)==null?void 0:n.overflows)||[];if(p&&R.push(N[k]),m){const B=toe(a,i,L);R.push(N[B[0]],N[B[1]])}if(D=[...D,{placement:a,overflows:R}],!R.every(B=>B<=0)){var j,A;const B=(((j=o.flip)==null?void 0:j.index)||0)+1,F=O[B];if(F)return{data:{index:B,overflows:D},reset:{placement:F}};let U=(A=D.filter(Y=>Y.overflows[0]<=0).sort((Y,W)=>Y.overflows[1]-W.overflows[1])[0])==null?void 0:A.placement;if(!U)switch(y){case"bestFit":{var I;const Y=(I=D.filter(W=>{if(P){const Q=hf(W.placement);return Q===C||Q==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(Q=>Q>0).reduce((Q,Z)=>Q+Z,0)]).sort((W,Q)=>W[1]-Q[1])[0])==null?void 0:I[0];Y&&(U=Y);break}case"initialPlacement":U=c;break}if(a!==U)return{reset:{placement:U}}}return{}}}};async function uoe(e,t){const{placement:r,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=$c(r),c=sp(r),d=hf(r)==="y",f=["left","top"].includes(i)?-1:1,p=o&&d?-1:1,m=xv(t,e);let{mainAxis:g,crossAxis:y,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof w=="number"&&(y=c==="end"?w*-1:w),d?{x:y*p,y:g*f}:{x:g*f,y:y*p}}const doe=function(e){return{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:o,placement:i,middlewareData:c}=t,d=await uoe(t,e);return i===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:o+d.y,data:{...d,placement:i}}}}};function z7(e){const t=aa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ro(e),o=a?e.offsetWidth:r,i=a?e.offsetHeight:n,c=qg(r)!==o||qg(n)!==i;return c&&(r=o,n=i),{width:r,height:n,$:c}}function KC(e){return en(e)?e:e.contextElement}function uc(e){const t=KC(e);if(!ro(t))return Ja(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:o}=z7(t);let i=(o?qg(r.width):r.width)/n,c=(o?qg(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const foe=Ja(0);function F7(e){const t=Dn(e);return!WC()||!t.visualViewport?foe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function poe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Dn(e)?!1:t}function Ys(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),o=KC(e);let i=Ja(1);t&&(n?en(n)&&(i=uc(n)):i=uc(e));const c=poe(o,r,n)?F7(o):Ja(0);let d=(a.left+c.x)/i.x,f=(a.top+c.y)/i.y,p=a.width/i.x,m=a.height/i.y;if(o){const g=Dn(o),y=n&&en(n)?Dn(n):n;let w=g,S=_E(w);for(;S&&n&&y!==w;){const b=uc(S),k=S.getBoundingClientRect(),C=aa(S),$=k.left+(S.clientLeft+parseFloat(C.paddingLeft))*b.x,L=k.top+(S.clientTop+parseFloat(C.paddingTop))*b.y;d*=b.x,f*=b.y,p*=b.x,m*=b.y,d+=$,f+=L,w=Dn(S),S=_E(w)}}return Ug({width:p,height:m,x:d,y:f})}function QC(e,t){const r=vv(e).scrollLeft;return t?t.left+r:Ys(io(e)).left+r}function q7(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:QC(e,n)),o=n.top+t.scrollTop;return{x:a,y:o}}function hoe(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const o=a==="fixed",i=io(n),c=t?yv(t.floating):!1;if(n===i||c&&o)return r;let d={scrollLeft:0,scrollTop:0},f=Ja(1);const p=Ja(0),m=ro(n);if((m||!m&&!o)&&((lu(n)!=="body"||ip(i))&&(d=vv(n)),ro(n))){const y=Ys(n);f=uc(n),p.x=y.x+n.clientLeft,p.y=y.y+n.clientTop}const g=i&&!m&&!o?q7(i,d,!0):Ja(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+p.x+g.x,y:r.y*f.y-d.scrollTop*f.y+p.y+g.y}}function moe(e){return Array.from(e.getClientRects())}function goe(e){const t=io(e),r=vv(e),n=e.ownerDocument.body,a=Is(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Is(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+QC(e);const c=-r.scrollTop;return aa(n).direction==="rtl"&&(i+=Is(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:i,y:c}}function yoe(e,t){const r=Dn(e),n=io(e),a=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,c=0,d=0;if(a){o=a.width,i=a.height;const f=WC();(!f||f&&t==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}return{width:o,height:i,x:c,y:d}}function voe(e,t){const r=Ys(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,o=ro(e)?uc(e):Ja(1),i=e.clientWidth*o.x,c=e.clientHeight*o.y,d=a*o.x,f=n*o.y;return{width:i,height:c,x:d,y:f}}function KA(e,t,r){let n;if(t==="viewport")n=yoe(e,r);else if(t==="document")n=goe(io(e));else if(en(t))n=voe(t,r);else{const a=F7(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Ug(n)}function H7(e,t){const r=Wi(e);return r===t||!en(r)||jc(r)?!1:aa(r).position==="fixed"||H7(r,t)}function xoe(e,t){const r=t.get(e);if(r)return r;let n=pf(e,[],!1).filter(c=>en(c)&&lu(c)!=="body"),a=null;const o=aa(e).position==="fixed";let i=o?Wi(e):e;for(;en(i)&&!jc(i);){const c=aa(i),d=VC(i);!d&&c.position==="fixed"&&(a=null),(o?!d&&!a:!d&&c.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||ip(i)&&!d&&H7(e,i))?n=n.filter(p=>p!==i):a=c,i=Wi(i)}return t.set(e,n),n}function boe(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?yv(t)?[]:xoe(t,this._c):[].concat(r),n],c=i[0],d=i.reduce((f,p)=>{const m=KA(t,p,a);return f.top=Is(m.top,f.top),f.right=Cc(m.right,f.right),f.bottom=Cc(m.bottom,f.bottom),f.left=Is(m.left,f.left),f},KA(t,c,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function woe(e){const{width:t,height:r}=z7(e);return{width:t,height:r}}function Soe(e,t,r){const n=ro(t),a=io(t),o=r==="fixed",i=Ys(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const d=Ja(0);if(n||!n&&!o)if((lu(t)!=="body"||ip(a))&&(c=vv(t)),n){const g=Ys(t,!0,o,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else a&&(d.x=QC(a));const f=a&&!n&&!o?q7(a,c):Ja(0),p=i.left+c.scrollLeft-d.x-f.x,m=i.top+c.scrollTop-d.y-f.y;return{x:p,y:m,width:i.width,height:i.height}}function Fb(e){return aa(e).position==="static"}function QA(e,t){if(!ro(e)||aa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return io(e)===r&&(r=r.ownerDocument.body),r}function U7(e,t){const r=Dn(e);if(yv(e))return r;if(!ro(e)){let a=Wi(e);for(;a&&!jc(a);){if(en(a)&&!Fb(a))return a;a=Wi(a)}return r}let n=QA(e,t);for(;n&&Kae(n)&&Fb(n);)n=QA(n,t);return n&&jc(n)&&Fb(n)&&!VC(n)?r:n||Qae(e)||r}const Eoe=async function(e){const t=this.getOffsetParent||U7,r=this.getDimensions,n=await r(e.floating);return{reference:Soe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function joe(e){return aa(e).direction==="rtl"}const Coe={convertOffsetParentRelativeRectToViewportRelativeRect:hoe,getDocumentElement:io,getClippingRect:boe,getOffsetParent:U7,getElementRects:Eoe,getClientRects:moe,getDimensions:woe,getScale:uc,isElement:en,isRTL:joe};function V7(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $oe(e,t){let r=null,n;const a=io(e);function o(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function i(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const f=e.getBoundingClientRect(),{left:p,top:m,width:g,height:y}=f;if(c||t(),!g||!y)return;const w=mm(m),S=mm(a.clientWidth-(p+g)),b=mm(a.clientHeight-(m+y)),k=mm(p),$={rootMargin:-w+"px "+-S+"px "+-b+"px "+-k+"px",threshold:Is(0,Cc(1,d))||1};let L=!0;function T(P){const O=P[0].intersectionRatio;if(O!==d){if(!L)return i();O?i(!1,O):n=setTimeout(()=>{i(!1,1e-7)},1e3)}O===1&&!V7(f,e.getBoundingClientRect())&&i(),L=!1}try{r=new IntersectionObserver(T,{...$,root:a.ownerDocument})}catch{r=new IntersectionObserver(T,$)}r.observe(e)}return i(!0),o}function Toe(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=KC(e),p=a||o?[...f?pf(f):[],...pf(t)]:[];p.forEach(k=>{a&&k.addEventListener("scroll",r,{passive:!0}),o&&k.addEventListener("resize",r)});const m=f&&c?$oe(f,r):null;let g=-1,y=null;i&&(y=new ResizeObserver(k=>{let[C]=k;C&&C.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var $;($=y)==null||$.observe(t)})),r()}),f&&!d&&y.observe(f),y.observe(t));let w,S=d?Ys(e):null;d&&b();function b(){const k=Ys(e);S&&!V7(S,k)&&r(),S=k,w=requestAnimationFrame(b)}return r(),()=>{var k;p.forEach(C=>{a&&C.removeEventListener("scroll",r),o&&C.removeEventListener("resize",r)}),m==null||m(),(k=y)==null||k.disconnect(),y=null,d&&cancelAnimationFrame(w)}}const koe=doe,Aoe=coe,XA=loe,Ooe=(e,t,r)=>{const n=new Map,a={platform:Coe,...r},o={...a.platform,_c:n};return ioe(e,t,{...a,platform:o})};var cg=typeof document<"u"?_.useLayoutEffect:_.useEffect;function Vg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Vg(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const o=a[n];if(!(o==="_owner"&&e.$$typeof)&&!Vg(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function W7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function JA(e,t){const r=W7(e);return Math.round(t*r)/r}function qb(e){const t=_.useRef(e);return cg(()=>{t.current=e}),t}function Poe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:i}={},transform:c=!0,whileElementsMounted:d,open:f}=e,[p,m]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,y]=_.useState(n);Vg(g,n)||y(n);const[w,S]=_.useState(null),[b,k]=_.useState(null),C=_.useCallback(W=>{W!==P.current&&(P.current=W,S(W))},[]),$=_.useCallback(W=>{W!==O.current&&(O.current=W,k(W))},[]),L=o||w,T=i||b,P=_.useRef(null),O=_.useRef(null),N=_.useRef(p),R=d!=null,D=qb(d),j=qb(a),A=qb(f),I=_.useCallback(()=>{if(!P.current||!O.current)return;const W={placement:t,strategy:r,middleware:g};j.current&&(W.platform=j.current),Ooe(P.current,O.current,W).then(Q=>{const Z={...Q,isPositioned:A.current!==!1};B.current&&!Vg(N.current,Z)&&(N.current=Z,aR.flushSync(()=>{m(Z)}))})},[g,t,r,j,A]);cg(()=>{f===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,m(W=>({...W,isPositioned:!1})))},[f]);const B=_.useRef(!1);cg(()=>(B.current=!0,()=>{B.current=!1}),[]),cg(()=>{if(L&&(P.current=L),T&&(O.current=T),L&&T){if(D.current)return D.current(L,T,I);I()}},[L,T,I,D,R]);const F=_.useMemo(()=>({reference:P,floating:O,setReference:C,setFloating:$}),[C,$]),U=_.useMemo(()=>({reference:L,floating:T}),[L,T]),Y=_.useMemo(()=>{const W={position:r,left:0,top:0};if(!U.floating)return W;const Q=JA(U.floating,p.x),Z=JA(U.floating,p.y);return c?{...W,transform:"translate("+Q+"px, "+Z+"px)",...W7(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Q,top:Z}},[r,c,U.floating,p.x,p.y]);return _.useMemo(()=>({...p,update:I,refs:F,elements:U,floatingStyles:Y}),[p,I,F,U,Y])}const _oe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?XA({element:n.current,padding:a}).fn(r):{}:n?XA({element:n,padding:a}).fn(r):{}}}},Doe=(e,t)=>({...koe(e),options:[e,t]}),Moe=(e,t)=>({...Aoe(e),options:[e,t]}),Roe=(e,t)=>({..._oe(e),options:[e,t]}),Y7={...FF},Ioe=Y7.useInsertionEffect,Noe=Ioe||(e=>e());function Loe(e){const t=_.useRef(()=>{});return Noe(()=>{t.current=e}),_.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}var Wg=typeof document<"u"?_.useLayoutEffect:_.useEffect;let ZA=!1,Boe=0;const eO=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Boe++;function zoe(){const[e,t]=_.useState(()=>ZA?eO():void 0);return Wg(()=>{e==null&&t(eO())},[]),_.useEffect(()=>{ZA=!0},[]),e}const Foe=Y7.useId,G7=Foe||zoe,qoe=_.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:o,shift:i}},width:c=14,height:d=7,tipRadius:f=0,strokeWidth:p=0,staticOffset:m,stroke:g,d:y,style:{transform:w,...S}={},...b}=t,k=G7(),[C,$]=_.useState(!1);if(Wg(()=>{if(!a)return;aa(a).direction==="rtl"&&$(!0)},[a]),!a)return null;const[L,T]=n.split("-"),P=L==="top"||L==="bottom";let O=m;(P&&i!=null&&i.x||!P&&i!=null&&i.y)&&(O=null);const N=p*2,R=N/2,D=c/2*(f/-8+1),j=d/2*f/4,A=!!y,I=O&&T==="end"?"bottom":"top";let B=O&&T==="end"?"right":"left";O&&C&&(B=T==="end"?"left":"right");const F=(o==null?void 0:o.x)!=null?O||o.x:"",U=(o==null?void 0:o.y)!=null?O||o.y:"",Y=y||"M0,0"+(" H"+c)+(" L"+(c-D)+","+(d-j))+(" Q"+c/2+","+d+" "+D+","+(d-j))+" Z",W={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[L];return l.jsxs("svg",{...b,"aria-hidden":!0,ref:r,width:A?c:c+N,height:c,viewBox:"0 0 "+c+" "+(d>c?d:c),style:{position:"absolute",pointerEvents:"none",[B]:F,[I]:U,[L]:P||A?"100%":"calc(100% - "+N/2+"px)",transform:[W,w].filter(Q=>!!Q).join(" "),...S},children:[N>0&&l.jsx("path",{clipPath:"url(#"+k+")",fill:"none",stroke:g,strokeWidth:N+(y?0:1),d:Y}),l.jsx("path",{stroke:N&&!y?b.fill:"none",d:Y}),l.jsx("clipPath",{id:k,children:l.jsx("rect",{x:-R,y:R*(A?-1:1),width:c+N,height:c})})]})});function Hoe(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(a=>a(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(a=>a!==r))||[])}}}const Uoe=_.createContext(null),Voe=_.createContext(null),Woe=()=>{var e;return((e=_.useContext(Uoe))==null?void 0:e.id)||null},Yoe=()=>_.useContext(Voe);function Goe(e){const{open:t=!1,onOpenChange:r,elements:n}=e,a=G7(),o=_.useRef({}),[i]=_.useState(()=>Hoe()),c=Woe()!=null,[d,f]=_.useState(n.reference),p=Loe((y,w,S)=>{o.current.openEvent=y?w:void 0,i.emit("openchange",{open:y,event:w,reason:S,nested:c}),r==null||r(y,w,S)}),m=_.useMemo(()=>({setPositionReference:f}),[]),g=_.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return _.useMemo(()=>({dataRef:o,open:t,onOpenChange:p,elements:g,events:i,floatingId:a,refs:m}),[t,p,g,i,a,m])}function Koe(e){e===void 0&&(e={});const{nodeId:t}=e,r=Goe({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,a=n.elements,[o,i]=_.useState(null),[c,d]=_.useState(null),p=(a==null?void 0:a.domReference)||o,m=_.useRef(null),g=Yoe();Wg(()=>{p&&(m.current=p)},[p]);const y=Poe({...e,elements:{...a,...c&&{reference:c}}}),w=_.useCallback($=>{const L=en($)?{getBoundingClientRect:()=>$.getBoundingClientRect(),getClientRects:()=>$.getClientRects(),contextElement:$}:$;d(L),y.refs.setReference(L)},[y.refs]),S=_.useCallback($=>{(en($)||$===null)&&(m.current=$,i($)),(en(y.refs.reference.current)||y.refs.reference.current===null||$!==null&&!en($))&&y.refs.setReference($)},[y.refs]),b=_.useMemo(()=>({...y.refs,setReference:S,setPositionReference:w,domReference:m}),[y.refs,S,w]),k=_.useMemo(()=>({...y.elements,domReference:p}),[y.elements,p]),C=_.useMemo(()=>({...y,...n,refs:b,elements:k,nodeId:t}),[y,b,k,t,n]);return Wg(()=>{n.dataRef.current.floatingContext=C;const $=g==null?void 0:g.nodesRef.current.find(L=>L.id===t);$&&($.context=C)}),_.useMemo(()=>({...y,context:C,refs:b,elements:k}),[y,b,k,C])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var ME=function(t,r){return ME=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},ME(t,r)};function kr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ME(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ht=function(){return ht=Object.assign||function(r){for(var n,a=1,o=arguments.length;a<o;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},ht.apply(this,arguments)};function Qa(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Qoe=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,a=n===void 0?!1:n,o=e.className,i=e.children,c=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return H.createElement("div",{className:o,role:"dialog","aria-label":c,"aria-modal":"true"},i)},Xoe=function(e,t){var r=_.useRef(null),n=_.useRef(e);n.current=e;var a=_.useCallback(function(o){var i,c=o.composed&&o.composedPath&&o.composedPath().find(function(d){return d instanceof Node})||o.target;r.current&&!r.current.contains(c)&&(t&&c instanceof HTMLElement&&c.classList.contains(t)||(i=n.current)===null||i===void 0||i.call(n,o))},[t]);return _.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),r},bv=function(e){var t=e.children,r=e.onClickOutside,n=e.className,a=e.containerRef,o=e.style,i=e.ignoreClass,c=Xoe(r,i);return H.createElement("div",{className:n,style:o,ref:function(d){c.current=d,a&&(a.current=d)}},t)},Me;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Me||(Me={}));function K7(){var e=typeof window<"u"?window:globalThis;return e}var lp=12;function Ct(e){if(e==null)return new Date;var t=typeof e=="string"?Dae(e):qe(e);return wv(t)?t:new Date}function Hb(e,t,r,n,a){a===void 0&&(a=Ct());for(var o=Tc(r)||Tc(XC()),i=Array.isArray(t)?t:[t],c=0,d=i;c<d.length;c++){var f=d[c],p=Tae(e,f,a,{locale:o});if(wv(p)&&(!n||e===Ut(p,f,r)))return p}return null}function wv(e,t){return Ng(e)&&!Ws(e,new Date("1/1/1800"))}function Ut(e,t,r){if(r==="en")return UA(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Tc(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||Tc(XC()),UA(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Qn(e,t){var r=t.dateFormat,n=t.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return e&&Ut(e,a,n)||""}function Joe(e,t,r){if(!e)return"";var n=Qn(e,r),a=t?Qn(t,r):"";return"".concat(n," - ").concat(a)}function Zoe(e,t){if(!(e!=null&&e.length))return"";var r=e[0]?Qn(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=Qn(e[1],t);return"".concat(r,", ").concat(n)}var a=e.length-1;return"".concat(r," (+").concat(a,")")}function Ub(e,t){var r=t.hour,n=r===void 0?0:r,a=t.minute,o=a===void 0?0:a,i=t.second,c=i===void 0?0:i;return ig(sg(lg(e,c),o),n)}function eie(e){return FC(e)}function tie(e,t){return Ut(e,"ddd",t)}function ug(e){return Vs(e)}function zi(e,t,r){var n=Tc(t||XC());return Vo(e,{locale:n,weekStartsOn:r})}function Fo(e){return $7(e)}function Vd(e){return mv(e)}function tO(e){return AE(e)}function rO(){return Vs(Ct())}function nO(e){return j7(e)}function rie(e){return Dre(e)}function nie(e){return C7(e)}function Ya(e,t){return e&&t?Pae(e,t):!e&&!t}function Jr(e,t){return e&&t?Aae(e,t):!e&&!t}function Yg(e,t){return e&&t?Oae(e,t):!e&&!t}function pt(e,t){return e&&t?Pre(e,t):!e&&!t}function js(e,t){return e&&t?_ne(e,t):!e&&!t}function Wd(e,t,r){var n,a=Vs(t),o=j7(r);try{n=ff(e,{start:a,end:o})}catch{n=!1}return n}function XC(){var e=K7();return e.__localeId__}function Tc(e){if(typeof e=="string"){var t=K7();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function aie(e,t,r){return t(Ut(e,"EEEE",r))}function oie(e,t){return Ut(e,"EEEEEE",t)}function iie(e,t){return Ut(e,"EEE",t)}function JC(e,t){return Ut(Xn(Ct(),e),"LLLL",t)}function Q7(e,t){return Ut(Xn(Ct(),e),"LLL",t)}function sie(e,t){return Ut(Xl(Ct(),e),"QQQ",t)}function Jn(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,o=r.excludeDates,i=r.excludeDateIntervals,c=r.includeDates,d=r.includeDateIntervals,f=r.filterDate;return cp(e,{minDate:n,maxDate:a})||o&&o.some(function(p){return p instanceof Date?pt(e,p):pt(e,p.date)})||i&&i.some(function(p){var m=p.start,g=p.end;return ff(e,{start:m,end:g})})||c&&!c.some(function(p){return pt(e,p)})||d&&!d.some(function(p){var m=p.start,g=p.end;return ff(e,{start:m,end:g})})||f&&!f(Ct(e))||!1}function ZC(e,t){var r=t===void 0?{}:t,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(o){var i=o.start,c=o.end;return ff(e,{start:i,end:c})}):n&&n.some(function(o){var i;return o instanceof Date?pt(e,o):pt(e,(i=o.date)!==null&&i!==void 0?i:new Date)})||!1}function X7(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,o=r.excludeDates,i=r.includeDates,c=r.filterDate;return cp(e,{minDate:n?$7(n):void 0,maxDate:a?C7(a):void 0})||(o==null?void 0:o.some(function(d){return Jr(e,d instanceof Date?d:d.date)}))||i&&!i.some(function(d){return Jr(e,d)})||c&&!c(Ct(e))||!1}function gm(e,t,r,n){var a=it(e),o=Zr(e),i=it(t),c=Zr(t),d=it(n);return a===i&&a===d?o<=r&&r<=c:a<i?d===a&&o<=r||d===i&&c>=r||d<i&&d>a:!1}function lie(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,o=r.excludeDates,i=r.includeDates;return cp(e,{minDate:n,maxDate:a})||o&&o.some(function(c){return Jr(c instanceof Date?c:c.date,e)})||i&&!i.some(function(c){return Jr(c,e)})||!1}function ym(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,o=r.excludeDates,i=r.includeDates,c=r.filterDate;return cp(e,{minDate:n,maxDate:a})||(o==null?void 0:o.some(function(d){return Yg(e,d instanceof Date?d:d.date)}))||i&&!i.some(function(d){return Yg(e,d)})||c&&!c(Ct(e))||!1}function vm(e,t,r){if(!t||!r||!Ng(t)||!Ng(r))return!1;var n=it(t),a=it(r);return n<=e&&a>=e}function dg(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,o=r.excludeDates,i=r.includeDates,c=r.filterDate,d=new Date(e,0,1);return cp(d,{minDate:n?mv(n):void 0,maxDate:a?T7(a):void 0})||(o==null?void 0:o.some(function(f){return Ya(d,f instanceof Date?f:f.date)}))||i&&!i.some(function(f){return Ya(d,f)})||c&&!c(Ct(d))||!1}function xm(e,t,r,n){var a=it(e),o=Ms(e),i=it(t),c=Ms(t),d=it(n);return a===i&&a===d?o<=r&&r<=c:a<i?d===a&&o<=r||d===i&&c>=r||d<i&&d>a:!1}function cp(e,t){var r,n=t===void 0?{}:t,a=n.minDate,o=n.maxDate;return(r=a&&Sc(e,a)<0||o&&Sc(e,o)>0)!==null&&r!==void 0?r:!1}function aO(e,t){return t.some(function(r){return Bo(r)===Bo(e)&&zo(r)===zo(e)&&Bi(r)===Bi(e)})}function oO(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,a=r.includeTimes,o=r.filterTime;return n&&aO(e,n)||a&&!aO(e,a)||o&&!o(e)||!1}function iO(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=Ct();a=ig(a,Bo(e)),a=sg(a,zo(e)),a=lg(a,Bi(e));var o=Ct();o=ig(o,Bo(r)),o=sg(o,zo(r)),o=lg(o,Bi(r));var i=Ct();i=ig(i,Bo(n)),i=sg(i,zo(n)),i=lg(i,Bi(n));var c;try{c=!ff(a,{start:o,end:i})}catch{c=!1}return c}function sO(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,o=Rs(e,1);return n&&Lg(n,o)>0||a&&a.every(function(i){return Lg(i,o)>0})||!1}function lO(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,o=Oa(e,1);return n&&Lg(o,n)>0||a&&a.every(function(i){return Lg(o,i)>0})||!1}function cie(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,o=mv(e),i=I7(o);return n&&Bg(n,i)>0||a&&a.every(function(c){return Bg(c,i)>0})||!1}function uie(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,o=T7(e),i=zC(o,1);return n&&Bg(i,n)>0||a&&a.every(function(c){return Bg(i,c)>0})||!1}function cO(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,o=Ec(e,1);return n&&zg(n,o)>0||a&&a.every(function(i){return zg(i,o)>0})||!1}function die(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.yearItemNumber,o=a===void 0?lp:a,i=Vd(Ec(e,o)),c=Ri(i,o).endPeriod,d=n&&it(n);return d&&d>c||!1}function uO(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,o=No(e,1);return n&&zg(o,n)>0||a&&a.every(function(i){return zg(o,i)>0})||!1}function fie(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.yearItemNumber,o=a===void 0?lp:a,i=No(e,o),c=Ri(i,o).startPeriod,d=n&&it(n);return d&&d<c||!1}function J7(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return Sc(a,t)>=0});return LA(n)}else return r?LA(r):t}function Z7(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return Sc(a,t)<=0});return NA(n)}else return r?NA(r):t}function dO(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,a=0,o=e.length;a<o;a++){var i=e[a];if(Lo(i)){var c=Ut(i,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(t)||(d.push(t),n.set(c,d))}else if(typeof i=="object"){var f=Object.keys(i),p=(r=f[0])!==null&&r!==void 0?r:"",m=i[p];if(typeof p=="string"&&Array.isArray(m))for(var g=0,y=m.length;g<y;g++){var w=m[g];if(w){var c=Ut(w,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(p)||(d.push(p),n.set(c,d))}}}}return n}function pie(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function hie(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var a=n.date,o=n.holidayName;if(Lo(a)){var i=Ut(a,"MM.dd.yyyy"),c=r.get(i)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===t&&pie(c.holidayNames,[o]))){c.className=t;var d=c.holidayNames;c.holidayNames=d?Qa(Qa([],d,!0),[o],!1):[o],r.set(i,c)}}}),r}function mie(e,t,r,n,a){for(var o=a.length,i=[],c=0;c<o;c++){var d=e,f=a[c];f&&(d=Tre(d,Bo(f)),d=kE(d,zo(f)),d=Ore(d,Bi(f)));var p=kE(e,(r+1)*n);Vi(d,t)&&Ws(d,p)&&f!=null&&i.push(f)}return i}function fO(e){return e<10?"0".concat(e):"".concat(e)}function Ri(e,t){t===void 0&&(t=lp);var r=Math.ceil(it(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function gie(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function pO(e){var t=e.getSeconds(),r=e.getMilliseconds();return qe(e.getTime()-t*1e3-r)}function yie(e,t){return pO(e).getTime()===pO(t).getTime()}function hO(e){if(!Lo(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function mO(e,t){if(!Lo(e)||!Lo(t))throw new Error("Invalid date received");var r=hO(e),n=hO(t);return Ws(r,n)}function eN(e){return e.key===Me.Space}var vie=function(e){kr(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=H.createRef(),n.onTimeChange=function(a){var o,i;n.setState({time:a});var c=n.props.date,d=c instanceof Date&&!isNaN(+c),f=d?c:new Date;if(a!=null&&a.includes(":")){var p=a.split(":"),m=p[0],g=p[1];f.setHours(Number(m)),f.setMinutes(Number(g))}(i=(o=n.props).onChange)===null||i===void 0||i.call(o,f)},n.renderTimeInput=function(){var a=n.state.time,o=n.props,i=o.date,c=o.timeString,d=o.customTimeInput;return d?_.cloneElement(d,{date:i,value:a,onChange:n.onTimeChange}):H.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var f;(f=n.inputRef.current)===null||f===void 0||f.focus()},required:!0,value:a,onChange:function(f){n.onTimeChange(f.target.value||c)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return H.createElement("div",{className:"react-datepicker__input-time-container"},H.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),H.createElement("div",{className:"react-datepicker-time__input-container"},H.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(_.Component),xie=function(e){kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=_.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var a,o,i=n.key;i===Me.Space&&(n.preventDefault(),n.key=Me.Enter),(o=(a=r.props).handleOnKeyDown)===null||o===void 0||o.call(a,n)},r.isSameDay=function(n){return pt(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return r.isSameDayOrWeek(i)}):r.isSameDayOrWeek(r.props.selected),o=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!a&&r.isSameDayOrWeek(r.props.preSelection)&&!o},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),Jn(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return ZC(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return pt(r.props.day,zi(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&pt(n,zi(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,a=n.day,o=n.highlightDates;if(!o)return!1;var i=Ut(a,"MM.dd.yyyy");return o.get(i)},r.getHolidaysClass=function(){var n,a=r.props,o=a.day,i=a.holidays;if(!i)return[void 0];var c=Ut(o,"MM.dd.yyyy");return i.has(c)?[(n=i.get(c))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,a=n.day,o=n.startDate,i=n.endDate;return!o||!i?!1:Wd(a,o,i)},r.isInSelectingRange=function(){var n,a=r.props,o=a.day,i=a.selectsStart,c=a.selectsEnd,d=a.selectsRange,f=a.selectsDisabledDaysInRange,p=a.startDate,m=a.endDate,g=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return!(i||c||d)||!g||!f&&r.isDisabled()?!1:i&&m&&(Ws(g,m)||js(g,m))?Wd(o,g,m):c&&p&&(Vi(g,p)||js(g,p))||d&&p&&!m&&(Vi(g,p)||js(g,p))?Wd(o,p,g):!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,o=a.day,i=a.startDate,c=a.selectsStart,d=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return c?pt(o,d):pt(o,i)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,o=a.day,i=a.endDate,c=a.selectsEnd,d=a.selectsRange,f=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return c||d?pt(o,f):pt(o,i)},r.isRangeStart=function(){var n=r.props,a=n.day,o=n.startDate,i=n.endDate;return!o||!i?!1:pt(o,a)},r.isRangeEnd=function(){var n=r.props,a=n.day,o=n.startDate,i=n.endDate;return!o||!i?!1:pt(i,a)},r.isWeekend=function(){var n=kne(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===Zr(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(Zr(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Ct())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return r.isSameDayOrWeek(a)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var a=r.props.dayClassName?r.props.dayClassName(n):void 0;return Ue("react-datepicker__day",a,"react-datepicker__day--"+tie(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,a=n.day,o=n.ariaLabelPrefixWhenEnabled,i=o===void 0?"Choose":o,c=n.ariaLabelPrefixWhenDisabled,d=c===void 0?"Not available":c,f=r.isDisabled()||r.isExcluded()?d:i;return"".concat(f," ").concat(Ut(a,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,a=n.day,o=n.holidays,i=o===void 0?new Map:o,c=n.excludeDates,d=Ut(a,"MM.dd.yyyy"),f=[];return i.has(d)&&f.push.apply(f,i.get(d).holidayNames),r.isExcluded()&&f.push(c==null?void 0:c.filter(function(p){return p instanceof Date?pt(p,a):pt(p==null?void 0:p.date,a)}).map(function(p){if(!(p instanceof Date))return p==null?void 0:p.message})),f.join(", ")},r.getTabIndex=function(){var n=r.props.selected,a=r.props.preSelection,o=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&pt(a,n))?0:-1;return o},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(VA(r.props.day),r.props.day):VA(r.props.day)},r.render=function(){return H.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&H.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,a;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(_.Component),bie=function(e){kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=_.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var a,o,i=n.key;i===Me.Space&&(n.preventDefault(),n.key=Me.Enter),(o=(a=r.props).handleOnKeyDown)===null||o===void 0||o.call(a,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!pt(r.props.date,r.props.selected)&&pt(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||pt(r.props.date,r.props.selected)&&pt(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var a=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&pt(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,a=r.isWeekDisabled,o=r.ariaLabelPrefix,i=o===void 0?t.defaultProps.ariaLabelPrefix:o,c=r.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!a,"react-datepicker__week-number--selected":!!c&&pt(this.props.date,this.props.selected)};return H.createElement("div",{ref:this.weekNumberEl,className:Ue(d),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(_.Component),wie=function(e){kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return Jn(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,a){r.props.onDayClick&&r.props.onDayClick(n,a)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,a,o){for(var i,c,d,f=new Date(n),p=0;p<7;p++){var m=new Date(n);m.setDate(m.getDate()+p);var g=!r.isDisabled(m);if(g){f=m;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(f,a,o),r.props.showWeekPicker&&r.handleDayClick(f,o),((i=r.props.shouldCloseOnSelect)!==null&&i!==void 0?i:t.defaultProps.shouldCloseOnSelect)&&((d=(c=r.props).setOpen)===null||d===void 0||d.call(c,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):eie(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),a=Ta(n,6),o=new Date(n);o<=a;){if(!r.isDisabled(o))return!1;o=Ta(o,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),a=[],o=r.formatWeekNumber(n);if(r.props.showWeekNumber){var i=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,o):void 0;a.push(H.createElement(bie,ht({key:"W"},t.defaultProps,r.props,{weekNumber:o,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:i})))}return a.concat([0,1,2,3,4,5,6].map(function(c){var d=Ta(n,c);return H.createElement(xie,ht({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:r.handleDayClick.bind(r,d),onMouseEnter:r.handleDayMouseEnter.bind(r,d)}))}))},r.startOfWeek=function(){return zi(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!pt(r.startOfWeek(),r.props.selected)&&pt(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":pt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return H.createElement("div",{className:Ue(r)},this.renderDays())},t}(_.Component),jd,Sie=6,dc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Vb=(jd={},jd[dc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},jd[dc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},jd[dc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},jd),bm=1;function gO(e,t){return e?dc.FOUR_COLUMNS:t?dc.TWO_COLUMNS:dc.THREE_COLUMNS}var Eie=function(e){kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=Qa([],Array(12),!0).map(function(){return _.createRef()}),r.QUARTER_REFS=Qa([],Array(4),!0).map(function(){return _.createRef()}),r.isDisabled=function(n){return Jn(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return ZC(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,a){var o,i;(i=(o=r.props).onDayClick)===null||i===void 0||i.call(o,n,a,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var a,o;(o=(a=r.props).onDayMouseEnter)===null||o===void 0||o.call(a,n)},r.handleMouseLeave=function(){var n,a;(a=(n=r.props).onMouseLeave)===null||a===void 0||a.call(n)},r.isRangeStartMonth=function(n){var a=r.props,o=a.day,i=a.startDate,c=a.endDate;return!i||!c?!1:Jr(Xn(o,n),i)},r.isRangeStartQuarter=function(n){var a=r.props,o=a.day,i=a.startDate,c=a.endDate;return!i||!c?!1:Yg(Xl(o,n),i)},r.isRangeEndMonth=function(n){var a=r.props,o=a.day,i=a.startDate,c=a.endDate;return!i||!c?!1:Jr(Xn(o,n),c)},r.isRangeEndQuarter=function(n){var a=r.props,o=a.day,i=a.startDate,c=a.endDate;return!i||!c?!1:Yg(Xl(o,n),c)},r.isInSelectingRangeMonth=function(n){var a,o=r.props,i=o.day,c=o.selectsStart,d=o.selectsEnd,f=o.selectsRange,p=o.startDate,m=o.endDate,g=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(c||d||f)||!g?!1:c&&m?gm(g,m,n,i):d&&p||f&&p&&!m?gm(p,g,n,i):!1},r.isSelectingMonthRangeStart=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var o=r.props,i=o.day,c=o.startDate,d=o.selectsStart,f=Xn(i,n),p=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return d?Jr(f,p):Jr(f,c)},r.isSelectingMonthRangeEnd=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var o=r.props,i=o.day,c=o.endDate,d=o.selectsEnd,f=o.selectsRange,p=Xn(i,n),m=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return d||f?Jr(p,m):Jr(p,c)},r.isInSelectingRangeQuarter=function(n){var a,o=r.props,i=o.day,c=o.selectsStart,d=o.selectsEnd,f=o.selectsRange,p=o.startDate,m=o.endDate,g=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(c||d||f)||!g?!1:c&&m?xm(g,m,n,i):d&&p||f&&p&&!m?xm(p,g,n,i):!1},r.isWeekInMonth=function(n){var a=r.props.day,o=Ta(n,6);return Jr(n,a)||Jr(o,a)},r.isCurrentMonth=function(n,a){return it(n)===it(Ct())&&a===Zr(Ct())},r.isCurrentQuarter=function(n,a){return it(n)===it(Ct())&&a===Ms(Ct())},r.isSelectedMonth=function(n,a,o){return Zr(o)===a&&it(n)===it(o)},r.isSelectMonthInList=function(n,a,o){return o.some(function(i){return r.isSelectedMonth(n,a,i)})},r.isSelectedQuarter=function(n,a,o){return Ms(n)===a&&it(n)===it(o)},r.renderWeeks=function(){for(var n=[],a=r.props.fixedHeight,o=0,i=!1,c=zi(Fo(r.props.day),r.props.locale,r.props.calendarStartDay),d=function(w){return r.props.showWeekPicker?zi(w,r.props.locale,r.props.calendarStartDay):r.props.preSelection},f=function(w){return r.props.showWeekPicker?zi(w,r.props.locale,r.props.calendarStartDay):r.props.selected},p=r.props.selected?f(r.props.selected):void 0,m=r.props.preSelection?d(r.props.preSelection):void 0;n.push(H.createElement(wie,ht({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:o,day:c,month:Zr(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:p,preSelection:m,showWeekNumber:r.props.showWeekNumbers}))),!i;){o++,c=Ig(c,1);var g=a&&o>=Sie,y=!a&&!r.isWeekInMonth(c);if(g||y)if(r.props.peekNextMonth)i=!0;else break}return n},r.onMonthClick=function(n,a){var o=r.isMonthDisabledForLabelDate(a),i=o.isDisabled,c=o.labelDate;i||r.handleDayClick(Fo(c),n)},r.onMonthMouseEnter=function(n){var a=r.isMonthDisabledForLabelDate(n),o=a.isDisabled,i=a.labelDate;o||r.handleDayMouseEnter(Fo(i))},r.handleMonthNavigation=function(n,a){var o,i,c,d;(i=(o=r.props).setPreSelection)===null||i===void 0||i.call(o,a),(d=(c=r.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()},r.handleKeyboardNavigation=function(n,a,o){var i,c=r.props,d=c.selected,f=c.preSelection,p=c.setPreSelection,m=c.minDate,g=c.maxDate,y=c.showFourColumnMonthYearPicker,w=c.showTwoColumnMonthYearPicker;if(f){var S=gO(y,w),b=r.getVerticalOffset(S),k=(i=Vb[S])===null||i===void 0?void 0:i.grid,C=function(O,N,R){var D,j,A=N,I=R;switch(O){case Me.ArrowRight:A=Oa(N,bm),I=R===11?0:R+bm;break;case Me.ArrowLeft:A=Rs(N,bm),I=R===0?11:R-bm;break;case Me.ArrowUp:A=Rs(N,b),I=!((D=k==null?void 0:k[0])===null||D===void 0)&&D.includes(R)?R+12-b:R-b;break;case Me.ArrowDown:A=Oa(N,b),I=!((j=k==null?void 0:k[k.length-1])===null||j===void 0)&&j.includes(R)?R-12+b:R+b;break}return{newCalculatedDate:A,newCalculatedMonth:I}},$=function(O,N,R){for(var D=40,j=O,A=!1,I=0,B=C(j,N,R),F=B.newCalculatedDate,U=B.newCalculatedMonth;!A;){if(I>=D){F=N,U=R;break}if(m&&F<m){j=Me.ArrowRight;var Y=C(j,F,U);F=Y.newCalculatedDate,U=Y.newCalculatedMonth}if(g&&F>g){j=Me.ArrowLeft;var Y=C(j,F,U);F=Y.newCalculatedDate,U=Y.newCalculatedMonth}if(lie(F,r.props)){var Y=C(j,F,U);F=Y.newCalculatedDate,U=Y.newCalculatedMonth}else A=!0;I++}return{newCalculatedDate:F,newCalculatedMonth:U}};if(a===Me.Enter){r.isMonthDisabled(o)||(r.onMonthClick(n,o),p==null||p(d));return}var L=$(a,f,o),T=L.newCalculatedDate,P=L.newCalculatedMonth;switch(a){case Me.ArrowRight:case Me.ArrowLeft:case Me.ArrowUp:case Me.ArrowDown:r.handleMonthNavigation(P,T);break}}},r.getVerticalOffset=function(n){var a,o;return(o=(a=Vb[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&o!==void 0?o:0},r.onMonthKeyDown=function(n,a){var o=r.props,i=o.disabledKeyboardNavigation,c=o.handleOnMonthKeyDown,d=n.key;d!==Me.Tab&&n.preventDefault(),i||r.handleKeyboardNavigation(n,d,a),c&&c(n)},r.onQuarterClick=function(n,a){var o=Xl(r.props.day,a);ym(o,r.props)||r.handleDayClick(tO(o),n)},r.onQuarterMouseEnter=function(n){var a=Xl(r.props.day,n);ym(a,r.props)||r.handleDayMouseEnter(tO(a))},r.handleQuarterNavigation=function(n,a){var o,i,c,d;r.isDisabled(a)||r.isExcluded(a)||((i=(o=r.props).setPreSelection)===null||i===void 0||i.call(o,a),(d=(c=r.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())},r.onQuarterKeyDown=function(n,a){var o,i,c=n.key;if(!r.props.disabledKeyboardNavigation)switch(c){case Me.Enter:r.onQuarterClick(n,a),(i=(o=r.props).setPreSelection)===null||i===void 0||i.call(o,r.props.selected);break;case Me.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===4?1:a+1,zC(r.props.preSelection,1));break;case Me.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===1?4:a-1,I7(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var a,o=r.props,i=o.day,c=o.minDate,d=o.maxDate,f=o.excludeDates,p=o.includeDates,m=Xn(i,n);return{isDisabled:(a=(c||d||f||p)&&X7(m,r.props))!==null&&a!==void 0?a:!1,labelDate:m}},r.isMonthDisabled=function(n){var a=r.isMonthDisabledForLabelDate(n).isDisabled;return a},r.getMonthClassNames=function(n){var a=r.props,o=a.day,i=a.startDate,c=a.endDate,d=a.preSelection,f=a.monthClassName,p=f?f(Xn(o,n)):void 0,m=r.getSelection();return Ue("react-datepicker__month-text","react-datepicker__month-".concat(n),p,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":m?r.isSelectMonthInList(o,n,m):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&d&&r.isSelectedMonth(o,n,d)&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":i&&c?gm(i,c,n,o):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(o,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=Zr(r.props.preSelection),o=r.isMonthDisabledForLabelDate(a).isDisabled,i=n===a&&!(o||r.props.disabledKeyboardNavigation)?"0":"-1";return i},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=Ms(r.props.preSelection),o=ym(r.props.day,r.props),i=n===a&&!(o||r.props.disabledKeyboardNavigation)?"0":"-1";return i},r.getAriaLabel=function(n){var a=r.props,o=a.chooseDayAriaLabelPrefix,i=o===void 0?"Choose":o,c=a.disabledDayAriaLabelPrefix,d=c===void 0?"Not available":c,f=a.day,p=a.locale,m=Xn(f,n),g=r.isDisabled(m)||r.isExcluded(m)?d:i;return"".concat(g," ").concat(Ut(m,"MMMM yyyy",p))},r.getQuarterClassNames=function(n){var a=r.props,o=a.day,i=a.startDate,c=a.endDate,d=a.selected,f=a.minDate,p=a.maxDate,m=a.excludeDates,g=a.includeDates,y=a.filterDate,w=a.preSelection,S=a.disabledKeyboardNavigation,b=(f||p||m||g||y)&&ym(Xl(o,n),r.props);return Ue("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":b,"react-datepicker__quarter-text--selected":d?r.isSelectedQuarter(o,n,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&w&&r.isSelectedQuarter(o,n,w)&&!b,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":i&&c?xm(i,c,n,o):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(o,n)})},r.getMonthContent=function(n){var a=r.props,o=a.showFullMonthYearPicker,i=a.renderMonthContent,c=a.locale,d=a.day,f=Q7(n,c),p=JC(n,c);return i?i(n,f,p,d):o?p:f},r.getQuarterContent=function(n){var a,o=r.props,i=o.renderQuarterContent,c=o.locale,d=sie(n,c);return(a=i==null?void 0:i(n,d))!==null&&a!==void 0?a:d},r.renderMonths=function(){var n,a=r.props,o=a.showTwoColumnMonthYearPicker,i=a.showFourColumnMonthYearPicker,c=a.day,d=a.selected,f=(n=Vb[gO(i,o)])===null||n===void 0?void 0:n.grid;return f==null?void 0:f.map(function(p,m){return H.createElement("div",{className:"react-datepicker__month-wrapper",key:m},p.map(function(g,y){return H.createElement("div",{ref:r.MONTH_REFS[g],key:y,onClick:function(w){r.onMonthClick(w,g)},onKeyDown:function(w){eN(w)&&(w.preventDefault(),w.key=Me.Enter),r.onMonthKeyDown(w,g)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(g)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(g)}:void 0,tabIndex:Number(r.getTabIndex(g)),className:r.getMonthClassNames(g),"aria-disabled":r.isMonthDisabled(g),role:"option","aria-label":r.getAriaLabel(g),"aria-current":r.isCurrentMonth(c,g)?"date":void 0,"aria-selected":d?r.isSelectedMonth(c,g,d):void 0},r.getMonthContent(g))}))})},r.renderQuarters=function(){var n=r.props,a=n.day,o=n.selected,i=[1,2,3,4];return H.createElement("div",{className:"react-datepicker__quarter-wrapper"},i.map(function(c,d){return H.createElement("div",{key:d,ref:r.QUARTER_REFS[d],role:"option",onClick:function(f){r.onQuarterClick(f,c)},onKeyDown:function(f){r.onQuarterKeyDown(f,c)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(c)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(c)}:void 0,className:r.getQuarterClassNames(c),"aria-selected":o?r.isSelectedQuarter(a,c,o):void 0,tabIndex:Number(r.getQuarterTabIndex(c)),"aria-current":r.isCurrentQuarter(a,c)?"date":void 0},r.getQuarterContent(c))}))},r.getClassNames=function(){var n=r.props,a=n.selectingDate,o=n.selectsStart,i=n.selectsEnd,c=n.showMonthYearPicker,d=n.showQuarterYearPicker,f=n.showWeekPicker;return Ue("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(o||i)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":f})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,a=r.selectedDates,o=r.selectsMultiple;if(o)return a;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,a=r.showQuarterYearPicker,o=r.day,i=r.ariaLabelPrefix,c=i===void 0?"Month ":i,d=c?c.trim()+" ":"";return H.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(Ut(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},t}(_.Component),jie=function(e){kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isSelectedMonth=function(n){return r.props.month===n},r.renderOptions=function(){return r.props.monthNames.map(function(n,a){return H.createElement("div",{className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?H.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return H.createElement(bv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(_.Component),Cie=function(e){kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(a,o){return H.createElement("option",{key:a,value:o},a)})},r.renderSelectMode=function(n){return H.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(a){return r.onChange(parseInt(a.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,a){return H.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},H.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),H.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))},r.renderDropdown=function(n){return H.createElement(jie,ht({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var a=r.state.dropdownVisible,o=[r.renderReadView(!a,n)];return a&&o.unshift(r.renderDropdown(n)),o},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return Q7(o,r.props.locale)}:function(o){return JC(o,r.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return H.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t}(_.Component);function $ie(e,t){for(var r=[],n=Fo(e),a=Fo(t);!Vi(n,a);)r.push(Ct(n)),n=Oa(n,1);return r}var Tie=function(e){kr(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var o=PE(a),i=Ya(n.props.date,a)&&Jr(n.props.date,a);return H.createElement("div",{className:i?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":i?"true":void 0},i?H.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Ut(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:$ie(n.props.minDate,n.props.maxDate)},n}return t.prototype.render=function(){var r=Ue({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return H.createElement(bv,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(_.Component),kie=function(e){kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=Fo(r.props.minDate),a=Fo(r.props.maxDate),o=[];!Vi(n,a);){var i=PE(n);o.push(H.createElement("option",{key:i,value:i},Ut(n,r.props.dateFormat,r.props.locale))),n=Oa(n,1)}return o},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return H.createElement("select",{value:PE(Fo(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var a=Ut(r.props.date,r.props.dateFormat,r.props.locale);return H.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},H.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),H.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},r.renderDropdown=function(){return H.createElement(Tie,ht({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown();var a=Ct(n);Ya(r.props.date,a)&&Jr(r.props.date,a)||r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return H.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(_.Component),Aie=function(e){kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,o;r.list&&(r.list.scrollTop=(o=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((a=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):r.list.clientHeight,r.centerLi))!==null&&o!==void 0?o:0)})},r.handleClick=function(n){var a,o;(r.props.minTime||r.props.maxTime)&&iO(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&oO(n,r.props)||(o=(a=r.props).onChange)===null||o===void 0||o.call(a,n)},r.isSelectedTime=function(n){return r.props.selected&&yie(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&iO(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&oO(n,r.props)},r.liClasses=function(n){var a,o=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(Bo(n)*3600+zo(n)*60+Bi(n))%(((a=r.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},r.handleOnKeyDown=function(n,a){var o,i;n.key===Me.Space&&(n.preventDefault(),n.key=Me.Enter),(n.key===Me.ArrowUp||n.key===Me.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Me.ArrowDown||n.key===Me.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Me.Enter&&r.handleClick(a),(i=(o=r.props).handleOnKeyDown)===null||i===void 0||i.call(o,n)},r.renderTimes=function(){for(var n,a=[],o=typeof r.props.format=="string"?r.props.format:"p",i=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,c=r.props.selected||r.props.openToDate||Ct(),d=ug(c),f=r.props.injectTimes&&r.props.injectTimes.sort(function(b,k){return b.getTime()-k.getTime()}),p=60*gie(c),m=p/i,g=0;g<m;g++){var y=kE(d,g*i);if(a.push(y),f){var w=mie(d,y,g,i,f);a=a.concat(w)}}var S=a.reduce(function(b,k){return k.getTime()<=c.getTime()?k:b},a[0]);return a.map(function(b){return H.createElement("li",{key:b.valueOf(),onClick:r.handleClick.bind(r,b),className:r.liClasses(b),ref:function(k){b===S&&(r.centerLi=k)},onKeyDown:function(k){r.handleOnKeyDown(k,b)},tabIndex:b===S?0:-1,role:"option","aria-selected":r.isSelectedTime(b)?"true":void 0,"aria-disabled":r.isDisabledTime(b)?"true":void 0},Ut(b,o,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?H.createElement(H.Fragment,null):H.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},H.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var r=this,n,a=this.state.height;return H.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),H.createElement("div",{className:"react-datepicker__time"},H.createElement("div",{className:"react-datepicker__time-box"},H.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){r.list=o},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t}(_.Component),yO=3,Oie=function(e){kr(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=Qa([],Array(n.props.yearItemNumber),!0).map(function(){return _.createRef()}),n.isDisabled=function(a){return Jn(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return ZC(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var o=function(){var i,c;(c=(i=n.YEAR_REFS[a])===null||i===void 0?void 0:i.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(a,o){n.props.onDayClick&&n.props.onDayClick(a,o)},n.handleYearNavigation=function(a,o){var i,c,d,f,p=n.props,m=p.date,g=p.yearItemNumber;if(!(m===void 0||g===void 0)){var y=Ri(m,g).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((c=(i=n.props).setPreSelection)===null||c===void 0||c.call(i,o),a-y<0?n.updateFocusOnPaginate(g-(y-a)):a-y>=g?n.updateFocusOnPaginate(Math.abs(g-(a-y))):(f=(d=n.YEAR_REFS[a-y])===null||d===void 0?void 0:d.current)===null||f===void 0||f.focus())}},n.isSameDay=function(a,o){return pt(a,o)},n.isCurrentYear=function(a){return a===it(Ct())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&Ya(Va(Ct(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&Ya(Va(Ct(),a),n.props.endDate)},n.isInRange=function(a){return vm(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var o=n.props,i=o.selectsStart,c=o.selectsEnd,d=o.selectsRange,f=o.startDate,p=o.endDate;return!(i||c||d)||!n.selectingDate()?!1:i&&p?vm(a,n.selectingDate(),p):c&&f||d&&f&&!p?vm(a,f,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var o;if(!n.isInSelectingRange(a))return!1;var i=n.props,c=i.startDate,d=i.selectsStart,f=Va(Ct(),a);return d?Ya(f,(o=n.selectingDate())!==null&&o!==void 0?o:null):Ya(f,c??null)},n.isSelectingRangeEnd=function(a){var o;if(!n.isInSelectingRange(a))return!1;var i=n.props,c=i.endDate,d=i.selectsEnd,f=i.selectsRange,p=Va(Ct(),a);return d||f?Ya(p,(o=n.selectingDate())!==null&&o!==void 0?o:null):Ya(p,c??null)},n.isKeyboardSelected=function(a){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,i=o.minDate,c=o.maxDate,d=o.excludeDates,f=o.includeDates,p=o.filterDate,m=Vd(Va(n.props.date,a)),g=(i||c||d||f||p)&&dg(a,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!pt(m,Vd(n.props.selected))&&pt(m,Vd(n.props.preSelection))&&!g}},n.onYearClick=function(a,o){var i=n.props.date;i!==void 0&&n.handleYearClick(Vd(Va(i,o)),a)},n.onYearKeyDown=function(a,o){var i,c,d=a.key,f=n.props,p=f.date,m=f.yearItemNumber,g=f.handleOnKeyDown;if(d!==Me.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(d){case Me.Enter:if(n.props.selected==null)break;n.onYearClick(a,o),(c=(i=n.props).setPreSelection)===null||c===void 0||c.call(i,n.props.selected);break;case Me.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,No(n.props.preSelection,1));break;case Me.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,Ec(n.props.preSelection,1));break;case Me.ArrowUp:{if(p===void 0||m===void 0||n.props.preSelection==null)break;var y=Ri(p,m).startPeriod,w=yO,S=o-w;if(S<y){var b=m%w;o>=y&&o<y+b?w=b:w+=b,S=o-w}n.handleYearNavigation(S,Ec(n.props.preSelection,w));break}case Me.ArrowDown:{if(p===void 0||m===void 0||n.props.preSelection==null)break;var k=Ri(p,m).endPeriod,w=yO,S=o+w;if(S>k){var b=m%w;o<=k&&o>k-b?w=b:w+=b,S=o+w}n.handleYearNavigation(S,No(n.props.preSelection,w));break}}g&&g(a)},n.getYearClassNames=function(a){var o=n.props,i=o.date,c=o.minDate,d=o.maxDate,f=o.selected,p=o.excludeDates,m=o.includeDates,g=o.filterDate,y=o.yearClassName;return Ue("react-datepicker__year-text","react-datepicker__year-".concat(a),i?y==null?void 0:y(Va(i,a)):void 0,{"react-datepicker__year-text--selected":f?a===it(f):void 0,"react-datepicker__year-text--disabled":(c||d||p||m||g)&&dg(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=it(n.props.preSelection),i=dg(a,n.props);return a===o&&!i?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return t.prototype.render=function(){var r=this,n=[],a=this.props,o=a.date,i=a.yearItemNumber,c=a.onYearMouseEnter,d=a.onYearMouseLeave;if(o===void 0)return null;for(var f=Ri(o,i),p=f.startPeriod,m=f.endPeriod,g=function(S){n.push(H.createElement("div",{ref:y.YEAR_REFS[S-p],onClick:function(b){r.onYearClick(b,S)},onKeyDown:function(b){eN(b)&&(b.preventDefault(),b.key=Me.Enter),r.onYearKeyDown(b,S)},tabIndex:Number(y.getYearTabIndex(S)),className:y.getYearClassNames(S),onMouseEnter:y.props.usePointerEvent?void 0:function(b){return c(b,S)},onPointerEnter:y.props.usePointerEvent?function(b){return c(b,S)}:void 0,onMouseLeave:y.props.usePointerEvent?void 0:function(b){return d(b,S)},onPointerLeave:y.props.usePointerEvent?function(b){return d(b,S)}:void 0,key:S,"aria-current":y.isCurrentYear(S)?"date":void 0},y.getYearContent(S)))},y=this,w=p;w<=m;w++)g(w);return H.createElement("div",{className:"react-datepicker__year"},H.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t}(_.Component);function Pie(e,t,r,n){for(var a=[],o=0;o<2*t+1;o++){var i=e+t-o,c=!0;r&&(c=it(r)<=i),n&&c&&(c=it(n)>=i),c&&a.push(i)}return a}var _ie=function(e){kr(t,e);function t(r){var n=e.call(this,r)||this;n.renderOptions=function(){var c=n.props.year,d=n.state.yearsList.map(function(m){return H.createElement("div",{className:c===m?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:m,onClick:n.onChange.bind(n,m),"aria-selected":c===m?"true":void 0},c===m?H.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",m)}),f=n.props.minDate?it(n.props.minDate):null,p=n.props.maxDate?it(n.props.maxDate):null;return(!p||!n.state.yearsList.find(function(m){return m===p}))&&d.unshift(H.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},H.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!f||!n.state.yearsList.find(function(m){return m===f}))&&d.push(H.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},H.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var d=n.state.yearsList.map(function(f){return f+c});n.setState({yearsList:d})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,o=r.scrollableYearDropdown,i=a||(o?10:5);return n.state={yearsList:Pie(n.props.year,i,n.props.minDate,n.props.maxDate)},n.dropdownRef=_.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,a=n?n.find(function(o){return o.ariaSelected}):null;r.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=Ue({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return H.createElement(bv,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(_.Component),Die=function(e){kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?it(r.props.minDate):1900,a=r.props.maxDate?it(r.props.maxDate):2100,o=[],i=n;i<=a;i++)o.push(H.createElement("option",{key:i,value:i},i));return o},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return H.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return H.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return r.toggleDropdown(a)}},H.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),H.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return H.createElement(_ie,ht({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,a){var o;(o=r.onSelect)===null||o===void 0||o.call(r,n,a),r.setOpen()},r.onSelect=function(n,a){var o,i;(i=(o=r.props).onSelect)===null||i===void 0||i.call(o,n,a)},r.setOpen=function(){var n,a;(a=(n=r.props).setOpen)===null||a===void 0||a.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return H.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(_.Component),Mie=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Rie=function(e){var t=(e.className||"").split(/\s+/);return Mie.some(function(r){return t.indexOf(r)>=0})},Iie=function(e){kr(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var o,i;Rie(a.target)&&((i=(o=n.props).onDropdownFocus)===null||i===void 0||i.call(o,a))},n.getDateInView=function(){var a=n.props,o=a.preSelection,i=a.selected,c=a.openToDate,d=J7(n.props),f=Z7(n.props),p=Ct(),m=c||i||o;return m||(d&&Ws(p,d)?d:f&&Vi(p,f)?f:p)},n.increaseMonth=function(){n.setState(function(a){var o=a.date;return{date:Oa(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var o=a.date;return{date:Rs(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,o,i){n.props.onSelect(a,o,i),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,o){n.setState({selectingDate:Va(Ct(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,o)},n.handleYearMouseLeave=function(a,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,o)},n.handleYearChange=function(a){var o,i,c,d;(i=(o=n.props).onYearChange)===null||i===void 0||i.call(o,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(d=(c=n.props).setOpen)===null||d===void 0||d.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!Jn(a,n.props))return a;for(var o=Fo(a),i=nie(a),c=_re(i,o),d=null,f=0;f<=c;f++){var p=Ta(o,f);if(!Jn(p,n.props)){d=p;break}}return d},n.handleMonthChange=function(a){var o,i,c,d=(o=n.getEnabledPreSelectionDateForMonth(a))!==null&&o!==void 0?o:a;n.handleCustomMonthChange(d),n.props.adjustDateOnChange&&(n.props.onSelect(d),(c=(i=n.props).setOpen)===null||c===void 0||c.call(i,!0)),n.props.setPreSelection&&n.props.setPreSelection(d)},n.handleCustomMonthChange=function(a){var o,i;(i=(o=n.props).onMonthChange)===null||i===void 0||i.call(o,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(o){var i=o.date;return{date:Va(i,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(o){var i=o.date;return{date:Xn(i,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(o){var i=o.date;return{date:Va(Xn(i,Zr(a)),it(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var o=zi(a,n.props.locale,n.props.calendarStartDay),i=[];return n.props.showWeekNumbers&&i.push(H.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),i.concat([0,1,2,3,4,5,6].map(function(c){var d=Ta(o,c),f=n.formatWeekday(d,n.props.locale),p=n.props.weekDayClassName?n.props.weekDayClassName(d):void 0;return H.createElement("div",{key:c,"aria-label":Ut(d,"EEEE",n.props.locale),className:Ue("react-datepicker__day-name",p)},f)}))},n.formatWeekday=function(a,o){return n.props.formatWeekDay?aie(a,n.props.formatWeekDay,o):n.props.useWeekdaysShort?iie(a,o):oie(a,o)},n.decreaseYear=function(){n.setState(function(a){var o,i=a.date;return{date:Ec(i,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,o,i;if(!n.props.renderCustomHeader){var c=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,f=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,p=Rs(n.state.date,f),m;switch(!0){case n.props.showMonthYearPicker:m=cO(n.state.date,n.props);break;case n.props.showYearPicker:m=die(n.state.date,n.props);break;case n.props.showQuarterYearPicker:m=cie(n.state.date,n.props);break;default:m=sO(p,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&m||n.props.showTimeSelectOnly)){var g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],y=["react-datepicker__navigation","react-datepicker__navigation--previous"],w=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(w=n.decreaseYear),m&&n.props.showDisabledMonthNavigation&&(y.push("react-datepicker__navigation--previous--disabled"),w=void 0);var S=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,b=n.props,k=b.previousMonthButtonLabel,C=k===void 0?t.defaultProps.previousMonthButtonLabel:k,$=b.previousYearButtonLabel,L=$===void 0?t.defaultProps.previousYearButtonLabel:$,T=n.props,P=T.previousMonthAriaLabel,O=P===void 0?typeof C=="string"?C:"Previous Month":P,N=T.previousYearAriaLabel,R=N===void 0?typeof L=="string"?L:"Previous Year":N;return H.createElement("button",{type:"button",className:y.join(" "),onClick:w,onKeyDown:n.props.handleOnKeyDown,"aria-label":S?R:O},H.createElement("span",{className:g.join(" ")},S?L:C))}}},n.increaseYear=function(){n.setState(function(a){var o,i=a.date;return{date:No(i,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=uO(n.state.date,n.props);break;case n.props.showYearPicker:o=fie(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=uie(n.state.date,n.props);break;default:o=lO(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var i=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var d=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(d=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),d=void 0);var f=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,p=n.props,m=p.nextMonthButtonLabel,g=m===void 0?t.defaultProps.nextMonthButtonLabel:m,y=p.nextYearButtonLabel,w=y===void 0?t.defaultProps.nextYearButtonLabel:y,S=n.props,b=S.nextMonthAriaLabel,k=b===void 0?typeof g=="string"?g:"Next Month":b,C=S.nextYearAriaLabel,$=C===void 0?typeof w=="string"?w:"Next Year":C;return H.createElement("button",{type:"button",className:i.join(" "),onClick:d,onKeyDown:n.props.handleOnKeyDown,"aria-label":f?$:k},H.createElement("span",{className:c.join(" ")},f?w:g))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),H.createElement("h2",{className:o.join(" ")},Ut(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return H.createElement(Die,ht({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:it(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return H.createElement(Cie,ht({},t.defaultProps,n.props,{month:Zr(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return H.createElement(kie,ht({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(rO(),a),n.props.setPreSelection&&n.props.setPreSelection(rO())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return H.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(a){var o=a.monthDate,i=a.i;return H.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),H.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(i!==0),n.renderMonthYearDropdown(i!==0),n.renderYearDropdown(i!==0)),H.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(a){var o,i,c=a.monthDate,d=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var f=sO(n.state.date,n.props),p=lO(n.state.date,n.props),m=cO(n.state.date,n.props),g=uO(n.state.date,n.props),y=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return H.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(i=(o=n.props).renderCustomHeader)===null||i===void 0?void 0:i.call(o,ht(ht({},n.state),{customHeaderCount:d,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:f,nextMonthButtonDisabled:p,prevYearButtonDisabled:m,nextYearButtonDisabled:g})),y&&H.createElement("div",{className:"react-datepicker__day-names"},n.header(c)))},n.renderYearHeader=function(a){var o=a.monthDate,i=n.props,c=i.showYearPicker,d=i.yearItemNumber,f=d===void 0?t.defaultProps.yearItemNumber:d,p=Ri(o,f),m=p.startPeriod,g=p.endPeriod;return H.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(m," - ").concat(g):it(o))},n.renderHeader=function(a){var o=a.monthDate,i=a.i,c=i===void 0?0:i,d={monthDate:o,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(d);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(d);default:return n.renderDefaultHeader(d)}},n.renderMonths=function(){var a,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var i=[],c=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,f=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?No(n.state.date,d):Rs(n.state.date,d),p=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,m=0;m<c;++m){var g=m-p+d,y=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?No(f,g):Oa(f,g),w="month-".concat(m),S=m<c-1,b=m>0;i.push(H.createElement("div",{key:w,ref:function(k){n.monthContainer=k??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:y,i:m}),H.createElement(Eie,ht({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:y,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:m,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:b}))))}return i}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return H.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),H.createElement(Oie,ht({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return H.createElement(Aie,ht({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,o=a&&wv(a)&&!!n.props.selected,i=o?"".concat(fO(a.getHours()),":").concat(fO(a.getMinutes())):"";if(n.props.showTimeInput)return H.createElement(vie,ht({},t.defaultProps,n.props,{date:a,timeString:i,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,o=Ri(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),i=o.startPeriod,c=o.endPeriod,d;return n.props.showYearPicker?d="".concat(i," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?d=it(n.state.date):d="".concat(JC(Zr(n.state.date),n.props.locale)," ").concat(it(n.state.date)),H.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&d)},n.renderChildren=function(){if(n.props.children)return H.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=_.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:lp}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!pt(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var a=!Jr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!pt(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||Qoe;return H.createElement(bv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},H.createElement("div",{style:{display:"contents"},ref:this.containerRef},H.createElement(r,{className:Ue("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(_.Component),Nie=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,a=e.onClick,o="react-datepicker__calendar-icon";if(typeof t=="string")return H.createElement("i",{className:"".concat(o," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:a});if(H.isValidElement(t)){var i=t;return H.cloneElement(i,{className:"".concat(i.props.className||""," ").concat(o," ").concat(n),onClick:function(c){typeof i.props.onClick=="function"&&i.props.onClick(c),typeof a=="function"&&a(c)}})}return H.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},H.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},tN=function(e){kr(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return gH.createPortal(this.props.children,this.el)},t}(_.Component),Lie="[tabindex], a, button, input, select, textarea",Bie=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},rN=function(e){kr(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(Lie),1,-1).filter(Bie)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=_.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?H.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},H.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,H.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(_.Component);function zie(e){var t=function(r){var n,a=typeof r.hidePopper=="boolean"?r.hidePopper:!0,o=_.useRef(null),i=Koe(ht({open:!a,whileElementsMounted:Toe,placement:r.popperPlacement,middleware:Qa([Moe({padding:15}),Doe(10),Roe({element:o})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),c=ht(ht({},r),{hidePopper:a,popperProps:ht(ht({},i),{arrowRef:o})});return H.createElement(e,ht({},c))};return t}var Fie=function(e){kr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r=this.props,n=r.className,a=r.wrapperClassName,o=r.hidePopper,i=o===void 0?t.defaultProps.hidePopper:o,c=r.popperComponent,d=r.targetComponent,f=r.enableTabLoop,p=r.popperOnKeyDown,m=r.portalId,g=r.portalHost,y=r.popperProps,w=r.showArrow,S=void 0;if(!i){var b=Ue("react-datepicker-popper",n);S=H.createElement(rN,{enableTabLoop:f},H.createElement("div",{ref:y.refs.setFloating,style:y.floatingStyles,className:b,"data-placement":y.placement,onKeyDown:p},c,w&&H.createElement(qoe,{ref:y.arrowRef,context:y.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(S=_.createElement(this.props.popperContainer,{},S)),m&&!i&&(S=H.createElement(tN,{portalId:m,portalHost:g},S));var k=Ue("react-datepicker-wrapper",a);return H.createElement(H.Fragment,null,H.createElement("div",{ref:y.refs.setReference,className:k},d),S)},t}(_.Component),qie=zie(Fie),vO="react-datepicker-ignore-onclickoutside";function Hie(e,t){return e&&t?Zr(e)!==Zr(t)||it(e)!==it(t):e!==t}var Wb="Date input not valid.",nN=function(e){kr(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Ct()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(o,i){var c=new Date(i.date);return wv(c)?Qa(Qa([],o,!0),[ht(ht({},i),{date:c})],!1):o},[])},n.calcInitialState=function(){var a,o=n.getPreSelection(),i=J7(n.props),c=Z7(n.props),d=i&&Ws(o,ug(i))?i:c&&Vi(o,nO(c))?c:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:d,highlightDates:dO(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(ht(ht({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(ht(ht({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,o;(o=(a=n.input)===null||a===void 0?void 0:a.focus)===null||o===void 0||o.call(a,{preventScroll:!0})},n.setBlur=function(){var a,o;(o=(a=n.input)===null||a===void 0?void 0:a.blur)===null||o===void 0||o.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,o){o===void 0&&(o=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Yb},function(){a||n.setState(function(i){return{focused:o?i.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Lo(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var o,i,c=n.state.wasHidden,d=c?n.state.open:!0;c&&n.resetHiddenStatus(),n.state.preventFocus||((i=(o=n.props).onFocus)===null||i===void 0||i.call(o,a),d&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(a){var o,i;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((i=(o=n.props).onBlur)===null||i===void 0||i.call(o,a)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var o,i;n.props.inline||n.setOpen(!1),(i=(o=n.props).onClickOutside)===null||i===void 0||i.call(o,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,o,i,c,d,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var m=f[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,f),!m||typeof m.isDefaultPrevented!="function"||m.isDefaultPrevented()))){n.setState({inputValue:(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:null,lastPreSelectChange:Uie});var g=n.props,y=g.selectsRange,w=g.startDate,S=g.endDate,b=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,k=(o=n.props.strictParsing)!==null&&o!==void 0?o:t.defaultProps.strictParsing,C=(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:"";if(y){var $=C.split("-",2).map(function(j){return j.trim()}),L=$[0],T=$[1],P=Hb(L??"",b,n.props.locale,k),O=Hb(T??"",b,n.props.locale,k),N=(w==null?void 0:w.getTime())!==(P==null?void 0:P.getTime()),R=(S==null?void 0:S.getTime())!==(O==null?void 0:O.getTime());if(!N&&!R||P&&Jn(P,n.props)||O&&Jn(O,n.props))return;(c=(i=n.props).onChange)===null||c===void 0||c.call(i,[P,O],m)}else{var D=Hb(C,b,n.props.locale,k,(d=n.props.selected)!==null&&d!==void 0?d:void 0);(D||!C)&&n.setSelected(D,m,!0)}}},n.handleSelect=function(a,o,i){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(a,o,!1,i),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(a);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var c=n.props,d=c.startDate,f=c.endDate;d&&!f&&(n.props.swapRange||!mO(a,d))&&n.setOpen(!1)}},n.setSelected=function(a,o,i,c){var d,f,p=a;if(n.props.showYearPicker){if(p!==null&&dg(it(p),n.props))return}else if(n.props.showMonthYearPicker){if(p!==null&&X7(p,n.props))return}else if(p!==null&&Jn(p,n.props))return;var m=n.props,g=m.onChange,y=m.selectsRange,w=m.startDate,S=m.endDate,b=m.selectsMultiple,k=m.selectedDates,C=m.minTime,$=m.swapRange;if(!js(n.props.selected,p)||n.props.allowSameDay||y||b)if(p!==null&&(n.props.selected&&(!i||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(p=Ub(p,{hour:Bo(n.props.selected),minute:zo(n.props.selected),second:Bi(n.props.selected)})),!i&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&C&&(p=Ub(p,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),n.props.inline||n.setState({preSelection:p}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),y){var L=!w&&!S,T=w&&!S,P=w&&S;L?g==null||g([p,null],o):T&&(p===null?g==null||g([null,null],o):mO(p,w)?$?g==null||g([p,w],o):g==null||g([p,null],o):g==null||g([w,p],o)),P&&(g==null||g([p,null],o))}else if(b){if(p!==null)if(!(k!=null&&k.length))g==null||g([p],o);else{var O=k.some(function(R){return pt(R,p)});if(O){var N=k.filter(function(R){return!pt(R,p)});g==null||g(N,o)}else g==null||g(Qa(Qa([],k,!0),[p],!1),o)}}else g==null||g(p,o);i||((f=(d=n.props).onSelect)===null||f===void 0||f.call(d,p,o),n.setState({inputValue:null}))},n.setPreSelection=function(a){var o=Lo(n.props.minDate),i=Lo(n.props.maxDate),c=!0;if(a){var d=ug(a);if(o&&i)c=Wd(a,n.props.minDate,n.props.maxDate);else if(o){var f=ug(n.props.minDate);c=Vi(a,f)||js(d,f)}else if(i){var p=nO(n.props.maxDate);c=Ws(a,p)||js(d,p)}}c&&n.setState({preSelection:a})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var o,i;if(!(n.props.selectsRange||n.props.selectsMultiple)){var c=n.props.selected?n.props.selected:n.getPreSelection(),d=n.props.selected?a:Ub(c,{hour:Bo(a),minute:zo(a)});n.setState({preSelection:d}),(i=(o=n.props).onChange)===null||i===void 0||i.call(o,d),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(a=n.props).onInputClick)===null||o===void 0||o.call(a)},n.onInputKeyDown=function(a){var o,i,c,d,f,p;(i=(o=n.props).onKeyDown)===null||i===void 0||i.call(o,a);var m=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(m===Me.ArrowDown||m===Me.ArrowUp||m===Me.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open){if(m===Me.ArrowDown||m===Me.ArrowUp){a.preventDefault();var g=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',y=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(g);y instanceof HTMLElement&&y.focus({preventScroll:!0});return}var w=Ct(n.state.preSelection);m===Me.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Yb?(n.handleSelect(w,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(w)):n.setOpen(!1)):m===Me.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):m===Me.Tab&&n.setOpen(!1),n.inputOk()||(p=(f=n.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:Wb})}},n.onPortalKeyDown=function(a){var o=a.key;o===Me.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var o,i,c,d,f,p,m=n.props,g=m.minDate,y=m.maxDate,w=m.disabledKeyboardNavigation,S=m.showWeekPicker,b=m.shouldCloseOnSelect,k=m.locale,C=m.calendarStartDay,$=m.adjustDateOnChange,L=m.inline;if((i=(o=n.props).onKeyDown)===null||i===void 0||i.call(o,a),!w){var T=a.key,P=a.shiftKey,O=Ct(n.state.preSelection),N=function(F,U){var Y=U;switch(F){case Me.ArrowRight:Y=S?Ig(U,1):Ta(U,1);break;case Me.ArrowLeft:Y=S?WA(U):_ae(U);break;case Me.ArrowUp:Y=WA(U);break;case Me.ArrowDown:Y=Ig(U,1);break;case Me.PageUp:Y=P?Ec(U,1):Rs(U,1);break;case Me.PageDown:Y=P?No(U,1):Oa(U,1);break;case Me.Home:Y=zi(U,k,C);break;case Me.End:Y=rie(U);break}return Y},R=function(F,U){for(var Y=40,W=F,Q=!1,Z=0,V=N(F,U);!Q;){if(Z>=Y){V=U;break}g&&V<g&&(W=Me.ArrowRight,V=Jn(g,n.props)?N(W,V):g),y&&V>y&&(W=Me.ArrowLeft,V=Jn(y,n.props)?N(W,V):y),Jn(V,n.props)?((W===Me.PageUp||W===Me.Home)&&(W=Me.ArrowRight),(W===Me.PageDown||W===Me.End)&&(W=Me.ArrowLeft),V=N(W,V)):Q=!0,Z++}return V};if(T===Me.Enter){a.preventDefault(),n.handleSelect(O,a),!b&&n.setPreSelection(O);return}else if(T===Me.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(d=(c=n.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:Wb});return}var D=null;switch(T){case Me.ArrowLeft:case Me.ArrowRight:case Me.ArrowUp:case Me.ArrowDown:case Me.PageUp:case Me.PageDown:case Me.Home:case Me.End:D=R(T,O);break}if(!D){(p=(f=n.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:Wb});return}if(a.preventDefault(),n.setState({lastPreSelectChange:Yb}),$&&n.setSelected(D),n.setPreSelection(D),L){var j=Zr(O),A=Zr(D),I=it(O),B=it(D);j!==A||I!==B?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var o=a.key;o===Me.Escape&&(a.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var o=n.props,i=o.selectsRange,c=o.onChange;i?c==null||c([null,null],a):c==null||c(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,o;return!n.props.inline&&!n.isCalendarOpen()?null:H.createElement(Iie,ht({showMonthYearDropdown:void 0,ref:function(i){n.calendar=i}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:hie(n.modifyHolidays()),outsideClickIgnoreClass:vO,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:t.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a=n.props,o=a.dateFormat,i=o===void 0?t.defaultProps.dateFormat:o,c=a.locale,d=n.props.showTimeInput||n.props.showTimeSelect,f=d?"PPPPp":"PPPP",p;return n.props.selectsRange?p="Selected start date: ".concat(Qn(n.props.startDate,{dateFormat:f,locale:c}),". ").concat(n.props.endDate?"End date: "+Qn(n.props.endDate,{dateFormat:f,locale:c}):""):n.props.showTimeSelectOnly?p="Selected time: ".concat(Qn(n.props.selected,{dateFormat:i,locale:c})):n.props.showYearPicker?p="Selected year: ".concat(Qn(n.props.selected,{dateFormat:"yyyy",locale:c})):n.props.showMonthYearPicker?p="Selected month: ".concat(Qn(n.props.selected,{dateFormat:"MMMM yyyy",locale:c})):n.props.showQuarterYearPicker?p="Selected quarter: ".concat(Qn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):p="Selected date: ".concat(Qn(n.props.selected,{dateFormat:f,locale:c})),H.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},n.renderDateInput=function(){var a,o,i,c=Ue(n.props.className,(a={},a[vO]=n.state.open,a)),d=n.props.customInput||H.createElement("input",{type:"text"}),f=n.props.customInputRef||"ref",p=n.props,m=p.dateFormat,g=m===void 0?t.defaultProps.dateFormat:m,y=p.locale,w=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?Joe(n.props.startDate,n.props.endDate,{dateFormat:g,locale:y}):n.props.selectsMultiple?Zoe((i=n.props.selectedDates)!==null&&i!==void 0?i:[],{dateFormat:g,locale:y}):Qn(n.props.selected,{dateFormat:g,locale:y});return _.cloneElement(d,(o={},o[f]=function(S){n.input=S},o.value=w,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=Ue(d.props.className,c),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var a=n.props,o=a.isClearable,i=a.disabled,c=a.selected,d=a.startDate,f=a.endDate,p=a.clearButtonTitle,m=a.clearButtonClassName,g=m===void 0?"":m,y=a.ariaLabelClose,w=y===void 0?"Close":y,S=a.selectedDates;return o&&(c!=null||d!=null||f!=null||S!=null&&S.length)?H.createElement("button",{type:"button",className:Ue("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":i}),disabled:i,"aria-label":w,onClick:n.onClearClick,title:p,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:lp,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var a,o,i,c;r.inline&&Hie(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:dO(this.props.highlightDates)}),!n.focused&&!js(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(a=this.props).onCalendarOpen)===null||o===void 0||o.call(a)),n.open===!0&&this.state.open===!1&&((c=(i=this.props).onCalendarClose)===null||c===void 0||c.call(i)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,a=r.icon,o=r.calendarIconClassname,i=r.calendarIconClassName,c=r.toggleCalendarOnIconClick,d=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),H.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&H.createElement(Nie,ht({icon:a,className:Ue(i,!i&&o,d&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?H.createElement(rN,{enableTabLoop:this.props.enableTabLoop},H.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=H.createElement(tN,ht({portalId:this.props.portalId},this.props),n)),H.createElement("div",null,this.renderInputContainer(),n)}return H.createElement(qie,ht({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(_.Component),Uie="input",Yb="navigate";const Cd=new Yr;function aN(){var me;const[e,t]=_.useState(!1),{accessToken:r}=wt(),[n,a]=_.useState([]),[o,i]=_.useState(!0),[c,d]=_.useState(null),[f,p]=_.useState({level:"all",source:"all",dateFrom:null,dateTo:null,limit:100,page:1,search:""}),[m,g]=_.useState({page:1,limit:100,total:0,pages:1}),[y,w]=_.useState({totalLogs:0,errorCount:0,warnCount:0,infoCount:0,debugCount:0}),[S,b]=_.useState([]),[k,C]=_.useState(!1),[$,L]=_.useState(null),[T,P]=_.useState(null),[O,N]=_.useState(!1),[R,D]=_.useState(!1),[j,A]=_.useState(30),[I,B]=_.useState(!1);_.useEffect(()=>{(async()=>{try{const ve=await Cd.getLogSources(r);ve!=null&&ve.success&&Array.isArray(ve.sources)&&b(ve.sources);const we=await Cd.getLogsSummary(r);we!=null&&we.success&&L(we.summary),await F()}catch(ve){console.error("Error al cargar datos iniciales:",ve),d("No se pudieron cargar los datos iniciales. Por favor, intente de nuevo.")}})()},[r]),_.useEffect(()=>{F()},[r,f.level,f.source,f.limit,f.page]),_.useEffect(()=>{const ne=setTimeout(()=>{(f.dateFrom||f.dateTo)&&F()},500);return()=>clearTimeout(ne)},[f.dateFrom,f.dateTo]),_.useEffect(()=>{const ne=setTimeout(()=>{f.search&&F()},500);return()=>clearTimeout(ne)},[f.search]);const F=async()=>{try{i(!0),d(null);const ne={...f};ne.dateFrom&&(ne.dateFrom=ne.dateFrom.toISOString()),ne.dateTo&&(ne.dateTo=ne.dateTo.toISOString());const ve=await Cd.getLogs(r,ne);if(ve.success)a(ve.logs||[]),ve.pagination&&g(ve.pagination),ve.stats&&w(ve.stats);else throw new Error(ve.message||"Error al cargar logs")}catch(ne){console.error("Error fetching logs:",ne),d("No se pudieron cargar los logs. "+(ne.message||"Por favor, intente de nuevo."))}finally{i(!1),C(!1)}},U=(ne,ve)=>{p(we=>({...we,[ne]:ve})),ne!=="page"&&(p(we=>({...we,page:1})),g(we=>({...we,page:1})))},Y=()=>{k||(C(!0),F())},W=ne=>{ne<1||ne>m.pages||ne===m.page||(p(ve=>({...ve,page:ne})),g(ve=>({...ve,page:ne})))},Q=ne=>{P(ne),N(!0)},Z=()=>{P(null),N(!1)},V=()=>{D(!0)},K=async()=>{if(!I)try{B(!0);const ne=await Cd.cleanOldLogs(r,j);if(ne.success){D(!1),F();const ve=await Cd.getLogsSummary(r);ve!=null&&ve.success&&L(ve.summary)}else throw new Error(ne.message||"Error al limpiar logs")}catch(ne){console.error("Error al limpiar logs:",ne),d("Error al limpiar logs: "+(ne.message||"Intente de nuevo"))}finally{B(!1)}},se=()=>{if(n.length===0)return;const ve=[["Timestamp","Level","Message","Source","Stack"].join(","),...n.map(_e=>[new Date(_e.timestamp).toLocaleString(),_e.level,`"${(_e.message||"").replace(/"/g,'""')}"`,_e.source||"N/A",`"${(_e.stack||"").replace(/"/g,'""')}"`].join(","))].join(`
`),we=new Blob([ve],{type:"text/csv;charset=utf-8;"}),de=URL.createObjectURL(we),Ae=document.createElement("a");Ae.setAttribute("href",de),Ae.setAttribute("download",`logs_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae)},he=ne=>{switch(ne==null?void 0:ne.toLowerCase()){case"error":return l.jsx(wC,{color:"#dc3545"});case"warn":return l.jsx(XR,{color:"#ffc107"});case"info":return l.jsx(_n,{color:"#17a2b8"});case"debug":return l.jsx(lV,{color:"#6c757d"});default:return l.jsx(_n,{color:"#6c757d"})}};return l.jsxs(l.Fragment,{children:[l.jsxs(Vie,{children:[l.jsxs(Wie,{children:[l.jsx("h2",{children:"Registro de Actividad del Sistema"}),l.jsx("p",{children:"Visualiza y analiza los logs de actividad del sistema"})]}),$&&l.jsxs(Yie,{children:[l.jsxs($d,{children:[l.jsx(kd,{color:"#dc3545",children:y.error}),l.jsx(Td,{children:"Errores"})]}),l.jsxs($d,{children:[l.jsx(kd,{color:"#ffc107",children:y.warn}),l.jsx(Td,{children:"Advertencias"})]}),l.jsxs($d,{children:[l.jsx(kd,{color:"#17a2b8",children:y.info}),l.jsx(Td,{children:"Info"})]}),l.jsxs($d,{children:[l.jsx(kd,{color:"#6c757d",children:y.debug}),l.jsx(Td,{children:"Debug"})]}),l.jsxs($d,{children:[l.jsx(kd,{children:y.total}),l.jsx(Td,{children:"Total"})]})]})]}),l.jsxs("section",{className:"main-content",children:[l.jsxs(Gie,{children:[l.jsxs(Kie,{children:[l.jsx(Qie,{type:"text",placeholder:"Buscar en logs...",value:f.search,onChange:ne=>U("search",ne.target.value)}),l.jsx(Xie,{children:l.jsx(Zs,{})})]}),l.jsxs(Jie,{children:[l.jsxs(Ad,{children:[l.jsx(Ll,{children:"Nivel:"}),l.jsxs(wm,{value:f.level,onChange:ne=>U("level",ne.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"error",children:"Errores"}),l.jsx("option",{value:"warn",children:"Advertencias"}),l.jsx("option",{value:"info",children:"Info"}),l.jsx("option",{value:"debug",children:"Debug"})]})]}),l.jsxs(Ad,{children:[l.jsx(Ll,{children:"Fuente:"}),l.jsxs(wm,{value:f.source,onChange:ne=>U("source",ne.target.value),children:[l.jsx("option",{value:"all",children:"Todas"}),S.map(ne=>l.jsx("option",{value:ne,children:ne},ne))]})]}),l.jsxs(Ad,{children:[l.jsx(Ll,{children:"Desde:"}),l.jsxs(xO,{children:[l.jsx(bO,{selected:f.dateFrom,onChange:ne=>U("dateFrom",ne),dateFormat:"dd/MM/yyyy",placeholderText:"Fecha inicio",isClearable:!0}),l.jsx(wO,{children:l.jsx(Ui,{})})]})]}),l.jsxs(Ad,{children:[l.jsx(Ll,{children:"Hasta:"}),l.jsxs(xO,{children:[l.jsx(bO,{selected:f.dateTo,onChange:ne=>U("dateTo",ne),dateFormat:"dd/MM/yyyy",placeholderText:"Fecha fin",isClearable:!0}),l.jsx(wO,{children:l.jsx(Ui,{})})]})]}),l.jsxs(Ad,{children:[l.jsx(Ll,{children:"Límite:"}),l.jsxs(wm,{value:f.limit,onChange:ne=>U("limit",ne.target.value),children:[l.jsx("option",{value:"50",children:"50 registros"}),l.jsx("option",{value:"100",children:"100 registros"}),l.jsx("option",{value:"200",children:"200 registros"}),l.jsx("option",{value:"500",children:"500 registros"})]})]}),l.jsxs(Zie,{children:[l.jsxs(Gb,{onClick:Y,disabled:k,children:[l.jsx(Zt,{})," ",k?"Actualizando...":"Actualizar"]}),l.jsxs(Gb,{onClick:se,disabled:n.length===0,children:[l.jsx(QR,{})," Exportar"]}),l.jsxs(Gb,{onClick:V,variant:"danger",children:[l.jsx(Ok,{})," Limpiar Logs"]})]})]})]}),o&&!k?l.jsx(ese,{children:l.jsx(tse,{children:"Cargando logs..."})}):c?l.jsx(rse,{children:c}):n.length===0?l.jsx(nse,{children:"No hay logs disponibles."}):l.jsxs(ase,{children:[l.jsx(ose,{children:n.map((ne,ve)=>{var we;return l.jsxs(ise,{level:(we=ne.level)==null?void 0:we.toLowerCase(),onClick:()=>Q(ne),children:[l.jsxs(sse,{children:[l.jsxs(lse,{children:[he(ne.level)," ",ne.level]}),l.jsx(cse,{children:new Date(ne.timestamp).toLocaleString()})]}),l.jsx(use,{children:ne.message}),ne.source&&l.jsxs(dse,{children:["Fuente: ",ne.source]}),ne.stack&&l.jsxs(fse,{children:[l.jsx(pse,{children:"Stack Trace:"}),l.jsx(hse,{children:ne.stack})]})]},ne._id||ve)})}),l.jsxs(mse,{children:[l.jsxs(gse,{children:["Mostrando ",n.length," de ",y.totalLogs," registros"]}),l.jsxs(yse,{children:[l.jsx(Sm,{disabled:m.page<=1,onClick:()=>W(1),children:"«"}),l.jsx(Sm,{disabled:m.page<=1,onClick:()=>W(m.page-1),children:"‹"}),l.jsxs(vse,{children:["Página ",m.page," de ",m.pages||1]}),l.jsx(Sm,{disabled:m.page>=m.pages,onClick:()=>W(m.page+1),children:"›"}),l.jsx(Sm,{disabled:m.page>=m.pages,onClick:()=>W(m.pages),children:"»"})]})]})]}),O&&T&&l.jsx(SO,{onClick:Z,children:l.jsxs(EO,{onClick:ne=>ne.stopPropagation(),children:[l.jsxs(jO,{children:[l.jsxs(CO,{children:[he(T.level)," Detalle del Log"]}),l.jsx($O,{onClick:Z,children:"×"})]}),l.jsxs(TO,{children:[l.jsxs(Bl,{children:[l.jsx(zl,{children:"Nivel:"}),l.jsx(Fl,{level:(me=T.level)==null?void 0:me.toLowerCase(),children:T.level})]}),l.jsxs(Bl,{children:[l.jsx(zl,{children:"Fecha:"}),l.jsx(Fl,{children:new Date(T.timestamp).toLocaleString()})]}),l.jsxs(Bl,{children:[l.jsx(zl,{children:"Fuente:"}),l.jsx(Fl,{children:T.source||"No especificada"})]}),l.jsxs(Bl,{children:[l.jsx(zl,{children:"Mensaje:"}),l.jsx(Fl,{children:T.message})]}),T.metadata&&l.jsxs(Bl,{children:[l.jsx(zl,{children:"Metadata:"}),l.jsx(Fl,{children:l.jsx("pre",{children:typeof T.metadata=="object"?JSON.stringify(T.metadata,null,2):T.metadata})})]}),T.stack&&l.jsxs(Bl,{children:[l.jsx(zl,{children:"Stack Trace:"}),l.jsx(Fl,{children:l.jsx("pre",{children:T.stack})})]})]})]})}),R&&l.jsx(SO,{onClick:()=>D(!1),children:l.jsxs(EO,{onClick:ne=>ne.stopPropagation(),children:[l.jsxs(jO,{children:[l.jsxs(CO,{children:[l.jsx(Ok,{style:{marginRight:"10px"}})," Limpiar Logs Antiguos"]}),l.jsx($O,{onClick:()=>D(!1),children:"×"})]}),l.jsxs(TO,{children:[l.jsx("p",{children:"Esta acción eliminará todos los logs más antiguos que el número de días especificado. Esta operación no se puede deshacer."}),l.jsxs(xse,{children:[l.jsx(Ll,{children:"Eliminar logs más antiguos que:"}),l.jsxs(wm,{value:j,onChange:ne=>A(parseInt(ne.target.value)),children:[l.jsx("option",{value:"7",children:"7 días"}),l.jsx("option",{value:"15",children:"15 días"}),l.jsx("option",{value:"30",children:"30 días"}),l.jsx("option",{value:"60",children:"60 días"}),l.jsx("option",{value:"90",children:"90 días"})]})]}),l.jsxs(bse,{children:[l.jsx(wse,{onClick:()=>D(!1),children:"Cancelar"}),l.jsx(Sse,{onClick:K,disabled:I,children:I?"Eliminando...":"Eliminar Logs"})]})]})]})})]})]})}v.div`
  min-height: 100vh;
  padding: 15px;
  width: 100%;
  background-color: ${e=>e.theme.bg};
  color: ${({theme:e})=>e.text};
  display: grid;
  grid-template:
    "header" 90px
    "area1" auto
    "area2" auto
    "main" 1fr;

  @media (max-width: 768px) {
    grid-template:
      "header" 70px
      "area1" auto
      "area2" auto
      "main" 1fr;
    padding: 10px;
  }

  .header {
    grid-area: header;
    display: flex;
    align-items: center;
    margin-bottom: 10px;
  }

  .area1 {
    grid-area: area1;
    margin-bottom: 20px;
  }

  .area2 {
    grid-area: area2;
    margin-bottom: 20px;
  }

  .main {
    grid-area: main;
    margin-top: 10px;
  }
`;const Vie=v.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 15px 0;
`,Wie=v.div`
  display: flex;
  flex-direction: column;
  text-align: center;
  gap: 5px;

  h2 {
    margin: 0;
    font-size: 1.5rem;
    color: ${({theme:e})=>e.title||e.text};
  }

  p {
    margin: 0;
    color: ${({theme:e})=>e.textSecondary||"#666"};
  }
`,Yie=v.div`
  display: flex;
  justify-content: center;
  gap: 30px;
  margin-top: 20px;

  @media (max-width: 768px) {
    flex-wrap: wrap;
    gap: 15px;
  }
`,$d=v.div`
  display: flex;
  flex-direction: column;
  align-items: center;
`,Td=v.div`
  font-size: 14px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,kd=v.div`
  font-size: 24px;
  font-weight: 600;
  color: ${e=>{var t;return e.color||((t=e.theme)==null?void 0:t.text)||"#333"}};
`,Gie=v.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
`,Kie=v.div`
  display: flex;
  width: 100%;
  justify-content: center;
  margin-bottom: 10px;
`,Qie=v.input`
  width: 100%;
  max-width: 800px;
  padding: 10px 15px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px 0 0 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};

  &:focus {
    outline: none;
    border-color: #007bff;
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
  }
`,Xie=v.button`
  padding: 10px 15px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-left: none;
  border-radius: 0 4px 4px 0;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  color: ${({theme:e})=>e.text};
  cursor: pointer;

  &:hover {
    background-color: ${({theme:e})=>e.hoverBg||"#f8f9fa"};
  }
`,Jie=v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  justify-content: center;
  align-items: center;
  margin-bottom: 10px;

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: stretch;
  }
`,Ad=v.div`
  display: flex;
  align-items: center;
  gap: 8px;

  @media (max-width: 768px) {
    width: 100%;
  }
`,Ll=v.span`
  font-size: 14px;
  font-weight: 500;
  color: ${({theme:e})=>e.textSecondary||"#666"};
  white-space: nowrap;
`,wm=v.select`
  padding: 8px 12px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};

  @media (max-width: 768px) {
    flex: 1;
  }
`,xO=v.div`
  position: relative;
`,bO=v(nN)`
  padding: 8px 12px;
  padding-right: 30px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};
  width: 130px;

  &:focus {
    outline: none;
    border-color: #007bff;
  }

  @media (max-width: 768px) {
    width: 100%;
  }
`,wO=v.div`
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  color: ${({theme:e})=>e.textSecondary||"#666"};
  pointer-events: none;
`,Zie=v.div`
  display: flex;
  gap: 10px;

  @media (max-width: 768px) {
    width: 100%;
    justify-content: space-between;
  }
`,Gb=v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 15px;
  border: none;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;
  background-color: ${e=>{var t;return e.variant==="danger"?"#dc3545":((t=e.theme)==null?void 0:t.primary)||"#007bff"}};
  color: white;
  transition: background-color 0.2s;

  &:hover:not(:disabled) {
    background-color: ${e=>{var t;return e.variant==="danger"?"#c82333":((t=e.theme)==null?void 0:t.primaryHover)||"#0069d9"}};
  }

  &:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }

  @media (max-width: 768px) {
    flex: 1;
    justify-content: center;
  }
`,ese=v.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
`,tse=v.div`
  padding: 20px;
  text-align: center;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,rse=v.div`
  padding: 20px;
  text-align: center;
  color: #dc3545;
  background-color: rgba(220, 53, 69, 0.1);
  border-radius: 8px;
  margin: 20px 0;
`,nse=v.div`
  padding: 30px;
  text-align: center;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
`,ase=v.div`
  max-width: 1200px;
  margin: 0 auto;
`,ose=v.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
`,ise=v.div`
  padding: 15px;
  border-radius: 8px;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  border-left: 4px solid
    ${({level:e})=>{switch(e){case"error":return"#dc3545";case"warn":return"#ffc107";case"info":return"#17a2b8";case"debug":return"#6c757d";default:return"#6c757d"}}};
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
  }
`,sse=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
  flex-wrap: wrap;
  gap: 8px;
`,lse=v.div`
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 500;
  font-size: 14px;
  text-transform: uppercase;
`,cse=v.div`
  font-size: 14px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,use=v.div`
  margin-bottom: 10px;
  white-space: pre-wrap;
  word-break: break-word;
  font-size: 14px;
  line-height: 1.5;
`,dse=v.div`
  font-size: 12px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
  margin-bottom: 10px;
`,fse=v.div`
  background-color: ${({theme:e})=>e.codeBg||"#f5f5f5"};
  padding: 10px;
  border-radius: 4px;
  margin-top: 10px;
`,pse=v.div`
  font-size: 12px;
  font-weight: 500;
  margin-bottom: 5px;
`,hse=v.pre`
  margin: 0;
  font-size: 12px;
  overflow-x: auto;
  white-space: pre-wrap;
  word-break: break-word;
  color: ${({theme:e})=>e.code||"#e83e8c"};
`,mse=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 20px;
  padding: 10px 0;
  flex-wrap: wrap;
  gap: 15px;

  @media (max-width: 768px) {
    flex-direction: column;
  }
`,gse=v.div`
  font-size: 14px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,yse=v.div`
  display: flex;
  gap: 5px;
  align-items: center;
`,Sm=v.button`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 32px;
  height: 32px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  color: ${({theme:e})=>e.text};
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s;

  &:hover:not(:disabled) {
    background-color: ${({theme:e})=>e.hoverBg||"#f8f9fa"};
    border-color: ${({theme:e})=>e.primary||"#007bff"};
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,vse=v.div`
  padding: 0 10px;
  font-size: 14px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,SO=v.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
`,EO=v.div`
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
  width: 90%;
  max-width: 800px;
  max-height: 90vh;
  overflow-y: auto;
  position: relative;
`,jO=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 20px;
  border-bottom: 1px solid ${({theme:e})=>e.border||"#eee"};
`,CO=v.h3`
  margin: 0;
  font-size: 1.25rem;
  display: flex;
  align-items: center;
  gap: 10px;
  color: ${({theme:e})=>e.title||e.text};
`,$O=v.button`
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  color: ${({theme:e})=>e.textSecondary||"#666"};

  &:hover {
    color: ${({theme:e})=>e.text};
  }
`,TO=v.div`
  padding: 20px;
`,Bl=v.div`
  margin-bottom: 15px;
`,zl=v.div`
  font-weight: 500;
  margin-bottom: 5px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,Fl=v.div`
  font-size: 14px;
  word-break: break-word;
  color: ${e=>{var t,r;if(e.level)switch(e.level){case"error":return"#dc3545";case"warn":return"#ffc107";case"info":return"#17a2b8";case"debug":return"#6c757d";default:return(t=e.theme)==null?void 0:t.text}return(r=e.theme)==null?void 0:r.text}};

  pre {
    background-color: ${({theme:e})=>e.codeBg||"#f5f5f5"};
    padding: 10px;
    border-radius: 4px;
    overflow-x: auto;
    margin: 0;
  }
`,xse=v.div`
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 20px 0;
`,bse=v.div`
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 20px;
`,wse=v.button`
  padding: 8px 15px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  color: ${({theme:e})=>e.text};
  font-size: 14px;
  cursor: pointer;

  &:hover {
    background-color: ${({theme:e})=>e.hoverBg||"#f8f9fa"};
  }
`,Sse=v.button`
  padding: 8px 15px;
  border: none;
  border-radius: 4px;
  background-color: #dc3545;
  color: white;
  font-size: 14px;
  cursor: pointer;

  &:hover:not(:disabled) {
    background-color: #c82333;
  }

  &:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }
`,Kb=new Yr;function oN({mappingId:e,onSave:t,onCancel:r}){const{accessToken:n}=wt(),[a,o]=_.useState(!0),[i,c]=_.useState({name:"",description:"",transferType:"down",active:!0,sourceServer:"server2",targetServer:"server1",entityType:"orders",documentTypeRules:[],tableConfigs:[],markProcessedField:"IS_PROCESSED",markProcessedValue:1,consecutiveConfig:{enabled:!1},foreignKeyDependencies:[]}),[d,f]=_.useState(!!e),[p,m]=_.useState("general");_.useEffect(()=>{e?g():o(!1)},[e]);const g=async()=>{o(!0);try{const j=await Kb.getMappingById(n,e);j&&c(j)}catch(j){console.error("Error al cargar la configuración:",j),z.fire({icon:"error",title:"Error",text:"No se pudo cargar la configuración"}),r()}finally{o(!1)}},y=j=>{const{name:A,value:I,type:B,checked:F}=j.target;if(B==="custom"&&A==="consecutiveConfig"){c(U=>({...U,consecutiveConfig:I}));return}if(A.includes(".")){const[U,Y]=A.split(".");c(W=>({...W,[U]:{...W[U]||{},[Y]:B==="checkbox"?F:I}}))}else c(U=>({...U,[A]:B==="checkbox"?F:I}))},w=async()=>{if(!i.name){z.fire({icon:"warning",title:"Datos incompletos",text:"Por favor, ingrese un nombre para la configuración"});return}if(i.tableConfigs.length===0){z.fire({icon:"warning",title:"Configuración incompleta",text:"Debe configurar al menos una tabla"});return}const j=JSON.parse(JSON.stringify(i));j.tableConfigs.forEach(A=>{A.fieldMappings&&A.fieldMappings.forEach(I=>{I.isEditable=I.isEditable!==!1,I.showInList=I.showInList===!0,I.displayName=I.displayName||null,I.displayOrder=I.displayOrder||0,I.fieldGroup=I.fieldGroup||null,I.fieldType=I.fieldType||"text",I.fieldType==="select"?I.options=I.options||[]:I.options=null})}),console.log("Mapping a guardar:",j),o(!0);try{let A;if(d?A=await Kb.updateMapping(n,e,j):A=await Kb.createMapping(n,j),A.success)z.fire({icon:"success",title:d?"Configuración actualizada":"Configuración creada",text:"Los cambios han sido guardados correctamente"}),t&&t(A);else throw new Error(A.message||"No se pudo guardar la configuración")}catch(A){z.fire({icon:"error",title:"Error",text:A.message||"Error al guardar los datos"})}finally{o(!1)}},S=()=>{z.fire({title:"Nueva Regla de Tipo de Documento",html:`
        <div class="form-group">
          <label for="ruleName">Nombre</label>
          <input id="ruleName" class="swal2-input" placeholder="Ej: pedido">
        </div>
        <div class="form-group">
          <label for="sourceField">Campo de origen</label>
          <input id="sourceField" class="swal2-input" placeholder="Ej: EST_PED">
        </div>
        <div class="form-group">
          <label for="sourceValues">Valores (separados por coma)</label>
          <input id="sourceValues" class="swal2-input" placeholder="Ej: P, p">
        </div>
        <div class="form-group">
          <label for="description">Descripción</label>
          <input id="description" class="swal2-input" placeholder="Ej: Pedidos pendientes">
        </div>
      `,showCancelButton:!0,confirmButtonText:"Añadir",cancelButtonText:"Cancelar",preConfirm:()=>{const j=document.getElementById("ruleName").value,A=document.getElementById("sourceField").value,I=document.getElementById("sourceValues").value,B=document.getElementById("description").value;if(!j||!A||!I)return z.showValidationMessage("Los campos nombre, campo origen y valores son obligatorios"),!1;const F=I.split(",").map(U=>U.trim());return{name:j,sourceField:A,sourceValues:F,description:B}}}).then(j=>{j.isConfirmed&&c({...i,documentTypeRules:[...i.documentTypeRules,j.value]})})},b=j=>{const A=i.documentTypeRules[j];z.fire({title:"Editar Regla de Tipo de Documento",html:`
      <div class="form-group">
        <label for="ruleName">Nombre</label>
        <input id="ruleName" class="swal2-input" value="${A.name}" placeholder="Ej: pedido">
      </div>
      <div class="form-group">
        <label for="sourceField">Campo de origen</label>
        <input id="sourceField" class="swal2-input" value="${A.sourceField}" placeholder="Ej: EST_PED">
      </div>
      <div class="form-group">
        <label for="sourceValues">Valores (separados por coma)</label>
        <input id="sourceValues" class="swal2-input" value="${A.sourceValues.join(", ")}" placeholder="Ej: P, p">
      </div>
      <div class="form-group">
        <label for="description">Descripción</label>
        <input id="description" class="swal2-input" value="${A.description||""}" placeholder="Ej: Pedidos pendientes">
      </div>
    `,showCancelButton:!0,confirmButtonText:"Guardar",cancelButtonText:"Cancelar",preConfirm:()=>{const I=document.getElementById("ruleName").value,B=document.getElementById("sourceField").value,F=document.getElementById("sourceValues").value,U=document.getElementById("description").value;if(!I||!B||!F)return z.showValidationMessage("Los campos nombre, campo origen y valores son obligatorios"),!1;const Y=F.split(",").map(W=>W.trim());return{name:I,sourceField:B,sourceValues:Y,description:U}}}).then(I=>{if(I.isConfirmed){const B=[...i.documentTypeRules];B[j]=I.value,c({...i,documentTypeRules:B})}})},k=j=>{const A=[...i.documentTypeRules];A.splice(j,1),c({...i,documentTypeRules:A})},C=()=>{z.fire({title:"Nueva Dependencia de Foreign Key",html:`
      <div class="dependency-form">
        <div class="form-group">
          <label for="fieldName">Campo que causa la dependencia</label>
          <input id="fieldName" class="swal2-input" placeholder="Ej: CONTRIBUYENTE">
          <small>Campo en la tabla principal que debe existir en otra tabla</small>
        </div>

        <div class="form-group">
          <label for="dependentTable">Tabla donde debe existir/insertarse</label>
          <input id="dependentTable" class="swal2-input" placeholder="Ej: NIT">
        </div>

        <div class="form-group">
          <label for="executionOrder">Orden de ejecución</label>
          <input id="executionOrder" type="number" class="swal2-input" value="0" placeholder="0">
          <small>Menor número = se ejecuta primero</small>
        </div>

        <div class="form-check">
          <input type="checkbox" id="insertIfNotExists" class="swal2-checkbox" checked>
          <label for="insertIfNotExists">Insertar si no existe</label>
        </div>

        <div class="form-check">
          <input type="checkbox" id="validateOnly" class="swal2-checkbox">
          <label for="validateOnly">Solo validar (no insertar)</label>
        </div>

        <div class="dependent-fields-section">
          <h4>Campos a insertar en la tabla dependiente</h4>
          <div id="dependentFieldsContainer">
            <div class="dependent-field-row">
              <input type="text" class="swal2-input source-field" placeholder="Campo origen (opcional)">
              <input type="text" class="swal2-input target-field" placeholder="Campo destino" required>
              <input type="text" class="swal2-input default-value" placeholder="Valor por defecto">
              <div class="form-check">
                <input type="checkbox" class="swal2-checkbox is-key">
                <label>Es clave referenciada</label>
              </div>
            </div>
          </div>
        </div>
      </div>
      `,showCancelButton:!0,confirmButtonText:"Añadir",cancelButtonText:"Cancelar",preConfirm:()=>{const j=document.getElementById("fieldName").value.trim(),A=document.getElementById("dependentTable").value.trim(),I=parseInt(document.getElementById("executionOrder").value)||0,B=document.getElementById("insertIfNotExists").checked,F=document.getElementById("validateOnly").checked;if(!j||!A)return z.showValidationMessage("Los campos nombre y tabla dependiente son obligatorios"),!1;const U=[];return document.querySelectorAll(".dependent-field-row").forEach(Y=>{const W=Y.querySelector(".source-field").value.trim(),Q=Y.querySelector(".target-field").value.trim(),Z=Y.querySelector(".default-value").value.trim(),V=Y.querySelector(".is-key").checked;Q&&U.push({sourceField:W||null,targetField:Q,defaultValue:Z||null,isKey:V})}),U.length===0?(z.showValidationMessage("Debe definir al menos un campo a insertar"),!1):{fieldName:j,dependentTable:A,executionOrder:I,insertIfNotExists:B,validateOnly:F,dependentFields:U}}}).then(j=>{j.isConfirmed&&c({...i,foreignKeyDependencies:[...i.foreignKeyDependencies||[],j.value]})})},$=j=>{const A=[...i.foreignKeyDependencies||[]];A.splice(j,1),c({...i,foreignKeyDependencies:A})},L=()=>{z.fire({title:"Nueva Configuración de Tabla",html:`
    <div class="form-group">
      <label for="tableName">Nombre</label>
      <input id="tableName" class="swal2-input" placeholder="Ej: pedidosHeader">
    </div>
    <div class="form-group">
      <label for="sourceTable">Tabla origen</label>
      <input id="sourceTable" class="swal2-input" placeholder="Ej: FAC_ENC_PED">
    </div>
    <div class="form-group">
      <label for="targetTable">Tabla destino</label>
      <input id="targetTable" class="swal2-input" placeholder="Ej: PEDIDO">
    </div>
    <div class="form-group">
      <label for="primaryKey">Clave primaria en tabla origen</label>
      <input id="primaryKey" class="swal2-input" placeholder="Ej: NUM_PED">
    </div>
    <div class="form-group">
      <label for="targetPrimaryKey">Clave primaria en tabla destino</label>
      <input id="targetPrimaryKey" class="swal2-input" placeholder="Ej: PEDIDO">
    </div>
    <div class="form-check">
      <input type="checkbox" id="isDetailTable" class="swal2-checkbox">
      <label for="isDetailTable">¿Es tabla de detalle?</label>
    </div>
    <div id="detailOptions" style="display: none; margin-left: 20px;">
      <div class="form-group">
        <label for="parentTableRef">Referencia a tabla padre</label>
        <input id="parentTableRef" class="swal2-input" placeholder="Ej: pedidosHeader">
      </div>
      <div class="form-check">
        <input type="checkbox" id="useSameSourceTable" class="swal2-checkbox">
        <label for="useSameSourceTable">Usar misma tabla de origen que el encabezado</label>
      </div>
      <div class="form-group">
        <label for="orderByColumn">Columna de ordenamiento (opcional)</label>
        <input id="orderByColumn" class="swal2-input" placeholder="Ej: SECUENCIA">
      </div>
    </div>
    <div class="form-group">
      <label for="filterCondition">Condición de filtro adicional (opcional)</label>
      <input id="filterCondition" class="swal2-input" placeholder="Ej: ESTADO = 'A'">
    </div>
  `,showCancelButton:!0,confirmButtonText:"Añadir",cancelButtonText:"Cancelar",didOpen:()=>{const j=document.getElementById("isDetailTable"),A=document.getElementById("detailOptions");j.addEventListener("change",function(){A.style.display=this.checked?"block":"none"})},preConfirm:()=>{const j=document.getElementById("tableName").value.trim(),A=document.getElementById("sourceTable").value.trim(),I=document.getElementById("targetTable").value.trim(),B=document.getElementById("primaryKey").value.trim(),F=document.getElementById("targetPrimaryKey").value.trim(),U=document.getElementById("isDetailTable").checked,Y=document.getElementById("parentTableRef").value.trim(),W=document.getElementById("useSameSourceTable").checked,Q=document.getElementById("orderByColumn").value.trim(),Z=document.getElementById("filterCondition").value.trim();return!j||!I?(z.showValidationMessage("Los campos nombre y tabla destino son obligatorios"),!1):!U&&!A?(z.showValidationMessage("La tabla origen es obligatoria para tablas principales"),!1):U&&!Y&&!W?(z.showValidationMessage("Para tablas de detalle debe especificar la tabla padre o usar la misma tabla de origen"),!1):{name:j,sourceTable:A||null,targetTable:I,primaryKey:B||null,targetPrimaryKey:F||null,isDetailTable:U,parentTableRef:U?Y:null,useSameSourceTable:W,orderByColumn:Q||null,filterCondition:Z||null,fieldMappings:[]}}}).then(j=>{j.isConfirmed&&c({...i,tableConfigs:[...i.tableConfigs,j.value]})})},T=j=>{const A=i.tableConfigs[j];z.fire({title:"Editar Configuración de Tabla",html:`
    <div class="form-group">
      <label for="tableName">Nombre</label>
      <input id="tableName" class="swal2-input" value="${A.name}" placeholder="Ej: pedidosHeader">
    </div>
    <div class="form-group">
      <label for="sourceTable">Tabla origen</label>
      <input id="sourceTable" class="swal2-input" value="${A.sourceTable}" placeholder="Ej: FAC_ENC_PED">
    </div>
    <div class="form-group">
      <label for="targetTable">Tabla destino</label>
      <input id="targetTable" class="swal2-input" value="${A.targetTable}" placeholder="Ej: PEDIDO">
    </div>
    <div class="form-group">
      <label for="primaryKey">Clave primaria en tabla origen</label>
      <input id="primaryKey" class="swal2-input" value="${A.primaryKey||""}" placeholder="Ej: NUM_PED">
    </div>
    <div class="form-group">
      <label for="targetPrimaryKey">Clave primaria en tabla destino</label>
      <input id="targetPrimaryKey" class="swal2-input" value="${A.targetPrimaryKey||""}" placeholder="Ej: PEDIDO">
    </div>
    <div class="form-check">
      <input type="checkbox" id="isDetailTable" class="swal2-checkbox" ${A.isDetailTable?"checked":""}>
      <label for="isDetailTable">¿Es tabla de detalle?</label>
    </div>
    <div id="detailOptions" style="display: ${A.isDetailTable?"block":"none"};">
      <div class="form-group">
        <label for="parentTableRef">Referencia a tabla padre</label>
        <input id="parentTableRef" class="swal2-input" value="${A.parentTableRef||""}" placeholder="Ej: pedidosHeader">
      </div>
      <div class="form-check">
        <input type="checkbox" id="useSameSourceTable" class="swal2-checkbox" ${A.useSameSourceTable?"checked":""}>
        <label for="useSameSourceTable">Usar misma tabla de origen que el encabezado</label>
      </div>
      <div class="form-group">
        <label for="orderByColumn">Columna de ordenamiento (opcional)</label>
        <input id="orderByColumn" class="swal2-input" value="${A.orderByColumn||""}" placeholder="Ej: SECUENCIA">
      </div>
    </div>
    <div class="form-group">
      <label for="filterCondition">Condición de filtro adicional (opcional)</label>
      <input id="filterCondition" class="swal2-input" value="${A.filterCondition||""}" placeholder="Ej: ESTADO = 'A'">
    </div>
  `,showCancelButton:!0,confirmButtonText:"Guardar",cancelButtonText:"Cancelar",didOpen:()=>{const I=document.getElementById("isDetailTable"),B=document.getElementById("detailOptions");I.addEventListener("change",function(){B.style.display=this.checked?"block":"none"})},preConfirm:()=>{const I=document.getElementById("tableName").value.trim(),B=document.getElementById("sourceTable").value.trim(),F=document.getElementById("targetTable").value.trim(),U=document.getElementById("primaryKey").value.trim(),Y=document.getElementById("targetPrimaryKey").value.trim(),W=document.getElementById("isDetailTable").checked,Q=document.getElementById("parentTableRef").value.trim(),Z=document.getElementById("useSameSourceTable").checked,V=document.getElementById("orderByColumn").value.trim(),K=document.getElementById("filterCondition").value.trim();return!I||!F?(z.showValidationMessage("Los campos nombre y tabla destino son obligatorios"),!1):{name:I,sourceTable:B||null,targetTable:F,primaryKey:U||null,targetPrimaryKey:Y||null,isDetailTable:W,parentTableRef:W?Q:null,useSameSourceTable:Z,orderByColumn:V||null,filterCondition:K||null,fieldMappings:A.fieldMappings||[]}}}).then(I=>{if(I.isConfirmed){const B=[...i.tableConfigs];B[j]=I.value,c({...i,tableConfigs:B})}})},P=j=>{const A=[...i.tableConfigs];A.splice(j,1),c({...i,tableConfigs:A})},O=j=>{z.fire({title:"Nuevo Mapeo de Campo",html:`
      <div class="mapping-form">
        <div class="field-section">
          <div class="form-group">
            <div class="field-container">
              <div class="field-header">Campo origen (opcional)</div>
              <input id="sourceField" class="swal2-input" placeholder="Ej: COD_CLT">
            </div>
          </div>

          <div class="form-group">
            <div class="field-container">
              <div class="field-header">Campo destino (obligatorio)</div>
              <input id="targetField" class="swal2-input" placeholder="Ej: CODIGO">
            </div>
          </div>
        </div>

        <!-- Opciones para especificar el origen de datos -->
        <div class="data-source-options">
          <!-- NUEVA OPCIÓN: Consulta en base de datos destino -->
          <div class="form-check">
            <input type="checkbox" id="lookupFromTarget" class="swal2-checkbox">
            <label for="lookupFromTarget"><strong>¿Consultar en BD destino?</strong></label>
          </div>
        </div>

        <!-- Opciones para valor por defecto -->
        <div id="defaultValueSection" class="form-group">
          <div class="field-container">
            <div id="defaultValueLabel" class="field-header">Valor por defecto</div>
            <textarea id="defaultValue" class="swal2-textarea" rows="3" placeholder="Ingrese valor por defecto o función SQL nativa (GETDATE(), etc.)"></textarea>
            <div class="form-info">
              <strong>Nota:</strong> Para usar funciones SQL nativas como GETDATE(), NEWID(), etc. ingréselas directamente en el valor por defecto.
            </div>
          </div>
        </div>

        <!-- SECCIÓN: Opciones para consulta en BD destino -->
        <div id="lookupSection" class="lookup-section" style="display:none;">
          <div class="form-group">
            <div class="field-container">
              <div class="field-header">Consulta SQL en destino</div>
              <textarea id="lookupQuery" class="swal2-textarea" rows="3" placeholder="Ej: SELECT NOMBRE FROM CATELLI.CLIENTE WHERE CLIENTE = @codigo"></textarea>
              <div class="form-info" style="margin-top: 8px;">
                <strong>Nota:</strong> Use @parametro en la consulta para referenciar valores.
              </div>
            </div>
          </div>

          <div class="lookup-params-container">
            <div class="lookup-params-header">
              <h4>Parámetros para la consulta</h4>
              <button type="button" id="addLookupParam" class="btn-add-param">
                <i class="fa fa-plus"></i> Añadir
              </button>
            </div>

            <div id="lookupParamsContainer">
              <!-- Los parámetros se generarán dinámicamente aquí -->
            </div>
          </div>

          <div class="validation-options">
            <div class="form-check">
              <input type="checkbox" id="validateExistence" class="swal2-checkbox">
              <label for="validateExistence"><strong>Validar existencia</strong></label>
            </div>

            <div class="form-check">
              <input type="checkbox" id="failIfNotFound" class="swal2-checkbox">
              <label for="failIfNotFound"><strong>Fallar si no existe</strong></label>
              <small>Si está marcado, el procesamiento fallará si no se encuentra un valor. Si no está marcado, usará NULL o valor por defecto.</small>
            </div>
          </div>
        </div>

        <!-- Sección de eliminación de prefijos -->
        <div class="form-group">
          <div class="field-container">
            <div class="field-header">Eliminar prefijo específico</div>
            <input id="removePrefix" class="swal2-input" placeholder="Ej: CN">
            <div class="form-info" style="margin-top: 8px;">
              <strong>Ejemplo:</strong> Si el valor es CN10133 y el prefijo es CN, el resultado será 10133
            </div>
          </div>
        </div>

        <div class="form-check">
          <input type="checkbox" id="isRequired" class="swal2-checkbox">
          <label for="isRequired"><strong>¿Campo obligatorio en destino?</strong></label>
        </div>

        <!-- Propiedades de visualización -->
        <h4 style="margin-top: 20px; border-top: 1px solid #eee; padding-top: 15px;">Propiedades de Visualización</h4>

        <div style="display: flex; flex-wrap: wrap; gap: 20px; margin-top: 15px;">
          <div class="form-group" style="flex: 1 1 200px;">
            <label for="displayName">Nombre a mostrar</label>
            <input id="displayName" class="swal2-input" placeholder="Ej: Código de Cliente">
            <small style="display: block; margin-top: 5px;">Nombre amigable para mostrar en listas y formularios.</small>
          </div>

          <div class="form-group" style="flex: 1 1 100px;">
            <label for="displayOrder">Orden de visualización</label>
            <input id="displayOrder" type="number" class="swal2-input" value="0" placeholder="0">
            <small style="display: block; margin-top: 5px;">Orden en listas y formularios.</small>
          </div>
        </div>

        <div style="display: flex; flex-wrap: wrap; gap: 20px; margin-top: 15px;">
          <div class="form-check">
            <input type="checkbox" id="isEditable" class="swal2-checkbox" checked>
            <label for="isEditable">¿Editable?</label>
          </div>

          <div class="form-check">
            <input type="checkbox" id="showInList" class="swal2-checkbox">
            <label for="showInList">¿Mostrar en listas?</label>
          </div>
        </div>

        <div style="display: flex; flex-wrap: wrap; gap: 20px; margin-top: 15px;">
          <div class="form-group" style="flex: 1 1 200px;">
            <label for="fieldGroup">Grupo de campos</label>
            <input id="fieldGroup" class="swal2-input" placeholder="Ej: Información General">
            <small style="display: block; margin-top: 5px;">Grupo donde aparecerá en formularios.</small>
          </div>

          <div class="form-group" style="flex: 1 1 200px;">
            <label for="fieldType">Tipo de campo</label>
            <select id="fieldType" class="swal2-select">
              <option value="text" selected>Texto</option>
              <option value="number">Número</option>
              <option value="date">Fecha</option>
              <option value="boolean">Sí/No</option>
              <option value="select">Lista desplegable</option>
              <option value="textarea">Texto largo</option>
              <option value="email">Correo electrónico</option>
              <option value="tel">Teléfono</option>
              <option value="hidden">Oculto</option>
            </select>
          </div>
        </div>
      </div>

      <style>
        .mapping-form { text-align: left; }
        .field-container { margin-bottom: 15px; }
        .field-header { font-weight: 600; margin-bottom: 5px; color: #333; }
        .form-info { font-size: 0.85em; color: #666; margin-top: 5px; }
        .data-source-options { margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 5px; }
        .lookup-section { margin: 20px 0; padding: 15px; background: #e3f2fd; border-radius: 5px; border-left: 4px solid #2196f3; }
        .lookup-params-container { margin-top: 15px; }
        .lookup-params-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .lookup-param-row { display: flex; gap: 10px; margin-bottom: 10px; align-items: center; }
        .lookup-param-row input { flex: 1; }
        .btn-add-param, .btn-remove-param { padding: 5px 10px; border: none; border-radius: 4px; cursor: pointer; }
        .btn-add-param { background: #28a745; color: white; }
        .btn-remove-param { background: #dc3545; color: white; }
        .validation-options { margin-top: 15px; }
        .validation-options .form-check { margin-bottom: 10px; }
        .validation-options small { display: block; margin-top: 5px; color: #666; font-size: 0.85em; }
      </style>
      `,showCancelButton:!0,confirmButtonText:"Añadir",cancelButtonText:"Cancelar",didOpen:()=>{const A=document.getElementById("lookupFromTarget"),I=document.getElementById("lookupSection"),B=document.getElementById("defaultValueSection"),F=document.getElementById("addLookupParam"),U=document.getElementById("lookupParamsContainer");A.addEventListener("change",function(){const W=this.checked;I.style.display=W?"block":"none",B.style.display=W?"none":"block",W&&U.children.length===0&&Y()});const Y=(W="",Q="",Z="")=>{const V=document.querySelectorAll(".lookup-param-row").length,K=document.createElement("div");K.className="lookup-param-row",K.dataset.index=V,K.innerHTML=`
            <input type="text" class="swal2-input param-name" placeholder="Nombre parámetro" value="${W}">
            <input type="text" class="swal2-input source-field" placeholder="Campo origen" value="${Q}">
            <input type="text" class="swal2-input remove-prefix" placeholder="Prefijo a eliminar" value="${Z}">
            <button type="button" class="btn-remove-param">✕</button>
          `,K.querySelector(".btn-remove-param").addEventListener("click",()=>{K.remove()}),U.appendChild(K)};F.addEventListener("click",()=>{Y()})},preConfirm:()=>{const A=document.getElementById("sourceField").value.trim(),I=document.getElementById("targetField").value.trim(),B=document.getElementById("defaultValue").value,F=document.getElementById("removePrefix").value.trim(),U=document.getElementById("isRequired").checked,Y=document.getElementById("lookupFromTarget").checked,W=document.getElementById("isEditable").checked,Q=document.getElementById("showInList").checked,Z=document.getElementById("displayName").value.trim(),V=parseInt(document.getElementById("displayOrder").value)||0,K=document.getElementById("fieldGroup").value.trim(),se=document.getElementById("fieldType").value;if(!I)return z.showValidationMessage("El campo destino es obligatorio"),!1;let he="",me=[],ne=!1,ve=!1;if(Y){if(he=document.getElementById("lookupQuery").value.trim(),ne=document.getElementById("validateExistence").checked,ve=document.getElementById("failIfNotFound").checked,document.querySelectorAll(".lookup-param-row").forEach(_e=>{const le=_e.querySelector(".param-name").value.trim(),Je=_e.querySelector(".source-field").value.trim(),G=_e.querySelector(".remove-prefix").value.trim();le&&Je&&me.push({paramName:le,sourceField:Je,removePrefix:G||null})}),!he)return z.showValidationMessage("Debe proporcionar una consulta SQL para el lookup"),!1;const we=/@(\w+)/g,de=[];let Ae;for(;(Ae=we.exec(he))!==null;)de.push(Ae[1]);if(de.length>0){const _e=me.map(Je=>Je.paramName),le=de.filter(Je=>!_e.includes(Je));if(le.length>0)return z.showValidationMessage(`Faltan parámetros en la configuración: ${le.join(", ")}`),!1}}return{sourceField:A||null,targetField:I,defaultValue:B||null,removePrefix:F||null,isRequired:U,valueMappings:[],lookupFromTarget:Y,lookupQuery:Y?he:null,lookupParams:Y?me:[],validateExistence:Y?ne:!1,failIfNotFound:Y?ve:!1,isEditable:W,showInList:Q,displayName:Z||null,displayOrder:V,fieldGroup:K||null,fieldType:se,options:null,unitConversion:{enabled:!1}}}}).then(A=>{if(A.isConfirmed&&A.value){console.log("Nuevo campo a agregar:",A.value);const I=JSON.parse(JSON.stringify(i.tableConfigs));I[j].fieldMappings||(I[j].fieldMappings=[]),I[j].fieldMappings.push(A.value),c({...i,tableConfigs:I}),console.log("Tabla actualizada:",I[j])}})},N=(j,A)=>{const I=i.tableConfigs[j].fieldMappings[A];if(!I){console.error(`Campo no encontrado en posición ${j}-${A}`);return}console.log("Campo a editar:",I),z.fire({title:"Editar Mapeo de Campo",html:`
     <div class="mapping-form">
       <div class="field-section">
         <div class="form-group">
           <div class="field-container">
             <div class="field-header">Campo origen (opcional)</div>
             <input id="sourceField" class="swal2-input" value="${I.sourceField||""}" placeholder="Ej: COD_CLT">
           </div>
         </div>

         <div class="form-group">
           <div class="field-container">
             <div class="field-header">Campo destino (obligatorio)</div>
             <input id="targetField" class="swal2-input" value="${I.targetField}" placeholder="Ej: CODIGO">
           </div>
         </div>
       </div>

       <!-- Opciones para especificar el origen de datos -->
       <div class="data-source-options">
         <div class="form-check">
           <input type="checkbox" id="lookupFromTarget" class="swal2-checkbox" ${I.lookupFromTarget?"checked":""}>
           <label for="lookupFromTarget"><strong>¿Consultar en BD destino?</strong></label>
         </div>
       </div>

       <!-- Opciones para valor por defecto -->
       <div id="defaultValueSection" class="form-group" style="display:${I.lookupFromTarget?"none":"block"}">
         <div class="field-container">
           <div id="defaultValueLabel" class="field-header">Valor por defecto</div>
           <textarea id="defaultValue" class="swal2-textarea" rows="3" placeholder="Ingrese valor por defecto o función SQL nativa (GETDATE(), etc.)">${I.defaultValue!==void 0&&I.defaultValue!==null?I.defaultValue:""}</textarea>
           <div class="form-info">
             <strong>Nota:</strong> Para usar funciones SQL nativas como GETDATE(), NEWID(), etc. ingréselas directamente en el valor por defecto.
           </div>
         </div>
       </div>

       <!-- SECCIÓN: Opciones para consulta en BD destino -->
       <div id="lookupSection" class="lookup-section" style="display:${I.lookupFromTarget?"block":"none"}">
         <div class="form-group">
           <div class="field-container">
             <div class="field-header">Consulta SQL en destino</div>
             <textarea id="lookupQuery" class="swal2-textarea" rows="3" placeholder="Ej: SELECT NOMBRE FROM CATELLI.CLIENTE WHERE CLIENTE = @codigo">${I.lookupQuery||""}</textarea>
             <div class="form-info" style="margin-top: 8px;">
               <strong>Nota:</strong> Use @parametro en la consulta para referenciar valores.
             </div>
           </div>
         </div>

         <div class="lookup-params-container">
           <div class="lookup-params-header">
             <h4>Parámetros para la consulta</h4>
             <button type="button" id="addLookupParam" class="btn-add-param">
               <i class="fa fa-plus"></i> Añadir
             </button>
           </div>

           <div id="lookupParamsContainer">
             ${(I.lookupParams||[]).map((B,F)=>`
               <div class="lookup-param-row" data-index="${F}">
                 <input type="text" class="swal2-input param-name" placeholder="Nombre parámetro" value="${B.paramName||""}">
                 <input type="text" class="swal2-input source-field" placeholder="Campo origen" value="${B.sourceField||""}">
                 <input type="text" class="swal2-input remove-prefix" placeholder="Prefijo a eliminar" value="${B.removePrefix||""}">
                 <button type="button" class="btn-remove-param">✕</button>
               </div>
             `).join("")}
           </div>
         </div>

         <div class="validation-options">
           <div class="form-check">
             <input type="checkbox" id="validateExistence" class="swal2-checkbox" ${I.validateExistence?"checked":""}>
             <label for="validateExistence"><strong>Validar existencia</strong></label>
           </div>

           <div class="form-check">
             <input type="checkbox" id="failIfNotFound" class="swal2-checkbox" ${I.failIfNotFound?"checked":""}>
             <label for="failIfNotFound"><strong>Fallar si no existe</strong></label>
             <small>Si está marcado, el procesamiento fallará si no encuentra valor. Si no está marcado, usará NULL o valor por defecto.</small>
           </div>
         </div>
       </div>

       <!-- Sección de eliminación de prefijos -->
       <div class="form-group">
         <div class="field-container">
           <div class="field-header">Eliminar prefijo específico</div>
           <input id="removePrefix" class="swal2-input" value="${I.removePrefix||""}" placeholder="Ej: CN">
           <div class="form-info" style="margin-top: 8px;">
             <strong>Ejemplo:</strong> Si el valor es CN10133 y el prefijo es CN, el resultado será 10133
           </div>
         </div>
       </div>

       <div class="form-check">
         <input type="checkbox" id="isRequired" class="swal2-checkbox" ${I.isRequired?"checked":""}>
         <label for="isRequired"><strong>¿Campo obligatorio en destino?</strong></label>
       </div>

       <!-- Propiedades de visualización -->
       <h4 style="margin-top: 20px; border-top: 1px solid #eee; padding-top: 15px;">Propiedades de Visualización</h4>

       <div style="display: flex; flex-wrap: wrap; gap: 20px; margin-top: 15px;">
         <div class="form-group" style="flex: 1 1 200px;">
           <label for="displayName">Nombre a mostrar</label>
           <input id="displayName" class="swal2-input" value="${I.displayName||""}" placeholder="Ej: Código de Cliente">
         </div>

         <div class="form-group" style="flex: 1 1 100px;">
           <label for="displayOrder">Orden de visualización</label>
           <input id="displayOrder" type="number" class="swal2-input" value="${I.displayOrder||0}" placeholder="0">
         </div>
       </div>

       <div style="display: flex; flex-wrap: wrap; gap: 20px; margin-top: 15px;">
         <div class="form-check">
           <input type="checkbox" id="isEditable" class="swal2-checkbox" ${I.isEditable!==!1?"checked":""}>
           <label for="isEditable">¿Editable?</label>
         </div>

         <div class="form-check">
           <input type="checkbox" id="showInList" class="swal2-checkbox" ${I.showInList?"checked":""}>
           <label for="showInList">¿Mostrar en listas?</label>
         </div>
       </div>

       <div style="display: flex; flex-wrap: wrap; gap: 20px; margin-top: 15px;">
         <div class="form-group" style="flex: 1 1 200px;">
           <label for="fieldGroup">Grupo de campos</label>
           <input id="fieldGroup" class="swal2-input" value="${I.fieldGroup||""}" placeholder="Ej: Información General">
         </div>

         <div class="form-group" style="flex: 1 1 200px;">
           <label for="fieldType">Tipo de campo</label>
           <select id="fieldType" class="swal2-select">
             <option value="text" ${I.fieldType==="text"?"selected":""}>Texto</option>
             <option value="number" ${I.fieldType==="number"?"selected":""}>Número</option>
             <option value="date" ${I.fieldType==="date"?"selected":""}>Fecha</option>
             <option value="boolean" ${I.fieldType==="boolean"?"selected":""}>Sí/No</option>
             <option value="select" ${I.fieldType==="select"?"selected":""}>Lista desplegable</option>
             <option value="textarea" ${I.fieldType==="textarea"?"selected":""}>Texto largo</option>
             <option value="email" ${I.fieldType==="email"?"selected":""}>Correo electrónico</option>
             <option value="tel" ${I.fieldType==="tel"?"selected":""}>Teléfono</option>
             <option value="hidden" ${I.fieldType==="hidden"?"selected":""}>Oculto</option>
           </select>
         </div>
       </div>
     </div>

     <style>
       .mapping-form { text-align: left; }
       .field-container { margin-bottom: 15px; }
       .field-header { font-weight: 600; margin-bottom: 5px; color: #333; }
       .form-info { font-size: 0.85em; color: #666; margin-top: 5px; }
       .data-source-options { margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 5px; }
       .lookup-section { margin: 20px 0; padding: 15px; background: #e3f2fd; border-radius: 5px; border-left: 4px solid #2196f3; }
       .lookup-params-container { margin-top: 15px; }
       .lookup-params-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
       .lookup-param-row { display: flex; gap: 10px; margin-bottom: 10px; align-items: center; }
       .lookup-param-row input { flex: 1; }
       .btn-add-param, .btn-remove-param { padding: 5px 10px; border: none; border-radius: 4px; cursor: pointer; }
       .btn-add-param { background: #28a745; color: white; }
       .btn-remove-param { background: #dc3545; color: white; }
       .validation-options { margin-top: 15px; }
       .validation-options .form-check { margin-bottom: 10px; }
       .validation-options small { display: block; margin-top: 5px; color: #666; font-size: 0.85em; }
     </style>
     `,showCancelButton:!0,confirmButtonText:"Guardar",cancelButtonText:"Cancelar",didOpen:()=>{const B=document.getElementById("lookupFromTarget"),F=document.getElementById("lookupSection"),U=document.getElementById("defaultValueSection"),Y=document.getElementById("addLookupParam"),W=document.getElementById("lookupParamsContainer");B.addEventListener("change",function(){const Z=this.checked;F.style.display=Z?"block":"none",U.style.display=Z?"none":"block",Z&&W.children.length===0&&Q()});const Q=(Z="",V="",K="")=>{const se=document.querySelectorAll(".lookup-param-row").length,he=document.createElement("div");he.className="lookup-param-row",he.dataset.index=se,he.innerHTML=`
            <input type="text" class="swal2-input param-name" placeholder="Nombre parámetro" value="${Z}">
            <input type="text" class="swal2-input source-field" placeholder="Campo origen" value="${V}">
            <input type="text" class="swal2-input remove-prefix" placeholder="Prefijo a eliminar" value="${K}">
            <button type="button" class="btn-remove-param">✕</button>
          `,he.querySelector(".btn-remove-param").addEventListener("click",()=>{he.remove()}),W.appendChild(he)};Y.addEventListener("click",()=>{Q()}),document.querySelectorAll(".btn-remove-param").forEach(Z=>{Z.addEventListener("click",()=>{Z.closest(".lookup-param-row").remove()})})},preConfirm:()=>{const B=document.getElementById("sourceField").value.trim(),F=document.getElementById("targetField").value.trim(),U=document.getElementById("defaultValue").value,Y=document.getElementById("removePrefix").value.trim(),W=document.getElementById("isRequired").checked,Q=document.getElementById("lookupFromTarget").checked,Z=document.getElementById("isEditable").checked,V=document.getElementById("showInList").checked,K=document.getElementById("displayName").value.trim(),se=parseInt(document.getElementById("displayOrder").value)||0,he=document.getElementById("fieldGroup").value.trim(),me=document.getElementById("fieldType").value;if(!F)return z.showValidationMessage("El campo destino es obligatorio"),!1;let ne="",ve=[],we=!1,de=!1;if(Q){const _e=document.getElementById("lookupQuery");_e&&(ne=_e.value.trim());const le=document.getElementById("validateExistence");le&&(we=le.checked);const Je=document.getElementById("failIfNotFound");if(Je&&(de=Je.checked),document.querySelectorAll(".lookup-param-row").forEach(G=>{const pe=G.querySelector(".param-name").value.trim(),Ce=G.querySelector(".source-field").value.trim(),He=G.querySelector(".remove-prefix").value.trim();pe&&Ce&&ve.push({paramName:pe,sourceField:Ce,removePrefix:He||null})}),!ne&&Q)return z.showValidationMessage("Debe proporcionar una consulta SQL para el lookup"),!1;if(ne&&Q){const G=/@(\w+)/g,pe=[];let Ce;for(;(Ce=G.exec(ne))!==null;)pe.push(Ce[1]);if(pe.length>0){const He=ve.map(re=>re.paramName),je=pe.filter(re=>!He.includes(re));if(je.length>0)return z.showValidationMessage(`Faltan parámetros: ${je.join(", ")}`),!1}}}return{sourceField:B||null,targetField:F,defaultValue:U||null,removePrefix:Y||null,isRequired:W,valueMappings:I.valueMappings||[],lookupFromTarget:Q,lookupQuery:Q?ne:null,lookupParams:Q?ve:[],validateExistence:Q?we:!1,failIfNotFound:Q?de:!1,isEditable:Z,showInList:V,displayName:K||null,displayOrder:se,fieldGroup:he||null,fieldType:me,options:I.options||null,unitConversion:I.unitConversion||{enabled:!1}}}}).then(B=>{if(B.isConfirmed&&B.value){console.log("Campo actualizado:",B.value);const F=JSON.parse(JSON.stringify(i.tableConfigs));F[j].fieldMappings[A]=B.value,c({...i,tableConfigs:F}),console.log("Campo después de la actualización:",F[j].fieldMappings[A])}})},R=(j,A)=>{const I=[...i.tableConfigs];I[j].fieldMappings.splice(A,1),c({...i,tableConfigs:I})},D=(j,A)=>{z.fire({title:"Nuevo Mapeo de Valor",html:`
        <div class="form-group">
          <label for="sourceValue">Valor origen</label>
          <input id="sourceValue" class="swal2-input" placeholder="Ej: P">
        </div>
        <div class="form-group">
          <label for="targetValue">Valor destino</label>
          <input id="targetValue" class="swal2-input" placeholder="Ej: PENDIENTE">
        </div>
      `,showCancelButton:!0,confirmButtonText:"Añadir",cancelButtonText:"Cancelar",preConfirm:()=>{const I=document.getElementById("sourceValue").value,B=document.getElementById("targetValue").value;return!I||!B?(z.showValidationMessage("Ambos valores son obligatorios"),!1):{sourceValue:I,targetValue:B}}}).then(I=>{if(I.isConfirmed){const B=[...i.tableConfigs];B[j].fieldMappings[A].valueMappings.push(I.value),c({...i,tableConfigs:B})}})};return a?l.jsx(Nse,{children:l.jsx("div",{children:"Cargando configuración..."})}):l.jsxs(Ese,{children:[l.jsxs(jse,{children:[l.jsxs("h2",{children:[d?"Editar":"Nueva"," Configuración de Mapeo"]}),l.jsxs(Cse,{children:[l.jsxs(kO,{onClick:w,children:[l.jsx(nv,{})," Guardar"]}),l.jsxs(kO,{$secondary:!0,onClick:r,children:[l.jsx(dn,{})," Cancelar"]})]})]}),l.jsxs($se,{children:[l.jsx(Em,{$active:p==="general",onClick:()=>m("general"),children:"General"}),l.jsx(Em,{$active:p==="documentTypes",onClick:()=>m("documentTypes"),children:"Tipos de Documento"}),l.jsx(Em,{$active:p==="dependencies",onClick:()=>m("dependencies"),children:"Dependencias FK"}),l.jsx(Em,{$active:p==="tables",onClick:()=>m("tables"),children:"Tablas y Campos"})]}),l.jsxs(Tse,{children:[p==="general"&&l.jsxs(jm,{children:[l.jsxs(Ha,{children:[l.jsx($i,{children:"Nombre"}),l.jsx(Zb,{type:"text",name:"name",value:i.name,onChange:y,placeholder:"Nombre de la configuración"})]}),l.jsxs(Ha,{children:[l.jsx($i,{children:"Descripción"}),l.jsx(kse,{name:"description",value:i.description||"",onChange:y,placeholder:"Descripción de la configuración"})]}),l.jsxs(Ha,{children:[l.jsx($i,{children:"Tipo de Entidad"}),l.jsxs(Cm,{name:"entityType",value:i.entityType||"orders",onChange:y,children:[l.jsx("option",{value:"orders",children:"Pedidos"}),l.jsx("option",{value:"invoices",children:"Facturas"}),l.jsx("option",{value:"customers",children:"Clientes"}),l.jsx("option",{value:"products",children:"Productos"}),l.jsx("option",{value:"inventory",children:"Inventario"}),l.jsx("option",{value:"payments",children:"Pagos"}),l.jsx("option",{value:"other",children:"Otro"})]})]}),l.jsxs(Jb,{children:[l.jsxs(Ha,{children:[l.jsx($i,{children:"Tipo de Transferencia"}),l.jsxs(Cm,{name:"transferType",value:i.transferType,onChange:y,children:[l.jsx("option",{value:"down",children:"Descendente (Server2 → Server1)"}),l.jsx("option",{value:"up",children:"Ascendente (Server1 → Server2)"})]})]}),l.jsx(Ha,{children:l.jsxs(Ase,{children:[l.jsx(Ose,{type:"checkbox",name:"active",checked:i.active,onChange:y}),l.jsx(Pse,{children:"Configuración activa"})]})})]}),l.jsxs(Jb,{children:[l.jsxs(Ha,{children:[l.jsx($i,{children:"Servidor Origen"}),l.jsxs(Cm,{name:"sourceServer",value:i.sourceServer,onChange:y,children:[l.jsx("option",{value:"server1",children:"Server 1"}),l.jsx("option",{value:"server2",children:"Server 2"})]})]}),l.jsxs(Ha,{children:[l.jsx($i,{children:"Servidor Destino"}),l.jsxs(Cm,{name:"targetServer",value:i.targetServer,onChange:y,children:[l.jsx("option",{value:"server1",children:"Server 1"}),l.jsx("option",{value:"server2",children:"Server 2"})]})]})]}),l.jsxs(Jb,{children:[l.jsxs(Ha,{children:[l.jsx($i,{children:"Campo para marcar procesado"}),l.jsx(Zb,{type:"text",name:"markProcessedField",value:i.markProcessedField,onChange:y,placeholder:"Ej: IS_PROCESSED"})]}),l.jsxs(Ha,{children:[l.jsx($i,{children:"Valor para marcar procesado"}),l.jsx(Zb,{type:"text",name:"markProcessedValue",value:i.markProcessedValue,onChange:y,placeholder:"Ej: 1"})]})]}),l.jsx(Ha,{children:l.jsx(KI,{mapping:i,handleChange:y})}),l.jsx(sN,{mapping:i,handleChange:y})]}),p==="documentTypes"&&l.jsxs(jm,{children:[l.jsxs(Xb,{children:[l.jsx("h3",{children:"Reglas de Tipo de Documento"}),l.jsxs(va,{onClick:S,children:[l.jsx(ar,{})," Añadir Regla"]})]}),i.documentTypeRules.length===0?l.jsx($m,{children:"No hay reglas configuradas"}):i.documentTypeRules.map((j,A)=>l.jsxs(e1,{children:[l.jsxs(t1,{children:[l.jsx("h4",{children:j.name}),l.jsxs("div",{className:"button_container",children:[l.jsx(va,{onClick:()=>b(A),title:"Editar regla",children:l.jsx(Ir,{})}),l.jsx(va,{$danger:!0,onClick:()=>k(A),children:l.jsx(Nr,{})})]})]}),l.jsx(r1,{children:l.jsxs(n1,{children:[l.jsxs(wn,{children:[l.jsx(Sn,{children:"Campo origen:"}),l.jsx(En,{children:j.sourceField})]}),l.jsxs(wn,{children:[l.jsx(Sn,{children:"Valores:"}),l.jsx(En,{children:j.sourceValues.join(", ")})]}),j.description&&l.jsxs(wn,{children:[l.jsx(Sn,{children:"Descripción:"}),l.jsx(En,{children:j.description})]})]})})]},A))]}),p==="dependencies"&&l.jsxs(jm,{children:[l.jsxs(Xb,{children:[l.jsx("h3",{children:"Dependencias de Foreign Key"}),l.jsxs(va,{onClick:C,children:[l.jsx(ar,{})," Añadir Dependencia"]})]}),i.foreignKeyDependencies.length===0?l.jsxs($m,{children:[l.jsx("p",{children:"No hay dependencias configuradas"}),l.jsx("small",{children:"Las dependencias de Foreign Key permiten insertar registros en tablas relacionadas antes de procesar el documento principal, evitando errores de integridad referencial."})]}):i.foreignKeyDependencies.map((j,A)=>l.jsxs(e1,{children:[l.jsxs(t1,{children:[l.jsxs("h4",{children:[j.fieldName," → ",j.dependentTable]}),l.jsxs("div",{className:"button_container",children:[l.jsx(va,{onClick:()=>editForeignKeyDependency(A),title:"Editar dependencia",children:l.jsx(Ir,{})}),l.jsx(va,{$danger:!0,onClick:()=>$(A),children:l.jsx(Nr,{})})]})]}),l.jsx(r1,{children:l.jsxs(n1,{children:[l.jsxs(wn,{children:[l.jsx(Sn,{children:"Campo origen:"}),l.jsx(En,{children:j.fieldName})]}),l.jsxs(wn,{children:[l.jsx(Sn,{children:"Tabla dependiente:"}),l.jsx(En,{children:j.dependentTable})]}),l.jsxs(wn,{children:[l.jsx(Sn,{children:"Acción:"}),l.jsx(En,{children:j.validateOnly?"Solo validar":j.insertIfNotExists?"Insertar si no existe":"Solo validar existencia"})]}),l.jsxs(wn,{children:[l.jsx(Sn,{children:"Orden de ejecución:"}),l.jsx(En,{children:j.executionOrder||0})]}),l.jsxs(wn,{children:[l.jsx(Sn,{children:"Campos a insertar:"}),l.jsx(En,{children:j.dependentFields.map(I=>`${I.targetField}${I.isKey?" (clave)":""}`).join(", ")})]})]})})]},A))]}),p==="tables"&&l.jsxs(jm,{children:[l.jsxs(Xb,{children:[l.jsx("h3",{children:"Configuración de Tablas"}),l.jsxs(va,{onClick:L,children:[l.jsx(ar,{})," Añadir Tabla"]})]}),i.tableConfigs.length===0?l.jsx($m,{children:"No hay tablas configuradas"}):i.tableConfigs.map((j,A)=>l.jsxs(e1,{$isDetail:j.isDetailTable,children:[l.jsxs(t1,{children:[l.jsxs("h4",{children:[j.name,j.isDetailTable&&" (Detalle)"]}),l.jsxs("div",{className:"button_container",children:[l.jsx(va,{onClick:()=>T(A),title:"Editar tabla",children:l.jsx(Ir,{})}),l.jsx(va,{$danger:!0,onClick:()=>P(A),children:l.jsx(Nr,{})})]})]}),l.jsxs(r1,{children:[l.jsxs(n1,{children:[l.jsxs(wn,{children:[l.jsx(Sn,{children:"Tabla origen:"}),l.jsx(En,{children:j.sourceTable||"N/A"})]}),l.jsxs(wn,{children:[l.jsx(Sn,{children:"Tabla destino:"}),l.jsx(En,{children:j.targetTable})]}),j.primaryKey&&l.jsxs(wn,{children:[l.jsx(Sn,{children:"Clave primaria origen:"}),l.jsx(En,{children:j.primaryKey})]}),j.targetPrimaryKey&&l.jsxs(wn,{children:[l.jsx(Sn,{children:"Clave primaria destino:"}),l.jsx(En,{children:j.targetPrimaryKey})]}),j.filterCondition&&l.jsxs(wn,{children:[l.jsx(Sn,{children:"Filtro:"}),l.jsx(En,{children:j.filterCondition})]})]}),l.jsxs(_se,{children:[l.jsxs(Dse,{children:[l.jsx("h5",{children:"Mapeo de Campos"}),l.jsxs(va,{onClick:()=>O(A),children:[l.jsx(ar,{})," Añadir Campo"]})]}),!j.fieldMappings||j.fieldMappings.length===0?l.jsx($m,{children:"No hay campos mapeados en esta tabla"}):l.jsxs(Mse,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Campo Origen"}),l.jsx("th",{children:"Campo Destino"}),l.jsx("th",{children:"Obligatorio"}),l.jsx("th",{children:"Lookup BD"}),l.jsx("th",{children:"Prefijo"}),l.jsx("th",{children:"Val. por Defecto"}),l.jsx("th",{children:"Mapeos"}),l.jsx("th",{children:"Acciones"})]})}),l.jsx("tbody",{children:j.fieldMappings.map((I,B)=>{var F,U;return l.jsxs("tr",{children:[l.jsx("td",{children:I.sourceField||"N/A"}),l.jsx("td",{children:l.jsx("strong",{children:I.targetField})}),l.jsx("td",{children:I.isRequired?"Sí":"No"}),l.jsx("td",{children:I.lookupFromTarget?l.jsxs("span",{style:{color:"#2196f3"},children:["✓ Sí",I.failIfNotFound&&l.jsx("small",{style:{display:"block",color:"#f44336"},children:"(Fallar si no existe)"})]}):"No"}),l.jsx("td",{children:I.removePrefix||"N/A"}),l.jsx("td",{children:I.defaultValue!==null&&I.defaultValue!==void 0?String(I.defaultValue).substring(0,20)+(String(I.defaultValue).length>20?"...":""):"N/A"}),l.jsx("td",{children:l.jsxs(Ise,{children:[l.jsx("span",{children:((F=I.valueMappings)==null?void 0:F.length)||0}),((U=I.valueMappings)==null?void 0:U.length)>0&&l.jsx(va,{onClick:()=>D(A,B),children:l.jsx(ar,{})})]})}),l.jsx("td",{children:l.jsxs(Rse,{children:[l.jsx(Qb,{onClick:()=>N(A,B),title:"Editar campo",children:l.jsx(Ir,{})}),l.jsx(Qb,{onClick:()=>D(A,B),title:"Añadir mapeo de valor",children:l.jsx(ar,{})}),l.jsx(Qb,{$danger:!0,onClick:()=>R(A,B),title:"Eliminar campo",children:l.jsx(Nr,{})})]})})]},B)})})]})]})]})]},A))]})]})]})}const Ese=v.div`
  padding: 20px;
  background-color: ${e=>e.theme.bg};
  color: ${e=>e.theme.text};
`,jse=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;

  h2 {
    margin: 0;
    color: ${e=>e.theme.title};
  }

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }
`,Cse=v.div`
  display: flex;
  gap: 10px;

  @media (max-width: 768px) {
    width: 100%;
    justify-content: space-between;
  }
`,kO=v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 15px;
  background-color: ${e=>e.$secondary?e.theme.secondary:e.theme.primary};
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;

  &:hover {
    background-color: ${e=>e.$secondary?e.theme.secondaryHover:e.theme.primaryHover};
  }

  @media (max-width: 768px) {
    flex: 1;
    justify-content: center;
  }
`,va=v.button`
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 6px 10px;
  background-color: ${e=>e.$danger?e.theme.danger:e.theme.primary};
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 12px;
  cursor: pointer;

  &:hover {
    background-color: ${e=>e.$danger?e.theme.dangerHover:e.theme.primaryHover};
  }
`,Qb=v.button`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  background-color: ${e=>e.$danger?e.theme.danger:e.theme.primary};
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 10px;
  cursor: pointer;

  &:hover {
    background-color: ${e=>e.$danger?e.theme.dangerHover:e.theme.primaryHover};
  }
`,$se=v.div`
  display: flex;
  margin-bottom: 20px;
  border-bottom: 1px solid ${e=>e.theme.border};
`,Em=v.div`
  padding: 10px 20px;
  cursor: pointer;
  border-bottom: 3px solid
    ${e=>e.$active?e.theme.primary:"transparent"};
  color: ${e=>e.$active?e.theme.primary:e.theme.text};
  font-weight: ${e=>e.$active?"bold":"normal"};

  &:hover {
    color: ${e=>e.theme.primary};
  }
`,Tse=v.div`
  margin-top: 20px;
`,jm=v.div`
  margin-bottom: 30px;
`,Xb=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;

  h3 {
    margin: 0;
    color: ${e=>e.theme.title};
  }
`,Ha=v.div`
  margin-bottom: 15px;

  @media (max-width: 768px) {
    width: 100%;
  }
`,Jb=v.div`
  display: flex;
  gap: 15px;
  margin-bottom: 15px;

  @media (max-width: 768px) {
    flex-direction: column;
    gap: 10px;
  }
`,$i=v.label`
  display: block;
  margin-bottom: 5px;
  font-weight: 500;
  color: ${e=>e.theme.text};
`,Zb=v.input`
  width: 100%;
  padding: 8px 12px;
  border: 1px solid ${e=>e.theme.border};
  border-radius: 4px;
  font-size: 14px;
  color: ${e=>e.theme.text};
  background-color: ${e=>e.theme.inputBg};
`,kse=v.textarea`
  width: 100%;
  padding: 8px 12px;
  border: 1px solid ${e=>e.theme.border};
  border-radius: 4px;
  font-size: 14px;
  color: ${e=>e.theme.text};
  background-color: ${e=>e.theme.inputBg};
  min-height: 100px;
  resize: vertical;
`,Cm=v.select`
  width: 100%;
  padding: 8px 12px;
  border: 1px solid ${e=>e.theme.border};
  border-radius: 4px;
  font-size: 14px;
  color: ${e=>e.theme.text};
  background-color: ${e=>e.theme.inputBg};
`,Ase=v.div`
  display: flex;
  align-items: center;
  margin-bottom: 15px;
`,Ose=v.input`
  margin-right: 8px;
  cursor: pointer;
`,Pse=v.label`
  cursor: pointer;
`,e1=v.div`
  margin-bottom: 20px;
  border: 1px solid ${e=>e.theme.border};
  border-left: 4px solid
    ${e=>e.$isDetail?e.theme.info:e.theme.primary};
  border-radius: 6px;
  background-color: ${e=>e.theme.cardBg};
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
`,t1=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px;
  background-color: ${e=>e.theme.cardHeaderBg};
  border-bottom: 1px solid ${e=>e.theme.border};

  h4 {
    margin: 0;
    color: ${e=>e.theme.title};
  }
`,r1=v.div`
  padding: 15px;
`,n1=v.div`
  margin-bottom: 20px;
`,wn=v.div`
  display: flex;
  margin-bottom: 8px;

  @media (max-width: 768px) {
    flex-direction: column;
  }
`,Sn=v.div`
  width: 120px;
  font-weight: 500;
  color: ${e=>e.theme.textSecondary};

  @media (max-width: 768px) {
    width: 100%;
    margin-bottom: 2px;
  }
`,En=v.div`
  flex: 1;
`,_se=v.div`
  margin-top: 20px;
`,Dse=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;

  h5 {
    margin: 0;
    color: ${e=>e.theme.title};
    font-size: 14px;
  }
`,Mse=v.table`
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;

  th,
  td {
    padding: 8px 10px;
    text-align: left;
    border-bottom: 1px solid ${e=>e.theme.border};
  }

  th {
    background-color: ${e=>e.theme.tableHeader};
    color: ${e=>e.theme.tableHeaderText};
    font-weight: 600;
  }

  tr:hover td {
    background-color: ${e=>e.theme.tableHover};
  }
`,Rse=v.div`
  display: flex;
  gap: 5px;
`,Ise=v.div`
  display: flex;
  align-items: center;
  gap: 10px;
`,$m=v.div`
  text-align: center;
  padding: 15px;
  color: ${e=>e.theme.textSecondary};
  background-color: ${e=>e.theme.cardBg};
  border-radius: 4px;
  border: 1px dashed ${e=>e.theme.border};
`,Nse=v.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
  color: ${e=>e.theme.textSecondary};
`,AO=new Yr;function iN({onSelectMapping:e,onEditMapping:t,onCreateMapping:r}){const{accessToken:n}=wt(),[a,o]=_.useState([]),[i,c]=_.useState(!0),[d,f]=_.useState("");_.useEffect(()=>{p()},[]);const p=async()=>{try{c(!0);const y=await AO.getMappings(n);o(y),c(!1)}catch(y){console.error("Error al cargar configuraciones:",y),z.fire({icon:"error",title:"Error",text:"No se pudieron cargar las configuraciones"}),c(!1)}},m=async(y,w)=>{try{(await z.fire({title:"¿Eliminar configuración?",text:`¿Está seguro de eliminar la configuración "${w}"?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&(await AO.deleteMapping(n,y),z.fire("Eliminado","La configuración ha sido eliminada","success"),p())}catch(S){console.error("Error al eliminar:",S),z.fire({icon:"error",title:"Error",text:"No se pudo eliminar la configuración"})}},g=a.filter(y=>{var w;return y.name.toLowerCase().includes(d.toLowerCase())||((w=y.description)==null?void 0:w.toLowerCase().includes(d.toLowerCase()))});return l.jsxs(Lse,{children:[l.jsxs(Bse,{children:[l.jsx("h2",{children:"Configuraciones de Mapeo"}),l.jsxs(zse,{children:[l.jsxs(Fse,{children:[l.jsx(qse,{type:"text",placeholder:"Buscar configuración...",value:d,onChange:y=>f(y.target.value)}),l.jsx(Hse,{children:l.jsx(Zs,{})})]}),l.jsxs(Use,{onClick:r,children:[l.jsx(ar,{})," Nueva Configuración"]})]})]}),i?l.jsx(Kse,{children:"Cargando configuraciones..."}):l.jsx(l.Fragment,{children:g.length===0?l.jsx(Qse,{children:"No se encontraron configuraciones de mapeo."}):l.jsx(Vse,{children:l.jsxs(Wse,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nombre"}),l.jsx("th",{children:"Descripción"}),l.jsx("th",{children:"Tipo"}),l.jsx("th",{children:"Servidor Origen"}),l.jsx("th",{children:"Servidor Destino"}),l.jsx("th",{children:"Estado"}),l.jsx("th",{children:"Acciones"})]})}),l.jsx("tbody",{children:g.map(y=>l.jsxs("tr",{children:[l.jsx("td",{children:y.name}),l.jsx("td",{children:y.description||"-"}),l.jsx("td",{children:y.transferType}),l.jsx("td",{children:y.sourceServer}),l.jsx("td",{children:y.targetServer}),l.jsx("td",{children:l.jsx(Gse,{$active:y.active,children:y.active?"Activo":"Inactivo"})}),l.jsx("td",{children:l.jsxs(Yse,{children:[l.jsx(a1,{title:"Ver documentos",onClick:()=>e(y._id),children:l.jsx(ta,{})}),l.jsx(a1,{title:"Editar configuración",onClick:()=>t(y._id),children:l.jsx(Ir,{})}),l.jsx(a1,{title:"Eliminar configuración",$danger:!0,onClick:()=>m(y._id,y.name),children:l.jsx(Nr,{})})]})})]},y._id))})]})})})]})}const Lse=v.div`
  padding: 20px;
  background-color: ${e=>e.theme.bg};
  color: ${e=>e.theme.text};
`,Bse=v.div`
  display: flex;
  flex-direction: column;
  margin-bottom: 20px;

  h2 {
    margin: 0 0 15px 0;
    color: ${e=>e.theme.title};
  }
`,zse=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: stretch;
  }
`,Fse=v.div`
  position: relative;
  flex: 1;
  max-width: 400px;
`,qse=v.input`
  width: 100%;
  padding: 10px 15px 10px 35px;
  border: 1px solid ${e=>e.theme.border};
  border-radius: 4px;
  font-size: 14px;
  color: ${e=>e.theme.text};
  background-color: ${e=>e.theme.inputBg};
`,Hse=v.div`
  position: absolute;
  left: 10px;
  top: 50%;
  transform: translateY(-50%);
  color: ${e=>e.theme.textSecondary};
`,Use=v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 15px;
  background-color: ${e=>e.theme.primary};
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;

  &:hover {
    background-color: ${e=>e.theme.primaryHover};
  }
`,Vse=v.div`
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  overflow-x: auto; // Ya tienes esto, correcto
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);

  /* Añadir esto */
  -webkit-overflow-scrolling: touch; /* Para mejor scroll en iOS */

  @media (max-width: 576px) {
    /* Mejora la visualización en móviles pequeños */
    margin-left: -10px;
    margin-right: -10px;
    width: calc(100% + 20px);
    border-radius: 0;
  }
`,Wse=v.table`
  width: 100%;
  border-collapse: collapse;

  th,
  td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid ${e=>e.theme.border};
  }

  th {
    background-color: ${e=>e.theme.tableHeader};
    color: ${e=>e.theme.tableHeaderText};
    font-weight: 600;
  }

  tr:hover td {
    background-color: ${e=>e.theme.tableHover};
  }
`,Yse=v.div`
  display: flex;
  gap: 5px;
`,a1=v.button`
  background: none;
  border: none;
  font-size: 16px;
  cursor: pointer;
  color: ${e=>e.$danger?e.theme.danger:e.theme.primary};
  padding: 5px;

  &:hover {
    color: ${e=>e.$danger?e.theme.dangerHover:e.theme.primaryHover};
    transform: scale(1.1);
  }
`,Gse=v.span`
  display: inline-block;
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 12px;
  background-color: ${e=>e.$active?e.theme.success:e.theme.secondary};
  color: white;
`,Kse=v.div`
  text-align: center;
  padding: 20px;
  color: ${e=>e.theme.textSecondary};
`,Qse=v.div`
  text-align: center;
  padding: 30px;
  color: ${e=>e.theme.textSecondary};
  background-color: ${e=>e.theme.cardBg};
  border-radius: 8px;
  margin-top: 20px;
`;v.div`
  min-height: 100vh;
  padding: 15px;
  width: 100%;
  background-color: ${e=>e.theme.bg};
  color: ${e=>e.theme.text};
  display: grid;
  grid-template:
    "header" 90px
    "area1" auto
    "main" 1fr;

  @media (max-width: 768px) {
    grid-template:
      "header" 70px
      "area1" auto
      "main" 1fr;
    padding: 10px;
  }

  .header {
    grid-area: header;
    display: flex;
    align-items: center;
    margin-bottom: 20px;
  }

  .area1 {
    grid-area: area1;
    margin-bottom: 10px;
  }

  .main {
    grid-area: main;
    margin-top: 10px;
    overflow-x: auto;
    position: relative;
  }
`;v.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 15px 0;
`;v.div`
  display: flex;
  flex-direction: column;
  text-align: center;
  gap: 5px;

  h2 {
    margin: 0;
    font-size: 1.5rem;
    color: ${({theme:e})=>e.title||e.text};
  }

  p {
    margin: 0;
    color: ${({theme:e})=>e.textSecondary||"#666"};
  }
`;v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 15px;
  background-color: ${e=>e.theme.secondary};
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;
  margin-bottom: 20px;

  &:hover {
    background-color: ${e=>e.theme.secondaryHover};
  }
`;v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 15px;
  background-color: ${e=>e.theme.secondary};
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;
  margin-bottom: 10px;
  &:hover {
    background-color: ${e=>e.theme.secondaryHover};
  }
`;v.div`
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  padding: 15px;
  margin-bottom: 20px;
`;v.div`
  margin-bottom: 15px;

  h4 {
    margin-top: 10px;
    margin-bottom: 8px;
    color: ${({theme:e})=>e.primary};
    border-bottom: 1px solid ${({theme:e})=>e.border};
    padding-bottom: 4px;
  }
`;v.div`
  display: flex;
  margin-bottom: 5px;
`;v.div`
  width: 150px;
  font-weight: 500;
`;v.div`
  flex: 1;
`;v.div`
  padding: 5px 0;
  border-bottom: 1px dashed ${({theme:e})=>e.border};
`;v.div`
  padding: 8px;
  margin-bottom: 8px;
  background-color: ${({theme:e})=>e.tableHeader};
  border-radius: 4px;
`;v.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;

  @media (max-width: 768px) {
    justify-content: center;
  }
`;v.div`
  display: flex;
  width: 100%;
  justify-content: center;
  margin-bottom: 10px;
`;v.input`
  width: 100%;
  max-width: 800px;
  padding: 10px 15px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};

  &:focus {
    outline: none;
    border-color: #007bff;
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
  }
`;v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 15px;
  justify-content: center;

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: center;
  }
`;v.div`
  display: flex;
  align-items: center;
  gap: 5px;

  @media (max-width: 768px) {
    width: 100%;
    max-width: 300px;
  }
`;v.label`
  font-size: 14px;
  font-weight: 500;
  color: ${({theme:e})=>e.textSecondary||"#666"};
  white-space: nowrap;
`;v.select`
  padding: 6px 10px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  background-color: ${({theme:e})=>e.inputBg||"#fff"};
  color: ${({theme:e})=>e.text};

  @media (max-width: 768px) {
    flex: 1;
  }
`;v.input`
  padding: 6px 10px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  background-color: ${({theme:e})=>e.inputBg||"#fff"};
  color: ${({theme:e})=>e.text};

  @media (max-width: 768px) {
    flex: 1;
  }
`;v.div`
  display: flex;
  align-items: center;
  gap: 5px;
`;v.input`
  width: 16px;
  height: 16px;
  cursor: pointer;
`;v.label`
  font-size: 14px;
  cursor: pointer;
`;v.button`
  background-color: #6c757d;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 6px 10px;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: #5a6268;
  }

  @media (max-width: 768px) {
    width: 100%;
    max-width: 300px;
  }
`;v.div`
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  margin-bottom: 10px;

  @media (max-width: 480px) {
    flex-direction: column;
    width: 100%;
  }
`;v.button`
  background-color: #17a2b8;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;

  &:hover {
    background-color: #138496;
  }

  &:disabled {
    background-color: #ccc;
    cursor: not-allowed;
  }

  @media (max-width: 480px) {
    width: 100%;
  }
`;v.div`
  display: flex;
  margin-left: 10px;
`;v.button`
  background-color: ${e=>e.$active?"#6c757d":"#f8f9fa"};
  color: ${e=>e.$active?"white":"#212529"};
  border: 1px solid #dee2e6;
  border-radius: 4px;
  padding: 8px 12px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.2s;

  &:hover {
    background-color: ${e=>e.$active?"#5a6268":"#e2e6ea"};
  }

  @media (max-width: 480px) {
    flex: 1;
  }
`;v.div`
  text-align: center;
  margin-bottom: 15px;
  font-size: 14px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`;v.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 200px;
  gap: 20px;
`;v(wV)`
  font-size: ${e=>e.size==="large"?"4rem":"2rem"};
  color: #17a2b8;
  animation: spin 1s linear infinite;

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`;v.div`
  padding: 20px;
  text-align: center;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`;v.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(255, 255, 255, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
`;v.div`
  padding: 20px;
  text-align: center;
  color: #dc3545;
  background-color: rgba(220, 53, 69, 0.1);
  border-radius: 8px;
  margin: 20px 0;
`;v.div`
  padding: 30px;
  text-align: center;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
`;v.div`
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  overflow-x: auto; // Ya tienes esto, correcto
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);

  /* Añadir esto */
  -webkit-overflow-scrolling: touch; /* Para mejor scroll en iOS */

  @media (max-width: 576px) {
    /* Mejora la visualización en móviles pequeños */
    margin-left: -10px;
    margin-right: -10px;
    width: calc(100% + 20px);
    border-radius: 0;
  }
`;v.table`
  width: 100%;
  border-collapse: collapse;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  color: ${({theme:e})=>e.text};

  th,
  td {
    padding: 12px 15px;
    text-align: left;
  }

  th {
    background-color: ${({theme:e})=>e.tableHeader||"#f0f0f0"};
    color: ${({theme:e})=>e.tableHeaderText||"#333"};
    font-weight: bold;
    position: sticky;
    top: 0;
    z-index: 10;
  }

  tr {
    border-bottom: 1px solid ${({theme:e})=>e.border||"#ddd"};

    &:hover {
      background-color: ${({theme:e})=>e.tableHover||"#f8f9fa"};
    }
  }

  .checkbox-column {
    width: 40px;
    text-align: center;
  }

  .actions-column {
    width: 100px;
    text-align: center;
  }
`;v.span`
  display: inline-block;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 500;
  text-align: center;
  background-color: ${e=>{if(typeof e.status=="string"){const t=e.status.toUpperCase();if(t==="P"||t.includes("PEND"))return"#17a2b8";if(t==="F"||t.includes("FACT"))return"#28a745";if(t==="A"||t.includes("ANUL"))return"#dc3545"}return"#6c757d"}};
  color: white;
`;v.div`
  display: flex;
  gap: 5px;
  justify-content: center;
`;v.button`
  background: none;
  border: none;
  color: ${e=>e.$color||"#0275d8"};
  font-size: 16px;
  cursor: pointer;
  padding: 5px;
  border-radius: 4px;
  transition: all 0.2s;

  &:hover {
    color: ${e=>e.$color||"#0275d8"};
    background-color: rgba(0, 0, 0, 0.05);
  }

  &:disabled {
    color: #adb5bd;
    cursor: not-allowed;
  }
`;v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  justify-content: center;
  padding: 10px;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
`;v.div`
  width: 320px;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  border-left: 4px solid
    ${e=>{if(e.$selected)return"#007bff";if(typeof e.$status=="string"){const t=e.$status.toUpperCase();if(t==="P"||t.includes("PEND"))return"#17a2b8";if(t==="F"||t.includes("FACT"))return"#28a745";if(t==="A"||t.includes("ANUL"))return"#dc3545"}return"#6c757d"}};
  transition: all 0.2s;

  &:hover {
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
  }
`;v.div`
  padding: 15px;
  border-bottom: 1px solid ${({theme:e})=>e.border||"#eee"};
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: ${({theme:e})=>e.cardHeaderBg||"#f8f9fa"};
`;v.h3`
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: ${({theme:e})=>e.title||e.text};
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 10px;
`;v.div`
  padding: 15px;
  flex: 1;
`;v.div`
  margin-bottom: 15px;
`;v.div`
  display: flex;
  gap: 8px;
  padding: 15px;
  border-top: 1px solid ${({theme:e})=>e.border||"#eee"};
  background-color: ${({theme:e})=>e.cardFooterBg||"#f8f9fa"};
  justify-content: space-between;
  align-items: center;
`;v.label`
  display: flex;
  align-items: center;
  gap: 5px;
  font-size: 14px;
  cursor: pointer;
`;v.div`
  display: flex;
  flex-direction: column;
`;v.div`
  display: flex;
  gap: 8px;
`;v.button`
  padding: 8px;
  border: none;
  border-radius: 4px;
  background-color: ${e=>e.$color||"#6c757d"};
  color: white;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s;

  &:hover {
    filter: brightness(90%);
  }

  &:disabled {
    background-color: #adb5bd;
    cursor: not-allowed;
    opacity: 0.7;
  }
`;v.ul`
  margin-top: 8px;
  padding-left: 20px;
  list-style-type: none;
`;v.li`
  margin-bottom: 4px;
  font-size: 13px;
`;v.span`
  margin-left: 5px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
  font-style: italic;
  font-size: 12px;
  &:before {
    content: "(default: ";
  }
  &:after {
    content: ")";
  }
`;v.div`
  min-height: 100vh;
  padding: 15px;
  width: 100%;
  background-color: ${e=>e.theme.bg};
  color: ${({theme:e})=>e.text};
  display: grid;

  grid-template:
    "header" 90px
    "area1" 50px
    "area2" 80px
    "main" auto;

  @media (max-width: 768px) {
    grid-template:
      "header" 70px
      "area1" auto
      "area2" auto
      "main" 1fr;
    padding: 10px;
  }

  @media (max-width: 480px) {
    grid-template:
      "header" 60px
      "area1" auto
      "area2" auto
      "main" 1fr;
    padding: 5px;
  }

  .header {
    grid-area: header;
    display: flex;
    align-items: center;
    margin-bottom: 20px;
  }

  .area1 {
    grid-area: area1;
    margin-bottom: 10px;
  }

  .area2 {
    grid-area: area2;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: 20px;
    margin-bottom: 15px;

    @media (max-width: 768px) {
      margin-top: 15px;
      margin-bottom: 10px;
    }

    @media (max-width: 480px) {
      margin-top: 10px;
      margin-bottom: 5px;
      flex-direction: column;
    }
  }

  .main {
    grid-area: main;
    margin-top: 10px;
    overflow-x: auto;

    @media (max-width: 768px) {
      padding: 10px;
    }

    @media (max-width: 480px) {
      padding: 5px;
    }
  }
`;const sN=({mapping:e={},handleChange:t})=>{var k,C,$,L,T,P,O,N;const r=e.promotionConfig||{},n=r.enabled||!1,[a,o]=_.useState(r.rules||[]),[i,c]=_.useState(!1);_.useEffect(()=>{o(r.rules||[])},[r.rules]);const d=R=>{const j={target:{name:"promotionConfig",value:{...r,...R},type:"custom"}};t(j)},f=R=>{d({enabled:R.target.checked})},p=(R,D)=>{const j={...r.detectFields,[R]:D};d({detectFields:j})},m=(R,D)=>{const j={...r.targetFields,[R]:D};d({targetFields:j})},g=async()=>{const{value:R}=await z.fire({title:"Nueva Regla de Promoción",html:`
        <div class="promotion-form-container">
          <div class="promotion-form-group">
            <label class="promotion-form-label">Nombre de la Regla *</label>
            <input id="ruleName" class="promotion-form-input" placeholder="Ej: Descuento Familia Desechables">
          </div>

          <div class="promotion-form-group">
            <label class="promotion-form-label">Tipo de Promoción *</label>
            <select id="ruleType" class="promotion-form-select">
              <option value="">Seleccione un tipo</option>
              <option value="FAMILY_DISCOUNT">Descuento por Familia</option>
              <option value="QUANTITY_BONUS">Bonificación por Cantidad</option>
              <option value="SCALED_BONUS">Bonificación Escalada</option>
              <option value="PRODUCT_BONUS">Bonificación por Producto</option>
              <option value="INVOICE_DISCOUNT">Descuento en Factura</option>
              <option value="ONE_TIME_OFFER">Oferta Única</option>
            </select>
          </div>

          <div class="promotion-form-group">
            <label class="promotion-form-label">Descripción</label>
            <textarea id="ruleDescription" class="promotion-form-textarea" rows="3" placeholder="Describe cómo funciona esta promoción"></textarea>
          </div>

          <div class="promotion-form-group">
            <label class="promotion-form-label">Prioridad</label>
            <input id="rulePriority" type="number" class="promotion-form-input" value="0" min="0" max="100">
          </div>

          <div class="promotion-form-group">
            <label class="promotion-form-checkbox">
              <input id="ruleEnabled" type="checkbox" checked> Habilitada
            </label>
          </div>

          <div class="promotion-form-group">
            <label class="promotion-form-checkbox">
              <input id="ruleOneTime" type="checkbox"> Oferta de una sola vez
            </label>
          </div>
        </div>
      `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Crear Regla",cancelButtonText:"Cancelar",customClass:{popup:"promotion-popup",title:"promotion-title",content:"promotion-content"},preConfirm:()=>{const D=document.getElementById("ruleName").value,j=document.getElementById("ruleType").value,A=document.getElementById("ruleDescription").value,I=parseInt(document.getElementById("rulePriority").value),B=document.getElementById("ruleEnabled").checked,F=document.getElementById("ruleOneTime").checked;return!D||!j?(z.showValidationMessage("Nombre y tipo son requeridos"),!1):{name:D,type:j,description:A,priority:I,enabled:B,isOneTime:F,conditions:{},actions:{}}}});if(R){const D=[...a,R];o(D),d({rules:D})}},y=async R=>{const D=a[R],{value:j}=await z.fire({title:"Editar Regla de Promoción",html:`
        <div class="promotion-form-container">
          <div class="promotion-form-group">
            <label class="promotion-form-label">Nombre de la Regla *</label>
            <input id="ruleName" class="promotion-form-input" value="${D.name}">
          </div>

          <div class="promotion-form-group">
            <label class="promotion-form-label">Tipo de Promoción *</label>
            <select id="ruleType" class="promotion-form-select">
              <option value="FAMILY_DISCOUNT" ${D.type==="FAMILY_DISCOUNT"?"selected":""}>Descuento por Familia</option>
              <option value="QUANTITY_BONUS" ${D.type==="QUANTITY_BONUS"?"selected":""}>Bonificación por Cantidad</option>
              <option value="SCALED_BONUS" ${D.type==="SCALED_BONUS"?"selected":""}>Bonificación Escalada</option>
              <option value="PRODUCT_BONUS" ${D.type==="PRODUCT_BONUS"?"selected":""}>Bonificación por Producto</option>
              <option value="INVOICE_DISCOUNT" ${D.type==="INVOICE_DISCOUNT"?"selected":""}>Descuento en Factura</option>
              <option value="ONE_TIME_OFFER" ${D.type==="ONE_TIME_OFFER"?"selected":""}>Oferta Única</option>
            </select>
          </div>

          <div class="promotion-form-group">
            <label class="promotion-form-label">Descripción</label>
            <textarea id="ruleDescription" class="promotion-form-textarea" rows="3">${D.description||""}</textarea>
          </div>

          <div class="promotion-form-group">
            <label class="promotion-form-label">Prioridad</label>
            <input id="rulePriority" type="number" class="promotion-form-input" value="${D.priority||0}" min="0" max="100">
          </div>

          <div class="promotion-form-group">
            <label class="promotion-form-checkbox">
              <input id="ruleEnabled" type="checkbox" ${D.enabled?"checked":""}> Habilitada
            </label>
          </div>

          <div class="promotion-form-group">
            <label class="promotion-form-checkbox">
              <input id="ruleOneTime" type="checkbox" ${D.isOneTime?"checked":""}> Oferta de una sola vez
            </label>
          </div>
        </div>
      `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Guardar Cambios",cancelButtonText:"Cancelar",customClass:{popup:"promotion-popup",title:"promotion-title",content:"promotion-content"},preConfirm:()=>{const A=document.getElementById("ruleName").value,I=document.getElementById("ruleType").value,B=document.getElementById("ruleDescription").value,F=parseInt(document.getElementById("rulePriority").value),U=document.getElementById("ruleEnabled").checked,Y=document.getElementById("ruleOneTime").checked;return!A||!I?(z.showValidationMessage("Nombre y tipo son requeridos"),!1):{...D,name:A,type:I,description:B,priority:F,enabled:U,isOneTime:Y}}});if(j){const A=[...a];A[R]=j,o(A),d({rules:A})}},w=async R=>{const D=a[R];if((await z.fire({title:"¿Eliminar Regla?",text:`¿Está seguro que desea eliminar la regla "${D.name}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"})).isConfirmed){const A=a.filter((I,B)=>B!==R);o(A),d({rules:A})}},S=R=>{switch(R){case"FAMILY_DISCOUNT":case"INVOICE_DISCOUNT":return l.jsx(vV,{});case"QUANTITY_BONUS":case"SCALED_BONUS":case"PRODUCT_BONUS":return l.jsx(Ck,{});default:return l.jsx(_n,{})}},b=R=>{switch(R){case"FAMILY_DISCOUNT":case"INVOICE_DISCOUNT":return"#e74c3c";case"QUANTITY_BONUS":case"SCALED_BONUS":case"PRODUCT_BONUS":return"#2ecc71";case"ONE_TIME_OFFER":return"#f39c12";default:return"#3498db"}};return l.jsxs(Xse,{children:[l.jsxs(Jse,{children:[l.jsx(Ck,{})," Configuración de Promociones y Bonificaciones"]}),l.jsxs(Zse,{children:[l.jsxs(ele,{children:[l.jsx(tle,{type:"checkbox",checked:n,onChange:f}),l.jsx(jo,{children:"Habilitar procesamiento de promociones"})]}),l.jsx(Od,{children:"Al habilitar esta opción, el sistema detectará automáticamente promociones en los documentos y las procesará según la configuración definida."})]}),n&&l.jsxs(l.Fragment,{children:[l.jsxs(rle,{children:[l.jsx(o1,{children:"Configuración Básica"}),l.jsxs(OO,{children:[l.jsxs(Ti,{children:[l.jsx(jo,{children:"Campo de Bonificación"}),l.jsx(ki,{type:"text",value:((k=r.detectFields)==null?void 0:k.bonusField)||"ART_BON",onChange:R=>p("bonusField",R.target.value),placeholder:"Ej: ART_BON"}),l.jsx(Od,{children:"Campo que indica si una línea es bonificación (normalmente 'B')"})]}),l.jsxs(Ti,{children:[l.jsx(jo,{children:"Campo de Referencia"}),l.jsx(ki,{type:"text",value:((C=r.detectFields)==null?void 0:C.referenceField)||"COD_ART_RFR",onChange:R=>p("referenceField",R.target.value),placeholder:"Ej: COD_ART_RFR"}),l.jsx(Od,{children:"Campo que referencia al artículo regular"})]}),l.jsxs(Ti,{children:[l.jsx(jo,{children:"Campo de Descuento"}),l.jsx(ki,{type:"text",value:(($=r.detectFields)==null?void 0:$.discountField)||"MON_DSC",onChange:R=>p("discountField",R.target.value),placeholder:"Ej: MON_DSC"}),l.jsx(Od,{children:"Campo que contiene el monto de descuento"})]}),l.jsxs(Ti,{children:[l.jsx(jo,{children:"Campo Número de Línea"}),l.jsx(ki,{type:"text",value:((L=r.detectFields)==null?void 0:L.lineNumberField)||"NUM_LN",onChange:R=>p("lineNumberField",R.target.value),placeholder:"Ej: NUM_LN"}),l.jsx(Od,{children:"Campo que contiene el número de línea"})]})]})]}),l.jsxs(nle,{onClick:()=>c(!i),children:[i?l.jsx(dn,{}):l.jsx(ar,{}),"Configuración Avanzada"]}),i&&l.jsxs(ale,{children:[l.jsx(o1,{children:"Campos Destino"}),l.jsxs(OO,{children:[l.jsxs(Ti,{children:[l.jsx(jo,{children:"Campo Línea Bonificación"}),l.jsx(ki,{type:"text",value:((T=r.targetFields)==null?void 0:T.bonusLineRef)||"PEDIDO_LINEA_BONIF",onChange:R=>m("bonusLineRef",R.target.value),placeholder:"Ej: PEDIDO_LINEA_BONIF"})]}),l.jsxs(Ti,{children:[l.jsx(jo,{children:"Campo Cantidad Pedida"}),l.jsx(ki,{type:"text",value:((P=r.targetFields)==null?void 0:P.orderedQuantity)||"CANTIDAD_PEDIDA",onChange:R=>m("orderedQuantity",R.target.value),placeholder:"Ej: CANTIDAD_PEDIDA"})]}),l.jsxs(Ti,{children:[l.jsx(jo,{children:"Campo Cantidad Bonificación"}),l.jsx(ki,{type:"text",value:((O=r.targetFields)==null?void 0:O.bonusQuantity)||"CANTIDAD_BONIF",onChange:R=>m("bonusQuantity",R.target.value),placeholder:"Ej: CANTIDAD_BONIF"})]}),l.jsxs(Ti,{children:[l.jsx(jo,{children:"Campo Cantidad a Facturar"}),l.jsx(ki,{type:"text",value:((N=r.targetFields)==null?void 0:N.invoiceQuantity)||"CANTIDAD_A_FACTURAR",onChange:R=>m("invoiceQuantity",R.target.value),placeholder:"Ej: CANTIDAD_A_FACTURAR"})]})]})]}),l.jsxs(ole,{children:[l.jsxs(ile,{children:[l.jsx(o1,{children:"Reglas de Promoción"}),l.jsxs(sle,{onClick:g,children:[l.jsx(ar,{})," Agregar Regla"]})]}),a.length>0?l.jsx(lle,{children:a.map((R,D)=>l.jsxs(cle,{ruleColor:b(R.type),children:[l.jsx(ule,{ruleColor:b(R.type),children:S(R.type)}),l.jsxs(dle,{children:[l.jsx(fle,{children:R.name}),l.jsx(ple,{children:R.type.replace("_"," ")}),R.description&&l.jsx(hle,{children:R.description}),l.jsxs(mle,{children:[R.enabled?l.jsxs(gle,{children:[l.jsx(Zl,{})," Activa"]}):l.jsxs(yle,{children:[l.jsx(dn,{})," Inactiva"]}),R.isOneTime&&l.jsx(vle,{children:"Oferta Única"}),l.jsxs(xle,{children:["Prioridad: ",R.priority||0]})]})]}),l.jsxs(ble,{children:[l.jsx(PO,{onClick:()=>y(D),title:"Editar",children:l.jsx(Ir,{})}),l.jsx(PO,{onClick:()=>w(D),title:"Eliminar",danger:!0,children:l.jsx(Nr,{})})]})]},D))}):l.jsxs(wle,{children:[l.jsx(_n,{}),l.jsx("p",{children:"No hay reglas de promoción configuradas."}),l.jsx("p",{children:'Haz clic en "Agregar Regla" para crear tu primera regla.'})]})]}),l.jsxs(Sle,{children:[l.jsxs(Ele,{children:[l.jsx(_n,{})," Información"]}),l.jsxs(jle,{children:[l.jsxs(Tm,{children:[l.jsx(Dh,{})," ",l.jsx("strong",{children:"Detección automática:"})," El sistema detecta promociones usando los campos configurados"]}),l.jsxs(Tm,{children:[l.jsx(Dh,{})," ",l.jsx("strong",{children:"Transformación:"})," Convierte referencias de artículos a números de línea automáticamente"]}),l.jsxs(Tm,{children:[l.jsx(Dh,{})," ",l.jsx("strong",{children:"Reglas:"})," Define reglas específicas para diferentes tipos de promociones"]}),l.jsxs(Tm,{children:[l.jsx(Dh,{})," ",l.jsx("strong",{children:"Prioridad:"})," Las reglas con menor número tienen mayor prioridad"]})]})]})]})]})},Xse=v.div`
  position: relative;
  background-color: ${({theme:e})=>(e==null?void 0:e.cardBg)||"#ffffff"};
  border-radius: 8px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
`,Jse=v.h3`
  font-size: 1.2rem;
  font-weight: 600;
  margin-bottom: 1.5rem;
  color: ${({theme:e})=>(e==null?void 0:e.primary)||"#333"};
  border-bottom: 2px solid ${({theme:e})=>(e==null?void 0:e.border)||"#eee"};
  padding-bottom: 0.5rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
`,o1=v.h4`
  font-size: 1rem;
  font-weight: 500;
  margin-bottom: 1rem;
  color: ${({theme:e})=>(e==null?void 0:e.textSecondary)||"#555"};
`,Zse=v.div`
  margin-bottom: 1.5rem;
  padding: 1rem;
  background-color: ${({theme:e})=>(e==null?void 0:e.background)||"#f8f9fa"};
  border-radius: 6px;
`,ele=v.div`
  display: flex;
  align-items: center;
  margin-bottom: 0.5rem;
`,tle=v.input`
  margin-right: 8px;
  width: 16px;
  height: 16px;
`,jo=v.label`
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 500;
  color: ${({theme:e})=>(e==null?void 0:e.textSecondary)||"#555"};
`,Ti=v.div`
  margin-bottom: 1rem;
`,ki=v.input`
  width: 100%;
  padding: 0.5rem;
  border: 1px solid ${({theme:e})=>(e==null?void 0:e.border)||"#ccc"};
  border-radius: 4px;
  font-size: 14px;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>(e==null?void 0:e.primary)||"#0275d8"};
    box-shadow: 0 0 0 2px rgba(2, 117, 216, 0.25);
  }
`,Od=v.p`
  font-size: 0.8rem;
  color: ${({theme:e})=>(e==null?void 0:e.textMuted)||"#666"};
  margin-top: 0.25rem;
  margin-bottom: 0;
`,rle=v.div`
  margin-bottom: 1.5rem;
  padding: 1rem;
  border: 1px solid ${({theme:e})=>(e==null?void 0:e.border)||"#eee"};
  border-radius: 6px;
`,OO=v.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
`,nle=v.button`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  background: none;
  border: none;
  color: ${({theme:e})=>(e==null?void 0:e.primary)||"#0275d8"};
  cursor: pointer;
  padding: 0.5rem;
  font-size: 0.9rem;
  margin-bottom: 1rem;

  &:hover {
    text-decoration: underline;
  }
`,ale=v.div`
  margin-bottom: 1.5rem;
  padding: 1rem;
  border: 1px solid ${({theme:e})=>(e==null?void 0:e.border)||"#eee"};
  border-radius: 6px;
  background-color: ${({theme:e})=>(e==null?void 0:e.background)||"#f8f9fa"};
`,ole=v.div`
  margin-bottom: 1.5rem;
`,ile=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
`,sle=v.button`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  background-color: ${({theme:e})=>(e==null?void 0:e.primary)||"#0275d8"};
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.9rem;

  &:hover {
    background-color: ${({theme:e})=>(e==null?void 0:e.primaryDark)||"#025aa5"};
  }
`,lle=v.div`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,cle=v.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  border: 1px solid ${({theme:e})=>(e==null?void 0:e.border)||"#eee"};
  border-left: 4px solid ${({ruleColor:e})=>e};
  border-radius: 6px;
  background-color: ${({theme:e})=>(e==null?void 0:e.cardBg)||"#ffffff"};
`,ule=v.div`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background-color: ${({ruleColor:e})=>e};
  color: white;
  font-size: 1.1rem;
`,dle=v.div`
  flex: 1;
`,fle=v.h5`
  font-size: 1rem;
  font-weight: 600;
  margin: 0 0 0.25rem 0;
  color: ${({theme:e})=>(e==null?void 0:e.text)||"#333"};
`,ple=v.div`
  font-size: 0.8rem;
  color: ${({theme:e})=>(e==null?void 0:e.textMuted)||"#666"};
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 0.5rem;
`,hle=v.p`
  font-size: 0.9rem;
  color: ${({theme:e})=>(e==null?void 0:e.textSecondary)||"#555"};
  margin: 0 0 0.5rem 0;
`,mle=v.div`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-wrap: wrap;
`,gle=v.span`
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.8rem;
  color: #27ae60;
  font-weight: 500;
`,yle=v.span`
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.8rem;
  color: #e74c3c;
  font-weight: 500;
`,vle=v.span`
  font-size: 0.7rem;
  background-color: #f39c12;
  color: white;
  padding: 0.2rem 0.4rem;
  border-radius: 12px;
  font-weight: 500;
`,xle=v.span`
  font-size: 0.7rem;
  background-color: ${({theme:e})=>(e==null?void 0:e.textMuted)||"#666"};
  color: white;
  padding: 0.2rem 0.4rem;
  border-radius: 12px;
  font-weight: 500;
`,ble=v.div`
  display: flex;
  gap: 0.5rem;
`,PO=v.button`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  background-color: ${({danger:e,theme:t})=>e?"#e74c3c":(t==null?void 0:t.primary)||"#0275d8"};
  color: white;

  &:hover {
    opacity: 0.8;
  }
`,wle=v.div`
  text-align: center;
  padding: 2rem;
  color: ${({theme:e})=>(e==null?void 0:e.textMuted)||"#666"};

  svg {
    font-size: 2rem;
    margin-bottom: 1rem;
  }

  p {
    margin: 0.5rem 0;
  }
`,Sle=v.div`
  margin-top: 1.5rem;
  padding: 1rem;
  background-color: ${({theme:e})=>(e==null?void 0:e.background)||"#f8f9fa"};
  border-radius: 6px;
`,Ele=v.h5`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.9rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
  color: ${({theme:e})=>(e==null?void 0:e.primary)||"#0275d8"};
`,jle=v.ul`
  list-style: none;
  padding: 0;
  margin: 0;
`,Tm=v.li`
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
  font-size: 0.8rem;
  color: ${({theme:e})=>(e==null?void 0:e.textSecondary)||"#555"};
  margin-bottom: 0.5rem;

  svg {
    margin-top: 0.2rem;
    color: ${({theme:e})=>(e==null?void 0:e.primary)||"#0275d8"};
  }
`,Yd=({children:e,resource:t,action:r,role:n,legacyRole:a,requireAdmin:o=!1,fallback:i=null,showFallback:c=!0})=>{const{hasPermission:d,hasRole:f,hasLegacyRole:p,isAdmin:m,loading:g}=oo();return g?l.jsx("div",{children:"Verificando permisos..."}):o&&!m?c?i||l.jsx("div",{children:"No tienes permisos para ver este contenido"}):null:a&&!p(a)&&!m?c?i||l.jsxs("div",{children:["Necesitas el rol: ",a]}):null:n&&!f(n)&&!m?c?i||l.jsxs("div",{children:["Necesitas el rol: ",n]}):null:t&&r&&!d(t,r)?c?i||l.jsxs("div",{children:["No tienes permisos para ",r," en ",t]}):null:l.jsx(l.Fragment,{children:e})};var i1,_O;function gn(){if(_O)return i1;_O=1;var e=Array.isArray;return i1=e,i1}var s1,DO;function lN(){if(DO)return s1;DO=1;var e=typeof Th=="object"&&Th&&Th.Object===Object&&Th;return s1=e,s1}var l1,MO;function so(){if(MO)return l1;MO=1;var e=lN(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return l1=r,l1}var c1,RO;function up(){if(RO)return c1;RO=1;var e=so(),t=e.Symbol;return c1=t,c1}var u1,IO;function Cle(){if(IO)return u1;IO=1;var e=up(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function o(i){var c=r.call(i,a),d=i[a];try{i[a]=void 0;var f=!0}catch{}var p=n.call(i);return f&&(c?i[a]=d:delete i[a]),p}return u1=o,u1}var d1,NO;function $le(){if(NO)return d1;NO=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return d1=r,d1}var f1,LO;function Xo(){if(LO)return f1;LO=1;var e=up(),t=Cle(),r=$le(),n="[object Null]",a="[object Undefined]",o=e?e.toStringTag:void 0;function i(c){return c==null?c===void 0?a:n:o&&o in Object(c)?t(c):r(c)}return f1=i,f1}var p1,BO;function Jo(){if(BO)return p1;BO=1;function e(t){return t!=null&&typeof t=="object"}return p1=e,p1}var h1,zO;function cu(){if(zO)return h1;zO=1;var e=Xo(),t=Jo(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return h1=n,h1}var m1,FO;function e5(){if(FO)return m1;FO=1;var e=gn(),t=cu(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(o,i){if(e(o))return!1;var c=typeof o;return c=="number"||c=="symbol"||c=="boolean"||o==null||t(o)?!0:n.test(o)||!r.test(o)||i!=null&&o in Object(i)}return m1=a,m1}var g1,qO;function Gi(){if(qO)return g1;qO=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return g1=e,g1}var y1,HO;function t5(){if(HO)return y1;HO=1;var e=Xo(),t=Gi(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",o="[object Proxy]";function i(c){if(!t(c))return!1;var d=e(c);return d==n||d==a||d==r||d==o}return y1=i,y1}var v1,UO;function Tle(){if(UO)return v1;UO=1;var e=so(),t=e["__core-js_shared__"];return v1=t,v1}var x1,VO;function kle(){if(VO)return x1;VO=1;var e=Tle(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return x1=r,x1}var b1,WO;function cN(){if(WO)return b1;WO=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return b1=r,b1}var w1,YO;function Ale(){if(YO)return w1;YO=1;var e=t5(),t=kle(),r=Gi(),n=cN(),a=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,i=Function.prototype,c=Object.prototype,d=i.toString,f=c.hasOwnProperty,p=RegExp("^"+d.call(f).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!r(g)||t(g))return!1;var y=e(g)?p:o;return y.test(n(g))}return w1=m,w1}var S1,GO;function Ole(){if(GO)return S1;GO=1;function e(t,r){return t==null?void 0:t[r]}return S1=e,S1}var E1,KO;function nl(){if(KO)return E1;KO=1;var e=Ale(),t=Ole();function r(n,a){var o=t(n,a);return e(o)?o:void 0}return E1=r,E1}var j1,QO;function Sv(){if(QO)return j1;QO=1;var e=nl(),t=e(Object,"create");return j1=t,j1}var C1,XO;function Ple(){if(XO)return C1;XO=1;var e=Sv();function t(){this.__data__=e?e(null):{},this.size=0}return C1=t,C1}var $1,JO;function _le(){if(JO)return $1;JO=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return $1=e,$1}var T1,ZO;function Dle(){if(ZO)return T1;ZO=1;var e=Sv(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(o){var i=this.__data__;if(e){var c=i[o];return c===t?void 0:c}return n.call(i,o)?i[o]:void 0}return T1=a,T1}var k1,eP;function Mle(){if(eP)return k1;eP=1;var e=Sv(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var o=this.__data__;return e?o[a]!==void 0:r.call(o,a)}return k1=n,k1}var A1,tP;function Rle(){if(tP)return A1;tP=1;var e=Sv(),t="__lodash_hash_undefined__";function r(n,a){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=e&&a===void 0?t:a,this}return A1=r,A1}var O1,rP;function Ile(){if(rP)return O1;rP=1;var e=Ple(),t=_le(),r=Dle(),n=Mle(),a=Rle();function o(i){var c=-1,d=i==null?0:i.length;for(this.clear();++c<d;){var f=i[c];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,O1=o,O1}var P1,nP;function Nle(){if(nP)return P1;nP=1;function e(){this.__data__=[],this.size=0}return P1=e,P1}var _1,aP;function r5(){if(aP)return _1;aP=1;function e(t,r){return t===r||t!==t&&r!==r}return _1=e,_1}var D1,oP;function Ev(){if(oP)return D1;oP=1;var e=r5();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return D1=t,D1}var M1,iP;function Lle(){if(iP)return M1;iP=1;var e=Ev(),t=Array.prototype,r=t.splice;function n(a){var o=this.__data__,i=e(o,a);if(i<0)return!1;var c=o.length-1;return i==c?o.pop():r.call(o,i,1),--this.size,!0}return M1=n,M1}var R1,sP;function Ble(){if(sP)return R1;sP=1;var e=Ev();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return R1=t,R1}var I1,lP;function zle(){if(lP)return I1;lP=1;var e=Ev();function t(r){return e(this.__data__,r)>-1}return I1=t,I1}var N1,cP;function Fle(){if(cP)return N1;cP=1;var e=Ev();function t(r,n){var a=this.__data__,o=e(a,r);return o<0?(++this.size,a.push([r,n])):a[o][1]=n,this}return N1=t,N1}var L1,uP;function jv(){if(uP)return L1;uP=1;var e=Nle(),t=Lle(),r=Ble(),n=zle(),a=Fle();function o(i){var c=-1,d=i==null?0:i.length;for(this.clear();++c<d;){var f=i[c];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,L1=o,L1}var B1,dP;function n5(){if(dP)return B1;dP=1;var e=nl(),t=so(),r=e(t,"Map");return B1=r,B1}var z1,fP;function qle(){if(fP)return z1;fP=1;var e=Ile(),t=jv(),r=n5();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return z1=n,z1}var F1,pP;function Hle(){if(pP)return F1;pP=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return F1=e,F1}var q1,hP;function Cv(){if(hP)return q1;hP=1;var e=Hle();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return q1=t,q1}var H1,mP;function Ule(){if(mP)return H1;mP=1;var e=Cv();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return H1=t,H1}var U1,gP;function Vle(){if(gP)return U1;gP=1;var e=Cv();function t(r){return e(this,r).get(r)}return U1=t,U1}var V1,yP;function Wle(){if(yP)return V1;yP=1;var e=Cv();function t(r){return e(this,r).has(r)}return V1=t,V1}var W1,vP;function Yle(){if(vP)return W1;vP=1;var e=Cv();function t(r,n){var a=e(this,r),o=a.size;return a.set(r,n),this.size+=a.size==o?0:1,this}return W1=t,W1}var Y1,xP;function a5(){if(xP)return Y1;xP=1;var e=qle(),t=Ule(),r=Vle(),n=Wle(),a=Yle();function o(i){var c=-1,d=i==null?0:i.length;for(this.clear();++c<d;){var f=i[c];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,Y1=o,Y1}var G1,bP;function uN(){if(bP)return G1;bP=1;var e=a5(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var o=function(){var i=arguments,c=a?a.apply(this,i):i[0],d=o.cache;if(d.has(c))return d.get(c);var f=n.apply(this,i);return o.cache=d.set(c,f)||d,f};return o.cache=new(r.Cache||e),o}return r.Cache=e,G1=r,G1}var K1,wP;function Gle(){if(wP)return K1;wP=1;var e=uN(),t=500;function r(n){var a=e(n,function(i){return o.size===t&&o.clear(),i}),o=a.cache;return a}return K1=r,K1}var Q1,SP;function Kle(){if(SP)return Q1;SP=1;var e=Gle(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var o=[];return a.charCodeAt(0)===46&&o.push(""),a.replace(t,function(i,c,d,f){o.push(d?f.replace(r,"$1"):c||i)}),o});return Q1=n,Q1}var X1,EP;function o5(){if(EP)return X1;EP=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,o=Array(a);++n<a;)o[n]=r(t[n],n,t);return o}return X1=e,X1}var J1,jP;function Qle(){if(jP)return J1;jP=1;var e=up(),t=o5(),r=gn(),n=cu(),a=e?e.prototype:void 0,o=a?a.toString:void 0;function i(c){if(typeof c=="string")return c;if(r(c))return t(c,i)+"";if(n(c))return o?o.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return J1=i,J1}var Z1,CP;function dN(){if(CP)return Z1;CP=1;var e=Qle();function t(r){return r==null?"":e(r)}return Z1=t,Z1}var ew,$P;function fN(){if($P)return ew;$P=1;var e=gn(),t=e5(),r=Kle(),n=dN();function a(o,i){return e(o)?o:t(o,i)?[o]:r(n(o))}return ew=a,ew}var tw,TP;function $v(){if(TP)return tw;TP=1;var e=cu();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return tw=t,tw}var rw,kP;function i5(){if(kP)return rw;kP=1;var e=fN(),t=$v();function r(n,a){a=e(a,n);for(var o=0,i=a.length;n!=null&&o<i;)n=n[t(a[o++])];return o&&o==i?n:void 0}return rw=r,rw}var nw,AP;function pN(){if(AP)return nw;AP=1;var e=i5();function t(r,n,a){var o=r==null?void 0:e(r,n);return o===void 0?a:o}return nw=t,nw}var Xle=pN();const Mn=dt(Xle);var aw,OP;function Jle(){if(OP)return aw;OP=1;function e(t){return t==null}return aw=e,aw}var Zle=Jle();const rt=dt(Zle);var ow,PP;function ece(){if(PP)return ow;PP=1;var e=Xo(),t=gn(),r=Jo(),n="[object String]";function a(o){return typeof o=="string"||!t(o)&&r(o)&&e(o)==n}return ow=a,ow}var tce=ece();const dp=dt(tce);var rce=t5();const tt=dt(rce);var nce=Gi();const uu=dt(nce);var iw={exports:{}},St={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _P;function ace(){if(_P)return St;_P=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function S(b){if(typeof b=="object"&&b!==null){var k=b.$$typeof;switch(k){case e:switch(b=b.type,b){case r:case a:case n:case f:case p:return b;default:switch(b=b&&b.$$typeof,b){case c:case i:case d:case g:case m:case o:return b;default:return k}}case t:return k}}}return St.ContextConsumer=i,St.ContextProvider=o,St.Element=e,St.ForwardRef=d,St.Fragment=r,St.Lazy=g,St.Memo=m,St.Portal=t,St.Profiler=a,St.StrictMode=n,St.Suspense=f,St.SuspenseList=p,St.isAsyncMode=function(){return!1},St.isConcurrentMode=function(){return!1},St.isContextConsumer=function(b){return S(b)===i},St.isContextProvider=function(b){return S(b)===o},St.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},St.isForwardRef=function(b){return S(b)===d},St.isFragment=function(b){return S(b)===r},St.isLazy=function(b){return S(b)===g},St.isMemo=function(b){return S(b)===m},St.isPortal=function(b){return S(b)===t},St.isProfiler=function(b){return S(b)===a},St.isStrictMode=function(b){return S(b)===n},St.isSuspense=function(b){return S(b)===f},St.isSuspenseList=function(b){return S(b)===p},St.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===a||b===n||b===f||b===p||b===y||typeof b=="object"&&b!==null&&(b.$$typeof===g||b.$$typeof===m||b.$$typeof===o||b.$$typeof===i||b.$$typeof===d||b.$$typeof===w||b.getModuleId!==void 0)},St.typeOf=S,St}var DP;function oce(){return DP||(DP=1,iw.exports=ace()),iw.exports}var ice=oce(),sw,MP;function hN(){if(MP)return sw;MP=1;var e=Xo(),t=Jo(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return sw=n,sw}var lw,RP;function sce(){if(RP)return lw;RP=1;var e=hN();function t(r){return e(r)&&r!=+r}return lw=t,lw}var lce=sce();const fp=dt(lce);var cce=hN();const uce=dt(cce);var tn=function(t){return t===0?0:t>0?1:-1},Cs=function(t){return dp(t)&&t.indexOf("%")===t.length-1},Oe=function(t){return uce(t)&&!fp(t)},yr=function(t){return Oe(t)||dp(t)},dce=0,du=function(t){var r=++dce;return"".concat(t||"").concat(r)},rn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(t)&&!dp(t))return n;var o;if(Cs(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return fp(o)&&(o=n),a&&o>r&&(o=r),o},_i=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},fce=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},On=function(t,r){return Oe(t)&&Oe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Gg(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Mn(n,t))===r})}function fc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function RE(e){"@babel/helpers - typeof";return RE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RE(e)}var pce=["viewBox","children"],hce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IP=["points","pathLength"],cw={svg:pce,polygon:IP,polyline:IP},s5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Kg=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),!uu(n))return null;var a={};return Object.keys(n).forEach(function(o){s5.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},mce=function(t,r,n){return function(a){return t(r,n,a),null}},Gs=function(t,r,n){if(!uu(t)||RE(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];s5.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=mce(i,r,n))}),a},gce=["children"],yce=["children"];function NP(e,t){if(e==null)return{};var r=vce(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IE(e){"@babel/helpers - typeof";return IE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IE(e)}var LP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},BP=null,uw=null,l5=function e(t){if(t===BP&&Array.isArray(uw))return uw;var r=[];return _.Children.forEach(t,function(n){rt(n)||(ice.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),uw=r,BP=t,r};function Rn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return qo(a)}):n=[qo(t)],l5(e).forEach(function(a){var o=Mn(a,"type.displayName")||Mn(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function kn(e,t){var r=Rn(e,t);return r&&r[0]}var zP=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Oe(n)||n<=0||!Oe(a)||a<=0)},xce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],bce=function(t){return t&&t.type&&dp(t.type)&&xce.indexOf(t.type)>=0},wce=function(t){return t&&IE(t)==="object"&&"clipDot"in t},Sce=function(t,r,n,a){var o,i=(o=cw==null?void 0:cw[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!tt(t)&&(a&&i.includes(r)||hce.includes(r))||n&&s5.includes(r)},Qe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(_.isValidElement(t)&&(a=t.props),!uu(a))return null;var o={};return Object.keys(a).forEach(function(i){var c;Sce((c=a)===null||c===void 0?void 0:c[i],i,r,n)&&(o[i]=a[i])}),o},NE=function e(t,r){if(t===r)return!0;var n=_.Children.count(t);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return FP(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!FP(o,i))return!1}return!0},FP=function(t,r){if(rt(t)&&rt(r))return!0;if(!rt(t)&&!rt(r)){var n=t.props||{},a=n.children,o=NP(n,gce),i=r.props||{},c=i.children,d=NP(i,yce);return a&&c?fc(o,d)&&NE(a,c):!a&&!c?fc(o,d):!1}return!1},qP=function(t,r){var n=[],a={};return l5(t).forEach(function(o,i){if(bce(o))n.push(o);else if(o){var c=qo(o.type),d=r[c]||{},f=d.handler,p=d.once;if(f&&(!p||!a[c])){var m=f(o,c,i);n.push(m),a[c]=!0}}}),n},Ece=function(t){var r=t&&t.type;return r&&LP[r]?LP[r]:null},jce=function(t,r){return l5(r).indexOf(t)},Cce=["children","width","height","viewBox","className","style","title","desc"];function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LE.apply(this,arguments)}function $ce(e,t){if(e==null)return{};var r=Tce(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BE(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,c=e.title,d=e.desc,f=$ce(e,Cce),p=a||{width:r,height:n,x:0,y:0},m=Ue("recharts-surface",o);return H.createElement("svg",LE({},Qe(f,!0,"svg"),{className:m,width:r,height:n,style:i,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),H.createElement("title",null,c),H.createElement("desc",null,d),t)}var kce=["children","className"];function zE(){return zE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zE.apply(this,arguments)}function Ace(e,t){if(e==null)return{};var r=Oce(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var gt=H.forwardRef(function(e,t){var r=e.children,n=e.className,a=Ace(e,kce),o=Ue("recharts-layer",n);return H.createElement("g",zE({className:o},Qe(a,!0),{ref:t}),r)}),ka=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]},dw,HP;function Pce(){if(HP)return dw;HP=1;function e(t,r,n){var a=-1,o=t.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var i=Array(o);++a<o;)i[a]=t[a+r];return i}return dw=e,dw}var fw,UP;function _ce(){if(UP)return fw;UP=1;var e=Pce();function t(r,n,a){var o=r.length;return a=a===void 0?o:a,!n&&a>=o?r:e(r,n,a)}return fw=t,fw}var pw,VP;function mN(){if(VP)return pw;VP=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,o="\\ufe0e\\ufe0f",i="\\u200d",c=RegExp("["+i+e+a+o+"]");function d(f){return c.test(f)}return pw=d,pw}var hw,WP;function Dce(){if(WP)return hw;WP=1;function e(t){return t.split("")}return hw=e,hw}var mw,YP;function Mce(){if(YP)return mw;YP=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,o="\\ufe0e\\ufe0f",i="["+e+"]",c="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+d+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",w=f+"?",S="["+o+"]?",b="(?:"+y+"(?:"+[p,m,g].join("|")+")"+S+w+")*",k=S+w+b,C="(?:"+[p+c+"?",c,m,g,i].join("|")+")",$=RegExp(d+"(?="+d+")|"+C+k,"g");function L(T){return T.match($)||[]}return mw=L,mw}var gw,GP;function Rce(){if(GP)return gw;GP=1;var e=Dce(),t=mN(),r=Mce();function n(a){return t(a)?r(a):e(a)}return gw=n,gw}var yw,KP;function Ice(){if(KP)return yw;KP=1;var e=_ce(),t=mN(),r=Rce(),n=dN();function a(o){return function(i){i=n(i);var c=t(i)?r(i):void 0,d=c?c[0]:i.charAt(0),f=c?e(c,1).join(""):i.slice(1);return d[o]()+f}}return yw=a,yw}var vw,QP;function Nce(){if(QP)return vw;QP=1;var e=Ice(),t=e("toUpperCase");return vw=t,vw}var Lce=Nce();const Tv=dt(Lce);function Mt(e){return function(){return e}}const gN=Math.cos,Qg=Math.sin,Da=Math.sqrt,Xg=Math.PI,kv=2*Xg,FE=Math.PI,qE=2*FE,bs=1e-6,Bce=qE-bs;function yN(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function zce(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yN;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Fce{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yN:zce(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,c=this._y1,d=n-t,f=a-r,p=i-t,m=c-r,g=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>bs)if(!(Math.abs(m*d-f*p)>bs)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-i,w=a-c,S=d*d+f*f,b=y*y+w*w,k=Math.sqrt(S),C=Math.sqrt(g),$=o*Math.tan((FE-Math.acos((S+g-b)/(2*k*C)))/2),L=$/C,T=$/k;Math.abs(L-1)>bs&&this._append`L${t+L*p},${r+L*m}`,this._append`A${o},${o},0,0,${+(m*y>p*w)},${this._x1=t+T*d},${this._y1=r+T*f}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),f=t+c,p=r+d,m=1^i,g=i?a-o:o-a;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>bs||Math.abs(this._y1-p)>bs)&&this._append`L${f},${p}`,n&&(g<0&&(g=g%qE+qE),g>Bce?this._append`A${n},${n},0,1,${m},${t-c},${r-d}A${n},${n},0,1,${m},${this._x1=f},${this._y1=p}`:g>bs&&this._append`A${n},${n},0,${+(g>=FE)},${m},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function c5(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Fce(t)}function u5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vN(e){this._context=e}vN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Av(e){return new vN(e)}function xN(e){return e[0]}function bN(e){return e[1]}function wN(e,t){var r=Mt(!0),n=null,a=Av,o=null,i=c5(c);e=typeof e=="function"?e:e===void 0?xN:Mt(e),t=typeof t=="function"?t:t===void 0?bN:Mt(t);function c(d){var f,p=(d=u5(d)).length,m,g=!1,y;for(n==null&&(o=a(y=i())),f=0;f<=p;++f)!(f<p&&r(m=d[f],f,d))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+e(m,f,d),+t(m,f,d));if(y)return o=null,y+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Mt(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Mt(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Mt(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,n!=null&&(o=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=o=null:o=a(n=d),c):n},c}function km(e,t,r){var n=null,a=Mt(!0),o=null,i=Av,c=null,d=c5(f);e=typeof e=="function"?e:e===void 0?xN:Mt(+e),t=typeof t=="function"?t:Mt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?bN:Mt(+r);function f(m){var g,y,w,S=(m=u5(m)).length,b,k=!1,C,$=new Array(S),L=new Array(S);for(o==null&&(c=i(C=d())),g=0;g<=S;++g){if(!(g<S&&a(b=m[g],g,m))===k)if(k=!k)y=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=g-1;w>=y;--w)c.point($[w],L[w]);c.lineEnd(),c.areaEnd()}k&&($[g]=+e(b,g,m),L[g]=+t(b,g,m),c.point(n?+n(b,g,m):$[g],r?+r(b,g,m):L[g]))}if(C)return c=null,C+""||null}function p(){return wN().defined(a).curve(i).context(o)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:Mt(+m),n=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Mt(+m),f):e},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Mt(+m),f):n},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:Mt(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Mt(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Mt(+m),f):r},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(r)},f.lineX1=function(){return p().x(n).y(t)},f.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Mt(!!m),f):a},f.curve=function(m){return arguments.length?(i=m,o!=null&&(c=i(o)),f):i},f.context=function(m){return arguments.length?(m==null?o=c=null:c=i(o=m),f):o},f}class SN{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function qce(e){return new SN(e,!0)}function Hce(e){return new SN(e,!1)}const d5={draw(e,t){const r=Da(t/Xg);e.moveTo(r,0),e.arc(0,0,r,0,kv)}},Uce={draw(e,t){const r=Da(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},EN=Da(1/3),Vce=EN*2,Wce={draw(e,t){const r=Da(t/Vce),n=r*EN;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Yce={draw(e,t){const r=Da(t),n=-r/2;e.rect(n,n,r,r)}},Gce=.8908130915292852,jN=Qg(Xg/10)/Qg(7*Xg/10),Kce=Qg(kv/10)*jN,Qce=-gN(kv/10)*jN,Xce={draw(e,t){const r=Da(t*Gce),n=Kce*r,a=Qce*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=kv*o/5,c=gN(i),d=Qg(i);e.lineTo(d*r,-c*r),e.lineTo(c*n-d*a,d*n+c*a)}e.closePath()}},xw=Da(3),Jce={draw(e,t){const r=-Da(t/(xw*3));e.moveTo(0,r*2),e.lineTo(-xw*r,-r),e.lineTo(xw*r,-r),e.closePath()}},Yn=-.5,Gn=Da(3)/2,HE=1/Da(12),Zce=(HE/2+1)*3,eue={draw(e,t){const r=Da(t/Zce),n=r/2,a=r*HE,o=n,i=r*HE+r,c=-o,d=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(c,d),e.lineTo(Yn*n-Gn*a,Gn*n+Yn*a),e.lineTo(Yn*o-Gn*i,Gn*o+Yn*i),e.lineTo(Yn*c-Gn*d,Gn*c+Yn*d),e.lineTo(Yn*n+Gn*a,Yn*a-Gn*n),e.lineTo(Yn*o+Gn*i,Yn*i-Gn*o),e.lineTo(Yn*c+Gn*d,Yn*d-Gn*c),e.closePath()}};function tue(e,t){let r=null,n=c5(a);e=typeof e=="function"?e:Mt(e||d5),t=typeof t=="function"?t:Mt(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Mt(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Mt(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Jg(){}function Zg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function CN(e){this._context=e}CN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rue(e){return new CN(e)}function $N(e){this._context=e}$N.prototype={areaStart:Jg,areaEnd:Jg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nue(e){return new $N(e)}function TN(e){this._context=e}TN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Zg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aue(e){return new TN(e)}function kN(e){this._context=e}kN.prototype={areaStart:Jg,areaEnd:Jg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function oue(e){return new kN(e)}function XP(e){return e<0?-1:1}function JP(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),c=(o*a+i*n)/(n+a);return(XP(o)+XP(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(c))||0}function ZP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function bw(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,c=(o-n)/3;e._context.bezierCurveTo(n+c,a+c*t,o-c,i-c*r,o,i)}function ey(e){this._context=e}ey.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bw(this,this._t0,ZP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bw(this,ZP(this,r=JP(this,e,t)),r);break;default:bw(this,this._t0,r=JP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function AN(e){this._context=new ON(e)}(AN.prototype=Object.create(ey.prototype)).point=function(e,t){ey.prototype.point.call(this,t,e)};function ON(e){this._context=e}ON.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function iue(e){return new ey(e)}function sue(e){return new AN(e)}function PN(e){this._context=e}PN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=e_(e),a=e_(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function e_(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function lue(e){return new PN(e)}function Ov(e,t){this._context=e,this._t=t}Ov.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function cue(e){return new Ov(e,.5)}function uue(e){return new Ov(e,0)}function due(e){return new Ov(e,1)}function kc(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,c=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<c;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function UE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function fue(e,t){return e[t]}function pue(e){const t=[];return t.key=e,t}function hue(){var e=Mt([]),t=UE,r=kc,n=fue;function a(o){var i=Array.from(e.apply(this,arguments),pue),c,d=i.length,f=-1,p;for(const m of o)for(c=0,++f;c<d;++c)(i[c][f]=[0,+n(m,i[c].key,f,o)]).data=m;for(c=0,p=u5(t(i));c<d;++c)i[p[c]].index=c;return r(i,p),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Mt(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Mt(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?UE:typeof o=="function"?o:Mt(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??kc,a):r},a}function mue(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}kc(e,t)}}function gue(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,c=0;i<a;++i)c+=e[i][r][1]||0;n[r][1]+=n[r][0]=-c/2}kc(e,t)}}function yue(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var c=0,d=0,f=0;c<i;++c){for(var p=e[t[c]],m=p[n][1]||0,g=p[n-1][1]||0,y=(m-g)/2,w=0;w<c;++w){var S=e[t[w]],b=S[n][1]||0,k=S[n-1][1]||0;y+=b-k}d+=m,f+=y*m}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,kc(e,t)}}function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}var vue=["type","size","sizeType"];function VE(){return VE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VE.apply(this,arguments)}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){xue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xue(e,t,r){return t=bue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bue(e){var t=wue(e,"string");return mf(t)=="symbol"?t:t+""}function wue(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sue(e,t){if(e==null)return{};var r=Eue(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _N={symbolCircle:d5,symbolCross:Uce,symbolDiamond:Wce,symbolSquare:Yce,symbolStar:Xce,symbolTriangle:Jce,symbolWye:eue},jue=Math.PI/180,Cue=function(t){var r="symbol".concat(Tv(t));return _N[r]||d5},$ue=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*jue;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Tue=function(t,r){_N["symbol".concat(Tv(t))]=r},f5=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,c=i===void 0?"area":i,d=Sue(t,vue),f=r_(r_({},d),{},{type:n,size:o,sizeType:c}),p=function(){var b=Cue(n),k=tue().type(b).size($ue(o,c,n));return k()},m=f.className,g=f.cx,y=f.cy,w=Qe(f,!0);return g===+g&&y===+y&&o===+o?H.createElement("path",VE({},w,{className:Ue("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(y,")"),d:p()})):null};f5.registerSymbol=Tue;function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function WE(){return WE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WE.apply(this,arguments)}function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(n){gf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MN(n.key),n)}}function Pue(e,t,r){return t&&Oue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ue(e,t,r){return t=ty(t),Due(e,DN()?Reflect.construct(t,r||[],ty(e).constructor):t.apply(e,r))}function Due(e,t){if(t&&(Ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mue(e)}function Mue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DN=function(){return!!e})()}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ty(e)}function Rue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YE(e,t)}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YE(e,t)}function gf(e,t,r){return t=MN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MN(e){var t=Iue(e,"string");return Ac(t)=="symbol"?t:t+""}function Iue(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xa=32,p5=function(e){function t(){return Aue(this,t),_ue(this,t,arguments)}return Rue(t,e),Pue(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=xa/2,i=xa/6,c=xa/3,d=n.inactive?a:n.color;if(n.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:xa,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(c,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*c,",").concat(o,`
            H`).concat(xa,"M").concat(2*c,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(c,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return H.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(xa/8,"h").concat(xa,"v").concat(xa*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(H.isValidElement(n.legendIcon)){var f=kue({},n);return delete f.legendIcon,H.cloneElement(n.legendIcon,f)}return H.createElement(f5,{fill:d,cx:o,cy:o,size:xa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,c=a.layout,d=a.formatter,f=a.inactiveColor,p={x:0,y:0,width:xa,height:xa},m={display:c==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,w){var S=y.formatter||d,b=Ue(gf(gf({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",y.inactive));if(y.type==="none")return null;var k=tt(y.value)?null:y.value;ka(!tt(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=y.inactive?f:y.color;return H.createElement("li",WE({className:b,style:m,key:"legend-item-".concat(w)},Gs(n.props,y,w)),H.createElement(BE,{width:i,height:i,viewBox:p,style:g},n.renderIcon(y)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},S?S(k,y,w):k))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var c={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(_.PureComponent);gf(p5,"displayName","Legend");gf(p5,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ww,a_;function Nue(){if(a_)return ww;a_=1;var e=jv();function t(){this.__data__=new e,this.size=0}return ww=t,ww}var Sw,o_;function Lue(){if(o_)return Sw;o_=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Sw=e,Sw}var Ew,i_;function Bue(){if(i_)return Ew;i_=1;function e(t){return this.__data__.get(t)}return Ew=e,Ew}var jw,s_;function zue(){if(s_)return jw;s_=1;function e(t){return this.__data__.has(t)}return jw=e,jw}var Cw,l_;function Fue(){if(l_)return Cw;l_=1;var e=jv(),t=n5(),r=a5(),n=200;function a(o,i){var c=this.__data__;if(c instanceof e){var d=c.__data__;if(!t||d.length<n-1)return d.push([o,i]),this.size=++c.size,this;c=this.__data__=new r(d)}return c.set(o,i),this.size=c.size,this}return Cw=a,Cw}var $w,c_;function RN(){if(c_)return $w;c_=1;var e=jv(),t=Nue(),r=Lue(),n=Bue(),a=zue(),o=Fue();function i(c){var d=this.__data__=new e(c);this.size=d.size}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=a,i.prototype.set=o,$w=i,$w}var Tw,u_;function que(){if(u_)return Tw;u_=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Tw=t,Tw}var kw,d_;function Hue(){if(d_)return kw;d_=1;function e(t){return this.__data__.has(t)}return kw=e,kw}var Aw,f_;function IN(){if(f_)return Aw;f_=1;var e=a5(),t=que(),r=Hue();function n(a){var o=-1,i=a==null?0:a.length;for(this.__data__=new e;++o<i;)this.add(a[o])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Aw=n,Aw}var Ow,p_;function NN(){if(p_)return Ow;p_=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return Ow=e,Ow}var Pw,h_;function LN(){if(h_)return Pw;h_=1;function e(t,r){return t.has(r)}return Pw=e,Pw}var _w,m_;function BN(){if(m_)return _w;m_=1;var e=IN(),t=NN(),r=LN(),n=1,a=2;function o(i,c,d,f,p,m){var g=d&n,y=i.length,w=c.length;if(y!=w&&!(g&&w>y))return!1;var S=m.get(i),b=m.get(c);if(S&&b)return S==c&&b==i;var k=-1,C=!0,$=d&a?new e:void 0;for(m.set(i,c),m.set(c,i);++k<y;){var L=i[k],T=c[k];if(f)var P=g?f(T,L,k,c,i,m):f(L,T,k,i,c,m);if(P!==void 0){if(P)continue;C=!1;break}if($){if(!t(c,function(O,N){if(!r($,N)&&(L===O||p(L,O,d,f,m)))return $.push(N)})){C=!1;break}}else if(!(L===T||p(L,T,d,f,m))){C=!1;break}}return m.delete(i),m.delete(c),C}return _w=o,_w}var Dw,g_;function Uue(){if(g_)return Dw;g_=1;var e=so(),t=e.Uint8Array;return Dw=t,Dw}var Mw,y_;function Vue(){if(y_)return Mw;y_=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,o){n[++r]=[o,a]}),n}return Mw=e,Mw}var Rw,v_;function h5(){if(v_)return Rw;v_=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return Rw=e,Rw}var Iw,x_;function Wue(){if(x_)return Iw;x_=1;var e=up(),t=Uue(),r=r5(),n=BN(),a=Vue(),o=h5(),i=1,c=2,d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",y="[object RegExp]",w="[object Set]",S="[object String]",b="[object Symbol]",k="[object ArrayBuffer]",C="[object DataView]",$=e?e.prototype:void 0,L=$?$.valueOf:void 0;function T(P,O,N,R,D,j,A){switch(N){case C:if(P.byteLength!=O.byteLength||P.byteOffset!=O.byteOffset)return!1;P=P.buffer,O=O.buffer;case k:return!(P.byteLength!=O.byteLength||!j(new t(P),new t(O)));case d:case f:case g:return r(+P,+O);case p:return P.name==O.name&&P.message==O.message;case y:case S:return P==O+"";case m:var I=a;case w:var B=R&i;if(I||(I=o),P.size!=O.size&&!B)return!1;var F=A.get(P);if(F)return F==O;R|=c,A.set(P,O);var U=n(I(P),I(O),R,D,j,A);return A.delete(P),U;case b:if(L)return L.call(P)==L.call(O)}return!1}return Iw=T,Iw}var Nw,b_;function zN(){if(b_)return Nw;b_=1;function e(t,r){for(var n=-1,a=r.length,o=t.length;++n<a;)t[o+n]=r[n];return t}return Nw=e,Nw}var Lw,w_;function Yue(){if(w_)return Lw;w_=1;var e=zN(),t=gn();function r(n,a,o){var i=a(n);return t(n)?i:e(i,o(n))}return Lw=r,Lw}var Bw,S_;function Gue(){if(S_)return Bw;S_=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,o=0,i=[];++n<a;){var c=t[n];r(c,n,t)&&(i[o++]=c)}return i}return Bw=e,Bw}var zw,E_;function Kue(){if(E_)return zw;E_=1;function e(){return[]}return zw=e,zw}var Fw,j_;function Que(){if(j_)return Fw;j_=1;var e=Gue(),t=Kue(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,o=a?function(i){return i==null?[]:(i=Object(i),e(a(i),function(c){return n.call(i,c)}))}:t;return Fw=o,Fw}var qw,C_;function Xue(){if(C_)return qw;C_=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return qw=e,qw}var Hw,$_;function Jue(){if($_)return Hw;$_=1;var e=Xo(),t=Jo(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return Hw=n,Hw}var Uw,T_;function m5(){if(T_)return Uw;T_=1;var e=Jue(),t=Jo(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(i){return t(i)&&n.call(i,"callee")&&!a.call(i,"callee")};return Uw=o,Uw}var Gd={exports:{}},Vw,k_;function Zue(){if(k_)return Vw;k_=1;function e(){return!1}return Vw=e,Vw}Gd.exports;var A_;function FN(){return A_||(A_=1,function(e,t){var r=so(),n=Zue(),a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,c=i?r.Buffer:void 0,d=c?c.isBuffer:void 0,f=d||n;e.exports=f}(Gd,Gd.exports)),Gd.exports}var Ww,O_;function g5(){if(O_)return Ww;O_=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var o=typeof n;return a=a??e,!!a&&(o=="number"||o!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return Ww=r,Ww}var Yw,P_;function y5(){if(P_)return Yw;P_=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Yw=t,Yw}var Gw,__;function ede(){if(__)return Gw;__=1;var e=Xo(),t=y5(),r=Jo(),n="[object Arguments]",a="[object Array]",o="[object Boolean]",i="[object Date]",c="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",y="[object Set]",w="[object String]",S="[object WeakMap]",b="[object ArrayBuffer]",k="[object DataView]",C="[object Float32Array]",$="[object Float64Array]",L="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",O="[object Uint8Array]",N="[object Uint8ClampedArray]",R="[object Uint16Array]",D="[object Uint32Array]",j={};j[C]=j[$]=j[L]=j[T]=j[P]=j[O]=j[N]=j[R]=j[D]=!0,j[n]=j[a]=j[b]=j[o]=j[k]=j[i]=j[c]=j[d]=j[f]=j[p]=j[m]=j[g]=j[y]=j[w]=j[S]=!1;function A(I){return r(I)&&t(I.length)&&!!j[e(I)]}return Gw=A,Gw}var Kw,D_;function qN(){if(D_)return Kw;D_=1;function e(t){return function(r){return t(r)}}return Kw=e,Kw}var Kd={exports:{}};Kd.exports;var M_;function tde(){return M_||(M_=1,function(e,t){var r=lN(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,c=function(){try{var d=a&&a.require&&a.require("util").types;return d||i&&i.binding&&i.binding("util")}catch{}}();e.exports=c}(Kd,Kd.exports)),Kd.exports}var Qw,R_;function HN(){if(R_)return Qw;R_=1;var e=ede(),t=qN(),r=tde(),n=r&&r.isTypedArray,a=n?t(n):e;return Qw=a,Qw}var Xw,I_;function rde(){if(I_)return Xw;I_=1;var e=Xue(),t=m5(),r=gn(),n=FN(),a=g5(),o=HN(),i=Object.prototype,c=i.hasOwnProperty;function d(f,p){var m=r(f),g=!m&&t(f),y=!m&&!g&&n(f),w=!m&&!g&&!y&&o(f),S=m||g||y||w,b=S?e(f.length,String):[],k=b.length;for(var C in f)(p||c.call(f,C))&&!(S&&(C=="length"||y&&(C=="offset"||C=="parent")||w&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||a(C,k)))&&b.push(C);return b}return Xw=d,Xw}var Jw,N_;function nde(){if(N_)return Jw;N_=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return Jw=t,Jw}var Zw,L_;function UN(){if(L_)return Zw;L_=1;function e(t,r){return function(n){return t(r(n))}}return Zw=e,Zw}var e2,B_;function ade(){if(B_)return e2;B_=1;var e=UN(),t=e(Object.keys,Object);return e2=t,e2}var t2,z_;function ode(){if(z_)return t2;z_=1;var e=nde(),t=ade(),r=Object.prototype,n=r.hasOwnProperty;function a(o){if(!e(o))return t(o);var i=[];for(var c in Object(o))n.call(o,c)&&c!="constructor"&&i.push(c);return i}return t2=a,t2}var r2,F_;function pp(){if(F_)return r2;F_=1;var e=t5(),t=y5();function r(n){return n!=null&&t(n.length)&&!e(n)}return r2=r,r2}var n2,q_;function Pv(){if(q_)return n2;q_=1;var e=rde(),t=ode(),r=pp();function n(a){return r(a)?e(a):t(a)}return n2=n,n2}var a2,H_;function ide(){if(H_)return a2;H_=1;var e=Yue(),t=Que(),r=Pv();function n(a){return e(a,r,t)}return a2=n,a2}var o2,U_;function sde(){if(U_)return o2;U_=1;var e=ide(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(o,i,c,d,f,p){var m=c&t,g=e(o),y=g.length,w=e(i),S=w.length;if(y!=S&&!m)return!1;for(var b=y;b--;){var k=g[b];if(!(m?k in i:n.call(i,k)))return!1}var C=p.get(o),$=p.get(i);if(C&&$)return C==i&&$==o;var L=!0;p.set(o,i),p.set(i,o);for(var T=m;++b<y;){k=g[b];var P=o[k],O=i[k];if(d)var N=m?d(O,P,k,i,o,p):d(P,O,k,o,i,p);if(!(N===void 0?P===O||f(P,O,c,d,p):N)){L=!1;break}T||(T=k=="constructor")}if(L&&!T){var R=o.constructor,D=i.constructor;R!=D&&"constructor"in o&&"constructor"in i&&!(typeof R=="function"&&R instanceof R&&typeof D=="function"&&D instanceof D)&&(L=!1)}return p.delete(o),p.delete(i),L}return o2=a,o2}var i2,V_;function lde(){if(V_)return i2;V_=1;var e=nl(),t=so(),r=e(t,"DataView");return i2=r,i2}var s2,W_;function cde(){if(W_)return s2;W_=1;var e=nl(),t=so(),r=e(t,"Promise");return s2=r,s2}var l2,Y_;function VN(){if(Y_)return l2;Y_=1;var e=nl(),t=so(),r=e(t,"Set");return l2=r,l2}var c2,G_;function ude(){if(G_)return c2;G_=1;var e=nl(),t=so(),r=e(t,"WeakMap");return c2=r,c2}var u2,K_;function dde(){if(K_)return u2;K_=1;var e=lde(),t=n5(),r=cde(),n=VN(),a=ude(),o=Xo(),i=cN(),c="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",y=i(e),w=i(t),S=i(r),b=i(n),k=i(a),C=o;return(e&&C(new e(new ArrayBuffer(1)))!=g||t&&C(new t)!=c||r&&C(r.resolve())!=f||n&&C(new n)!=p||a&&C(new a)!=m)&&(C=function($){var L=o($),T=L==d?$.constructor:void 0,P=T?i(T):"";if(P)switch(P){case y:return g;case w:return c;case S:return f;case b:return p;case k:return m}return L}),u2=C,u2}var d2,Q_;function fde(){if(Q_)return d2;Q_=1;var e=RN(),t=BN(),r=Wue(),n=sde(),a=dde(),o=gn(),i=FN(),c=HN(),d=1,f="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function w(S,b,k,C,$,L){var T=o(S),P=o(b),O=T?p:a(S),N=P?p:a(b);O=O==f?m:O,N=N==f?m:N;var R=O==m,D=N==m,j=O==N;if(j&&i(S)){if(!i(b))return!1;T=!0,R=!1}if(j&&!R)return L||(L=new e),T||c(S)?t(S,b,k,C,$,L):r(S,b,O,k,C,$,L);if(!(k&d)){var A=R&&y.call(S,"__wrapped__"),I=D&&y.call(b,"__wrapped__");if(A||I){var B=A?S.value():S,F=I?b.value():b;return L||(L=new e),$(B,F,k,C,L)}}return j?(L||(L=new e),n(S,b,k,C,$,L)):!1}return d2=w,d2}var f2,X_;function v5(){if(X_)return f2;X_=1;var e=fde(),t=Jo();function r(n,a,o,i,c){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,o,i,r,c)}return f2=r,f2}var p2,J_;function pde(){if(J_)return p2;J_=1;var e=RN(),t=v5(),r=1,n=2;function a(o,i,c,d){var f=c.length,p=f,m=!d;if(o==null)return!p;for(o=Object(o);f--;){var g=c[f];if(m&&g[2]?g[1]!==o[g[0]]:!(g[0]in o))return!1}for(;++f<p;){g=c[f];var y=g[0],w=o[y],S=g[1];if(m&&g[2]){if(w===void 0&&!(y in o))return!1}else{var b=new e;if(d)var k=d(w,S,y,o,i,b);if(!(k===void 0?t(S,w,r|n,d,b):k))return!1}}return!0}return p2=a,p2}var h2,Z_;function WN(){if(Z_)return h2;Z_=1;var e=Gi();function t(r){return r===r&&!e(r)}return h2=t,h2}var m2,e6;function hde(){if(e6)return m2;e6=1;var e=WN(),t=Pv();function r(n){for(var a=t(n),o=a.length;o--;){var i=a[o],c=n[i];a[o]=[i,c,e(c)]}return a}return m2=r,m2}var g2,t6;function YN(){if(t6)return g2;t6=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return g2=e,g2}var y2,r6;function mde(){if(r6)return y2;r6=1;var e=pde(),t=hde(),r=YN();function n(a){var o=t(a);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(i){return i===a||e(i,a,o)}}return y2=n,y2}var v2,n6;function gde(){if(n6)return v2;n6=1;function e(t,r){return t!=null&&r in Object(t)}return v2=e,v2}var x2,a6;function yde(){if(a6)return x2;a6=1;var e=fN(),t=m5(),r=gn(),n=g5(),a=y5(),o=$v();function i(c,d,f){d=e(d,c);for(var p=-1,m=d.length,g=!1;++p<m;){var y=o(d[p]);if(!(g=c!=null&&f(c,y)))break;c=c[y]}return g||++p!=m?g:(m=c==null?0:c.length,!!m&&a(m)&&n(y,m)&&(r(c)||t(c)))}return x2=i,x2}var b2,o6;function vde(){if(o6)return b2;o6=1;var e=gde(),t=yde();function r(n,a){return n!=null&&t(n,a,e)}return b2=r,b2}var w2,i6;function xde(){if(i6)return w2;i6=1;var e=v5(),t=pN(),r=vde(),n=e5(),a=WN(),o=YN(),i=$v(),c=1,d=2;function f(p,m){return n(p)&&a(m)?o(i(p),m):function(g){var y=t(g,p);return y===void 0&&y===m?r(g,p):e(m,y,c|d)}}return w2=f,w2}var S2,s6;function fu(){if(s6)return S2;s6=1;function e(t){return t}return S2=e,S2}var E2,l6;function bde(){if(l6)return E2;l6=1;function e(t){return function(r){return r==null?void 0:r[t]}}return E2=e,E2}var j2,c6;function wde(){if(c6)return j2;c6=1;var e=i5();function t(r){return function(n){return e(n,r)}}return j2=t,j2}var C2,u6;function Sde(){if(u6)return C2;u6=1;var e=bde(),t=wde(),r=e5(),n=$v();function a(o){return r(o)?e(n(o)):t(o)}return C2=a,C2}var $2,d6;function lo(){if(d6)return $2;d6=1;var e=mde(),t=xde(),r=fu(),n=gn(),a=Sde();function o(i){return typeof i=="function"?i:i==null?r:typeof i=="object"?n(i)?t(i[0],i[1]):e(i):a(i)}return $2=o,$2}var T2,f6;function GN(){if(f6)return T2;f6=1;function e(t,r,n,a){for(var o=t.length,i=n+(a?1:-1);a?i--:++i<o;)if(r(t[i],i,t))return i;return-1}return T2=e,T2}var k2,p6;function Ede(){if(p6)return k2;p6=1;function e(t){return t!==t}return k2=e,k2}var A2,h6;function jde(){if(h6)return A2;h6=1;function e(t,r,n){for(var a=n-1,o=t.length;++a<o;)if(t[a]===r)return a;return-1}return A2=e,A2}var O2,m6;function Cde(){if(m6)return O2;m6=1;var e=GN(),t=Ede(),r=jde();function n(a,o,i){return o===o?r(a,o,i):e(a,t,i)}return O2=n,O2}var P2,g6;function $de(){if(g6)return P2;g6=1;var e=Cde();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return P2=t,P2}var _2,y6;function Tde(){if(y6)return _2;y6=1;function e(t,r,n){for(var a=-1,o=t==null?0:t.length;++a<o;)if(n(r,t[a]))return!0;return!1}return _2=e,_2}var D2,v6;function kde(){if(v6)return D2;v6=1;function e(){}return D2=e,D2}var M2,x6;function Ade(){if(x6)return M2;x6=1;var e=VN(),t=kde(),r=h5(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(o){return new e(o)}:t;return M2=a,M2}var R2,b6;function Ode(){if(b6)return R2;b6=1;var e=IN(),t=$de(),r=Tde(),n=LN(),a=Ade(),o=h5(),i=200;function c(d,f,p){var m=-1,g=t,y=d.length,w=!0,S=[],b=S;if(p)w=!1,g=r;else if(y>=i){var k=f?null:a(d);if(k)return o(k);w=!1,g=n,b=new e}else b=f?[]:S;e:for(;++m<y;){var C=d[m],$=f?f(C):C;if(C=p||C!==0?C:0,w&&$===$){for(var L=b.length;L--;)if(b[L]===$)continue e;f&&b.push($),S.push(C)}else g(b,$,p)||(b!==S&&b.push($),S.push(C))}return S}return R2=c,R2}var I2,w6;function Pde(){if(w6)return I2;w6=1;var e=lo(),t=Ode();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return I2=r,I2}var _de=Pde();const S6=dt(_de);function KN(e,t,r){return t===!0?S6(e,r):tt(t)?S6(e,t):e}function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}var Dde=["ref"];function E6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E6(Object(r),!0).forEach(function(n){_v(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XN(n.key),n)}}function Rde(e,t,r){return t&&j6(e.prototype,t),r&&j6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ide(e,t,r){return t=ry(t),Nde(e,QN()?Reflect.construct(t,r||[],ry(e).constructor):t.apply(e,r))}function Nde(e,t){if(t&&(Oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lde(e)}function Lde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QN=function(){return!!e})()}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ry(e)}function Bde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GE(e,t)}function GE(e,t){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},GE(e,t)}function _v(e,t,r){return t=XN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XN(e){var t=zde(e,"string");return Oc(t)=="symbol"?t:t+""}function zde(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Fde(e,t){if(e==null)return{};var r=qde(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hde(e){return e.value}function Ude(e,t){if(H.isValidElement(e))return H.cloneElement(e,t);if(typeof e=="function")return H.createElement(e,t);t.ref;var r=Fde(t,Dde);return H.createElement(p5,r)}var C6=1,Fi=function(e){function t(){var r;Mde(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Ide(this,t,[].concat(a)),_v(r,"lastBoundingBox",{width:-1,height:-1}),r}return Bde(t,e),Rde(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>C6||Math.abs(a.height-this.lastBoundingBox.height)>C6)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Co({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,c=a.verticalAlign,d=a.margin,f=a.chartWidth,p=a.chartHeight,m,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();m={left:((f||0)-y.width)/2}}else m=i==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var w=this.getBBoxSnapshot();g={top:((p||0)-w.height)/2}}else g=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Co(Co({},m),g)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,c=a.height,d=a.wrapperStyle,f=a.payloadUniqBy,p=a.payload,m=Co(Co({position:"absolute",width:i||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return H.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(y){n.wrapperNode=y}},Ude(o,Co(Co({},this.props),{},{payload:KN(p,f,Hde)})))}}],[{key:"getWithHeight",value:function(n,a){var o=Co(Co({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&Oe(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(_.PureComponent);_v(Fi,"displayName","Legend");_v(Fi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var N2,$6;function Vde(){if($6)return N2;$6=1;var e=up(),t=m5(),r=gn(),n=e?e.isConcatSpreadable:void 0;function a(o){return r(o)||t(o)||!!(n&&o&&o[n])}return N2=a,N2}var L2,T6;function JN(){if(T6)return L2;T6=1;var e=zN(),t=Vde();function r(n,a,o,i,c){var d=-1,f=n.length;for(o||(o=t),c||(c=[]);++d<f;){var p=n[d];a>0&&o(p)?a>1?r(p,a-1,o,i,c):e(c,p):i||(c[c.length]=p)}return c}return L2=r,L2}var B2,k6;function Wde(){if(k6)return B2;k6=1;function e(t){return function(r,n,a){for(var o=-1,i=Object(r),c=a(r),d=c.length;d--;){var f=c[t?d:++o];if(n(i[f],f,i)===!1)break}return r}}return B2=e,B2}var z2,A6;function Yde(){if(A6)return z2;A6=1;var e=Wde(),t=e();return z2=t,z2}var F2,O6;function ZN(){if(O6)return F2;O6=1;var e=Yde(),t=Pv();function r(n,a){return n&&e(n,a,t)}return F2=r,F2}var q2,P6;function Gde(){if(P6)return q2;P6=1;var e=pp();function t(r,n){return function(a,o){if(a==null)return a;if(!e(a))return r(a,o);for(var i=a.length,c=n?i:-1,d=Object(a);(n?c--:++c<i)&&o(d[c],c,d)!==!1;);return a}}return q2=t,q2}var H2,_6;function x5(){if(_6)return H2;_6=1;var e=ZN(),t=Gde(),r=t(e);return H2=r,H2}var U2,D6;function eL(){if(D6)return U2;D6=1;var e=x5(),t=pp();function r(n,a){var o=-1,i=t(n)?Array(n.length):[];return e(n,function(c,d,f){i[++o]=a(c,d,f)}),i}return U2=r,U2}var V2,M6;function Kde(){if(M6)return V2;M6=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return V2=e,V2}var W2,R6;function Qde(){if(R6)return W2;R6=1;var e=cu();function t(r,n){if(r!==n){var a=r!==void 0,o=r===null,i=r===r,c=e(r),d=n!==void 0,f=n===null,p=n===n,m=e(n);if(!f&&!m&&!c&&r>n||c&&d&&p&&!f&&!m||o&&d&&p||!a&&p||!i)return 1;if(!o&&!c&&!m&&r<n||m&&a&&i&&!o&&!c||f&&a&&i||!d&&i||!p)return-1}return 0}return W2=t,W2}var Y2,I6;function Xde(){if(I6)return Y2;I6=1;var e=Qde();function t(r,n,a){for(var o=-1,i=r.criteria,c=n.criteria,d=i.length,f=a.length;++o<d;){var p=e(i[o],c[o]);if(p){if(o>=f)return p;var m=a[o];return p*(m=="desc"?-1:1)}}return r.index-n.index}return Y2=t,Y2}var G2,N6;function Jde(){if(N6)return G2;N6=1;var e=o5(),t=i5(),r=lo(),n=eL(),a=Kde(),o=qN(),i=Xde(),c=fu(),d=gn();function f(p,m,g){m.length?m=e(m,function(S){return d(S)?function(b){return t(b,S.length===1?S[0]:S)}:S}):m=[c];var y=-1;m=e(m,o(r));var w=n(p,function(S,b,k){var C=e(m,function($){return $(S)});return{criteria:C,index:++y,value:S}});return a(w,function(S,b){return i(S,b,g)})}return G2=f,G2}var K2,L6;function Zde(){if(L6)return K2;L6=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return K2=e,K2}var Q2,B6;function efe(){if(B6)return Q2;B6=1;var e=Zde(),t=Math.max;function r(n,a,o){return a=t(a===void 0?n.length-1:a,0),function(){for(var i=arguments,c=-1,d=t(i.length-a,0),f=Array(d);++c<d;)f[c]=i[a+c];c=-1;for(var p=Array(a+1);++c<a;)p[c]=i[c];return p[a]=o(f),e(n,this,p)}}return Q2=r,Q2}var X2,z6;function tfe(){if(z6)return X2;z6=1;function e(t){return function(){return t}}return X2=e,X2}var J2,F6;function tL(){if(F6)return J2;F6=1;var e=nl(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return J2=t,J2}var Z2,q6;function rfe(){if(q6)return Z2;q6=1;var e=tfe(),t=tL(),r=fu(),n=t?function(a,o){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:r;return Z2=n,Z2}var eS,H6;function nfe(){if(H6)return eS;H6=1;var e=800,t=16,r=Date.now;function n(a){var o=0,i=0;return function(){var c=r(),d=t-(c-i);if(i=c,d>0){if(++o>=e)return arguments[0]}else o=0;return a.apply(void 0,arguments)}}return eS=n,eS}var tS,U6;function afe(){if(U6)return tS;U6=1;var e=rfe(),t=nfe(),r=t(e);return tS=r,tS}var rS,V6;function ofe(){if(V6)return rS;V6=1;var e=fu(),t=efe(),r=afe();function n(a,o){return r(t(a,o,e),a+"")}return rS=n,rS}var nS,W6;function Dv(){if(W6)return nS;W6=1;var e=r5(),t=pp(),r=g5(),n=Gi();function a(o,i,c){if(!n(c))return!1;var d=typeof i;return(d=="number"?t(c)&&r(i,c.length):d=="string"&&i in c)?e(c[i],o):!1}return nS=a,nS}var aS,Y6;function ife(){if(Y6)return aS;Y6=1;var e=JN(),t=Jde(),r=ofe(),n=Dv(),a=r(function(o,i){if(o==null)return[];var c=i.length;return c>1&&n(o,i[0],i[1])?i=[]:c>2&&n(i[0],i[1],i[2])&&(i=[i[0]]),t(o,e(i,1),[])});return aS=a,aS}var sfe=ife();const b5=dt(sfe);function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function KE(){return KE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KE.apply(this,arguments)}function lfe(e,t){return ffe(e)||dfe(e,t)||ufe(e,t)||cfe()}function cfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ufe(e,t){if(e){if(typeof e=="string")return G6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G6(e,t)}}function G6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,c=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(f)throw a}}return c}}function ffe(e){if(Array.isArray(e))return e}function K6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K6(Object(r),!0).forEach(function(n){pfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pfe(e,t,r){return t=hfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hfe(e){var t=mfe(e,"string");return yf(t)=="symbol"?t:t+""}function mfe(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gfe(e){return Array.isArray(e)&&yr(e[0])&&yr(e[1])?e.join(" ~ "):e}var yfe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,c=i===void 0?{}:i,d=t.labelStyle,f=d===void 0?{}:d,p=t.payload,m=t.formatter,g=t.itemSorter,y=t.wrapperClassName,w=t.labelClassName,S=t.label,b=t.labelFormatter,k=t.accessibilityLayer,C=k===void 0?!1:k,$=function(){if(p&&p.length){var A={padding:0,margin:0},I=(g?b5(p,g):p).map(function(B,F){if(B.type==="none")return null;var U=oS({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},c),Y=B.formatter||m||gfe,W=B.value,Q=B.name,Z=W,V=Q;if(Y&&Z!=null&&V!=null){var K=Y(W,Q,B,F,p);if(Array.isArray(K)){var se=lfe(K,2);Z=se[0],V=se[1]}else Z=K}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:U},yr(V)?H.createElement("span",{className:"recharts-tooltip-item-name"},V):null,yr(V)?H.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,H.createElement("span",{className:"recharts-tooltip-item-value"},Z),H.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:A},I)}return null},L=oS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=oS({margin:0},f),P=!rt(S),O=P?S:"",N=Ue("recharts-default-tooltip",y),R=Ue("recharts-tooltip-label",w);P&&b&&p!==void 0&&p!==null&&(O=b(S,p));var D=C?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",KE({className:N,style:L},D),H.createElement("p",{className:R,style:T},H.isValidElement(O)?O:"".concat(O)),$())};function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function Am(e,t,r){return t=vfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vfe(e){var t=xfe(e,"string");return vf(t)=="symbol"?t:t+""}function xfe(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pd="recharts-tooltip-wrapper",bfe={visibility:"hidden"};function wfe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ue(Pd,Am(Am(Am(Am({},"".concat(Pd,"-right"),Oe(r)&&t&&Oe(t.x)&&r>=t.x),"".concat(Pd,"-left"),Oe(r)&&t&&Oe(t.x)&&r<t.x),"".concat(Pd,"-bottom"),Oe(n)&&t&&Oe(t.y)&&n>=t.y),"".concat(Pd,"-top"),Oe(n)&&t&&Oe(t.y)&&n<t.y))}function Q6(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,c=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(o&&Oe(o[n]))return o[n];var p=r[n]-c-a,m=r[n]+a;if(t[n])return i[n]?p:m;if(i[n]){var g=p,y=d[n];return g<y?Math.max(m,d[n]):Math.max(p,d[n])}var w=m+c,S=d[n]+f;return w>S?Math.max(p,d[n]):Math.max(m,d[n])}function Sfe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Efe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox,f,p,m;return i.height>0&&i.width>0&&r?(p=Q6({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:d,viewBoxDimension:d.width}),m=Q6({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:d,viewBoxDimension:d.height}),f=Sfe({translateX:p,translateY:m,useTranslate3d:c})):f=bfe,{cssProperties:f,cssClasses:wfe({translateX:p,translateY:m,coordinate:r})}}function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function X6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X6(Object(r),!0).forEach(function(n){XE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nL(n.key),n)}}function $fe(e,t,r){return t&&Cfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tfe(e,t,r){return t=ny(t),kfe(e,rL()?Reflect.construct(t,r||[],ny(e).constructor):t.apply(e,r))}function kfe(e,t){if(t&&(Pc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Afe(e)}function Afe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rL=function(){return!!e})()}function ny(e){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ny(e)}function Ofe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QE(e,t)}function QE(e,t){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QE(e,t)}function XE(e,t,r){return t=nL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nL(e){var t=Pfe(e,"string");return Pc(t)=="symbol"?t:t+""}function Pfe(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Z6=1,_fe=function(e){function t(){var r;jfe(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Tfe(this,t,[].concat(a)),XE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),XE(r,"handleKeyDown",function(i){if(i.key==="Escape"){var c,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return Ofe(t,e),$fe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Z6||Math.abs(n.height-this.state.lastBoundingBox.height)>Z6)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,f=a.children,p=a.coordinate,m=a.hasPayload,g=a.isAnimationActive,y=a.offset,w=a.position,S=a.reverseDirection,b=a.useTranslate3d,k=a.viewBox,C=a.wrapperStyle,$=Efe({allowEscapeViewBox:i,coordinate:p,offsetTopLeft:y,position:w,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:k}),L=$.cssClasses,T=$.cssProperties,P=J6(J6({transition:g&&o?"transform ".concat(c,"ms ").concat(d):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&m?"visible":"hidden",position:"absolute",top:0,left:0},C);return H.createElement("div",{tabIndex:-1,className:L,style:P,ref:function(N){n.wrapperNode=N}},f)}}])}(_.PureComponent),Dfe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},al={isSsr:Dfe()};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function e3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(r),!0).forEach(function(n){w5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oL(n.key),n)}}function Ife(e,t,r){return t&&Rfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nfe(e,t,r){return t=ay(t),Lfe(e,aL()?Reflect.construct(t,r||[],ay(e).constructor):t.apply(e,r))}function Lfe(e,t){if(t&&(_c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bfe(e)}function Bfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aL=function(){return!!e})()}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ay(e)}function zfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JE(e,t)}function JE(e,t){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JE(e,t)}function w5(e,t,r){return t=oL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oL(e){var t=Ffe(e,"string");return _c(t)=="symbol"?t:t+""}function Ffe(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qfe(e){return e.dataKey}function Hfe(e,t){return H.isValidElement(e)?H.cloneElement(e,t):typeof e=="function"?H.createElement(e,t):H.createElement(yfe,t)}var An=function(e){function t(){return Mfe(this,t),Nfe(this,t,arguments)}return zfe(t,e),Ife(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,f=a.content,p=a.coordinate,m=a.filterNull,g=a.isAnimationActive,y=a.offset,w=a.payload,S=a.payloadUniqBy,b=a.position,k=a.reverseDirection,C=a.useTranslate3d,$=a.viewBox,L=a.wrapperStyle,T=w??[];m&&T.length&&(T=KN(w.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),S,qfe));var P=T.length>0;return H.createElement(_fe,{allowEscapeViewBox:i,animationDuration:c,animationEasing:d,isAnimationActive:g,active:o,coordinate:p,hasPayload:P,offset:y,position:b,reverseDirection:k,useTranslate3d:C,viewBox:$,wrapperStyle:L},Hfe(f,t3(t3({},this.props),{},{payload:T})))}}])}(_.PureComponent);w5(An,"displayName","Tooltip");w5(An,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!al.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var iS,r3;function Ufe(){if(r3)return iS;r3=1;var e=so(),t=function(){return e.Date.now()};return iS=t,iS}var sS,n3;function Vfe(){if(n3)return sS;n3=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return sS=t,sS}var lS,a3;function Wfe(){if(a3)return lS;a3=1;var e=Vfe(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return lS=r,lS}var cS,o3;function iL(){if(o3)return cS;o3=1;var e=Wfe(),t=Gi(),r=cu(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,c=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=o.test(f);return m||i.test(f)?c(f.slice(2),m?2:8):a.test(f)?n:+f}return cS=d,cS}var uS,i3;function Yfe(){if(i3)return uS;i3=1;var e=Gi(),t=Ufe(),r=iL(),n="Expected a function",a=Math.max,o=Math.min;function i(c,d,f){var p,m,g,y,w,S,b=0,k=!1,C=!1,$=!0;if(typeof c!="function")throw new TypeError(n);d=r(d)||0,e(f)&&(k=!!f.leading,C="maxWait"in f,g=C?a(r(f.maxWait)||0,d):g,$="trailing"in f?!!f.trailing:$);function L(I){var B=p,F=m;return p=m=void 0,b=I,y=c.apply(F,B),y}function T(I){return b=I,w=setTimeout(N,d),k?L(I):y}function P(I){var B=I-S,F=I-b,U=d-B;return C?o(U,g-F):U}function O(I){var B=I-S,F=I-b;return S===void 0||B>=d||B<0||C&&F>=g}function N(){var I=t();if(O(I))return R(I);w=setTimeout(N,P(I))}function R(I){return w=void 0,$&&p?L(I):(p=m=void 0,y)}function D(){w!==void 0&&clearTimeout(w),b=0,p=S=m=w=void 0}function j(){return w===void 0?y:R(t())}function A(){var I=t(),B=O(I);if(p=arguments,m=this,S=I,B){if(w===void 0)return T(S);if(C)return clearTimeout(w),w=setTimeout(N,d),L(S)}return w===void 0&&(w=setTimeout(N,d)),y}return A.cancel=D,A.flush=j,A}return uS=i,uS}var dS,s3;function Gfe(){if(s3)return dS;s3=1;var e=Yfe(),t=Gi(),r="Expected a function";function n(a,o,i){var c=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return t(i)&&(c="leading"in i?!!i.leading:c,d="trailing"in i?!!i.trailing:d),e(a,o,{leading:c,maxWait:o,trailing:d})}return dS=n,dS}var Kfe=Gfe();const sL=dt(Kfe);function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function l3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l3(Object(r),!0).forEach(function(n){Qfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qfe(e,t,r){return t=Xfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xfe(e){var t=Jfe(e,"string");return xf(t)=="symbol"?t:t+""}function Jfe(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zfe(e,t){return npe(e)||rpe(e,t)||tpe(e,t)||epe()}function epe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tpe(e,t){if(e){if(typeof e=="string")return c3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c3(e,t)}}function c3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,c=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(f)throw a}}return c}}function npe(e){if(Array.isArray(e))return e}var Pm=_.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,c=e.height,d=c===void 0?"100%":c,f=e.minWidth,p=f===void 0?0:f,m=e.minHeight,g=e.maxHeight,y=e.children,w=e.debounce,S=w===void 0?0:w,b=e.id,k=e.className,C=e.onResize,$=e.style,L=$===void 0?{}:$,T=_.useRef(null),P=_.useRef();P.current=C,_.useImperativeHandle(t,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var O=_.useState({containerWidth:a.width,containerHeight:a.height}),N=Zfe(O,2),R=N[0],D=N[1],j=_.useCallback(function(I,B){D(function(F){var U=Math.round(I),Y=Math.round(B);return F.containerWidth===U&&F.containerHeight===Y?F:{containerWidth:U,containerHeight:Y}})},[]);_.useEffect(function(){var I=function(Q){var Z,V=Q[0].contentRect,K=V.width,se=V.height;j(K,se),(Z=P.current)===null||Z===void 0||Z.call(P,K,se)};S>0&&(I=sL(I,S,{trailing:!0,leading:!1}));var B=new ResizeObserver(I),F=T.current.getBoundingClientRect(),U=F.width,Y=F.height;return j(U,Y),B.observe(T.current),function(){B.disconnect()}},[j,S]);var A=_.useMemo(function(){var I=R.containerWidth,B=R.containerHeight;if(I<0||B<0)return null;ka(Cs(i)||Cs(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,d),ka(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=Cs(i)?I:i,U=Cs(d)?B:d;r&&r>0&&(F?U=F/r:U&&(F=U*r),g&&U>g&&(U=g)),ka(F>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,U,i,d,p,m,r);var Y=!Array.isArray(y)&&qo(y.type).endsWith("Chart");return H.Children.map(y,function(W){return H.isValidElement(W)?_.cloneElement(W,Om({width:F,height:U},Y?{style:Om({height:"100%",width:"100%",maxHeight:U,maxWidth:F},W.props.style)}:{})):W})},[r,y,d,g,m,p,R,i]);return H.createElement("div",{id:b?"".concat(b):void 0,className:Ue("recharts-responsive-container",k),style:Om(Om({},L),{},{width:i,height:d,minWidth:p,minHeight:m,maxHeight:g}),ref:T},A)}),Mv=function(t){return null};Mv.displayName="Cell";function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function u3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(r),!0).forEach(function(n){ape(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ape(e,t,r){return t=ope(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ope(e){var t=ipe(e,"string");return bf(t)=="symbol"?t:t+""}function ipe(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ql={widthCache:{},cacheCount:0},spe=2e3,lpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},d3="recharts_measurement_span";function cpe(e){var t=ZE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Jd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||al.isSsr)return{width:0,height:0};var n=cpe(r),a=JSON.stringify({text:t,copyStyle:n});if(ql.widthCache[a])return ql.widthCache[a];try{var o=document.getElementById(d3);o||(o=document.createElement("span"),o.setAttribute("id",d3),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=ZE(ZE({},lpe),n);Object.assign(o.style,i),o.textContent="".concat(t);var c=o.getBoundingClientRect(),d={width:c.width,height:c.height};return ql.widthCache[a]=d,++ql.cacheCount>spe&&(ql.cacheCount=0,ql.widthCache={}),d}catch{return{width:0,height:0}}},upe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function oy(e,t){return hpe(e)||ppe(e,t)||fpe(e,t)||dpe()}function dpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fpe(e,t){if(e){if(typeof e=="string")return f3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f3(e,t)}}function f3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ppe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,c=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(f)throw a}}return c}}function hpe(e){if(Array.isArray(e))return e}function mpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ype(n.key),n)}}function gpe(e,t,r){return t&&p3(e.prototype,t),r&&p3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ype(e){var t=vpe(e,"string");return wf(t)=="symbol"?t:t+""}function vpe(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var h3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,m3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wpe=Object.keys(lL),ec="NaN";function Spe(e,t){return e*lL[t]}var _m=function(){function e(t,r){mpe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!xpe.test(r)&&(this.num=NaN,this.unit=""),wpe.includes(r)&&(this.num=Spe(t,r),this.unit="px")}return gpe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=bpe.exec(r))!==null&&n!==void 0?n:[],o=oy(a,3),i=o[1],c=o[2];return new e(parseFloat(i),c??"")}}])}();function cL(e){if(e.includes(ec))return ec;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=h3.exec(t))!==null&&r!==void 0?r:[],a=oy(n,4),o=a[1],i=a[2],c=a[3],d=_m.parse(o??""),f=_m.parse(c??""),p=i==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return ec;t=t.replace(h3,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,g=(m=m3.exec(t))!==null&&m!==void 0?m:[],y=oy(g,4),w=y[1],S=y[2],b=y[3],k=_m.parse(w??""),C=_m.parse(b??""),$=S==="+"?k.add(C):k.subtract(C);if($.isNaN())return ec;t=t.replace(m3,$.toString())}return t}var g3=/\(([^()]*)\)/;function Epe(e){for(var t=e;t.includes("(");){var r=g3.exec(t),n=oy(r,2),a=n[1];t=t.replace(g3,cL(a))}return t}function jpe(e){var t=e.replace(/\s+/g,"");return t=Epe(t),t=cL(t),t}function Cpe(e){try{return jpe(e)}catch{return ec}}function fS(e){var t=Cpe(e.slice(5,-1));return t===ec?"":t}var $pe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Tpe=["dx","dy","angle","className","breakAll"];function ej(){return ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ej.apply(this,arguments)}function y3(e,t){if(e==null)return{};var r=kpe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v3(e,t){return _pe(e)||Ppe(e,t)||Ope(e,t)||Ape()}function Ape(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ope(e,t){if(e){if(typeof e=="string")return x3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x3(e,t)}}function x3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ppe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,c=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(f)throw a}}return c}}function _pe(e){if(Array.isArray(e))return e}var uL=/[ \f\n\r\t\v\u2028\u2029]+/,dL=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];rt(r)||(n?o=r.toString().split(""):o=r.toString().split(uL));var i=o.map(function(d){return{word:d,width:Jd(d,a).width}}),c=n?0:Jd(" ",a).width;return{wordsWithComputedWidth:i,spaceWidth:c}}catch{return null}},Dpe=function(t,r,n,a,o){var i=t.maxLines,c=t.children,d=t.style,f=t.breakAll,p=Oe(i),m=c,g=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(U,Y){var W=Y.word,Q=Y.width,Z=U[U.length-1];if(Z&&(a==null||o||Z.width+Q+n<Number(a)))Z.words.push(W),Z.width+=Q+n;else{var V={words:[W],width:Q};U.push(V)}return U},[])},y=g(r),w=function(F){return F.reduce(function(U,Y){return U.width>Y.width?U:Y})};if(!p)return y;for(var S="…",b=function(F){var U=m.slice(0,F),Y=dL({breakAll:f,style:d,children:U+S}).wordsWithComputedWidth,W=g(Y),Q=W.length>i||w(W).width>Number(a);return[Q,W]},k=0,C=m.length-1,$=0,L;k<=C&&$<=m.length-1;){var T=Math.floor((k+C)/2),P=T-1,O=b(P),N=v3(O,2),R=N[0],D=N[1],j=b(T),A=v3(j,1),I=A[0];if(!R&&!I&&(k=T+1),R&&I&&(C=T-1),!R&&I){L=D;break}$++}return L||y},b3=function(t){var r=rt(t)?[]:t.toString().split(uL);return[{words:r}]},Mpe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,c=t.maxLines;if((r||n)&&!al.isSsr){var d,f,p=dL({breakAll:i,children:a,style:o});if(p){var m=p.wordsWithComputedWidth,g=p.spaceWidth;d=m,f=g}else return b3(a);return Dpe({breakAll:i,children:a,maxLines:c,style:o},d,f,r,n)}return b3(a)},w3="#808080",Ks=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,c=i===void 0?"1em":i,d=t.capHeight,f=d===void 0?"0.71em":d,p=t.scaleToFit,m=p===void 0?!1:p,g=t.textAnchor,y=g===void 0?"start":g,w=t.verticalAnchor,S=w===void 0?"end":w,b=t.fill,k=b===void 0?w3:b,C=y3(t,$pe),$=_.useMemo(function(){return Mpe({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:m,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,m,C.style,C.width]),L=C.dx,T=C.dy,P=C.angle,O=C.className,N=C.breakAll,R=y3(C,Tpe);if(!yr(n)||!yr(o))return null;var D=n+(Oe(L)?L:0),j=o+(Oe(T)?T:0),A;switch(S){case"start":A=fS("calc(".concat(f,")"));break;case"middle":A=fS("calc(".concat(($.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:A=fS("calc(".concat($.length-1," * -").concat(c,")"));break}var I=[];if(m){var B=$[0].width,F=C.width;I.push("scale(".concat((Oe(F)?F/B:1)/B,")"))}return P&&I.push("rotate(".concat(P,", ").concat(D,", ").concat(j,")")),I.length&&(R.transform=I.join(" ")),H.createElement("text",ej({},Qe(R,!0),{x:D,y:j,className:Ue("recharts-text",O),textAnchor:y,fill:k.includes("url")?w3:k}),$.map(function(U,Y){var W=U.words.join(N?"":" ");return H.createElement("tspan",{x:D,dy:Y===0?A:c,key:"".concat(W,"-").concat(Y)},W)}))};function qi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Rpe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function S5(e){let t,r,n;e.length!==2?(t=qi,r=(c,d)=>qi(e(c),d),n=(c,d)=>e(c)-d):(t=e===qi||e===Rpe?e:Ipe,r=e,n=e);function a(c,d,f=0,p=c.length){if(f<p){if(t(d,d)!==0)return p;do{const m=f+p>>>1;r(c[m],d)<0?f=m+1:p=m}while(f<p)}return f}function o(c,d,f=0,p=c.length){if(f<p){if(t(d,d)!==0)return p;do{const m=f+p>>>1;r(c[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function i(c,d,f=0,p=c.length){const m=a(c,d,f,p-1);return m>f&&n(c[m-1],d)>-n(c[m],d)?m-1:m}return{left:a,center:i,right:o}}function Ipe(){return 0}function fL(e){return e===null?NaN:+e}function*Npe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Lpe=S5(qi),hp=Lpe.right;S5(fL).center;class S3 extends Map{constructor(t,r=Fpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(E3(this,t))}has(t){return super.has(E3(this,t))}set(t,r){return super.set(Bpe(this,t),r)}delete(t){return super.delete(zpe(this,t))}}function E3({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Bpe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function zpe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Fpe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function qpe(e=qi){if(e===qi)return pL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function pL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Hpe=Math.sqrt(50),Upe=Math.sqrt(10),Vpe=Math.sqrt(2);function iy(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=Hpe?10:o>=Upe?5:o>=Vpe?2:1;let c,d,f;return a<0?(f=Math.pow(10,-a)/i,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*i,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=r&&r<2?iy(e,t,r*2):[c,d,f]}function tj(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?iy(t,e,r):iy(e,t,r);if(!(o>=a))return[];const c=o-a+1,d=new Array(c);if(n)if(i<0)for(let f=0;f<c;++f)d[f]=(o-f)/-i;else for(let f=0;f<c;++f)d[f]=(o-f)*i;else if(i<0)for(let f=0;f<c;++f)d[f]=(a+f)/-i;else for(let f=0;f<c;++f)d[f]=(a+f)*i;return d}function rj(e,t,r){return t=+t,e=+e,r=+r,iy(e,t,r)[2]}function nj(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?rj(t,e,r):rj(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function j3(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function C3(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function hL(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?pL:qpe(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(d-m)/d)*(f-d/2<0?-1:1),y=Math.max(r,Math.floor(t-f*m/d+g)),w=Math.min(n,Math.floor(t+(d-f)*m/d+g));hL(e,t,y,w,a)}const o=e[t];let i=r,c=n;for(_d(e,r,t),a(e[n],o)>0&&_d(e,r,n);i<c;){for(_d(e,i,c),++i,--c;a(e[i],o)<0;)++i;for(;a(e[c],o)>0;)--c}a(e[r],o)===0?_d(e,r,c):(++c,_d(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function _d(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Wpe(e,t,r){if(e=Float64Array.from(Npe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return C3(e);if(t>=1)return j3(e);var n,a=(n-1)*t,o=Math.floor(a),i=j3(hL(e,o).subarray(0,o+1)),c=C3(e.subarray(o+1));return i+(c-i)*(a-o)}}function Ype(e,t,r=fL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),c=+r(e[o+1],o+1,e);return i+(c-i)*(a-o)}}function Gpe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function ia(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const aj=Symbol("implicit");function E5(){var e=new S3,t=[],r=[],n=aj;function a(o){let i=e.get(o);if(i===void 0){if(n!==aj)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new S3;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return E5(t,r).unknown(n)},ia.apply(a,arguments),a}function Sf(){var e=E5().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,c=!1,d=0,f=0,p=.5;delete e.unknown;function m(){var g=t().length,y=a<n,w=y?a:n,S=y?n:a;o=(S-w)/Math.max(1,g-d+f*2),c&&(o=Math.floor(o)),w+=(S-w-o*(g-d))*p,i=o*(1-d),c&&(w=Math.round(w),i=Math.round(i));var b=Gpe(g).map(function(k){return w+o*k});return r(y?b.reverse():b)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,c=!0,m()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(g){return arguments.length?(c=!!g,m()):c},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),m()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),m()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},e.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},e.copy=function(){return Sf(t(),[n,a]).round(c).paddingInner(d).paddingOuter(f).align(p)},ia.apply(m(),arguments)}function mL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mL(t())},e}function Zd(){return mL(Sf.apply(null,arguments).paddingInner(1))}function j5(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function mp(){}var Ef=.7,sy=1/Ef,pc="\\s*([+-]?\\d+)\\s*",jf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kpe=/^#([0-9a-f]{3,8})$/,Qpe=new RegExp(`^rgb\\(${pc},${pc},${pc}\\)$`),Xpe=new RegExp(`^rgb\\(${Za},${Za},${Za}\\)$`),Jpe=new RegExp(`^rgba\\(${pc},${pc},${pc},${jf}\\)$`),Zpe=new RegExp(`^rgba\\(${Za},${Za},${Za},${jf}\\)$`),ehe=new RegExp(`^hsl\\(${jf},${Za},${Za}\\)$`),the=new RegExp(`^hsla\\(${jf},${Za},${Za},${jf}\\)$`),$3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};j5(mp,Cf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:T3,formatHex:T3,formatHex8:rhe,formatHsl:nhe,formatRgb:k3,toString:k3});function T3(){return this.rgb().formatHex()}function rhe(){return this.rgb().formatHex8()}function nhe(){return yL(this).formatHsl()}function k3(){return this.rgb().formatRgb()}function Cf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Kpe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?A3(t):r===3?new fn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Dm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Dm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Qpe.exec(e))?new fn(t[1],t[2],t[3],1):(t=Xpe.exec(e))?new fn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Jpe.exec(e))?Dm(t[1],t[2],t[3],t[4]):(t=Zpe.exec(e))?Dm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ehe.exec(e))?_3(t[1],t[2]/100,t[3]/100,1):(t=the.exec(e))?_3(t[1],t[2]/100,t[3]/100,t[4]):$3.hasOwnProperty(e)?A3($3[e]):e==="transparent"?new fn(NaN,NaN,NaN,0):null}function A3(e){return new fn(e>>16&255,e>>8&255,e&255,1)}function Dm(e,t,r,n){return n<=0&&(e=t=r=NaN),new fn(e,t,r,n)}function ahe(e){return e instanceof mp||(e=Cf(e)),e?(e=e.rgb(),new fn(e.r,e.g,e.b,e.opacity)):new fn}function oj(e,t,r,n){return arguments.length===1?ahe(e):new fn(e,t,r,n??1)}function fn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}j5(fn,oj,gL(mp,{brighter(e){return e=e==null?sy:Math.pow(sy,e),new fn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ef:Math.pow(Ef,e),new fn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fn(Ns(this.r),Ns(this.g),Ns(this.b),ly(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O3,formatHex:O3,formatHex8:ohe,formatRgb:P3,toString:P3}));function O3(){return`#${$s(this.r)}${$s(this.g)}${$s(this.b)}`}function ohe(){return`#${$s(this.r)}${$s(this.g)}${$s(this.b)}${$s((isNaN(this.opacity)?1:this.opacity)*255)}`}function P3(){const e=ly(this.opacity);return`${e===1?"rgb(":"rgba("}${Ns(this.r)}, ${Ns(this.g)}, ${Ns(this.b)}${e===1?")":`, ${e})`}`}function ly(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ns(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $s(e){return e=Ns(e),(e<16?"0":"")+e.toString(16)}function _3(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ja(e,t,r,n)}function yL(e){if(e instanceof ja)return new ja(e.h,e.s,e.l,e.opacity);if(e instanceof mp||(e=Cf(e)),!e)return new ja;if(e instanceof ja)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,c=o-a,d=(o+a)/2;return c?(t===o?i=(r-n)/c+(r<n)*6:r===o?i=(n-t)/c+2:i=(t-r)/c+4,c/=d<.5?o+a:2-o-a,i*=60):c=d>0&&d<1?0:i,new ja(i,c,d,e.opacity)}function ihe(e,t,r,n){return arguments.length===1?yL(e):new ja(e,t,r,n??1)}function ja(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}j5(ja,ihe,gL(mp,{brighter(e){return e=e==null?sy:Math.pow(sy,e),new ja(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ef:Math.pow(Ef,e),new ja(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new fn(pS(e>=240?e-240:e+120,a,n),pS(e,a,n),pS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ja(D3(this.h),Mm(this.s),Mm(this.l),ly(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ly(this.opacity);return`${e===1?"hsl(":"hsla("}${D3(this.h)}, ${Mm(this.s)*100}%, ${Mm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function D3(e){return e=(e||0)%360,e<0?e+360:e}function Mm(e){return Math.max(0,Math.min(1,e||0))}function pS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const C5=e=>()=>e;function she(e,t){return function(r){return e+r*t}}function lhe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function che(e){return(e=+e)==1?vL:function(t,r){return r-t?lhe(t,r,e):C5(isNaN(t)?r:t)}}function vL(e,t){var r=t-e;return r?she(e,r):C5(isNaN(e)?t:e)}const M3=function e(t){var r=che(t);function n(a,o){var i=r((a=oj(a)).r,(o=oj(o)).r),c=r(a.g,o.g),d=r(a.b,o.b),f=vL(a.opacity,o.opacity);return function(p){return a.r=i(p),a.g=c(p),a.b=d(p),a.opacity=f(p),a+""}}return n.gamma=e,n}(1);function uhe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function dhe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fhe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=pu(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(c){for(i=0;i<n;++i)o[i]=a[i](c);return o}}function phe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function cy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function hhe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=pu(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var ij=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hS=new RegExp(ij.source,"g");function mhe(e){return function(){return e}}function ghe(e){return function(t){return e(t)+""}}function yhe(e,t){var r=ij.lastIndex=hS.lastIndex=0,n,a,o,i=-1,c=[],d=[];for(e=e+"",t=t+"";(n=ij.exec(e))&&(a=hS.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),c[i]?c[i]+=o:c[++i]=o),(n=n[0])===(a=a[0])?c[i]?c[i]+=a:c[++i]=a:(c[++i]=null,d.push({i,x:cy(n,a)})),r=hS.lastIndex;return r<t.length&&(o=t.slice(r),c[i]?c[i]+=o:c[++i]=o),c.length<2?d[0]?ghe(d[0].x):mhe(t):(t=d.length,function(f){for(var p=0,m;p<t;++p)c[(m=d[p]).i]=m.x(f);return c.join("")})}function pu(e,t){var r=typeof t,n;return t==null||r==="boolean"?C5(t):(r==="number"?cy:r==="string"?(n=Cf(t))?(t=n,M3):yhe:t instanceof Cf?M3:t instanceof Date?phe:dhe(t)?uhe:Array.isArray(t)?fhe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?hhe:cy)(e,t)}function $5(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function vhe(e,t){t===void 0&&(t=e,e=pu);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var c=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[c](i-c)}}function xhe(e){return function(){return e}}function uy(e){return+e}var R3=[0,1];function nn(e){return e}function sj(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:xhe(isNaN(t)?NaN:.5)}function bhe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function whe(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=sj(a,n),o=r(i,o)):(n=sj(n,a),o=r(o,i)),function(c){return o(n(c))}}function She(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=sj(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(c){var d=hp(e,c,1,n)-1;return o[d](a[d](c))}}function gp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rv(){var e=R3,t=R3,r=pu,n,a,o,i=nn,c,d,f;function p(){var g=Math.min(e.length,t.length);return i!==nn&&(i=bhe(e[0],e[g-1])),c=g>2?She:whe,d=f=null,m}function m(g){return g==null||isNaN(g=+g)?o:(d||(d=c(e.map(n),t,r)))(n(i(g)))}return m.invert=function(g){return i(a((f||(f=c(t,e.map(n),cy)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,uy),p()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),p()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=$5,p()},m.clamp=function(g){return arguments.length?(i=g?!0:nn,p()):i!==nn},m.interpolate=function(g){return arguments.length?(r=g,p()):r},m.unknown=function(g){return arguments.length?(o=g,m):o},function(g,y){return n=g,a=y,p()}}function T5(){return Rv()(nn,nn)}function Ehe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Dc(e){return e=dy(Math.abs(e)),e?e[1]:NaN}function jhe(e,t){return function(r,n){for(var a=r.length,o=[],i=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),o.push(r.substring(a-=c,a+c)),!((d+=c+1)>n));)c=e[i=(i+1)%e.length];return o.reverse().join(t)}}function Che(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var $he=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $f(e){if(!(t=$he.exec(e)))throw new Error("invalid format: "+e);var t;return new k5({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$f.prototype=k5.prototype;function k5(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}k5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function The(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var xL;function khe(e,t){var r=dy(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(xL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+dy(e,Math.max(0,t+o-1))[0]}function I3(e,t){var r=dy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const N3={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ehe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>I3(e*100,t),r:I3,s:khe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function L3(e){return e}var B3=Array.prototype.map,z3=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ahe(e){var t=e.grouping===void 0||e.thousands===void 0?L3:jhe(B3.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?L3:Che(B3.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m){m=$f(m);var g=m.fill,y=m.align,w=m.sign,S=m.symbol,b=m.zero,k=m.width,C=m.comma,$=m.precision,L=m.trim,T=m.type;T==="n"?(C=!0,T="g"):N3[T]||($===void 0&&($=12),L=!0,T="g"),(b||g==="0"&&y==="=")&&(b=!0,g="0",y="=");var P=S==="$"?r:S==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",O=S==="$"?n:/[%p]/.test(T)?i:"",N=N3[T],R=/[defgprs%]/.test(T);$=$===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function D(j){var A=P,I=O,B,F,U;if(T==="c")I=N(j)+I,j="";else{j=+j;var Y=j<0||1/j<0;if(j=isNaN(j)?d:N(Math.abs(j),$),L&&(j=The(j)),Y&&+j==0&&w!=="+"&&(Y=!1),A=(Y?w==="("?w:c:w==="-"||w==="("?"":w)+A,I=(T==="s"?z3[8+xL/3]:"")+I+(Y&&w==="("?")":""),R){for(B=-1,F=j.length;++B<F;)if(U=j.charCodeAt(B),48>U||U>57){I=(U===46?a+j.slice(B+1):j.slice(B))+I,j=j.slice(0,B);break}}}C&&!b&&(j=t(j,1/0));var W=A.length+j.length+I.length,Q=W<k?new Array(k-W+1).join(g):"";switch(C&&b&&(j=t(Q+j,Q.length?k-I.length:1/0),Q=""),y){case"<":j=A+j+I+Q;break;case"=":j=A+Q+j+I;break;case"^":j=Q.slice(0,W=Q.length>>1)+A+j+I+Q.slice(W);break;default:j=Q+A+j+I;break}return o(j)}return D.toString=function(){return m+""},D}function p(m,g){var y=f((m=$f(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(Dc(g)/3)))*3,S=Math.pow(10,-w),b=z3[8+w/3];return function(k){return y(S*k)+b}}return{format:f,formatPrefix:p}}var Rm,A5,bL;Ohe({thousands:",",grouping:[3],currency:["$",""]});function Ohe(e){return Rm=Ahe(e),A5=Rm.format,bL=Rm.formatPrefix,Rm}function Phe(e){return Math.max(0,-Dc(Math.abs(e)))}function _he(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Dc(t)/3)))*3-Dc(Math.abs(e)))}function Dhe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Dc(t)-Dc(e))+1}function wL(e,t,r,n){var a=nj(e,t,r),o;switch(n=$f(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=_he(a,i))&&(n.precision=o),bL(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=Dhe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Phe(a))&&(n.precision=o-(n.type==="%")*2);break}}return A5(n)}function Ki(e){var t=e.domain;return e.ticks=function(r){var n=t();return tj(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return wL(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],c=n[o],d,f,p=10;for(c<i&&(f=i,i=c,c=f,f=a,a=o,o=f);p-- >0;){if(f=rj(i,c,r),f===d)return n[a]=i,n[o]=c,t(n);if(f>0)i=Math.floor(i/f)*f,c=Math.ceil(c/f)*f;else if(f<0)i=Math.ceil(i*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function fy(){var e=T5();return e.copy=function(){return gp(e,fy())},ia.apply(e,arguments),Ki(e)}function SL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,uy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return SL(e).unknown(t)},e=arguments.length?Array.from(e,uy):[0,1],Ki(r)}function EL(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function F3(e){return Math.log(e)}function q3(e){return Math.exp(e)}function Mhe(e){return-Math.log(-e)}function Rhe(e){return-Math.exp(-e)}function Ihe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Nhe(e){return e===10?Ihe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Lhe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function H3(e){return(t,r)=>-e(-t,r)}function O5(e){const t=e(F3,q3),r=t.domain;let n=10,a,o;function i(){return a=Lhe(n),o=Nhe(n),r()[0]<0?(a=H3(a),o=H3(o),e(Mhe,Rhe)):e(F3,q3),t}return t.base=function(c){return arguments.length?(n=+c,i()):n},t.domain=function(c){return arguments.length?(r(c),i()):r()},t.ticks=c=>{const d=r();let f=d[0],p=d[d.length-1];const m=p<f;m&&([f,p]=[p,f]);let g=a(f),y=a(p),w,S;const b=c==null?10:+c;let k=[];if(!(n%1)&&y-g<b){if(g=Math.floor(g),y=Math.ceil(y),f>0){for(;g<=y;++g)for(w=1;w<n;++w)if(S=g<0?w/o(-g):w*o(g),!(S<f)){if(S>p)break;k.push(S)}}else for(;g<=y;++g)for(w=n-1;w>=1;--w)if(S=g>0?w/o(-g):w*o(g),!(S<f)){if(S>p)break;k.push(S)}k.length*2<b&&(k=tj(f,p,b))}else k=tj(g,y,Math.min(y-g,b)).map(o);return m?k.reverse():k},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=$f(d)).precision==null&&(d.trim=!0),d=A5(d)),c===1/0)return d;const f=Math.max(1,n*c/t.ticks().length);return p=>{let m=p/o(Math.round(a(p)));return m*n<n-.5&&(m*=n),m<=f?d(p):""}},t.nice=()=>r(EL(r(),{floor:c=>o(Math.floor(a(c))),ceil:c=>o(Math.ceil(a(c)))})),t}function jL(){const e=O5(Rv()).domain([1,10]);return e.copy=()=>gp(e,jL()).base(e.base()),ia.apply(e,arguments),e}function U3(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function V3(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function P5(e){var t=1,r=e(U3(t),V3(t));return r.constant=function(n){return arguments.length?e(U3(t=+n),V3(t)):t},Ki(r)}function CL(){var e=P5(Rv());return e.copy=function(){return gp(e,CL()).constant(e.constant())},ia.apply(e,arguments)}function W3(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Bhe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zhe(e){return e<0?-e*e:e*e}function _5(e){var t=e(nn,nn),r=1;function n(){return r===1?e(nn,nn):r===.5?e(Bhe,zhe):e(W3(r),W3(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ki(t)}function D5(){var e=_5(Rv());return e.copy=function(){return gp(e,D5()).exponent(e.exponent())},ia.apply(e,arguments),e}function Fhe(){return D5.apply(null,arguments).exponent(.5)}function Y3(e){return Math.sign(e)*e*e}function qhe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $L(){var e=T5(),t=[0,1],r=!1,n;function a(o){var i=qhe(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(Y3(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,uy)).map(Y3)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return $L(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ia.apply(a,arguments),Ki(a)}function TL(){var e=[],t=[],r=[],n;function a(){var i=0,c=Math.max(1,t.length);for(r=new Array(c-1);++i<c;)r[i-1]=Ype(e,i/c);return o}function o(i){return i==null||isNaN(i=+i)?n:t[hp(r,i)]}return o.invertExtent=function(i){var c=t.indexOf(i);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let c of i)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(qi),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return TL().domain(e).range(t).unknown(n)},ia.apply(o,arguments)}function kL(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(d){return d!=null&&d<=d?a[hp(n,d,0,r)]:o}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return i}return i.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},i.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},i.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},i.unknown=function(d){return arguments.length&&(o=d),i},i.thresholds=function(){return n.slice()},i.copy=function(){return kL().domain([e,t]).range(a).unknown(o)},ia.apply(Ki(i),arguments)}function AL(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[hp(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return AL().domain(e).range(t).unknown(r)},ia.apply(a,arguments)}const mS=new Date,gS=new Date;function vr(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),c=a.ceil(o);return o-i<c-o?i:c},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,c)=>{const d=[];if(o=a.ceil(o),c=c==null?1:Math.floor(c),!(o<i)||!(c>0))return d;let f;do d.push(f=new Date(+o)),t(o,c),e(o);while(f<o&&o<i);return d},a.filter=o=>vr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,c)=>{if(i>=i)if(c<0)for(;++c<=0;)for(;t(i,-1),!o(i););else for(;--c>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(mS.setTime(+o),gS.setTime(+i),e(mS),e(gS),Math.floor(r(mS,gS))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const py=vr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);py.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?vr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):py);py.range;const Po=1e3,ea=Po*60,_o=ea*60,Wo=_o*24,M5=Wo*7,G3=Wo*30,yS=Wo*365,Ts=vr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Po)},(e,t)=>(t-e)/Po,e=>e.getUTCSeconds());Ts.range;const R5=vr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Po)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getMinutes());R5.range;const I5=vr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getUTCMinutes());I5.range;const N5=vr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Po-e.getMinutes()*ea)},(e,t)=>{e.setTime(+e+t*_o)},(e,t)=>(t-e)/_o,e=>e.getHours());N5.range;const L5=vr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*_o)},(e,t)=>(t-e)/_o,e=>e.getUTCHours());L5.range;const yp=vr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ea)/Wo,e=>e.getDate()-1);yp.range;const Iv=vr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wo,e=>e.getUTCDate()-1);Iv.range;const OL=vr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wo,e=>Math.floor(e/Wo));OL.range;function ol(e){return vr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ea)/M5)}const Nv=ol(0),hy=ol(1),Hhe=ol(2),Uhe=ol(3),Mc=ol(4),Vhe=ol(5),Whe=ol(6);Nv.range;hy.range;Hhe.range;Uhe.range;Mc.range;Vhe.range;Whe.range;function il(e){return vr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/M5)}const Lv=il(0),my=il(1),Yhe=il(2),Ghe=il(3),Rc=il(4),Khe=il(5),Qhe=il(6);Lv.range;my.range;Yhe.range;Ghe.range;Rc.range;Khe.range;Qhe.range;const B5=vr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());B5.range;const z5=vr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());z5.range;const Yo=vr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Yo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Yo.range;const Go=vr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Go.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Go.range;function PL(e,t,r,n,a,o){const i=[[Ts,1,Po],[Ts,5,5*Po],[Ts,15,15*Po],[Ts,30,30*Po],[o,1,ea],[o,5,5*ea],[o,15,15*ea],[o,30,30*ea],[a,1,_o],[a,3,3*_o],[a,6,6*_o],[a,12,12*_o],[n,1,Wo],[n,2,2*Wo],[r,1,M5],[t,1,G3],[t,3,3*G3],[e,1,yS]];function c(f,p,m){const g=p<f;g&&([f,p]=[p,f]);const y=m&&typeof m.range=="function"?m:d(f,p,m),w=y?y.range(f,+p+1):[];return g?w.reverse():w}function d(f,p,m){const g=Math.abs(p-f)/m,y=S5(([,,b])=>b).right(i,g);if(y===i.length)return e.every(nj(f/yS,p/yS,m));if(y===0)return py.every(Math.max(nj(f,p,m),1));const[w,S]=i[g/i[y-1][2]<i[y][2]/g?y-1:y];return w.every(S)}return[c,d]}const[Xhe,Jhe]=PL(Go,z5,Lv,OL,L5,I5),[Zhe,eme]=PL(Yo,B5,Nv,yp,N5,R5);function vS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Dd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function tme(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,c=e.months,d=e.shortMonths,f=Md(a),p=Rd(a),m=Md(o),g=Rd(o),y=Md(i),w=Rd(i),S=Md(c),b=Rd(c),k=Md(d),C=Rd(d),$={a:Y,A:W,b:Q,B:Z,c:null,d:e8,e:e8,f:jme,g:Mme,G:Ime,H:wme,I:Sme,j:Eme,L:_L,m:Cme,M:$me,p:V,q:K,Q:n8,s:a8,S:Tme,u:kme,U:Ame,V:Ome,w:Pme,W:_me,x:null,X:null,y:Dme,Y:Rme,Z:Nme,"%":r8},L={a:se,A:he,b:me,B:ne,c:null,d:t8,e:t8,f:Fme,g:Xme,G:Zme,H:Lme,I:Bme,j:zme,L:ML,m:qme,M:Hme,p:ve,q:we,Q:n8,s:a8,S:Ume,u:Vme,U:Wme,V:Yme,w:Gme,W:Kme,x:null,X:null,y:Qme,Y:Jme,Z:ege,"%":r8},T={a:D,A:j,b:A,B:I,c:B,d:J3,e:J3,f:yme,g:X3,G:Q3,H:Z3,I:Z3,j:pme,L:gme,m:fme,M:hme,p:R,q:dme,Q:xme,s:bme,S:mme,u:ime,U:sme,V:lme,w:ome,W:cme,x:F,X:U,y:X3,Y:Q3,Z:ume,"%":vme};$.x=P(r,$),$.X=P(n,$),$.c=P(t,$),L.x=P(r,L),L.X=P(n,L),L.c=P(t,L);function P(de,Ae){return function(_e){var le=[],Je=-1,G=0,pe=de.length,Ce,He,je;for(_e instanceof Date||(_e=new Date(+_e));++Je<pe;)de.charCodeAt(Je)===37&&(le.push(de.slice(G,Je)),(He=K3[Ce=de.charAt(++Je)])!=null?Ce=de.charAt(++Je):He=Ce==="e"?" ":"0",(je=Ae[Ce])&&(Ce=je(_e,He)),le.push(Ce),G=Je+1);return le.push(de.slice(G,Je)),le.join("")}}function O(de,Ae){return function(_e){var le=Dd(1900,void 0,1),Je=N(le,de,_e+="",0),G,pe;if(Je!=_e.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(Ae&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(G=xS(Dd(le.y,0,1)),pe=G.getUTCDay(),G=pe>4||pe===0?my.ceil(G):my(G),G=Iv.offset(G,(le.V-1)*7),le.y=G.getUTCFullYear(),le.m=G.getUTCMonth(),le.d=G.getUTCDate()+(le.w+6)%7):(G=vS(Dd(le.y,0,1)),pe=G.getDay(),G=pe>4||pe===0?hy.ceil(G):hy(G),G=yp.offset(G,(le.V-1)*7),le.y=G.getFullYear(),le.m=G.getMonth(),le.d=G.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),pe="Z"in le?xS(Dd(le.y,0,1)).getUTCDay():vS(Dd(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(pe+5)%7:le.w+le.U*7-(pe+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,xS(le)):vS(le)}}function N(de,Ae,_e,le){for(var Je=0,G=Ae.length,pe=_e.length,Ce,He;Je<G;){if(le>=pe)return-1;if(Ce=Ae.charCodeAt(Je++),Ce===37){if(Ce=Ae.charAt(Je++),He=T[Ce in K3?Ae.charAt(Je++):Ce],!He||(le=He(de,_e,le))<0)return-1}else if(Ce!=_e.charCodeAt(le++))return-1}return le}function R(de,Ae,_e){var le=f.exec(Ae.slice(_e));return le?(de.p=p.get(le[0].toLowerCase()),_e+le[0].length):-1}function D(de,Ae,_e){var le=y.exec(Ae.slice(_e));return le?(de.w=w.get(le[0].toLowerCase()),_e+le[0].length):-1}function j(de,Ae,_e){var le=m.exec(Ae.slice(_e));return le?(de.w=g.get(le[0].toLowerCase()),_e+le[0].length):-1}function A(de,Ae,_e){var le=k.exec(Ae.slice(_e));return le?(de.m=C.get(le[0].toLowerCase()),_e+le[0].length):-1}function I(de,Ae,_e){var le=S.exec(Ae.slice(_e));return le?(de.m=b.get(le[0].toLowerCase()),_e+le[0].length):-1}function B(de,Ae,_e){return N(de,t,Ae,_e)}function F(de,Ae,_e){return N(de,r,Ae,_e)}function U(de,Ae,_e){return N(de,n,Ae,_e)}function Y(de){return i[de.getDay()]}function W(de){return o[de.getDay()]}function Q(de){return d[de.getMonth()]}function Z(de){return c[de.getMonth()]}function V(de){return a[+(de.getHours()>=12)]}function K(de){return 1+~~(de.getMonth()/3)}function se(de){return i[de.getUTCDay()]}function he(de){return o[de.getUTCDay()]}function me(de){return d[de.getUTCMonth()]}function ne(de){return c[de.getUTCMonth()]}function ve(de){return a[+(de.getUTCHours()>=12)]}function we(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var Ae=P(de+="",$);return Ae.toString=function(){return de},Ae},parse:function(de){var Ae=O(de+="",!1);return Ae.toString=function(){return de},Ae},utcFormat:function(de){var Ae=P(de+="",L);return Ae.toString=function(){return de},Ae},utcParse:function(de){var Ae=O(de+="",!0);return Ae.toString=function(){return de},Ae}}}var K3={"-":"",_:" ",0:"0"},Ar=/^\s*\d+/,rme=/^%/,nme=/[\\^$*+?|[\]().{}]/g;function vt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function ame(e){return e.replace(nme,"\\$&")}function Md(e){return new RegExp("^(?:"+e.map(ame).join("|")+")","i")}function Rd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function ome(e,t,r){var n=Ar.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function ime(e,t,r){var n=Ar.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function sme(e,t,r){var n=Ar.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function lme(e,t,r){var n=Ar.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function cme(e,t,r){var n=Ar.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Q3(e,t,r){var n=Ar.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function X3(e,t,r){var n=Ar.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ume(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function dme(e,t,r){var n=Ar.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function fme(e,t,r){var n=Ar.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function J3(e,t,r){var n=Ar.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function pme(e,t,r){var n=Ar.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Z3(e,t,r){var n=Ar.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function hme(e,t,r){var n=Ar.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function mme(e,t,r){var n=Ar.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function gme(e,t,r){var n=Ar.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function yme(e,t,r){var n=Ar.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function vme(e,t,r){var n=rme.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function xme(e,t,r){var n=Ar.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function bme(e,t,r){var n=Ar.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function e8(e,t){return vt(e.getDate(),t,2)}function wme(e,t){return vt(e.getHours(),t,2)}function Sme(e,t){return vt(e.getHours()%12||12,t,2)}function Eme(e,t){return vt(1+yp.count(Yo(e),e),t,3)}function _L(e,t){return vt(e.getMilliseconds(),t,3)}function jme(e,t){return _L(e,t)+"000"}function Cme(e,t){return vt(e.getMonth()+1,t,2)}function $me(e,t){return vt(e.getMinutes(),t,2)}function Tme(e,t){return vt(e.getSeconds(),t,2)}function kme(e){var t=e.getDay();return t===0?7:t}function Ame(e,t){return vt(Nv.count(Yo(e)-1,e),t,2)}function DL(e){var t=e.getDay();return t>=4||t===0?Mc(e):Mc.ceil(e)}function Ome(e,t){return e=DL(e),vt(Mc.count(Yo(e),e)+(Yo(e).getDay()===4),t,2)}function Pme(e){return e.getDay()}function _me(e,t){return vt(hy.count(Yo(e)-1,e),t,2)}function Dme(e,t){return vt(e.getFullYear()%100,t,2)}function Mme(e,t){return e=DL(e),vt(e.getFullYear()%100,t,2)}function Rme(e,t){return vt(e.getFullYear()%1e4,t,4)}function Ime(e,t){var r=e.getDay();return e=r>=4||r===0?Mc(e):Mc.ceil(e),vt(e.getFullYear()%1e4,t,4)}function Nme(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vt(t/60|0,"0",2)+vt(t%60,"0",2)}function t8(e,t){return vt(e.getUTCDate(),t,2)}function Lme(e,t){return vt(e.getUTCHours(),t,2)}function Bme(e,t){return vt(e.getUTCHours()%12||12,t,2)}function zme(e,t){return vt(1+Iv.count(Go(e),e),t,3)}function ML(e,t){return vt(e.getUTCMilliseconds(),t,3)}function Fme(e,t){return ML(e,t)+"000"}function qme(e,t){return vt(e.getUTCMonth()+1,t,2)}function Hme(e,t){return vt(e.getUTCMinutes(),t,2)}function Ume(e,t){return vt(e.getUTCSeconds(),t,2)}function Vme(e){var t=e.getUTCDay();return t===0?7:t}function Wme(e,t){return vt(Lv.count(Go(e)-1,e),t,2)}function RL(e){var t=e.getUTCDay();return t>=4||t===0?Rc(e):Rc.ceil(e)}function Yme(e,t){return e=RL(e),vt(Rc.count(Go(e),e)+(Go(e).getUTCDay()===4),t,2)}function Gme(e){return e.getUTCDay()}function Kme(e,t){return vt(my.count(Go(e)-1,e),t,2)}function Qme(e,t){return vt(e.getUTCFullYear()%100,t,2)}function Xme(e,t){return e=RL(e),vt(e.getUTCFullYear()%100,t,2)}function Jme(e,t){return vt(e.getUTCFullYear()%1e4,t,4)}function Zme(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Rc(e):Rc.ceil(e),vt(e.getUTCFullYear()%1e4,t,4)}function ege(){return"+0000"}function r8(){return"%"}function n8(e){return+e}function a8(e){return Math.floor(+e/1e3)}var Hl,IL,NL;tge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tge(e){return Hl=tme(e),IL=Hl.format,Hl.parse,NL=Hl.utcFormat,Hl.utcParse,Hl}function rge(e){return new Date(e)}function nge(e){return e instanceof Date?+e:+new Date(+e)}function F5(e,t,r,n,a,o,i,c,d,f){var p=T5(),m=p.invert,g=p.domain,y=f(".%L"),w=f(":%S"),S=f("%I:%M"),b=f("%I %p"),k=f("%a %d"),C=f("%b %d"),$=f("%B"),L=f("%Y");function T(P){return(d(P)<P?y:c(P)<P?w:i(P)<P?S:o(P)<P?b:n(P)<P?a(P)<P?k:C:r(P)<P?$:L)(P)}return p.invert=function(P){return new Date(m(P))},p.domain=function(P){return arguments.length?g(Array.from(P,nge)):g().map(rge)},p.ticks=function(P){var O=g();return e(O[0],O[O.length-1],P??10)},p.tickFormat=function(P,O){return O==null?T:f(O)},p.nice=function(P){var O=g();return(!P||typeof P.range!="function")&&(P=t(O[0],O[O.length-1],P??10)),P?g(EL(O,P)):p},p.copy=function(){return gp(p,F5(e,t,r,n,a,o,i,c,d,f))},p}function age(){return ia.apply(F5(Zhe,eme,Yo,B5,Nv,yp,N5,R5,Ts,IL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oge(){return ia.apply(F5(Xhe,Jhe,Go,z5,Lv,Iv,L5,I5,Ts,NL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bv(){var e=0,t=1,r,n,a,o,i=nn,c=!1,d;function f(m){return m==null||isNaN(m=+m)?d:i(a===0?.5:(m=(o(m)-r)*a,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(i=m,f):i};function p(m){return function(g){var y,w;return arguments.length?([y,w]=g,i=m(y,w),f):[i(0),i(1)]}}return f.range=p(pu),f.rangeRound=p($5),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return o=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),f}}function Qi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function LL(){var e=Ki(Bv()(nn));return e.copy=function(){return Qi(e,LL())},Zo.apply(e,arguments)}function BL(){var e=O5(Bv()).domain([1,10]);return e.copy=function(){return Qi(e,BL()).base(e.base())},Zo.apply(e,arguments)}function zL(){var e=P5(Bv());return e.copy=function(){return Qi(e,zL()).constant(e.constant())},Zo.apply(e,arguments)}function q5(){var e=_5(Bv());return e.copy=function(){return Qi(e,q5()).exponent(e.exponent())},Zo.apply(e,arguments)}function ige(){return q5.apply(null,arguments).exponent(.5)}function FL(){var e=[],t=nn;function r(n){if(n!=null&&!isNaN(n=+n))return t((hp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(qi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>Wpe(e,o/n))},r.copy=function(){return FL(t).domain(e)},Zo.apply(r,arguments)}function zv(){var e=0,t=.5,r=1,n=1,a,o,i,c,d,f=nn,p,m=!1,g;function y(S){return isNaN(S=+S)?g:(S=.5+((S=+p(S))-o)*(n*S<n*o?c:d),f(m?Math.max(0,Math.min(1,S)):S))}y.domain=function(S){return arguments.length?([e,t,r]=S,a=p(e=+e),o=p(t=+t),i=p(r=+r),c=a===o?0:.5/(o-a),d=o===i?0:.5/(i-o),n=o<a?-1:1,y):[e,t,r]},y.clamp=function(S){return arguments.length?(m=!!S,y):m},y.interpolator=function(S){return arguments.length?(f=S,y):f};function w(S){return function(b){var k,C,$;return arguments.length?([k,C,$]=b,f=vhe(S,[k,C,$]),y):[f(0),f(.5),f(1)]}}return y.range=w(pu),y.rangeRound=w($5),y.unknown=function(S){return arguments.length?(g=S,y):g},function(S){return p=S,a=S(e),o=S(t),i=S(r),c=a===o?0:.5/(o-a),d=o===i?0:.5/(i-o),n=o<a?-1:1,y}}function qL(){var e=Ki(zv()(nn));return e.copy=function(){return Qi(e,qL())},Zo.apply(e,arguments)}function HL(){var e=O5(zv()).domain([.1,1,10]);return e.copy=function(){return Qi(e,HL()).base(e.base())},Zo.apply(e,arguments)}function UL(){var e=P5(zv());return e.copy=function(){return Qi(e,UL()).constant(e.constant())},Zo.apply(e,arguments)}function H5(){var e=_5(zv());return e.copy=function(){return Qi(e,H5()).exponent(e.exponent())},Zo.apply(e,arguments)}function sge(){return H5.apply(null,arguments).exponent(.5)}const o8=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sf,scaleDiverging:qL,scaleDivergingLog:HL,scaleDivergingPow:H5,scaleDivergingSqrt:sge,scaleDivergingSymlog:UL,scaleIdentity:SL,scaleImplicit:aj,scaleLinear:fy,scaleLog:jL,scaleOrdinal:E5,scalePoint:Zd,scalePow:D5,scaleQuantile:TL,scaleQuantize:kL,scaleRadial:$L,scaleSequential:LL,scaleSequentialLog:BL,scaleSequentialPow:q5,scaleSequentialQuantile:FL,scaleSequentialSqrt:ige,scaleSequentialSymlog:zL,scaleSqrt:Fhe,scaleSymlog:CL,scaleThreshold:AL,scaleTime:age,scaleUtc:oge,tickFormat:wL},Symbol.toStringTag,{value:"Module"}));var bS,i8;function Fv(){if(i8)return bS;i8=1;var e=cu();function t(r,n,a){for(var o=-1,i=r.length;++o<i;){var c=r[o],d=n(c);if(d!=null&&(f===void 0?d===d&&!e(d):a(d,f)))var f=d,p=c}return p}return bS=t,bS}var wS,s8;function VL(){if(s8)return wS;s8=1;function e(t,r){return t>r}return wS=e,wS}var SS,l8;function lge(){if(l8)return SS;l8=1;var e=Fv(),t=VL(),r=fu();function n(a){return a&&a.length?e(a,r,t):void 0}return SS=n,SS}var cge=lge();const qv=dt(cge);var ES,c8;function WL(){if(c8)return ES;c8=1;function e(t,r){return t<r}return ES=e,ES}var jS,u8;function uge(){if(u8)return jS;u8=1;var e=Fv(),t=WL(),r=fu();function n(a){return a&&a.length?e(a,r,t):void 0}return jS=n,jS}var dge=uge();const Hv=dt(dge);var CS,d8;function fge(){if(d8)return CS;d8=1;var e=o5(),t=lo(),r=eL(),n=gn();function a(o,i){var c=n(o)?e:r;return c(o,t(i,3))}return CS=a,CS}var $S,f8;function pge(){if(f8)return $S;f8=1;var e=JN(),t=fge();function r(n,a){return e(t(n,a),1)}return $S=r,$S}var hge=pge();const mge=dt(hge);var TS,p8;function gge(){if(p8)return TS;p8=1;var e=v5();function t(r,n){return e(r,n)}return TS=t,TS}var yge=gge();const vp=dt(yge);var hu=1e9,vge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},V5,Vt=!0,oa="[DecimalError] ",Ls=oa+"Invalid argument: ",U5=oa+"Exponent out of range: ",mu=Math.floor,ws=Math.pow,xge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pn,jr=1e7,qt=7,YL=9007199254740991,gy=mu(YL/qt),Le={};Le.absoluteValue=Le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Le.comparedTo=Le.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Le.dividedBy=Le.div=function(e){return Ho(this,new this.constructor(e))};Le.dividedToIntegerBy=Le.idiv=function(e){var t=this,r=t.constructor;return Pt(Ho(t,new r(e),0,1),r.precision)};Le.equals=Le.eq=function(e){return!this.cmp(e)};Le.exponent=function(){return fr(this)};Le.greaterThan=Le.gt=function(e){return this.cmp(e)>0};Le.greaterThanOrEqualTo=Le.gte=function(e){return this.cmp(e)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(e){return this.cmp(e)<0};Le.lessThanOrEqualTo=Le.lte=function(e){return this.cmp(e)<1};Le.logarithm=Le.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Pn))throw Error(oa+"NaN");if(r.s<1)throw Error(oa+(r.s?"NaN":"-Infinity"));return r.eq(Pn)?new n(0):(Vt=!1,t=Ho(Tf(r,o),Tf(e,o),o),Vt=!0,Pt(t,a))};Le.minus=Le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QL(t,e):GL(t,(e.s=-e.s,e))};Le.modulo=Le.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(oa+"NaN");return r.s?(Vt=!1,t=Ho(r,e,0,1).times(e),Vt=!0,r.minus(t)):Pt(new n(r),a)};Le.naturalExponential=Le.exp=function(){return KL(this)};Le.naturalLogarithm=Le.ln=function(){return Tf(this)};Le.negated=Le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Le.plus=Le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?GL(t,e):QL(t,(e.s=-e.s,e))};Le.precision=Le.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ls+e);if(t=fr(a)+1,n=a.d.length-1,r=n*qt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Le.squareRoot=Le.sqrt=function(){var e,t,r,n,a,o,i,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(oa+"NaN")}for(e=fr(c),Vt=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=Xa(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=mu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=i=r+3;;)if(o=n,n=o.plus(Ho(c,o,i+2)).times(.5),Xa(o.d).slice(0,i)===(t=Xa(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Pt(o,r+1,0),o.times(o).eq(c)){n=o;break}}else if(t!="9999")break;i+=4}return Vt=!0,Pt(n,r)};Le.times=Le.mul=function(e){var t,r,n,a,o,i,c,d,f,p=this,m=p.constructor,g=p.d,y=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,r=p.e+e.e,d=g.length,f=y.length,d<f&&(o=g,g=y,y=o,i=d,d=f,f=i),o=[],i=d+f,n=i;n--;)o.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)c=o[a]+y[n]*g[a-n-1]+t,o[a--]=c%jr|0,t=c/jr|0;o[a]=(o[a]+t)%jr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Vt?Pt(e,m.precision):e};Le.toDecimalPlaces=Le.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(no(e,0,hu),t===void 0?t=n.rounding:no(t,0,8),Pt(r,e+fr(r)+1,t))};Le.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Qs(n,!0):(no(e,0,hu),t===void 0?t=a.rounding:no(t,0,8),n=Pt(new a(n),e+1,t),r=Qs(n,!0,e+1)),r};Le.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?Qs(a):(no(e,0,hu),t===void 0?t=o.rounding:no(t,0,8),n=Pt(new o(a),e+fr(a)+1,t),r=Qs(n.abs(),!1,e+fr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Le.toInteger=Le.toint=function(){var e=this,t=e.constructor;return Pt(new t(e),fr(e)+1,t.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(e){var t,r,n,a,o,i,c=this,d=c.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(Pn);if(c=new d(c),!c.s){if(e.s<1)throw Error(oa+"Infinity");return c}if(c.eq(Pn))return c;if(n=d.precision,e.eq(Pn))return Pt(c,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=c.s,i){if((r=p<0?-p:p)<=YL){for(a=new d(Pn),t=Math.ceil(n/qt+4),Vt=!1;r%2&&(a=a.times(c),m8(a.d,t)),r=mu(r/2),r!==0;)c=c.times(c),m8(c.d,t);return Vt=!0,e.s<0?new d(Pn).div(a):Pt(a,n)}}else if(o<0)throw Error(oa+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Vt=!1,a=e.times(Tf(c,n+f)),Vt=!0,a=KL(a),a.s=o,a};Le.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=fr(a),n=Qs(a,r<=o.toExpNeg||r>=o.toExpPos)):(no(e,1,hu),t===void 0?t=o.rounding:no(t,0,8),a=Pt(new o(a),e,t),r=fr(a),n=Qs(a,e<=r||r<=o.toExpNeg,e)),n};Le.toSignificantDigits=Le.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(no(e,1,hu),t===void 0?t=n.rounding:no(t,0,8)),Pt(new n(r),e,t)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=fr(e),r=e.constructor;return Qs(e,t<=r.toExpNeg||t>=r.toExpPos)};function GL(e,t){var r,n,a,o,i,c,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Vt?Pt(t,m):t;if(d=e.d,f=t.d,i=e.e,a=t.e,d=d.slice(),o=i-a,o){for(o<0?(n=d,o=-o,c=f.length):(n=f,a=i,c=d.length),i=Math.ceil(m/qt),c=i>c?i+1:c+1,o>c&&(o=c,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(c=d.length,o=f.length,c-o<0&&(o=c,n=f,f=d,d=n),r=0;o;)r=(d[--o]=d[o]+f[o]+r)/jr|0,d[o]%=jr;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=a,Vt?Pt(t,m):t}function no(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ls+e)}function Xa(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=qt-n.length,r&&(o+=Pi(r)),o+=n;i=e[t],n=i+"",r=qt-n.length,r&&(o+=Pi(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var Ho=function(){function e(n,a){var o,i=0,c=n.length;for(n=n.slice();c--;)o=n[c]*a+i,n[c]=o%jr|0,i=o/jr|0;return i&&n.unshift(i),n}function t(n,a,o,i){var c,d;if(o!=i)d=o>i?1:-1;else for(c=d=0;c<o;c++)if(n[c]!=a[c]){d=n[c]>a[c]?1:-1;break}return d}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*jr+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var c,d,f,p,m,g,y,w,S,b,k,C,$,L,T,P,O,N,R=n.constructor,D=n.s==a.s?1:-1,j=n.d,A=a.d;if(!n.s)return new R(n);if(!a.s)throw Error(oa+"Division by zero");for(d=n.e-a.e,O=A.length,T=j.length,y=new R(D),w=y.d=[],f=0;A[f]==(j[f]||0);)++f;if(A[f]>(j[f]||0)&&--d,o==null?C=o=R.precision:i?C=o+(fr(n)-fr(a))+1:C=o,C<0)return new R(0);if(C=C/qt+2|0,f=0,O==1)for(p=0,A=A[0],C++;(f<T||p)&&C--;f++)$=p*jr+(j[f]||0),w[f]=$/A|0,p=$%A|0;else{for(p=jr/(A[0]+1)|0,p>1&&(A=e(A,p),j=e(j,p),O=A.length,T=j.length),L=O,S=j.slice(0,O),b=S.length;b<O;)S[b++]=0;N=A.slice(),N.unshift(0),P=A[0],A[1]>=jr/2&&++P;do p=0,c=t(A,S,O,b),c<0?(k=S[0],O!=b&&(k=k*jr+(S[1]||0)),p=k/P|0,p>1?(p>=jr&&(p=jr-1),m=e(A,p),g=m.length,b=S.length,c=t(m,S,g,b),c==1&&(p--,r(m,O<g?N:A,g))):(p==0&&(c=p=1),m=A.slice()),g=m.length,g<b&&m.unshift(0),r(S,m,b),c==-1&&(b=S.length,c=t(A,S,O,b),c<1&&(p++,r(S,O<b?N:A,b))),b=S.length):c===0&&(p++,S=[0]),w[f++]=p,c&&S[0]?S[b++]=j[L]||0:(S=[j[L]],b=1);while((L++<T||S[0]!==void 0)&&C--)}return w[0]||w.shift(),y.e=d,Pt(y,i?o+fr(y)+1:o)}}();function KL(e,t){var r,n,a,o,i,c,d=0,f=0,p=e.constructor,m=p.precision;if(fr(e)>16)throw Error(U5+fr(e));if(!e.s)return new p(Pn);for(Vt=!1,c=m,i=new p(.03125);e.abs().gte(.1);)e=e.times(i),f+=5;for(n=Math.log(ws(2,f))/Math.LN10*2+5|0,c+=n,r=a=o=new p(Pn),p.precision=c;;){if(a=Pt(a.times(e),c),r=r.times(++d),i=o.plus(Ho(a,r,c)),Xa(i.d).slice(0,c)===Xa(o.d).slice(0,c)){for(;f--;)o=Pt(o.times(o),c);return p.precision=m,t==null?(Vt=!0,Pt(o,m)):o}o=i}}function fr(e){for(var t=e.e*qt,r=e.d[0];r>=10;r/=10)t++;return t}function kS(e,t,r){if(t>e.LN10.sd())throw Vt=!0,r&&(e.precision=r),Error(oa+"LN10 precision limit exceeded");return Pt(new e(e.LN10),t)}function Pi(e){for(var t="";e--;)t+="0";return t}function Tf(e,t){var r,n,a,o,i,c,d,f,p,m=1,g=10,y=e,w=y.d,S=y.constructor,b=S.precision;if(y.s<1)throw Error(oa+(y.s?"NaN":"-Infinity"));if(y.eq(Pn))return new S(0);if(t==null?(Vt=!1,f=b):f=t,y.eq(10))return t==null&&(Vt=!0),kS(S,f);if(f+=g,S.precision=f,r=Xa(w),n=r.charAt(0),o=fr(y),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=Xa(y.d),n=r.charAt(0),m++;o=fr(y),n>1?(y=new S("0."+r),o++):y=new S(n+"."+r.slice(1))}else return d=kS(S,f+2,b).times(o+""),y=Tf(new S(n+"."+r.slice(1)),f-g).plus(d),S.precision=b,t==null?(Vt=!0,Pt(y,b)):y;for(c=i=y=Ho(y.minus(Pn),y.plus(Pn),f),p=Pt(y.times(y),f),a=3;;){if(i=Pt(i.times(p),f),d=c.plus(Ho(i,new S(a),f)),Xa(d.d).slice(0,f)===Xa(c.d).slice(0,f))return c=c.times(2),o!==0&&(c=c.plus(kS(S,f+2,b).times(o+""))),c=Ho(c,new S(m),f),S.precision=b,t==null?(Vt=!0,Pt(c,b)):c;c=d,a+=2}}function h8(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=mu(r/qt),e.d=[],n=(r+1)%qt,r<0&&(n+=qt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=qt;n<a;)e.d.push(+t.slice(n,n+=qt));t=t.slice(n),n=qt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Vt&&(e.e>gy||e.e<-gy))throw Error(U5+r)}else e.s=0,e.e=0,e.d=[0];return e}function Pt(e,t,r){var n,a,o,i,c,d,f,p,m=e.d;for(i=1,o=m[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=qt,a=t,f=m[p=0];else{if(p=Math.ceil((n+1)/qt),o=m.length,p>=o)return e;for(f=o=m[p],i=1;o>=10;o/=10)i++;n%=qt,a=n-qt+i}if(r!==void 0&&(o=ws(10,i-a-1),c=f/o%10|0,d=t<0||m[p+1]!==void 0||f%o,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?a>0?f/ws(10,i-a):0:m[p-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(o=fr(e),m.length=1,t=t-o-1,m[0]=ws(10,(qt-t%qt)%qt),e.e=mu(-t/qt)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=p,o=1,p--):(m.length=p+1,o=ws(10,qt-n),m[p]=a>0?(f/ws(10,i-a)%ws(10,a)|0)*o:0),d)for(;;)if(p==0){(m[0]+=o)==jr&&(m[0]=1,++e.e);break}else{if(m[p]+=o,m[p]!=jr)break;m[p--]=0,o=1}for(n=m.length;m[--n]===0;)m.pop();if(Vt&&(e.e>gy||e.e<-gy))throw Error(U5+fr(e));return e}function QL(e,t){var r,n,a,o,i,c,d,f,p,m,g=e.constructor,y=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Vt?Pt(t,y):t;if(d=e.d,m=t.d,n=t.e,f=e.e,d=d.slice(),i=f-n,i){for(p=i<0,p?(r=d,i=-i,c=m.length):(r=m,n=f,c=d.length),a=Math.max(Math.ceil(y/qt),c)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=m.length,p=a<c,p&&(c=a),a=0;a<c;a++)if(d[a]!=m[a]){p=d[a]<m[a];break}i=0}for(p&&(r=d,d=m,m=r,t.s=-t.s),c=d.length,a=m.length-c;a>0;--a)d[c++]=0;for(a=m.length;a>i;){if(d[--a]<m[a]){for(o=a;o&&d[--o]===0;)d[o]=jr-1;--d[o],d[a]+=jr}d[a]-=m[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Vt?Pt(t,y):t):new g(0)}function Qs(e,t,r){var n,a=fr(e),o=Xa(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+Pi(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Pi(-a-1)+o,r&&(n=r-i)>0&&(o+=Pi(n))):a>=i?(o+=Pi(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+Pi(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=Pi(n))),e.s<0?"-"+o:o}function m8(e,t){if(e.length>t)return e.length=t,!0}function XL(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ls+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return h8(i,o.toString())}else if(typeof o!="string")throw Error(Ls+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,xge.test(o))h8(i,o);else throw Error(Ls+o)}if(a.prototype=Le,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=XL,a.config=a.set=bge,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function bge(e){if(!e||typeof e!="object")throw Error(oa+"Object expected");var t,r,n,a=["precision",1,hu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(mu(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ls+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ls+r+": "+n);return this}var V5=XL(vge);Pn=new V5(1);const At=V5;function wge(e){return Cge(e)||jge(e)||Ege(e)||Sge()}function Sge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ege(e,t){if(e){if(typeof e=="string")return lj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lj(e,t)}}function jge(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Cge(e){if(Array.isArray(e))return lj(e)}function lj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $ge=function(t){return t},JL={},ZL=function(t){return t===JL},g8=function(t){return function r(){return arguments.length===0||arguments.length===1&&ZL(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Tge=function e(t,r){return t===1?r:g8(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(c){return c!==JL}).length;return i>=t?r.apply(void 0,a):e(t-i,g8(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var p=a.map(function(m){return ZL(m)?d.shift():m});return r.apply(void 0,wge(p).concat(d))}))})},Uv=function(t){return Tge(t.length,t)},cj=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},kge=Uv(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Age=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return $ge;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(c,d){return d(c)},o.apply(void 0,arguments))}},uj=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},eB=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(c,d){return c===r[d]})||(r=o,n=t.apply(void 0,o)),n}};function Oge(e){var t;return e===0?t=1:t=Math.floor(new At(e).abs().log(10).toNumber())+1,t}function Pge(e,t,r){for(var n=new At(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var _ge=Uv(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Dge=Uv(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Mge=Uv(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Vv={rangeStep:Pge,getDigitCount:Oge,interpolateNumber:_ge,uninterpolateNumber:Dge,uninterpolateTruncation:Mge};function dj(e){return Nge(e)||Ige(e)||tB(e)||Rge()}function Rge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ige(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Nge(e){if(Array.isArray(e))return fj(e)}function kf(e,t){return zge(e)||Bge(e,t)||tB(e,t)||Lge()}function Lge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tB(e,t){if(e){if(typeof e=="string")return fj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fj(e,t)}}function fj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bge(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),c;!(n=(c=i.next()).done)&&(r.push(c.value),!(t&&r.length===t));n=!0);}catch(d){a=!0,o=d}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function zge(e){if(Array.isArray(e))return e}function rB(e){var t=kf(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function nB(e,t,r){if(e.lte(0))return new At(0);var n=Vv.getDigitCount(e.toNumber()),a=new At(10).pow(n),o=e.div(a),i=n!==1?.05:.1,c=new At(Math.ceil(o.div(i).toNumber())).add(r).mul(i),d=c.mul(a);return t?d:new At(Math.ceil(d))}function Fge(e,t,r){var n=1,a=new At(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new At(10).pow(Vv.getDigitCount(e)-1),a=new At(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new At(Math.floor(e)))}else e===0?a=new At(Math.floor((t-1)/2)):r||(a=new At(Math.floor(e)));var i=Math.floor((t-1)/2),c=Age(kge(function(d){return a.add(new At(d-i).mul(n)).toNumber()}),cj);return c(0,t)}function aB(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new At(0),tickMin:new At(0),tickMax:new At(0)};var o=nB(new At(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new At(0):(i=new At(e).add(t).div(2),i=i.sub(new At(i).mod(o)));var c=Math.ceil(i.sub(e).div(o).toNumber()),d=Math.ceil(new At(t).sub(i).div(o).toNumber()),f=c+d+1;return f>r?aB(e,t,r,n,a+1):(f<r&&(d=t>0?d+(r-f):d,c=t>0?c:c+(r-f)),{step:o,tickMin:i.sub(new At(c).mul(o)),tickMax:i.add(new At(d).mul(o))})}function qge(e){var t=kf(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),c=rB([r,n]),d=kf(c,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var m=p===1/0?[f].concat(dj(cj(0,a-1).map(function(){return 1/0}))):[].concat(dj(cj(0,a-1).map(function(){return-1/0})),[p]);return r>n?uj(m):m}if(f===p)return Fge(f,a,o);var g=aB(f,p,i,o),y=g.step,w=g.tickMin,S=g.tickMax,b=Vv.rangeStep(w,S.add(new At(.1).mul(y)),y);return r>n?uj(b):b}function Hge(e,t){var r=kf(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=rB([n,a]),c=kf(i,2),d=c[0],f=c[1];if(d===-1/0||f===1/0)return[n,a];if(d===f)return[d];var p=Math.max(t,2),m=nB(new At(f).sub(d).div(p-1),o,0),g=[].concat(dj(Vv.rangeStep(new At(d),new At(f).sub(new At(.99).mul(m)),m)),[f]);return n>a?uj(g):g}var Uge=eB(qge),Vge=eB(Hge),Wge="Invariant failed";function Xs(e,t){throw new Error(Wge)}var Yge=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(this,arguments)}function Gge(e,t){return Jge(e)||Xge(e,t)||Qge(e,t)||Kge()}function Kge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qge(e,t){if(e){if(typeof e=="string")return y8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y8(e,t)}}function y8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,c=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(f)throw a}}return c}}function Jge(e){if(Array.isArray(e))return e}function Zge(e,t){if(e==null)return{};var r=eye(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sB(n.key),n)}}function nye(e,t,r){return t&&rye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aye(e,t,r){return t=vy(t),oye(e,oB()?Reflect.construct(t,r||[],vy(e).constructor):t.apply(e,r))}function oye(e,t){if(t&&(Ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iye(e)}function iye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oB=function(){return!!e})()}function vy(e){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vy(e)}function sye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pj(e,t)}function pj(e,t){return pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pj(e,t)}function iB(e,t,r){return t=sB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sB(e){var t=lye(e,"string");return Ic(t)=="symbol"?t:t+""}function lye(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xp=function(e){function t(){return tye(this,t),aye(this,t,arguments)}return sye(t,e),nye(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,c=n.dataKey,d=n.data,f=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,g=Zge(n,Yge),y=Qe(g,!1);this.props.direction==="x"&&p.type!=="number"&&Xs();var w=d.map(function(S){var b=f(S,c),k=b.x,C=b.y,$=b.value,L=b.errorVal;if(!L)return null;var T=[],P,O;if(Array.isArray(L)){var N=Gge(L,2);P=N[0],O=N[1]}else P=O=L;if(o==="vertical"){var R=p.scale,D=C+a,j=D+i,A=D-i,I=R($-P),B=R($+O);T.push({x1:B,y1:j,x2:B,y2:A}),T.push({x1:I,y1:D,x2:B,y2:D}),T.push({x1:I,y1:j,x2:I,y2:A})}else if(o==="horizontal"){var F=m.scale,U=k+a,Y=U-i,W=U+i,Q=F($-P),Z=F($+O);T.push({x1:Y,y1:Z,x2:W,y2:Z}),T.push({x1:U,y1:Q,x2:U,y2:Z}),T.push({x1:Y,y1:Q,x2:W,y2:Q})}return H.createElement(gt,yy({className:"recharts-errorBar",key:"bar-".concat(T.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},y),T.map(function(V){return H.createElement("line",yy({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return H.createElement(gt,{className:"recharts-errorBars"},w)}}])}(H.Component);iB(xp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});iB(xp,"displayName","ErrorBar");function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function v8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v8(Object(r),!0).forEach(function(n){cye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cye(e,t,r){return t=uye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uye(e){var t=dye(e,"string");return Af(t)=="symbol"?t:t+""}function dye(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lB=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=kn(r,Fi);if(!i)return null;var c=Fi.defaultProps,d=c!==void 0?gs(gs({},c),i.props):{},f;return i.props&&i.props.payload?f=i.props&&i.props.payload:o==="children"?f=(n||[]).reduce(function(p,m){var g=m.item,y=m.props,w=y.sectors||y.data||[];return p.concat(w.map(function(S){return{type:i.props.iconType||g.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):f=(n||[]).map(function(p){var m=p.item,g=m.type.defaultProps,y=g!==void 0?gs(gs({},g),m.props):{},w=y.dataKey,S=y.name,b=y.legendType,k=y.hide;return{inactive:k,dataKey:w,type:d.iconType||b||"square",color:W5(m),value:S||w,payload:y}}),gs(gs(gs({},d),Fi.getWithHeight(i,a)),{},{payload:f,item:i})};function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function x8(e){return mye(e)||hye(e)||pye(e)||fye()}function fye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pye(e,t){if(e){if(typeof e=="string")return hj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hj(e,t)}}function hye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mye(e){if(Array.isArray(e))return hj(e)}function hj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b8(Object(r),!0).forEach(function(n){hc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hc(e,t,r){return t=gye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gye(e){var t=yye(e,"string");return Of(t)=="symbol"?t:t+""}function yye(e,t){if(Of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gr(e,t,r){return rt(e)||rt(t)?r:yr(t)?Mn(e,t,r):tt(t)?t(e):r}function ef(e,t,r,n){var a=mge(e,function(c){return gr(c,t)});if(r==="number"){var o=a.filter(function(c){return Oe(c)||parseFloat(c)});return o.length?[Hv(o),qv(o)]:[1/0,-1/0]}var i=n?a.filter(function(c){return!rt(c)}):a;return i.map(function(c){return yr(c)||c instanceof Date?c:""})}var vye=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,c=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,f=0;f<c;f++){var p=f>0?a[f-1].coordinate:a[c-1].coordinate,m=a[f].coordinate,g=f>=c-1?a[0].coordinate:a[f+1].coordinate,y=void 0;if(tn(m-p)!==tn(g-m)){var w=[];if(tn(g-m)===tn(d[1]-d[0])){y=g;var S=m+d[1]-d[0];w[0]=Math.min(S,(S+p)/2),w[1]=Math.max(S,(S+p)/2)}else{y=p;var b=g+d[1]-d[0];w[0]=Math.min(m,(b+m)/2),w[1]=Math.max(m,(b+m)/2)}var k=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(t>k[0]&&t<=k[1]||t>=w[0]&&t<=w[1]){i=a[f].index;break}}else{var C=Math.min(p,g),$=Math.max(p,g);if(t>(C+m)/2&&t<=($+m)/2){i=a[f].index;break}}}else for(var L=0;L<c;L++)if(L===0&&t<=(n[L].coordinate+n[L+1].coordinate)/2||L>0&&L<c-1&&t>(n[L].coordinate+n[L-1].coordinate)/2&&t<=(n[L].coordinate+n[L+1].coordinate)/2||L===c-1&&t>(n[L].coordinate+n[L-1].coordinate)/2){i=n[L].index;break}return i},W5=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,i=o.stroke,c=o.fill,d;switch(a){case"Line":d=i;break;case"Area":case"Radar":d=i&&i!=="none"?i:c;break;default:d=c;break}return d},xye=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},c=Object.keys(o),d=0,f=c.length;d<f;d++)for(var p=o[c[d]].stackGroups,m=Object.keys(p),g=0,y=m.length;g<y;g++){var w=p[m[g]],S=w.items,b=w.cateAxisId,k=S.filter(function(O){return qo(O.type).indexOf("Bar")>=0});if(k&&k.length){var C=k[0].type.defaultProps,$=C!==void 0?Jt(Jt({},C),k[0].props):k[0].props,L=$.barSize,T=$[b];i[T]||(i[T]=[]);var P=rt(L)?r:L;i[T].push({item:k[0],stackList:k.slice(1),barSize:rt(P)?void 0:rn(P,n,0)})}}return i},bye=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,c=t.maxBarSize,d=i.length;if(d<1)return null;var f=rn(r,a,0,!0),p,m=[];if(i[0].barSize===+i[0].barSize){var g=!1,y=a/d,w=i.reduce(function(L,T){return L+T.barSize||0},0);w+=(d-1)*f,w>=a&&(w-=(d-1)*f,f=0),w>=a&&y>0&&(g=!0,y*=.9,w=d*y);var S=(a-w)/2>>0,b={offset:S-f,size:0};p=i.reduce(function(L,T){var P={item:T.item,position:{offset:b.offset+b.size+f,size:g?y:T.barSize}},O=[].concat(x8(L),[P]);return b=O[O.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(N){O.push({item:N,position:b})}),O},m)}else{var k=rn(n,a,0,!0);a-2*k-(d-1)*f<=0&&(f=0);var C=(a-2*k-(d-1)*f)/d;C>1&&(C>>=0);var $=c===+c?Math.min(C,c):C;p=i.reduce(function(L,T,P){var O=[].concat(x8(L),[{item:T.item,position:{offset:k+(C+f)*P+(C-$)/2,size:$}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(N){O.push({item:N,position:O[O.length-1].position})}),O},m)}return p},wye=function(t,r,n,a){var o=n.children,i=n.width,c=n.margin,d=i-(c.left||0)-(c.right||0),f=lB({children:o,legendWidth:d});if(f){var p=a||{},m=p.width,g=p.height,y=f.align,w=f.verticalAlign,S=f.layout;if((S==="vertical"||S==="horizontal"&&w==="middle")&&y!=="center"&&Oe(t[y]))return Jt(Jt({},t),{},hc({},y,t[y]+(m||0)));if((S==="horizontal"||S==="vertical"&&y==="center")&&w!=="middle"&&Oe(t[w]))return Jt(Jt({},t),{},hc({},w,t[w]+(g||0)))}return t},Sye=function(t,r,n){return rt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},cB=function(t,r,n,a,o){var i=r.props.children,c=Rn(i,xp).filter(function(f){return Sye(a,o,f.props.direction)});if(c&&c.length){var d=c.map(function(f){return f.props.dataKey});return t.reduce(function(f,p){var m=gr(p,n);if(rt(m))return f;var g=Array.isArray(m)?[Hv(m),qv(m)]:[m,m],y=d.reduce(function(w,S){var b=gr(p,S,0),k=g[0]-Math.abs(Array.isArray(b)?b[0]:b),C=g[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(k,w[0]),Math.max(C,w[1])]},[1/0,-1/0]);return[Math.min(y[0],f[0]),Math.max(y[1],f[1])]},[1/0,-1/0])}return null},Eye=function(t,r,n,a,o){var i=r.map(function(c){return cB(t,c,n,o,a)}).filter(function(c){return!rt(c)});return i&&i.length?i.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},uB=function(t,r,n,a,o){var i=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&cB(t,d,f,a)||ef(t,f,n,o)});if(n==="number")return i.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var c={};return i.reduce(function(d,f){for(var p=0,m=f.length;p<m;p++)c[f[p]]||(c[f[p]]=!0,d.push(f[p]));return d},[])},dB=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},fB=function(t,r,n,a){if(a)return t.map(function(d){return d.coordinate});var o,i,c=t.map(function(d){return d.coordinate===r&&(o=!0),d.coordinate===n&&(i=!0),d.coordinate});return o||c.push(r),i||c.push(n),c},Do=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,c=t.range,d=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,f=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?tn(c[0]-c[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(m){var g=o?o.indexOf(m):m;return{coordinate:a(g)+f,value:m,offset:f}});return p.filter(function(m){return!fp(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,g){return{coordinate:a(m)+f,value:m,index:g,offset:f}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(m){return{coordinate:a(m)+f,value:m,offset:f}}):a.domain().map(function(m,g){return{coordinate:a(m)+f,value:o?o[m]:m,index:g,offset:f}})},AS=new WeakMap,Im=function(t,r){if(typeof r!="function")return t;AS.has(t)||AS.set(t,new WeakMap);var n=AS.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},pB=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,c=t.axisType;if(a==="auto")return i==="radial"&&c==="radiusAxis"?{scale:Sf(),realScaleType:"band"}:i==="radial"&&c==="angleAxis"?{scale:fy(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Zd(),realScaleType:"point"}:o==="category"?{scale:Sf(),realScaleType:"band"}:{scale:fy(),realScaleType:"linear"};if(dp(a)){var d="scale".concat(Tv(a));return{scale:(o8[d]||Zd)(),realScaleType:o8[d]?d:"point"}}return tt(a)?{scale:a}:{scale:Zd(),realScaleType:"point"}},w8=1e-4,hB=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-w8,i=Math.max(a[0],a[1])+w8,c=t(r[0]),d=t(r[n-1]);(c<o||c>i||d<o||d>i)&&t.domain([r[0],r[n-1]])}},jye=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Cye=function(t,r){if(!r||r.length!==2||!Oe(r[0])||!Oe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!Oe(t[0])||t[0]<n)&&(o[0]=n),(!Oe(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},$ye=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,c=0;c<r;++c){var d=fp(t[c][n][1])?t[c][n][0]:t[c][n][1];d>=0?(t[c][n][0]=o,t[c][n][1]=o+d,o=t[c][n][1]):(t[c][n][0]=i,t[c][n][1]=i+d,i=t[c][n][1])}},Tye=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var c=fp(t[i][n][1])?t[i][n][0]:t[i][n][1];c>=0?(t[i][n][0]=o,t[i][n][1]=o+c,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},kye={sign:$ye,expand:mue,none:kc,silhouette:gue,wiggle:yue,positive:Tye},Aye=function(t,r,n){var a=r.map(function(c){return c.props.dataKey}),o=kye[n],i=hue().keys(a).value(function(c,d){return+gr(c,d,0)}).order(UE).offset(o);return i(t)},Oye=function(t,r,n,a,o,i){if(!t)return null;var c=i?r.reverse():r,d={},f=c.reduce(function(m,g){var y,w=(y=g.type)!==null&&y!==void 0&&y.defaultProps?Jt(Jt({},g.type.defaultProps),g.props):g.props,S=w.stackId,b=w.hide;if(b)return m;var k=w[n],C=m[k]||{hasStack:!1,stackGroups:{}};if(yr(S)){var $=C.stackGroups[S]||{numericAxisId:n,cateAxisId:a,items:[]};$.items.push(g),C.hasStack=!0,C.stackGroups[S]=$}else C.stackGroups[du("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[g]};return Jt(Jt({},m),{},hc({},k,C))},d),p={};return Object.keys(f).reduce(function(m,g){var y=f[g];if(y.hasStack){var w={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(S,b){var k=y.stackGroups[b];return Jt(Jt({},S),{},hc({},b,{numericAxisId:n,cateAxisId:a,items:k.items,stackedData:Aye(t,k.items,o)}))},w)}return Jt(Jt({},m),{},hc({},g,y))},p)},mB=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,c=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var f=t.domain();if(!f.length)return null;var p=Uge(f,o,c);return t.domain([Hv(p),qv(p)]),{niceTicks:p}}if(o&&a==="number"){var m=t.domain(),g=Vge(m,o,c);return{niceTicks:g}}return null};function S8(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!rt(a[t.dataKey])){var c=Gg(r,"value",a[t.dataKey]);if(c)return c.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var d=gr(a,rt(i)?t.dataKey:i);return rt(d)?null:t.scale(d)}var E8=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,c=t.index;if(r.type==="category")return n[c]?n[c].coordinate+a:null;var d=gr(i,r.dataKey,r.domain[c]);return rt(d)?null:r.scale(d)-o/2+a},Pye=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},_ye=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(yr(o)){var i=r[o];if(i){var c=i.items.indexOf(t);return c>=0?i.stackedData[c]:null}}return null},Dye=function(t){return t.reduce(function(r,n){return[Hv(n.concat([r[0]]).filter(Oe)),qv(n.concat([r[1]]).filter(Oe))]},[1/0,-1/0])},gB=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],c=i.stackedData,d=c.reduce(function(f,p){var m=Dye(p.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},j8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,C8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mj=function(t,r,n){if(tt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Oe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(j8.test(t[0])){var o=+j8.exec(t[0])[1];a[0]=r[0]-o}else tt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Oe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(C8.test(t[1])){var i=+C8.exec(t[1])[1];a[1]=r[1]+i}else tt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},xy=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=b5(r,function(m){return m.coordinate}),i=1/0,c=1,d=o.length;c<d;c++){var f=o[c],p=o[c-1];i=Math.min((f.coordinate||0)-(p.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},$8=function(t,r,n){return!t||!t.length||vp(t,Mn(n,"type.defaultProps.domain"))?r:t},yB=function(t,r){var n=t.type.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,c=n.formatter,d=n.tooltipType,f=n.chartType,p=n.hide;return Jt(Jt({},Qe(t,!1)),{},{dataKey:a,unit:i,formatter:c,name:o||a,color:W5(t),value:gr(r,a),type:d,payload:r,chartType:f,hide:p})};function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function T8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(r),!0).forEach(function(n){vB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vB(e,t,r){return t=Mye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mye(e){var t=Rye(e,"string");return Pf(t)=="symbol"?t:t+""}function Rye(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iye(e,t){return zye(e)||Bye(e,t)||Lye(e,t)||Nye()}function Nye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lye(e,t){if(e){if(typeof e=="string")return k8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k8(e,t)}}function k8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,c=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(f)throw a}}return c}}function zye(e){if(Array.isArray(e))return e}var by=Math.PI/180,Fye=function(t){return t*180/Math.PI},Rt=function(t,r,n,a){return{x:t+Math.cos(-by*a)*n,y:r+Math.sin(-by*a)*n}},xB=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},qye=function(t,r,n,a,o){var i=t.width,c=t.height,d=t.startAngle,f=t.endAngle,p=rn(t.cx,i,i/2),m=rn(t.cy,c,c/2),g=xB(i,c,n),y=rn(t.innerRadius,g,0),w=rn(t.outerRadius,g,g*.8),S=Object.keys(r);return S.reduce(function(b,k){var C=r[k],$=C.domain,L=C.reversed,T;if(rt(C.range))a==="angleAxis"?T=[d,f]:a==="radiusAxis"&&(T=[y,w]),L&&(T=[T[1],T[0]]);else{T=C.range;var P=T,O=Iye(P,2);d=O[0],f=O[1]}var N=pB(C,o),R=N.realScaleType,D=N.scale;D.domain($).range(T),hB(D);var j=mB(D,Ao(Ao({},C),{},{realScaleType:R})),A=Ao(Ao(Ao({},C),j),{},{range:T,radius:w,realScaleType:R,scale:D,cx:p,cy:m,innerRadius:y,outerRadius:w,startAngle:d,endAngle:f});return Ao(Ao({},b),{},vB({},k,A))},{})},Hye=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},Uye=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,c=Hye({x:n,y:a},{x:o,y:i});if(c<=0)return{radius:c};var d=(n-o)/c,f=Math.acos(d);return a>i&&(f=2*Math.PI-f),{radius:c,angle:Fye(f),angleInRadian:f}},Vye=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},Wye=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),c=Math.min(o,i);return t+c*360},A8=function(t,r){var n=t.x,a=t.y,o=Uye({x:n,y:a},r),i=o.radius,c=o.angle,d=r.innerRadius,f=r.outerRadius;if(i<d||i>f)return!1;if(i===0)return!0;var p=Vye(r),m=p.startAngle,g=p.endAngle,y=c,w;if(m<=g){for(;y>g;)y-=360;for(;y<m;)y+=360;w=y>=m&&y<=g}else{for(;y>m;)y-=360;for(;y<g;)y+=360;w=y>=g&&y<=m}return w?Ao(Ao({},r),{},{radius:i,angle:Wye(y,r)}):null},bB=function(t){return!_.isValidElement(t)&&!tt(t)&&typeof t!="boolean"?t.className:""};function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}var Yye=["offset"];function Gye(e){return Jye(e)||Xye(e)||Qye(e)||Kye()}function Kye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qye(e,t){if(e){if(typeof e=="string")return gj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gj(e,t)}}function Xye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jye(e){if(Array.isArray(e))return gj(e)}function gj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zye(e,t){if(e==null)return{};var r=eve(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function O8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(r),!0).forEach(function(n){tve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tve(e,t,r){return t=rve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rve(e){var t=nve(e,"string");return _f(t)=="symbol"?t:t+""}function nve(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Df.apply(this,arguments)}var ave=function(t){var r=t.value,n=t.formatter,a=rt(t.children)?r:t.children;return tt(n)?n(a):a},ove=function(t,r){var n=tn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},ive=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,c=t.className,d=o,f=d.cx,p=d.cy,m=d.innerRadius,g=d.outerRadius,y=d.startAngle,w=d.endAngle,S=d.clockWise,b=(m+g)/2,k=ove(y,w),C=k>=0?1:-1,$,L;a==="insideStart"?($=y+C*i,L=S):a==="insideEnd"?($=w-C*i,L=!S):a==="end"&&($=w+C*i,L=S),L=k<=0?L:!L;var T=Rt(f,p,b,$),P=Rt(f,p,b,$+(L?1:-1)*359),O="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(L?0:1,`,
    `).concat(P.x,",").concat(P.y),N=rt(t.id)?du("recharts-radial-line-"):t.id;return H.createElement("text",Df({},n,{dominantBaseline:"central",className:Ue("recharts-radial-bar-label",c)}),H.createElement("defs",null,H.createElement("path",{id:N,d:O})),H.createElement("textPath",{xlinkHref:"#".concat(N)},r))},sve=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,c=o.cy,d=o.innerRadius,f=o.outerRadius,p=o.startAngle,m=o.endAngle,g=(p+m)/2;if(a==="outside"){var y=Rt(i,c,f+n,g),w=y.x,S=y.y;return{x:w,y:S,textAnchor:w>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:c,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:c,textAnchor:"middle",verticalAnchor:"end"};var b=(d+f)/2,k=Rt(i,c,b,g),C=k.x,$=k.y;return{x:C,y:$,textAnchor:"middle",verticalAnchor:"middle"}},lve=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,c=i.x,d=i.y,f=i.width,p=i.height,m=p>=0?1:-1,g=m*a,y=m>0?"end":"start",w=m>0?"start":"end",S=f>=0?1:-1,b=S*a,k=S>0?"end":"start",C=S>0?"start":"end";if(o==="top"){var $={x:c+f/2,y:d-m*a,textAnchor:"middle",verticalAnchor:y};return mr(mr({},$),n?{height:Math.max(d-n.y,0),width:f}:{})}if(o==="bottom"){var L={x:c+f/2,y:d+p+g,textAnchor:"middle",verticalAnchor:w};return mr(mr({},L),n?{height:Math.max(n.y+n.height-(d+p),0),width:f}:{})}if(o==="left"){var T={x:c-b,y:d+p/2,textAnchor:k,verticalAnchor:"middle"};return mr(mr({},T),n?{width:Math.max(T.x-n.x,0),height:p}:{})}if(o==="right"){var P={x:c+f+b,y:d+p/2,textAnchor:C,verticalAnchor:"middle"};return mr(mr({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:p}:{})}var O=n?{width:f,height:p}:{};return o==="insideLeft"?mr({x:c+b,y:d+p/2,textAnchor:C,verticalAnchor:"middle"},O):o==="insideRight"?mr({x:c+f-b,y:d+p/2,textAnchor:k,verticalAnchor:"middle"},O):o==="insideTop"?mr({x:c+f/2,y:d+g,textAnchor:"middle",verticalAnchor:w},O):o==="insideBottom"?mr({x:c+f/2,y:d+p-g,textAnchor:"middle",verticalAnchor:y},O):o==="insideTopLeft"?mr({x:c+b,y:d+g,textAnchor:C,verticalAnchor:w},O):o==="insideTopRight"?mr({x:c+f-b,y:d+g,textAnchor:k,verticalAnchor:w},O):o==="insideBottomLeft"?mr({x:c+b,y:d+p-g,textAnchor:C,verticalAnchor:y},O):o==="insideBottomRight"?mr({x:c+f-b,y:d+p-g,textAnchor:k,verticalAnchor:y},O):uu(o)&&(Oe(o.x)||Cs(o.x))&&(Oe(o.y)||Cs(o.y))?mr({x:c+rn(o.x,f),y:d+rn(o.y,p),textAnchor:"end",verticalAnchor:"end"},O):mr({x:c+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},O)},cve=function(t){return"cx"in t&&Oe(t.cx)};function $r(e){var t=e.offset,r=t===void 0?5:t,n=Zye(e,Yye),a=mr({offset:r},n),o=a.viewBox,i=a.position,c=a.value,d=a.children,f=a.content,p=a.className,m=p===void 0?"":p,g=a.textBreakAll;if(!o||rt(c)&&rt(d)&&!_.isValidElement(f)&&!tt(f))return null;if(_.isValidElement(f))return _.cloneElement(f,a);var y;if(tt(f)){if(y=_.createElement(f,a),_.isValidElement(y))return y}else y=ave(a);var w=cve(o),S=Qe(a,!0);if(w&&(i==="insideStart"||i==="insideEnd"||i==="end"))return ive(a,y,S);var b=w?sve(a):lve(a);return H.createElement(Ks,Df({className:Ue("recharts-label",m)},S,b,{breakAll:g}),y)}$r.displayName="Label";var wB=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,c=t.r,d=t.radius,f=t.innerRadius,p=t.outerRadius,m=t.x,g=t.y,y=t.top,w=t.left,S=t.width,b=t.height,k=t.clockWise,C=t.labelViewBox;if(C)return C;if(Oe(S)&&Oe(b)){if(Oe(m)&&Oe(g))return{x:m,y:g,width:S,height:b};if(Oe(y)&&Oe(w))return{x:y,y:w,width:S,height:b}}return Oe(m)&&Oe(g)?{x:m,y:g,width:0,height:0}:Oe(r)&&Oe(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:f||0,outerRadius:p||d||c||0,clockWise:k}:t.viewBox?t.viewBox:{}},uve=function(t,r){return t?t===!0?H.createElement($r,{key:"label-implicit",viewBox:r}):yr(t)?H.createElement($r,{key:"label-implicit",viewBox:r,value:t}):_.isValidElement(t)?t.type===$r?_.cloneElement(t,{key:"label-implicit",viewBox:r}):H.createElement($r,{key:"label-implicit",content:t,viewBox:r}):tt(t)?H.createElement($r,{key:"label-implicit",content:t,viewBox:r}):uu(t)?H.createElement($r,Df({viewBox:r},t,{key:"label-implicit"})):null:null},dve=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=wB(t),i=Rn(a,$r).map(function(d,f){return _.cloneElement(d,{viewBox:r||o,key:"label-".concat(f)})});if(!n)return i;var c=uve(t.label,r||o);return[c].concat(Gye(i))};$r.parseViewBox=wB;$r.renderCallByParent=dve;var OS,P8;function fve(){if(P8)return OS;P8=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return OS=e,OS}var pve=fve();const hve=dt(pve);function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}var mve=["valueAccessor"],gve=["data","dataKey","clockWise","id","textBreakAll"];function yve(e){return wve(e)||bve(e)||xve(e)||vve()}function vve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xve(e,t){if(e){if(typeof e=="string")return yj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yj(e,t)}}function bve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wve(e){if(Array.isArray(e))return yj(e)}function yj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(this,arguments)}function _8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(r),!0).forEach(function(n){Sve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sve(e,t,r){return t=Eve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eve(e){var t=jve(e,"string");return Mf(t)=="symbol"?t:t+""}function jve(e,t){if(Mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M8(e,t){if(e==null)return{};var r=Cve(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $ve=function(t){return Array.isArray(t.value)?hve(t.value):t.value};function Uo(e){var t=e.valueAccessor,r=t===void 0?$ve:t,n=M8(e,mve),a=n.data,o=n.dataKey,i=n.clockWise,c=n.id,d=n.textBreakAll,f=M8(n,gve);return!a||!a.length?null:H.createElement(gt,{className:"recharts-label-list"},a.map(function(p,m){var g=rt(o)?r(p,m):gr(p&&p.payload,o),y=rt(c)?{}:{id:"".concat(c,"-").concat(m)};return H.createElement($r,wy({},Qe(p,!0),f,y,{parentViewBox:p.parentViewBox,value:g,textBreakAll:d,viewBox:$r.parseViewBox(rt(i)?p:D8(D8({},p),{},{clockWise:i})),key:"label-".concat(m),index:m}))}))}Uo.displayName="LabelList";function Tve(e,t){return e?e===!0?H.createElement(Uo,{key:"labelList-implicit",data:t}):H.isValidElement(e)||tt(e)?H.createElement(Uo,{key:"labelList-implicit",data:t,content:e}):uu(e)?H.createElement(Uo,wy({data:t},e,{key:"labelList-implicit"})):null:null}function kve(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Rn(n,Uo).map(function(i,c){return _.cloneElement(i,{data:t,key:"labelList-".concat(c)})});if(!r)return a;var o=Tve(e.label,t);return[o].concat(yve(a))}Uo.renderCallByParent=kve;function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function vj(){return vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vj.apply(this,arguments)}function R8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(r),!0).forEach(function(n){Ave(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ave(e,t,r){return t=Ove(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ove(e){var t=Pve(e,"string");return Rf(t)=="symbol"?t:t+""}function Pve(e,t){if(Rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _ve=function(t,r){var n=tn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Nm=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,c=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,p=d*(c?1:-1)+a,m=Math.asin(d/p)/by,g=f?o:o+i*m,y=Rt(r,n,p,g),w=Rt(r,n,a,g),S=f?o-i*m:o,b=Rt(r,n,p*Math.cos(m*by),S);return{center:y,circleTangency:w,lineTangency:b,theta:m}},SB=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,c=t.endAngle,d=_ve(i,c),f=i+d,p=Rt(r,n,o,i),m=Rt(r,n,o,f),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(i>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var y=Rt(r,n,a,i),w=Rt(r,n,a,f);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(i<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},Dve=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,c=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,p=t.endAngle,m=tn(p-f),g=Nm({cx:r,cy:n,radius:o,angle:f,sign:m,cornerRadius:i,cornerIsExternal:d}),y=g.circleTangency,w=g.lineTangency,S=g.theta,b=Nm({cx:r,cy:n,radius:o,angle:p,sign:-m,cornerRadius:i,cornerIsExternal:d}),k=b.circleTangency,C=b.lineTangency,$=b.theta,L=d?Math.abs(f-p):Math.abs(f-p)-S-$;if(L<0)return c?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):SB({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:f,endAngle:p});var T="M ".concat(w.x,",").concat(w.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(L>180),",").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
  `);if(a>0){var P=Nm({cx:r,cy:n,radius:a,angle:f,sign:m,isExternal:!0,cornerRadius:i,cornerIsExternal:d}),O=P.circleTangency,N=P.lineTangency,R=P.theta,D=Nm({cx:r,cy:n,radius:a,angle:p,sign:-m,isExternal:!0,cornerRadius:i,cornerIsExternal:d}),j=D.circleTangency,A=D.lineTangency,I=D.theta,B=d?Math.abs(f-p):Math.abs(f-p)-R-I;if(B<0&&i===0)return"".concat(T,"L").concat(r,",").concat(n,"Z");T+="L".concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(B>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(N.x,",").concat(N.y,"Z")}else T+="L".concat(r,",").concat(n,"Z");return T},Mve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EB=function(t){var r=I8(I8({},Mve),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,c=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,g=r.className;if(i<o||p===m)return null;var y=Ue("recharts-sector",g),w=i-o,S=rn(c,w,0,!0),b;return S>0&&Math.abs(p-m)<360?b=Dve({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(S,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:m}):b=SB({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:p,endAngle:m}),H.createElement("path",vj({},Qe(r,!0),{className:y,d:b,role:"img"}))};function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function xj(){return xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xj.apply(this,arguments)}function N8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(r),!0).forEach(function(n){Rve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rve(e,t,r){return t=Ive(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ive(e){var t=Nve(e,"string");return If(t)=="symbol"?t:t+""}function Nve(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B8={curveBasisClosed:nue,curveBasisOpen:aue,curveBasis:rue,curveBumpX:qce,curveBumpY:Hce,curveLinearClosed:oue,curveLinear:Av,curveMonotoneX:iue,curveMonotoneY:sue,curveNatural:lue,curveStep:cue,curveStepAfter:due,curveStepBefore:uue},Lm=function(t){return t.x===+t.x&&t.y===+t.y},Id=function(t){return t.x},Nd=function(t){return t.y},Lve=function(t,r){if(tt(t))return t;var n="curve".concat(Tv(t));return(n==="curveMonotone"||n==="curveBump")&&r?B8["".concat(n).concat(r==="vertical"?"Y":"X")]:B8[n]||Av},Bve=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,c=t.layout,d=t.connectNulls,f=d===void 0?!1:d,p=Lve(n,c),m=f?o.filter(function(S){return Lm(S)}):o,g;if(Array.isArray(i)){var y=f?i.filter(function(S){return Lm(S)}):i,w=m.map(function(S,b){return L8(L8({},S),{},{base:y[b]})});return c==="vertical"?g=km().y(Nd).x1(Id).x0(function(S){return S.base.x}):g=km().x(Id).y1(Nd).y0(function(S){return S.base.y}),g.defined(Lm).curve(p),g(w)}return c==="vertical"&&Oe(i)?g=km().y(Nd).x1(Id).x0(i):Oe(i)?g=km().x(Id).y1(Nd).y0(i):g=wN().x(Id).y(Nd),g.defined(Lm).curve(p),g(m)},Sy=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?Bve(t):a;return H.createElement("path",xj({},Qe(t,!1),Kg(t),{className:Ue("recharts-curve",r),d:i,ref:o}))},PS={exports:{}},_S,z8;function zve(){if(z8)return _S;z8=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _S=e,_S}var DS,F8;function Fve(){if(F8)return DS;F8=1;var e=zve();function t(){}function r(){}return r.resetWarningCache=t,DS=function(){function n(i,c,d,f,p,m){if(m!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function a(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},DS}var q8;function qve(){return q8||(q8=1,PS.exports=Fve()()),PS.exports}var Hve=qve();const Et=dt(Hve);var Uve=Object.getOwnPropertyNames,Vve=Object.getOwnPropertySymbols,Wve=Object.prototype.hasOwnProperty;function H8(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function Bm(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var o=a.cache,i=o.get(r),c=o.get(n);if(i&&c)return i===n&&c===r;o.set(r,n),o.set(n,r);var d=e(r,n,a);return o.delete(r),o.delete(n),d}}function U8(e){return Uve(e).concat(Vve(e))}var Yve=Object.hasOwn||function(e,t){return Wve.call(e,t)};function sl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Gve="__v",Kve="__o",Qve="_owner",V8=Object.getOwnPropertyDescriptor,W8=Object.keys;function Xve(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Jve(e,t){return sl(e.getTime(),t.getTime())}function Zve(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function exe(e,t){return e===t}function Y8(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),o=e.entries(),i,c,d=0;(i=o.next())&&!i.done;){for(var f=t.entries(),p=!1,m=0;(c=f.next())&&!c.done;){if(a[m]){m++;continue}var g=i.value,y=c.value;if(r.equals(g[0],y[0],d,m,e,t,r)&&r.equals(g[1],y[1],g[0],y[0],e,t,r)){p=a[m]=!0;break}m++}if(!p)return!1;d++}return!0}var txe=sl;function rxe(e,t,r){var n=W8(e),a=n.length;if(W8(t).length!==a)return!1;for(;a-- >0;)if(!jB(e,t,r,n[a]))return!1;return!0}function Ld(e,t,r){var n=U8(e),a=n.length;if(U8(t).length!==a)return!1;for(var o,i,c;a-- >0;)if(o=n[a],!jB(e,t,r,o)||(i=V8(e,o),c=V8(t,o),(i||c)&&(!i||!c||i.configurable!==c.configurable||i.enumerable!==c.enumerable||i.writable!==c.writable)))return!1;return!0}function nxe(e,t){return sl(e.valueOf(),t.valueOf())}function axe(e,t){return e.source===t.source&&e.flags===t.flags}function G8(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),o=e.values(),i,c;(i=o.next())&&!i.done;){for(var d=t.values(),f=!1,p=0;(c=d.next())&&!c.done;){if(!a[p]&&r.equals(i.value,c.value,i.value,c.value,e,t,r)){f=a[p]=!0;break}p++}if(!f)return!1}return!0}function oxe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function ixe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function jB(e,t,r,n){return(n===Qve||n===Kve||n===Gve)&&(e.$$typeof||t.$$typeof)?!0:Yve(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var sxe="[object Arguments]",lxe="[object Boolean]",cxe="[object Date]",uxe="[object Error]",dxe="[object Map]",fxe="[object Number]",pxe="[object Object]",hxe="[object RegExp]",mxe="[object Set]",gxe="[object String]",yxe="[object URL]",vxe=Array.isArray,K8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Q8=Object.assign,xxe=Object.prototype.toString.call.bind(Object.prototype.toString);function bxe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,o=e.areMapsEqual,i=e.areNumbersEqual,c=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,p=e.areSetsEqual,m=e.areTypedArraysEqual,g=e.areUrlsEqual;return function(w,S,b){if(w===S)return!0;if(w==null||S==null)return!1;var k=typeof w;if(k!==typeof S)return!1;if(k!=="object")return k==="number"?i(w,S,b):k==="function"?a(w,S,b):!1;var C=w.constructor;if(C!==S.constructor)return!1;if(C===Object)return c(w,S,b);if(vxe(w))return t(w,S,b);if(K8!=null&&K8(w))return m(w,S,b);if(C===Date)return r(w,S,b);if(C===RegExp)return f(w,S,b);if(C===Map)return o(w,S,b);if(C===Set)return p(w,S,b);var $=xxe(w);return $===cxe?r(w,S,b):$===hxe?f(w,S,b):$===dxe?o(w,S,b):$===mxe?p(w,S,b):$===pxe?typeof w.then!="function"&&typeof S.then!="function"&&c(w,S,b):$===yxe?g(w,S,b):$===uxe?n(w,S,b):$===sxe?c(w,S,b):$===lxe||$===fxe||$===gxe?d(w,S,b):!1}}function wxe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Ld:Xve,areDatesEqual:Jve,areErrorsEqual:Zve,areFunctionsEqual:exe,areMapsEqual:n?H8(Y8,Ld):Y8,areNumbersEqual:txe,areObjectsEqual:n?Ld:rxe,arePrimitiveWrappersEqual:nxe,areRegExpsEqual:axe,areSetsEqual:n?H8(G8,Ld):G8,areTypedArraysEqual:n?Ld:oxe,areUrlsEqual:ixe};if(r&&(a=Q8({},a,r(a))),t){var o=Bm(a.areArraysEqual),i=Bm(a.areMapsEqual),c=Bm(a.areObjectsEqual),d=Bm(a.areSetsEqual);a=Q8({},a,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:c,areSetsEqual:d})}return a}function Sxe(e){return function(t,r,n,a,o,i,c){return e(t,r,c)}}function Exe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,o=e.strict;if(n)return function(d,f){var p=n(),m=p.cache,g=m===void 0?t?new WeakMap:void 0:m,y=p.meta;return r(d,f,{cache:g,equals:a,meta:y,strict:o})};if(t)return function(d,f){return r(d,f,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var i={cache:void 0,equals:a,meta:void 0,strict:o};return function(d,f){return r(d,f,i)}}var jxe=Xi();Xi({strict:!0});Xi({circular:!0});Xi({circular:!0,strict:!0});Xi({createInternalComparator:function(){return sl}});Xi({strict:!0,createInternalComparator:function(){return sl}});Xi({circular:!0,createInternalComparator:function(){return sl}});Xi({circular:!0,createInternalComparator:function(){return sl},strict:!0});function Xi(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,o=e.strict,i=o===void 0?!1:o,c=wxe(e),d=bxe(c),f=n?n(d):Sxe(d);return Exe({circular:r,comparator:d,createState:a,equals:f,strict:i})}function Cxe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function X8(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):Cxe(a)};requestAnimationFrame(n)}function bj(e){"@babel/helpers - typeof";return bj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bj(e)}function $xe(e){return Oxe(e)||Axe(e)||kxe(e)||Txe()}function Txe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kxe(e,t){if(e){if(typeof e=="string")return J8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J8(e,t)}}function J8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Axe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oxe(e){if(Array.isArray(e))return e}function Pxe(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,c=$xe(i),d=c[0],f=c.slice(1);if(typeof d=="number"){X8(a.bind(null,f),d);return}a(d),X8(a.bind(null,f));return}bj(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function Z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z8(Object(r),!0).forEach(function(n){CB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CB(e,t,r){return t=_xe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _xe(e){var t=Dxe(e,"string");return Nf(t)==="symbol"?t:String(t)}function Dxe(e,t){if(Nf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mxe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},Rxe=function(t){return t},Ixe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},tf=function(t,r){return Object.keys(r).reduce(function(n,a){return eD(eD({},n),{},CB({},a,t(a,r[a])))},{})},tD=function(t,r,n){return t.map(function(a){return"".concat(Ixe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Nxe(e,t){return zxe(e)||Bxe(e,t)||$B(e,t)||Lxe()}function Lxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,c=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(f)throw a}}return c}}function zxe(e){if(Array.isArray(e))return e}function Fxe(e){return Uxe(e)||Hxe(e)||$B(e)||qxe()}function qxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $B(e,t){if(e){if(typeof e=="string")return wj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wj(e,t)}}function Hxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uxe(e){if(Array.isArray(e))return wj(e)}function wj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ey=1e-4,TB=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},kB=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},rD=function(t,r){return function(n){var a=TB(t,r);return kB(a,n)}},Vxe=function(t,r){return function(n){var a=TB(t,r),o=[].concat(Fxe(a.map(function(i,c){return i*c}).slice(1)),[0]);return kB(o,n)}},nD=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,c=1;break;case"ease":a=.25,o=.1,i=.25,c=1;break;case"ease-in":a=.42,o=0,i=1,c=1;break;case"ease-out":a=.42,o=0,i=.58,c=1;break;case"ease-in-out":a=0,o=0,i=.58,c=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),p=Nxe(f,4);a=p[0],o=p[1],i=p[2],c=p[3]}}}var m=rD(a,i),g=rD(o,c),y=Vxe(a,i),w=function(k){return k>1?1:k<0?0:k},S=function(k){for(var C=k>1?1:k,$=C,L=0;L<8;++L){var T=m($)-C,P=y($);if(Math.abs(T-C)<Ey||P<Ey)return g($);$=w($-T/P)}return g($)};return S.isStepper=!1,S},Wxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,c=i===void 0?17:i,d=function(p,m,g){var y=-(p-m)*n,w=g*o,S=g+(y-w)*c/1e3,b=g*c/1e3+p;return Math.abs(b-m)<Ey&&Math.abs(S)<Ey?[m,0]:[b,S]};return d.isStepper=!0,d.dt=c,d},Yxe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nD(a);case"spring":return Wxe();default:if(a.split("(")[0]==="cubic-bezier")return nD(a)}return typeof a=="function"?a:null};function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function aD(e){return Qxe(e)||Kxe(e)||AB(e)||Gxe()}function Gxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qxe(e){if(Array.isArray(e))return Ej(e)}function oD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(r),!0).forEach(function(n){Sj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sj(e,t,r){return t=Xxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xxe(e){var t=Jxe(e,"string");return Lf(t)==="symbol"?t:String(t)}function Jxe(e,t){if(Lf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zxe(e,t){return r0e(e)||t0e(e,t)||AB(e,t)||e0e()}function e0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AB(e,t){if(e){if(typeof e=="string")return Ej(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ej(e,t)}}function Ej(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,c=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(f)throw a}}return c}}function r0e(e){if(Array.isArray(e))return e}var jy=function(t,r,n){return t+(r-t)*n},jj=function(t){var r=t.from,n=t.to;return r!==n},n0e=function e(t,r,n){var a=tf(function(o,i){if(jj(i)){var c=t(i.from,i.to,i.velocity),d=Zxe(c,2),f=d[0],p=d[1];return Rr(Rr({},i),{},{from:f,velocity:p})}return i},r);return n<1?tf(function(o,i){return jj(i)?Rr(Rr({},i),{},{velocity:jy(i.velocity,a[o].velocity,n),from:jy(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const a0e=function(e,t,r,n,a){var o=Mxe(e,t),i=o.reduce(function(b,k){return Rr(Rr({},b),{},Sj({},k,[e[k],t[k]]))},{}),c=o.reduce(function(b,k){return Rr(Rr({},b),{},Sj({},k,{from:e[k],velocity:0,to:t[k]}))},{}),d=-1,f,p,m=function(){return null},g=function(){return tf(function(k,C){return C.from},c)},y=function(){return!Object.values(c).filter(jj).length},w=function(k){f||(f=k);var C=k-f,$=C/r.dt;c=n0e(r,c,$),a(Rr(Rr(Rr({},e),t),g())),f=k,y()||(d=requestAnimationFrame(m))},S=function(k){p||(p=k);var C=(k-p)/n,$=tf(function(T,P){return jy.apply(void 0,aD(P).concat([r(C)]))},i);if(a(Rr(Rr(Rr({},e),t),$)),C<1)d=requestAnimationFrame(m);else{var L=tf(function(T,P){return jy.apply(void 0,aD(P).concat([r(1)]))},i);a(Rr(Rr(Rr({},e),t),L))}};return m=r.isStepper?w:S,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}var o0e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function i0e(e,t){if(e==null)return{};var r=s0e(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s0e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function MS(e){return d0e(e)||u0e(e)||c0e(e)||l0e()}function l0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c0e(e,t){if(e){if(typeof e=="string")return Cj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cj(e,t)}}function u0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d0e(e){if(Array.isArray(e))return Cj(e)}function Cj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(r),!0).forEach(function(n){Qd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qd(e,t,r){return t=OB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OB(n.key),n)}}function h0e(e,t,r){return t&&p0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OB(e){var t=m0e(e,"string");return Nc(t)==="symbol"?t:String(t)}function m0e(e,t){if(Nc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$j(e,t)}function $j(e,t){return $j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$j(e,t)}function y0e(e){var t=v0e();return function(){var n=Cy(e),a;if(t){var o=Cy(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Tj(this,a)}}function Tj(e,t){if(t&&(Nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kj(e)}function kj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cy(e){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cy(e)}var ao=function(e){g0e(r,e);var t=y0e(r);function r(n,a){var o;f0e(this,r),o=t.call(this,n,a);var i=o.props,c=i.isActive,d=i.attributeName,f=i.from,p=i.to,m=i.steps,g=i.children,y=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(kj(o)),o.changeStyle=o.changeStyle.bind(kj(o)),!c||y<=0)return o.state={style:{}},typeof g=="function"&&(o.state={style:p}),Tj(o);if(m&&m.length)o.state={style:m[0].style};else if(f){if(typeof g=="function")return o.state={style:f},Tj(o);o.state={style:d?Qd({},d,f):f}}else o.state={style:{}};return o}return h0e(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,c=o.canBegin,d=o.attributeName,f=o.shouldReAnimate,p=o.to,m=o.from,g=this.state.style;if(c){if(!i){var y={style:d?Qd({},d,p):p};this.state&&g&&(d&&g[d]!==p||!d&&g!==p)&&this.setState(y);return}if(!(jxe(a.to,p)&&a.canBegin&&a.isActive)){var w=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=w||f?m:a.to;if(this.state&&g){var b={style:d?Qd({},d,S):S};(d&&g[d]!==S||!d&&g!==S)&&this.setState(b)}this.runAnimation(ba(ba({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,c=a.to,d=a.duration,f=a.easing,p=a.begin,m=a.onAnimationEnd,g=a.onAnimationStart,y=a0e(i,c,Yxe(f),d,this.changeStyle),w=function(){o.stopJSAnimation=y()};this.manager.start([g,p,w,d,m])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,c=a.begin,d=a.onAnimationStart,f=i[0],p=f.style,m=f.duration,g=m===void 0?0:m,y=function(S,b,k){if(k===0)return S;var C=b.duration,$=b.easing,L=$===void 0?"ease":$,T=b.style,P=b.properties,O=b.onAnimationEnd,N=k>0?i[k-1]:b,R=P||Object.keys(T);if(typeof L=="function"||L==="spring")return[].concat(MS(S),[o.runJSAnimation.bind(o,{from:N.style,to:T,duration:C,easing:L}),C]);var D=tD(R,C,L),j=ba(ba(ba({},N.style),T),{},{transition:D});return[].concat(MS(S),[j,C,O]).filter(Rxe)};return this.manager.start([d].concat(MS(i.reduce(y,[p,Math.max(g,c)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Pxe());var o=a.begin,i=a.duration,c=a.attributeName,d=a.to,f=a.easing,p=a.onAnimationStart,m=a.onAnimationEnd,g=a.steps,y=a.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof y=="function"||f==="spring"){this.runJSAnimation(a);return}if(g.length>1){this.runStepAnimation(a);return}var S=c?Qd({},c,d):d,b=tD(Object.keys(S),i,f);w.start([p,o,ba(ba({},S),{},{transition:b}),i,m])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var c=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=i0e(a,o0e),f=_.Children.count(o),p=this.state.style;if(typeof o=="function")return o(p);if(!c||f===0||i<=0)return o;var m=function(y){var w=y.props,S=w.style,b=S===void 0?{}:S,k=w.className,C=_.cloneElement(y,ba(ba({},d),{},{style:ba(ba({},b),p),className:k}));return C};return f===1?m(_.Children.only(o)):H.createElement("div",null,_.Children.map(o,function(g){return m(g)}))}}]),r}(_.PureComponent);ao.displayName="Animate";ao.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ao.propTypes={from:Et.oneOfType([Et.object,Et.string]),to:Et.oneOfType([Et.object,Et.string]),attributeName:Et.string,duration:Et.number,begin:Et.number,easing:Et.oneOfType([Et.string,Et.func]),steps:Et.arrayOf(Et.shape({duration:Et.number.isRequired,style:Et.object.isRequired,easing:Et.oneOfType([Et.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Et.func]),properties:Et.arrayOf("string"),onAnimationEnd:Et.func})),children:Et.oneOfType([Et.node,Et.func]),isActive:Et.bool,canBegin:Et.bool,onAnimationEnd:Et.func,shouldReAnimate:Et.bool,onAnimationStart:Et.func,onAnimationReStart:Et.func};function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(this,arguments)}function x0e(e,t){return E0e(e)||S0e(e,t)||w0e(e,t)||b0e()}function b0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w0e(e,t){if(e){if(typeof e=="string")return sD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sD(e,t)}}function sD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,c=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(f)throw a}}return c}}function E0e(e){if(Array.isArray(e))return e}function lD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(r),!0).forEach(function(n){j0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j0e(e,t,r){return t=C0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C0e(e){var t=$0e(e,"string");return Bf(t)=="symbol"?t:t+""}function $0e(e,t){if(Bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uD=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),c=a>=0?1:-1,d=n>=0?1:-1,f=a>=0&&n>=0||a<0&&n<0?1:0,p;if(i>0&&o instanceof Array){for(var m=[0,0,0,0],g=0,y=4;g<y;g++)m[g]=o[g]>i?i:o[g];p="M".concat(t,",").concat(r+c*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+d*m[0],",").concat(r)),p+="L ".concat(t+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(r+c*m[1])),p+="L ".concat(t+n,",").concat(r+a-c*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-d*m[2],",").concat(r+a)),p+="L ".concat(t+d*m[3],",").concat(r+a),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+a-c*m[3])),p+="Z"}else if(i>0&&o===+o&&o>0){var w=Math.min(i,o);p="M ".concat(t,",").concat(r+c*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+d*w,",").concat(r,`
            L `).concat(t+n-d*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n,",").concat(r+c*w,`
            L `).concat(t+n,",").concat(r+a-c*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n-d*w,",").concat(r+a,`
            L `).concat(t+d*w,",").concat(r+a,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(r+a-c*w," Z")}else p="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return p},T0e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,c=r.width,d=r.height;if(Math.abs(c)>0&&Math.abs(d)>0){var f=Math.min(o,o+c),p=Math.max(o,o+c),m=Math.min(i,i+d),g=Math.max(i,i+d);return n>=f&&n<=p&&a>=m&&a<=g}return!1},k0e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Y5=function(t){var r=cD(cD({},k0e),t),n=_.useRef(),a=_.useState(-1),o=x0e(a,2),i=o[0],c=o[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var L=n.current.getTotalLength();L&&c(L)}catch{}},[]);var d=r.x,f=r.y,p=r.width,m=r.height,g=r.radius,y=r.className,w=r.animationEasing,S=r.animationDuration,b=r.animationBegin,k=r.isAnimationActive,C=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||p===0||m===0)return null;var $=Ue("recharts-rectangle",y);return C?H.createElement(ao,{canBegin:i>0,from:{width:p,height:m,x:d,y:f},to:{width:p,height:m,x:d,y:f},duration:S,animationEasing:w,isActive:C},function(L){var T=L.width,P=L.height,O=L.x,N=L.y;return H.createElement(ao,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:S,isActive:k,easing:w},H.createElement("path",$y({},Qe(r,!0),{className:$,d:uD(O,N,T,P,g),ref:n})))}):H.createElement("path",$y({},Qe(r,!0),{className:$,d:uD(d,f,p,m,g)}))},A0e=["points","className","baseLinePoints","connectNulls"];function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tc.apply(this,arguments)}function O0e(e,t){if(e==null)return{};var r=P0e(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dD(e){return R0e(e)||M0e(e)||D0e(e)||_0e()}function _0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D0e(e,t){if(e){if(typeof e=="string")return Aj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aj(e,t)}}function M0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R0e(e){if(Array.isArray(e))return Aj(e)}function Aj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fD=function(t){return t&&t.x===+t.x&&t.y===+t.y},I0e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){fD(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),fD(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},rf=function(t,r){var n=I0e(t);r&&(n=[n.reduce(function(o,i){return[].concat(dD(o),dD(i))},[])]);var a=n.map(function(o){return o.reduce(function(i,c,d){return"".concat(i).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},N0e=function(t,r,n){var a=rf(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(rf(r.reverse(),n).slice(1))},L0e=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,o=t.connectNulls,i=O0e(t,A0e);if(!r||!r.length)return null;var c=Ue("recharts-polygon",n);if(a&&a.length){var d=i.stroke&&i.stroke!=="none",f=N0e(r,a,o);return H.createElement("g",{className:c},H.createElement("path",tc({},Qe(i,!0),{fill:f.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:f})),d?H.createElement("path",tc({},Qe(i,!0),{fill:"none",d:rf(r,o)})):null,d?H.createElement("path",tc({},Qe(i,!0),{fill:"none",d:rf(a,o)})):null)}var p=rf(r,o);return H.createElement("path",tc({},Qe(i,!0),{fill:p.slice(-1)==="Z"?i.fill:"none",className:c,d:p}))};function Oj(){return Oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oj.apply(this,arguments)}var Wv=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=Ue("recharts-dot",o);return r===+r&&n===+n&&a===+a?H.createElement("circle",Oj({},Qe(t,!1),Kg(t),{className:i,cx:r,cy:n,r:a})):null};function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}var B0e=["x","y","top","left","width","height","className"];function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pj.apply(this,arguments)}function pD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z0e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(r),!0).forEach(function(n){F0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F0e(e,t,r){return t=q0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q0e(e){var t=H0e(e,"string");return zf(t)=="symbol"?t:t+""}function H0e(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U0e(e,t){if(e==null)return{};var r=V0e(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var W0e=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},Y0e=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,c=i===void 0?0:i,d=t.left,f=d===void 0?0:d,p=t.width,m=p===void 0?0:p,g=t.height,y=g===void 0?0:g,w=t.className,S=U0e(t,B0e),b=z0e({x:n,y:o,top:c,left:f,width:m,height:y},S);return!Oe(n)||!Oe(o)||!Oe(m)||!Oe(y)||!Oe(c)||!Oe(f)?null:H.createElement("path",Pj({},Qe(b,!0),{className:Ue("recharts-cross",w),d:W0e(n,o,m,y,c,f)}))},RS,hD;function G0e(){if(hD)return RS;hD=1;var e=Fv(),t=VL(),r=lo();function n(a,o){return a&&a.length?e(a,r(o,2),t):void 0}return RS=n,RS}var K0e=G0e();const Q0e=dt(K0e);var IS,mD;function X0e(){if(mD)return IS;mD=1;var e=Fv(),t=lo(),r=WL();function n(a,o){return a&&a.length?e(a,t(o,2),r):void 0}return IS=n,IS}var J0e=X0e();const Z0e=dt(J0e);var ebe=["cx","cy","angle","ticks","axisLine"],tbe=["ticks","tick","angle","tickFormatter","stroke"];function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(this,arguments)}function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(n){Yv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yD(e,t){if(e==null)return{};var r=rbe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_B(n.key),n)}}function abe(e,t,r){return t&&vD(e.prototype,t),r&&vD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function obe(e,t,r){return t=Ty(t),ibe(e,PB()?Reflect.construct(t,r||[],Ty(e).constructor):t.apply(e,r))}function ibe(e,t){if(t&&(Lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sbe(e)}function sbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PB=function(){return!!e})()}function Ty(e){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ty(e)}function lbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_j(e,t)}function _j(e,t){return _j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_j(e,t)}function Yv(e,t,r){return t=_B(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _B(e){var t=cbe(e,"string");return Lc(t)=="symbol"?t:t+""}function cbe(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gv=function(e){function t(){return nbe(this,t),obe(this,t,arguments)}return lbe(t,e),abe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,o=this.props,i=o.angle,c=o.cx,d=o.cy;return Rt(c,d,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,o=n.cy,i=n.angle,c=n.ticks,d=Q0e(c,function(p){return p.coordinate||0}),f=Z0e(c,function(p){return p.coordinate||0});return{cx:a,cy:o,startAngle:i,endAngle:i,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,o=n.cy,i=n.angle,c=n.ticks,d=n.axisLine,f=yD(n,ebe),p=c.reduce(function(w,S){return[Math.min(w[0],S.coordinate),Math.max(w[1],S.coordinate)]},[1/0,-1/0]),m=Rt(a,o,p[0],i),g=Rt(a,o,p[1],i),y=ys(ys(ys({},Qe(f,!1)),{},{fill:"none"},Qe(d,!1)),{},{x1:m.x,y1:m.y,x2:g.x,y2:g.y});return H.createElement("line",nf({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var n=this,a=this.props,o=a.ticks,i=a.tick,c=a.angle,d=a.tickFormatter,f=a.stroke,p=yD(a,tbe),m=this.getTickTextAnchor(),g=Qe(p,!1),y=Qe(i,!1),w=o.map(function(S,b){var k=n.getTickValueCoord(S),C=ys(ys(ys(ys({textAnchor:m,transform:"rotate(".concat(90-c,", ").concat(k.x,", ").concat(k.y,")")},g),{},{stroke:"none",fill:f},y),{},{index:b},k),{},{payload:S});return H.createElement(gt,nf({className:Ue("recharts-polar-radius-axis-tick",bB(i)),key:"tick-".concat(S.coordinate)},Gs(n.props,S,b)),t.renderTickItem(i,C,d?d(S.value,b):S.value))});return H.createElement(gt,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,a=n.ticks,o=n.axisLine,i=n.tick;return!a||!a.length?null:H.createElement(gt,{className:Ue("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),i&&this.renderTicks(),$r.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,o){var i;return H.isValidElement(n)?i=H.cloneElement(n,a):tt(n)?i=n(a):i=H.createElement(Ks,nf({},a,{className:"recharts-polar-radius-axis-tick-value"}),o),i}}])}(_.PureComponent);Yv(Gv,"displayName","PolarRadiusAxis");Yv(Gv,"axisType","radiusAxis");Yv(Gv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(this,arguments)}function xD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(r),!0).forEach(function(n){Kv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ube(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MB(n.key),n)}}function dbe(e,t,r){return t&&bD(e.prototype,t),r&&bD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fbe(e,t,r){return t=ky(t),pbe(e,DB()?Reflect.construct(t,r||[],ky(e).constructor):t.apply(e,r))}function pbe(e,t){if(t&&(Bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hbe(e)}function hbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DB=function(){return!!e})()}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ky(e)}function mbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dj(e,t)}function Dj(e,t){return Dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dj(e,t)}function Kv(e,t,r){return t=MB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MB(e){var t=gbe(e,"string");return Bc(t)=="symbol"?t:t+""}function gbe(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ybe=Math.PI/180,vbe=1e-5,Qv=function(e){function t(){return ube(this,t),fbe(this,t,arguments)}return mbe(t,e),dbe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.cx,i=a.cy,c=a.radius,d=a.orientation,f=a.tickSize,p=f||8,m=Rt(o,i,c,n.coordinate),g=Rt(o,i,c+(d==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,o=Math.cos(-n.coordinate*ybe),i;return o>vbe?i=a==="outer"?"start":"end":o<-1e-5?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,o=n.cy,i=n.radius,c=n.axisLine,d=n.axisLineType,f=vs(vs({},Qe(this.props,!1)),{},{fill:"none"},Qe(c,!1));if(d==="circle")return H.createElement(Wv,Ss({className:"recharts-polar-angle-axis-line"},f,{cx:a,cy:o,r:i}));var p=this.props.ticks,m=p.map(function(g){return Rt(a,o,i,g.coordinate)});return H.createElement(L0e,Ss({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,o=a.ticks,i=a.tick,c=a.tickLine,d=a.tickFormatter,f=a.stroke,p=Qe(this.props,!1),m=Qe(i,!1),g=vs(vs({},p),{},{fill:"none"},Qe(c,!1)),y=o.map(function(w,S){var b=n.getTickLineCoord(w),k=n.getTickTextAnchor(w),C=vs(vs(vs({textAnchor:k},p),{},{stroke:"none",fill:f},m),{},{index:S,payload:w,x:b.x2,y:b.y2});return H.createElement(gt,Ss({className:Ue("recharts-polar-angle-axis-tick",bB(i)),key:"tick-".concat(w.coordinate)},Gs(n.props,w,S)),c&&H.createElement("line",Ss({className:"recharts-polar-angle-axis-tick-line"},g,b)),i&&t.renderTickItem(i,C,d?d(w.value,S):w.value))});return H.createElement(gt,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,o=n.radius,i=n.axisLine;return o<=0||!a||!a.length?null:H.createElement(gt,{className:Ue("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,o){var i;return H.isValidElement(n)?i=H.cloneElement(n,a):tt(n)?i=n(a):i=H.createElement(Ks,Ss({},a,{className:"recharts-polar-angle-axis-tick-value"}),o),i}}])}(_.PureComponent);Kv(Qv,"displayName","PolarAngleAxis");Kv(Qv,"axisType","angleAxis");Kv(Qv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var NS,wD;function xbe(){if(wD)return NS;wD=1;var e=UN(),t=e(Object.getPrototypeOf,Object);return NS=t,NS}var LS,SD;function bbe(){if(SD)return LS;SD=1;var e=Xo(),t=xbe(),r=Jo(),n="[object Object]",a=Function.prototype,o=Object.prototype,i=a.toString,c=o.hasOwnProperty,d=i.call(Object);function f(p){if(!r(p)||e(p)!=n)return!1;var m=t(p);if(m===null)return!0;var g=c.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&i.call(g)==d}return LS=f,LS}var wbe=bbe();const Sbe=dt(wbe);var BS,ED;function Ebe(){if(ED)return BS;ED=1;var e=Xo(),t=Jo(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return BS=n,BS}var jbe=Ebe();const Cbe=dt(jbe);function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(this,arguments)}function $be(e,t){return Obe(e)||Abe(e,t)||kbe(e,t)||Tbe()}function Tbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kbe(e,t){if(e){if(typeof e=="string")return jD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jD(e,t)}}function jD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Abe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,c=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(f)throw a}}return c}}function Obe(e){if(Array.isArray(e))return e}function CD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(r),!0).forEach(function(n){Pbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pbe(e,t,r){return t=_be(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _be(e){var t=Dbe(e,"string");return Ff(t)=="symbol"?t:t+""}function Dbe(e,t){if(Ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TD=function(t,r,n,a,o){var i=n-a,c;return c="M ".concat(t,",").concat(r),c+="L ".concat(t+n,",").concat(r),c+="L ".concat(t+n-i/2,",").concat(r+o),c+="L ".concat(t+n-i/2-a,",").concat(r+o),c+="L ".concat(t,",").concat(r," Z"),c},Mbe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rbe=function(t){var r=$D($D({},Mbe),t),n=_.useRef(),a=_.useState(-1),o=$be(a,2),i=o[0],c=o[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&c($)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,m=r.lowerWidth,g=r.height,y=r.className,w=r.animationEasing,S=r.animationDuration,b=r.animationBegin,k=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||g!==+g||p===0&&m===0||g===0)return null;var C=Ue("recharts-trapezoid",y);return k?H.createElement(ao,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:f},to:{upperWidth:p,lowerWidth:m,height:g,x:d,y:f},duration:S,animationEasing:w,isActive:k},function($){var L=$.upperWidth,T=$.lowerWidth,P=$.height,O=$.x,N=$.y;return H.createElement(ao,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:S,easing:w},H.createElement("path",Ay({},Qe(r,!0),{className:C,d:TD(O,N,L,T,P),ref:n})))}):H.createElement("g",null,H.createElement("path",Ay({},Qe(r,!0),{className:C,d:TD(d,f,p,m,g)})))},Ibe=["option","shapeType","propTransformer","activeClassName","isActive"];function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function Nbe(e,t){if(e==null)return{};var r=Lbe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(r),!0).forEach(function(n){Bbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bbe(e,t,r){return t=zbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zbe(e){var t=Fbe(e,"string");return qf(t)=="symbol"?t:t+""}function Fbe(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qbe(e,t){return Oy(Oy({},t),e)}function Hbe(e,t){return e==="symbols"}function AD(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return H.createElement(Y5,r);case"trapezoid":return H.createElement(Rbe,r);case"sector":return H.createElement(EB,r);case"symbols":if(Hbe(t))return H.createElement(f5,r);break;default:return null}}function Ube(e){return _.isValidElement(e)?e.props:e}function RB(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?qbe:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,c=e.isActive,d=Nbe(e,Ibe),f;if(_.isValidElement(t))f=_.cloneElement(t,Oy(Oy({},d),Ube(t)));else if(tt(t))f=t(d);else if(Sbe(t)&&!Cbe(t)){var p=a(t,d);f=H.createElement(AD,{shapeType:r,elementProps:p})}else{var m=d;f=H.createElement(AD,{shapeType:r,elementProps:m})}return c?H.createElement(gt,{className:i},f):f}function Xv(e,t){return t!=null&&"trapezoids"in e.props}function Jv(e,t){return t!=null&&"sectors"in e.props}function Hf(e,t){return t!=null&&"points"in e.props}function Vbe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function Wbe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Ybe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Gbe(e,t){var r;return Xv(e,t)?r=Vbe:Jv(e,t)?r=Wbe:Hf(e,t)&&(r=Ybe),r}function Kbe(e,t){var r;return Xv(e,t)?r="trapezoids":Jv(e,t)?r="sectors":Hf(e,t)&&(r="points"),r}function Qbe(e,t){if(Xv(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Jv(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Hf(e,t)?t.payload:{}}function Xbe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Kbe(r,t),o=Qbe(r,t),i=n.filter(function(d,f){var p=vp(o,d),m=r.props[a].filter(function(w){var S=Gbe(r,t);return S(w,t)}),g=r.props[a].indexOf(m[m.length-1]),y=f===g;return p&&y}),c=n.indexOf(i[i.length-1]);return c}var fg;function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(this,arguments)}function OD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(r),!0).forEach(function(n){Zn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NB(n.key),n)}}function Zbe(e,t,r){return t&&PD(e.prototype,t),r&&PD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function e1e(e,t,r){return t=Py(t),t1e(e,IB()?Reflect.construct(t,r||[],Py(e).constructor):t.apply(e,r))}function t1e(e,t){if(t&&(zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r1e(e)}function r1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IB=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Py(e)}function n1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mj(e,t)}function Mj(e,t){return Mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mj(e,t)}function Zn(e,t,r){return t=NB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NB(e){var t=a1e(e,"string");return zc(t)=="symbol"?t:t+""}function a1e(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ei=function(e){function t(r){var n;return Jbe(this,t),n=e1e(this,t,[r]),Zn(n,"pieRef",null),Zn(n,"sectorRefs",[]),Zn(n,"id",du("recharts-pie-")),Zn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),tt(a)&&a()}),Zn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),tt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return n1e(t,e),Zbe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.label,c=o.labelLine,d=o.dataKey,f=o.valueKey,p=Qe(this.props,!1),m=Qe(i,!1),g=Qe(c,!1),y=i&&i.offsetRadius||20,w=n.map(function(S,b){var k=(S.startAngle+S.endAngle)/2,C=Rt(S.cx,S.cy,S.outerRadius+y,k),$=Dt(Dt(Dt(Dt({},p),S),{},{stroke:"none"},m),{},{index:b,textAnchor:t.getTextAnchor(C.x,S.cx)},C),L=Dt(Dt(Dt(Dt({},p),S),{},{fill:"none",stroke:S.fill},g),{},{index:b,points:[Rt(S.cx,S.cy,S.outerRadius,k),C]}),T=d;return rt(d)&&rt(f)?T="value":rt(d)&&(T=f),H.createElement(gt,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(b)},c&&t.renderLabelLineItem(c,L,"line"),t.renderLabelItem(i,$,gr(S,T)))});return H.createElement(gt,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var a=this,o=this.props,i=o.activeShape,c=o.blendStroke,d=o.inactiveShape;return n.map(function(f,p){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&n.length!==1)return null;var m=a.isActiveIndex(p),g=d&&a.hasActiveIndex()?d:null,y=m?i:g,w=Dt(Dt({},f),{},{stroke:c?f.fill:f.stroke,tabIndex:-1});return H.createElement(gt,rc({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Gs(a.props,f,p),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(p)}),H.createElement(RB,rc({option:y,isActive:m,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,o=a.sectors,i=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,f=a.animationEasing,p=a.animationId,m=this.state,g=m.prevSectors,y=m.prevIsAnimationActive;return H.createElement(ao,{begin:c,duration:d,isActive:i,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var S=w.t,b=[],k=o&&o[0],C=k.startAngle;return o.forEach(function($,L){var T=g&&g[L],P=L>0?Mn($,"paddingAngle",0):0;if(T){var O=On(T.endAngle-T.startAngle,$.endAngle-$.startAngle),N=Dt(Dt({},$),{},{startAngle:C+P,endAngle:C+O(S)+P});b.push(N),C=N.endAngle}else{var R=$.endAngle,D=$.startAngle,j=On(0,R-D),A=j(S),I=Dt(Dt({},$),{},{startAngle:C+P,endAngle:C+A+P});b.push(I),C=I.endAngle}}),H.createElement(gt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var c=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,o=n.isAnimationActive,i=this.state.prevSectors;return o&&a&&a.length&&(!i||!vp(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,o=a.hide,i=a.sectors,c=a.className,d=a.label,f=a.cx,p=a.cy,m=a.innerRadius,g=a.outerRadius,y=a.isAnimationActive,w=this.state.isAnimationFinished;if(o||!i||!i.length||!Oe(f)||!Oe(p)||!Oe(m)||!Oe(g))return null;var S=Ue("recharts-pie",c);return H.createElement(gt,{tabIndex:this.props.rootTabIndex,className:S,ref:function(k){n.pieRef=k}},this.renderSectors(),d&&this.renderLabels(i),$r.renderCallByParent(this.props,null,!1),(!y||w)&&Uo.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,o){if(H.isValidElement(n))return H.cloneElement(n,a);if(tt(n))return n(a);var i=Ue("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return H.createElement(Sy,rc({},a,{key:o,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,o){if(H.isValidElement(n))return H.cloneElement(n,a);var i=o;if(tt(n)&&(i=n(a),H.isValidElement(i)))return i;var c=Ue("recharts-pie-label-text",typeof n!="boolean"&&!tt(n)?n.className:"");return H.createElement(Ks,rc({},a,{alignmentBaseline:"middle",className:c}),i)}}])}(_.PureComponent);fg=ei;Zn(ei,"displayName","Pie");Zn(ei,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!al.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Zn(ei,"parseDeltaAngle",function(e,t){var r=tn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Zn(ei,"getRealPieData",function(e){var t=e.data,r=e.children,n=Qe(e,!1),a=Rn(r,Mv);return t&&t.length?t.map(function(o,i){return Dt(Dt(Dt({payload:o},n),o),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(o){return Dt(Dt({},n),o.props)}):[]});Zn(ei,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,o=t.height,i=xB(a,o),c=n+rn(e.cx,a,a/2),d=r+rn(e.cy,o,o/2),f=rn(e.innerRadius,i,0),p=rn(e.outerRadius,i,i*.8),m=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:c,cy:d,innerRadius:f,outerRadius:p,maxRadius:m}});Zn(ei,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Dt(Dt({},t.type.defaultProps),t.props):t.props,a=fg.getRealPieData(n);if(!a||!a.length)return null;var o=n.cornerRadius,i=n.startAngle,c=n.endAngle,d=n.paddingAngle,f=n.dataKey,p=n.nameKey,m=n.valueKey,g=n.tooltipType,y=Math.abs(n.minAngle),w=fg.parseCoordinateOfPie(n,r),S=fg.parseDeltaAngle(i,c),b=Math.abs(S),k=f;rt(f)&&rt(m)?(ka(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k="value"):rt(f)&&(ka(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k=m);var C=a.filter(function(N){return gr(N,k,0)!==0}).length,$=(b>=360?C:C-1)*d,L=b-C*y-$,T=a.reduce(function(N,R){var D=gr(R,k,0);return N+(Oe(D)?D:0)},0),P;if(T>0){var O;P=a.map(function(N,R){var D=gr(N,k,0),j=gr(N,p,R),A=(Oe(D)?D:0)/T,I;R?I=O.endAngle+tn(S)*d*(D!==0?1:0):I=i;var B=I+tn(S)*((D!==0?y:0)+A*L),F=(I+B)/2,U=(w.innerRadius+w.outerRadius)/2,Y=[{name:j,value:D,payload:N,dataKey:k,type:g}],W=Rt(w.cx,w.cy,U,F);return O=Dt(Dt(Dt({percent:A,cornerRadius:o,name:j,tooltipPayload:Y,midAngle:F,middleRadius:U,tooltipPosition:W},N),w),{},{value:gr(N,k),startAngle:I,endAngle:B,payload:N,paddingAngle:tn(S)*d}),O})}return Dt(Dt({},w),{},{sectors:P,data:a})});var zS,_D;function o1e(){if(_D)return zS;_D=1;var e=Math.ceil,t=Math.max;function r(n,a,o,i){for(var c=-1,d=t(e((a-n)/(o||1)),0),f=Array(d);d--;)f[i?d:++c]=n,n+=o;return f}return zS=r,zS}var FS,DD;function LB(){if(DD)return FS;DD=1;var e=iL(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-1/0){var o=a<0?-1:1;return o*r}return a===a?a:0}return FS=n,FS}var qS,MD;function i1e(){if(MD)return qS;MD=1;var e=o1e(),t=Dv(),r=LB();function n(a){return function(o,i,c){return c&&typeof c!="number"&&t(o,i,c)&&(i=c=void 0),o=r(o),i===void 0?(i=o,o=0):i=r(i),c=c===void 0?o<i?1:-1:r(c),e(o,i,c,a)}}return qS=n,qS}var HS,RD;function s1e(){if(RD)return HS;RD=1;var e=i1e(),t=e();return HS=t,HS}var l1e=s1e();const _y=dt(l1e);function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function ID(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ND(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(r),!0).forEach(function(n){BB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BB(e,t,r){return t=c1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c1e(e){var t=u1e(e,"string");return Uf(t)=="symbol"?t:t+""}function u1e(e,t){if(Uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d1e=["Webkit","Moz","O","ms"],f1e=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=d1e.reduce(function(o,i){return ND(ND({},o),{},BB({},i+n,r))},{});return a[t]=r,a};function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(this,arguments)}function LD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function US(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LD(Object(r),!0).forEach(function(n){Tn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FB(n.key),n)}}function h1e(e,t,r){return t&&BD(e.prototype,t),r&&BD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m1e(e,t,r){return t=My(t),g1e(e,zB()?Reflect.construct(t,r||[],My(e).constructor):t.apply(e,r))}function g1e(e,t){if(t&&(Fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y1e(e)}function y1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zB=function(){return!!e})()}function My(e){return My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},My(e)}function v1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rj(e,t)}function Rj(e,t){return Rj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rj(e,t)}function Tn(e,t,r){return t=FB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FB(e){var t=x1e(e,"string");return Fc(t)=="symbol"?t:t+""}function x1e(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var b1e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,c=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Zd().domain(_y(0,d)).range([o,o+i-c]),p=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(a),scale:f,scaleValues:p}},zD=function(t){return t.changedTouches&&!!t.changedTouches.length},qc=function(e){function t(r){var n;return p1e(this,t),n=m1e(this,t,[r]),Tn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Tn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Tn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,c=a.startIndex;i==null||i({endIndex:o,startIndex:c})}),n.detachDragEndListener()}),Tn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Tn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Tn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Tn(n,"handleSlideDragStart",function(a){var o=zD(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return v1e(t,e),h1e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,c=this.props,d=c.gap,f=c.data,p=f.length-1,m=Math.min(a,o),g=Math.max(a,o),y=t.getIndexInRange(i,m),w=t.getIndexInRange(i,g);return{startIndex:y-y%d,endIndex:w===p?p:w-w%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,c=a.dataKey,d=gr(o[n],c,n);return tt(i)?i(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,c=a.endX,d=this.props,f=d.x,p=d.width,m=d.travellerWidth,g=d.startIndex,y=d.endIndex,w=d.onChange,S=n.pageX-o;S>0?S=Math.min(S,f+p-m-c,f+p-m-i):S<0&&(S=Math.max(S,f-i,f-c));var b=this.getIndex({startX:i+S,endX:c+S});(b.startIndex!==g||b.endIndex!==y)&&w&&w(b),this.setState({startX:i+S,endX:c+S,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=zD(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,c=a.endX,d=a.startX,f=this.state[i],p=this.props,m=p.x,g=p.width,y=p.travellerWidth,w=p.onChange,S=p.gap,b=p.data,k={startX:this.state.startX,endX:this.state.endX},C=n.pageX-o;C>0?C=Math.min(C,m+g-y-f):C<0&&(C=Math.max(C,m-f)),k[i]=f+C;var $=this.getIndex(k),L=$.startIndex,T=$.endIndex,P=function(){var N=b.length-1;return i==="startX"&&(c>d?L%S===0:T%S===0)||c<d&&T===N||i==="endX"&&(c>d?T%S===0:L%S===0)||c>d&&T===N};this.setState(Tn(Tn({},i,f+C),"brushMoveStartX",n.pageX),function(){w&&P()&&w($)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,c=i.scaleValues,d=i.startX,f=i.endX,p=this.state[a],m=c.indexOf(p);if(m!==-1){var g=m+n;if(!(g===-1||g>=c.length)){var y=c[g];a==="startX"&&y>=f||a==="endX"&&y<=d||this.setState(Tn({},a,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,c=n.height,d=n.fill,f=n.stroke;return H.createElement("rect",{stroke:f,fill:d,x:a,y:o,width:i,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,c=n.height,d=n.data,f=n.children,p=n.padding,m=_.Children.only(f);return m?H.cloneElement(m,{x:a,y:o,width:i,height:c,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,c=this,d=this.props,f=d.y,p=d.travellerWidth,m=d.height,g=d.traveller,y=d.ariaLabel,w=d.data,S=d.startIndex,b=d.endIndex,k=Math.max(n,this.props.x),C=US(US({},Qe(this.props,!1)),{},{x:k,y:f,width:p,height:m}),$=y||"Min value: ".concat((o=w[S])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=w[b])===null||i===void 0?void 0:i.name);return H.createElement(gt,{tabIndex:0,role:"slider","aria-label":$,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),c.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,a))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,C))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,c=o.height,d=o.stroke,f=o.travellerWidth,p=Math.min(n,a)+f,m=Math.max(Math.abs(a-n)-f,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:i,width:m,height:c})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,c=n.height,d=n.travellerWidth,f=n.stroke,p=this.state,m=p.startX,g=p.endX,y=5,w={pointerEvents:"none",fill:f};return H.createElement(gt,{className:"recharts-brush-texts"},H.createElement(Ks,Dy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-y,y:i+c/2},w),this.getTextOfTick(a)),H.createElement(Ks,Dy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+d+y,y:i+c/2},w),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,c=n.x,d=n.y,f=n.width,p=n.height,m=n.alwaysShowText,g=this.state,y=g.startX,w=g.endX,S=g.isTextActive,b=g.isSlideMoving,k=g.isTravellerMoving,C=g.isTravellerFocused;if(!a||!a.length||!Oe(c)||!Oe(d)||!Oe(f)||!Oe(p)||f<=0||p<=0)return null;var $=Ue("recharts-brush",o),L=H.Children.count(i)===1,T=f1e("userSelect","none");return H.createElement(gt,{className:$,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),L&&this.renderPanorama(),this.renderSlide(y,w),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(w,"endX"),(S||b||k||C||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,c=n.height,d=n.stroke,f=Math.floor(o+c/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:a,y:o,width:i,height:c,fill:d,stroke:"none"}),H.createElement("line",{x1:a+1,y1:f,x2:a+i-1,y2:f,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:a+1,y1:f+2,x2:a+i-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return H.isValidElement(n)?o=H.cloneElement(n,a):tt(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,c=n.x,d=n.travellerWidth,f=n.updateId,p=n.startIndex,m=n.endIndex;if(o!==a.prevData||f!==a.prevUpdateId)return US({prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:i},o&&o.length?b1e({data:o,width:i,x:c,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||c!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([c,c+i-d]);var g=a.scale.domain().map(function(y){return a.scale(y)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,c=o-1;c-i>1;){var d=Math.floor((i+c)/2);n[d]>a?c=d:i=d}return a>=n[c]?c:i}}])}(_.PureComponent);Tn(qc,"displayName","Brush");Tn(qc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var VS,FD;function w1e(){if(FD)return VS;FD=1;var e=x5();function t(r,n){var a;return e(r,function(o,i,c){return a=n(o,i,c),!a}),!!a}return VS=t,VS}var WS,qD;function S1e(){if(qD)return WS;qD=1;var e=NN(),t=lo(),r=w1e(),n=gn(),a=Dv();function o(i,c,d){var f=n(i)?e:r;return d&&a(i,c,d)&&(c=void 0),f(i,t(c,3))}return WS=o,WS}var E1e=S1e();const j1e=dt(E1e);var eo=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},YS,HD;function C1e(){if(HD)return YS;HD=1;var e=tL();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return YS=t,YS}var GS,UD;function $1e(){if(UD)return GS;UD=1;var e=C1e(),t=ZN(),r=lo();function n(a,o){var i={};return o=r(o,3),t(a,function(c,d,f){e(i,d,o(c,d,f))}),i}return GS=n,GS}var T1e=$1e();const k1e=dt(T1e);var KS,VD;function A1e(){if(VD)return KS;VD=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return KS=e,KS}var QS,WD;function O1e(){if(WD)return QS;WD=1;var e=x5();function t(r,n){var a=!0;return e(r,function(o,i,c){return a=!!n(o,i,c),a}),a}return QS=t,QS}var XS,YD;function P1e(){if(YD)return XS;YD=1;var e=A1e(),t=O1e(),r=lo(),n=gn(),a=Dv();function o(i,c,d){var f=n(i)?e:t;return d&&a(i,c,d)&&(c=void 0),f(i,r(c,3))}return XS=o,XS}var _1e=P1e();const qB=dt(_1e);var D1e=["x","y"];function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function Ij(){return Ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ij.apply(this,arguments)}function GD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(r),!0).forEach(function(n){M1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M1e(e,t,r){return t=R1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R1e(e){var t=I1e(e,"string");return Vf(t)=="symbol"?t:t+""}function I1e(e,t){if(Vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N1e(e,t){if(e==null)return{};var r=L1e(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B1e(e,t){var r=e.x,n=e.y,a=N1e(e,D1e),o="".concat(r),i=parseInt(o,10),c="".concat(n),d=parseInt(c,10),f="".concat(t.height||a.height),p=parseInt(f,10),m="".concat(t.width||a.width),g=parseInt(m,10);return Bd(Bd(Bd(Bd(Bd({},t),a),i?{x:i}:{}),d?{y:d}:{}),{},{height:p,width:g,name:t.name,radius:t.radius})}function KD(e){return H.createElement(RB,Ij({shapeType:"rectangle",propTransformer:B1e,activeClassName:"recharts-active-bar"},e))}var z1e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=typeof n=="number";return o?t(n,a):(o||Xs(),r)}},F1e=["value","background"],HB;function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function q1e(e,t){if(e==null)return{};var r=H1e(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(this,arguments)}function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(n){Ii(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VB(n.key),n)}}function V1e(e,t,r){return t&&XD(e.prototype,t),r&&XD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function W1e(e,t,r){return t=Iy(t),Y1e(e,UB()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function Y1e(e,t){if(t&&(Hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G1e(e)}function G1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UB=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}function K1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nj(e,t)}function Nj(e,t){return Nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Nj(e,t)}function Ii(e,t,r){return t=VB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VB(e){var t=Q1e(e,"string");return Hc(t)=="symbol"?t:t+""}function Q1e(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ll=function(e){function t(){var r;U1e(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=W1e(this,t,[].concat(a)),Ii(r,"state",{isAnimationFinished:!1}),Ii(r,"id",du("recharts-bar-")),Ii(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),Ii(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return K1e(t,e),V1e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,c=o.dataKey,d=o.activeIndex,f=o.activeBar,p=Qe(this.props,!1);return n&&n.map(function(m,g){var y=g===d,w=y?f:i,S=ur(ur(ur({},p),m),{},{isActive:y,option:w,index:g,dataKey:c,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return H.createElement(gt,Ry({className:"recharts-bar-rectangle"},Gs(a.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),H.createElement(KD,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,c=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,p=a.animationEasing,m=a.animationId,g=this.state.prevData;return H.createElement(ao,{begin:d,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var w=y.t,S=o.map(function(b,k){var C=g&&g[k];if(C){var $=On(C.x,b.x),L=On(C.y,b.y),T=On(C.width,b.width),P=On(C.height,b.height);return ur(ur({},b),{},{x:$(w),y:L(w),width:T(w),height:P(w)})}if(i==="horizontal"){var O=On(0,b.height),N=O(w);return ur(ur({},b),{},{y:b.y+b.height-N,height:N})}var R=On(0,b.width),D=R(w);return ur(ur({},b),{},{width:D})});return H.createElement(gt,null,n.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!vp(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,c=a.activeIndex,d=Qe(this.props.background,!1);return o.map(function(f,p){f.value;var m=f.background,g=q1e(f,F1e);if(!m)return null;var y=ur(ur(ur(ur(ur({},g),{},{fill:"#eee"},m),d),Gs(n.props,f,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:p,className:"recharts-bar-background-rectangle"});return H.createElement(KD,Ry({key:"background-bar-".concat(p),option:n.props.background,isActive:p===c},y))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,c=o.xAxis,d=o.yAxis,f=o.layout,p=o.children,m=Rn(p,xp);if(!m)return null;var g=f==="vertical"?i[0].height/2:i[0].width/2,y=function(b,k){var C=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:C,errorVal:gr(b,k)}},w={clipPath:n?"url(#clipPath-".concat(a,")"):null};return H.createElement(gt,w,m.map(function(S){return H.cloneElement(S,{key:"error-bar-".concat(a,"-").concat(S.props.dataKey),data:i,xAxis:c,yAxis:d,layout:f,offset:g,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,c=n.xAxis,d=n.yAxis,f=n.left,p=n.top,m=n.width,g=n.height,y=n.isAnimationActive,w=n.background,S=n.id;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,k=Ue("recharts-bar",i),C=c&&c.allowDataOverflow,$=d&&d.allowDataOverflow,L=C||$,T=rt(S)?this.id:S;return H.createElement(gt,{className:k},C||$?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(T)},H.createElement("rect",{x:C?f:f-m/2,y:$?p:p-g/2,width:C?m:m*2,height:$?g:g*2}))):null,H.createElement(gt,{className:"recharts-bar-rectangles",clipPath:L?"url(#clipPath-".concat(T,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(L,T),(!y||b)&&Uo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(_.PureComponent);HB=ll;Ii(ll,"displayName","Bar");Ii(ll,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!al.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ii(ll,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,c=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,p=e.dataStartIndex,m=e.displayedData,g=e.offset,y=jye(n,r);if(!y)return null;var w=t.layout,S=r.type.defaultProps,b=S!==void 0?ur(ur({},S),r.props):r.props,k=b.dataKey,C=b.children,$=b.minPointSize,L=w==="horizontal"?i:o,T=f?L.scale.domain():null,P=Pye({numericAxis:L}),O=Rn(C,Mv),N=m.map(function(R,D){var j,A,I,B,F,U;f?j=Cye(f[p+D],T):(j=gr(R,k),Array.isArray(j)||(j=[P,j]));var Y=z1e($,HB.defaultProps.minPointSize)(j[1],D);if(w==="horizontal"){var W,Q=[i.scale(j[0]),i.scale(j[1])],Z=Q[0],V=Q[1];A=E8({axis:o,ticks:c,bandSize:a,offset:y.offset,entry:R,index:D}),I=(W=V??Z)!==null&&W!==void 0?W:void 0,B=y.size;var K=Z-V;if(F=Number.isNaN(K)?0:K,U={x:A,y:i.y,width:B,height:i.height},Math.abs(Y)>0&&Math.abs(F)<Math.abs(Y)){var se=tn(F||Y)*(Math.abs(Y)-Math.abs(F));I-=se,F+=se}}else{var he=[o.scale(j[0]),o.scale(j[1])],me=he[0],ne=he[1];if(A=me,I=E8({axis:i,ticks:d,bandSize:a,offset:y.offset,entry:R,index:D}),B=ne-me,F=y.size,U={x:o.x,y:I,width:o.width,height:F},Math.abs(Y)>0&&Math.abs(B)<Math.abs(Y)){var ve=tn(B||Y)*(Math.abs(Y)-Math.abs(B));B+=ve}}return ur(ur(ur({},R),{},{x:A,y:I,width:B,height:F,value:f?j:j[1],payload:R,background:U},O&&O[D]&&O[D].props),{},{tooltipPayload:[yB(r,R)],tooltipPosition:{x:A+B/2,y:I+F/2}})});return ur({data:N,layout:w},g)});function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function X1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WB(n.key),n)}}function J1e(e,t,r){return t&&JD(e.prototype,t),r&&JD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZD(Object(r),!0).forEach(function(n){Zv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zv(e,t,r){return t=WB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WB(e){var t=Z1e(e,"string");return Wf(t)=="symbol"?t:t+""}function Z1e(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YB=function(t,r,n,a,o){var i=t.width,c=t.height,d=t.layout,f=t.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},g=!!kn(f,ll);return p.reduce(function(y,w){var S=r[w],b=S.orientation,k=S.domain,C=S.padding,$=C===void 0?{}:C,L=S.mirror,T=S.reversed,P="".concat(b).concat(L?"Mirror":""),O,N,R,D,j;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var A=k[1]-k[0],I=1/0,B=S.categoricalDomain.sort();if(B.forEach(function(he,me){me>0&&(I=Math.min((he||0)-(B[me-1]||0),I))}),Number.isFinite(I)){var F=I/A,U=S.layout==="vertical"?n.height:n.width;if(S.padding==="gap"&&(O=F*U/2),S.padding==="no-gap"){var Y=rn(t.barCategoryGap,F*U),W=F*U/2;O=W-Y-(W-Y)/U*Y}}}a==="xAxis"?N=[n.left+($.left||0)+(O||0),n.left+n.width-($.right||0)-(O||0)]:a==="yAxis"?N=d==="horizontal"?[n.top+n.height-($.bottom||0),n.top+($.top||0)]:[n.top+($.top||0)+(O||0),n.top+n.height-($.bottom||0)-(O||0)]:N=S.range,T&&(N=[N[1],N[0]]);var Q=pB(S,o,g),Z=Q.scale,V=Q.realScaleType;Z.domain(k).range(N),hB(Z);var K=mB(Z,Sa(Sa({},S),{},{realScaleType:V}));a==="xAxis"?(j=b==="top"&&!L||b==="bottom"&&L,R=n.left,D=m[P]-j*S.height):a==="yAxis"&&(j=b==="left"&&!L||b==="right"&&L,R=m[P]-j*S.width,D=n.top);var se=Sa(Sa(Sa({},S),K),{},{realScaleType:V,x:R,y:D,scale:Z,width:a==="xAxis"?n.width:S.width,height:a==="yAxis"?n.height:S.height});return se.bandSize=xy(se,K),!S.hide&&a==="xAxis"?m[P]+=(j?-1:1)*se.height:S.hide||(m[P]+=(j?-1:1)*se.width),Sa(Sa({},y),{},Zv({},w,se))},{})},GB=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},ewe=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return GB({x:r,y:n},{x:a,y:o})},KB=function(){function e(t){X1e(this,e),this.scale=t}return J1e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Zv(KB,"EPS",1e-4);var G5=function(t){var r=Object.keys(t).reduce(function(n,a){return Sa(Sa({},n),{},Zv({},a,KB.create(t[a])))},{});return Sa(Sa({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,c=o.position;return k1e(a,function(d,f){return r[f].apply(d,{bandAware:i,position:c})})},isInRange:function(a){return qB(a,function(o,i){return r[i].isInRange(o)})}})};function twe(e){return(e%180+180)%180}var rwe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=twe(a),i=o*Math.PI/180,c=Math.atan(n/r),d=i>c&&i<Math.PI-c?n/Math.sin(i):r/Math.cos(i);return Math.abs(d)},JS,eM;function nwe(){if(eM)return JS;eM=1;var e=lo(),t=pp(),r=Pv();function n(a){return function(o,i,c){var d=Object(o);if(!t(o)){var f=e(i,3);o=r(o),i=function(m){return f(d[m],m,d)}}var p=a(o,i,c);return p>-1?d[f?o[p]:p]:void 0}}return JS=n,JS}var ZS,tM;function awe(){if(tM)return ZS;tM=1;var e=LB();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return ZS=t,ZS}var eE,rM;function owe(){if(rM)return eE;rM=1;var e=GN(),t=lo(),r=awe(),n=Math.max;function a(o,i,c){var d=o==null?0:o.length;if(!d)return-1;var f=c==null?0:r(c);return f<0&&(f=n(d+f,0)),e(o,t(i,3),f)}return eE=a,eE}var tE,nM;function iwe(){if(nM)return tE;nM=1;var e=nwe(),t=owe(),r=e(t);return tE=r,tE}var swe=iwe();const lwe=dt(swe);var cwe=uN();const uwe=dt(cwe);var dwe=uwe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),K5=_.createContext(void 0),Q5=_.createContext(void 0),QB=_.createContext(void 0),XB=_.createContext({}),JB=_.createContext(void 0),ZB=_.createContext(0),e9=_.createContext(0),aM=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,c=t.children,d=t.width,f=t.height,p=dwe(o);return H.createElement(K5.Provider,{value:n},H.createElement(Q5.Provider,{value:a},H.createElement(XB.Provider,{value:o},H.createElement(QB.Provider,{value:p},H.createElement(JB.Provider,{value:i},H.createElement(ZB.Provider,{value:f},H.createElement(e9.Provider,{value:d},c)))))))},fwe=function(){return _.useContext(JB)},t9=function(t){var r=_.useContext(K5);r==null&&Xs();var n=r[t];return n==null&&Xs(),n},pwe=function(){var t=_.useContext(K5);return _i(t)},hwe=function(){var t=_.useContext(Q5),r=lwe(t,function(n){return qB(n.domain,Number.isFinite)});return r||_i(t)},r9=function(t){var r=_.useContext(Q5);r==null&&Xs();var n=r[t];return n==null&&Xs(),n},mwe=function(){var t=_.useContext(QB);return t},gwe=function(){return _.useContext(XB)},X5=function(){return _.useContext(e9)},J5=function(){return _.useContext(ZB)};function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function ywe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a9(n.key),n)}}function xwe(e,t,r){return t&&vwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bwe(e,t,r){return t=Ny(t),wwe(e,n9()?Reflect.construct(t,r||[],Ny(e).constructor):t.apply(e,r))}function wwe(e,t){if(t&&(Uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Swe(e)}function Swe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n9=function(){return!!e})()}function Ny(e){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ny(e)}function Ewe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lj(e,t)}function Lj(e,t){return Lj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Lj(e,t)}function oM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(r),!0).forEach(function(n){Z5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z5(e,t,r){return t=a9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a9(e){var t=jwe(e,"string");return Uc(t)=="symbol"?t:t+""}function jwe(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Cwe(e,t){return Awe(e)||kwe(e,t)||Twe(e,t)||$we()}function $we(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Twe(e,t){if(e){if(typeof e=="string")return sM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sM(e,t)}}function sM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,c=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(f)throw a}}return c}}function Awe(e){if(Array.isArray(e))return e}function Bj(){return Bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bj.apply(this,arguments)}var Owe=function(t,r){var n;return H.isValidElement(t)?n=H.cloneElement(t,r):tt(t)?n=t(r):n=H.createElement("line",Bj({},r,{className:"recharts-reference-line-line"})),n},Pwe=function(t,r,n,a,o,i,c,d,f){var p=o.x,m=o.y,g=o.width,y=o.height;if(n){var w=f.y,S=t.y.apply(w,{position:i});if(eo(f,"discard")&&!t.y.isInRange(S))return null;var b=[{x:p+g,y:S},{x:p,y:S}];return d==="left"?b.reverse():b}if(r){var k=f.x,C=t.x.apply(k,{position:i});if(eo(f,"discard")&&!t.x.isInRange(C))return null;var $=[{x:C,y:m+y},{x:C,y:m}];return c==="top"?$.reverse():$}if(a){var L=f.segment,T=L.map(function(P){return t.apply(P,{position:i})});return eo(f,"discard")&&j1e(T,function(P){return!t.isInRange(P)})?null:T}return null};function _we(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,c=e.className,d=e.alwaysShow,f=fwe(),p=t9(a),m=r9(o),g=mwe();if(!f||!g)return null;ka(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=G5({x:p.scale,y:m.scale}),w=yr(t),S=yr(r),b=n&&n.length===2,k=Pwe(y,w,S,b,g,e.position,p.orientation,m.orientation,e);if(!k)return null;var C=Cwe(k,2),$=C[0],L=$.x,T=$.y,P=C[1],O=P.x,N=P.y,R=eo(e,"hidden")?"url(#".concat(f,")"):void 0,D=iM(iM({clipPath:R},Qe(e,!0)),{},{x1:L,y1:T,x2:O,y2:N});return H.createElement(gt,{className:Ue("recharts-reference-line",c)},Owe(i,D),$r.renderCallByParent(e,ewe({x1:L,y1:T,x2:O,y2:N})))}var e4=function(e){function t(){return ywe(this,t),bwe(this,t,arguments)}return Ewe(t,e),xwe(t,[{key:"render",value:function(){return H.createElement(_we,this.props)}}])}(H.Component);Z5(e4,"displayName","ReferenceLine");Z5(e4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function zj(){return zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zj.apply(this,arguments)}function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function lM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(r),!0).forEach(function(n){ex(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i9(n.key),n)}}function Rwe(e,t,r){return t&&Mwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iwe(e,t,r){return t=Ly(t),Nwe(e,o9()?Reflect.construct(t,r||[],Ly(e).constructor):t.apply(e,r))}function Nwe(e,t){if(t&&(Vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lwe(e)}function Lwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o9=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ly(e)}function Bwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fj(e,t)}function Fj(e,t){return Fj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fj(e,t)}function ex(e,t,r){return t=i9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i9(e){var t=zwe(e,"string");return Vc(t)=="symbol"?t:t+""}function zwe(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fwe=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=G5({x:a.scale,y:o.scale}),c=i.apply({x:r,y:n},{bandAware:!0});return eo(t,"discard")&&!i.isInRange(c)?null:c},tx=function(e){function t(){return Dwe(this,t),Iwe(this,t,arguments)}return Bwe(t,e),Rwe(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,c=n.alwaysShow,d=n.clipPathId,f=yr(a),p=yr(o);if(ka(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var m=Fwe(this.props);if(!m)return null;var g=m.x,y=m.y,w=this.props,S=w.shape,b=w.className,k=eo(this.props,"hidden")?"url(#".concat(d,")"):void 0,C=cM(cM({clipPath:k},Qe(this.props,!0)),{},{cx:g,cy:y});return H.createElement(gt,{className:Ue("recharts-reference-dot",b)},t.renderDot(S,C),$r.renderCallByParent(this.props,{x:g-i,y:y-i,width:2*i,height:2*i}))}}])}(H.Component);ex(tx,"displayName","ReferenceDot");ex(tx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ex(tx,"renderDot",function(e,t){var r;return H.isValidElement(e)?r=H.cloneElement(e,t):tt(e)?r=e(t):r=H.createElement(Wv,zj({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function qj(){return qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qj.apply(this,arguments)}function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function uM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uM(Object(r),!0).forEach(function(n){rx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l9(n.key),n)}}function Uwe(e,t,r){return t&&Hwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vwe(e,t,r){return t=By(t),Wwe(e,s9()?Reflect.construct(t,r||[],By(e).constructor):t.apply(e,r))}function Wwe(e,t){if(t&&(Wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ywe(e)}function Ywe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s9=function(){return!!e})()}function By(e){return By=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},By(e)}function Gwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hj(e,t)}function Hj(e,t){return Hj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hj(e,t)}function rx(e,t,r){return t=l9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l9(e){var t=Kwe(e,"string");return Wc(t)=="symbol"?t:t+""}function Kwe(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qwe=function(t,r,n,a,o){var i=o.x1,c=o.x2,d=o.y1,f=o.y2,p=o.xAxis,m=o.yAxis;if(!p||!m)return null;var g=G5({x:p.scale,y:m.scale}),y={x:t?g.x.apply(i,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(d,{position:"start"}):g.y.rangeMin},w={x:r?g.x.apply(c,{position:"end"}):g.x.rangeMax,y:a?g.y.apply(f,{position:"end"}):g.y.rangeMax};return eo(o,"discard")&&(!g.isInRange(y)||!g.isInRange(w))?null:GB(y,w)},nx=function(e){function t(){return qwe(this,t),Vwe(this,t,arguments)}return Gwe(t,e),Uwe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,c=n.y2,d=n.className,f=n.alwaysShow,p=n.clipPathId;ka(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=yr(a),g=yr(o),y=yr(i),w=yr(c),S=this.props.shape;if(!m&&!g&&!y&&!w&&!S)return null;var b=Qwe(m,g,y,w,this.props);if(!b&&!S)return null;var k=eo(this.props,"hidden")?"url(#".concat(p,")"):void 0;return H.createElement(gt,{className:Ue("recharts-reference-area",d)},t.renderRect(S,dM(dM({clipPath:k},Qe(this.props,!0)),b)),$r.renderCallByParent(this.props,b))}}])}(H.Component);rx(nx,"displayName","ReferenceArea");rx(nx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});rx(nx,"renderRect",function(e,t){var r;return H.isValidElement(e)?r=H.cloneElement(e,t):tt(e)?r=e(t):r=H.createElement(Y5,qj({},t,{className:"recharts-reference-area-rect"})),r});function c9(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Xwe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return rwe(n,r)}function Jwe(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,c=e.height;return t===1?{start:n?a:o,end:n?a+i:o+c}:{start:n?a+i:o+c,end:n?a:o}}function zy(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function Zwe(e,t){return c9(e,t+1)}function e2e(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,c=t.end,d=0,f=1,p=i,m=function(){var w=n==null?void 0:n[d];if(w===void 0)return{v:c9(n,f)};var S=d,b,k=function(){return b===void 0&&(b=r(w,S)),b},C=w.coordinate,$=d===0||zy(e,C,k,p,c);$||(d=0,p=i,f+=1),$&&(p=C+e*(k()/2+a),d+=f)},g;f<=o.length;)if(g=m(),g)return g.v;return[]}function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function fM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(r),!0).forEach(function(n){t2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t2e(e,t,r){return t=r2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r2e(e){var t=n2e(e,"string");return Yf(t)=="symbol"?t:t+""}function n2e(e,t){if(Yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a2e(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,c=t.start,d=t.end,f=function(g){var y=o[g],w,S=function(){return w===void 0&&(w=r(y,g)),w};if(g===i-1){var b=e*(y.coordinate+e*S()/2-d);o[g]=y=Hr(Hr({},y),{},{tickCoord:b>0?y.coordinate-b*e:y.coordinate})}else o[g]=y=Hr(Hr({},y),{},{tickCoord:y.coordinate});var k=zy(e,y.tickCoord,S,c,d);k&&(d=y.tickCoord-e*(S()/2+a),o[g]=Hr(Hr({},y),{},{isShow:!0}))},p=i-1;p>=0;p--)f(p);return o}function o2e(e,t,r,n,a,o){var i=(n||[]).slice(),c=i.length,d=t.start,f=t.end;if(o){var p=n[c-1],m=r(p,c-1),g=e*(p.coordinate+e*m/2-f);i[c-1]=p=Hr(Hr({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate});var y=zy(e,p.tickCoord,function(){return m},d,f);y&&(f=p.tickCoord-e*(m/2+a),i[c-1]=Hr(Hr({},p),{},{isShow:!0}))}for(var w=o?c-1:c,S=function(C){var $=i[C],L,T=function(){return L===void 0&&(L=r($,C)),L};if(C===0){var P=e*($.coordinate-e*T()/2-d);i[C]=$=Hr(Hr({},$),{},{tickCoord:P<0?$.coordinate-P*e:$.coordinate})}else i[C]=$=Hr(Hr({},$),{},{tickCoord:$.coordinate});var O=zy(e,$.tickCoord,T,d,f);O&&(d=$.tickCoord+e*(T()/2+a),i[C]=Hr(Hr({},$),{},{isShow:!0}))},b=0;b<w;b++)S(b);return i}function t4(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,c=e.orientation,d=e.interval,f=e.tickFormatter,p=e.unit,m=e.angle;if(!a||!a.length||!n)return[];if(Oe(d)||al.isSsr)return Zwe(a,typeof d=="number"&&Oe(d)?d:0);var g=[],y=c==="top"||c==="bottom"?"width":"height",w=p&&y==="width"?Jd(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},S=function($,L){var T=tt(f)?f($.value,L):$.value;return y==="width"?Xwe(Jd(T,{fontSize:t,letterSpacing:r}),w,m):Jd(T,{fontSize:t,letterSpacing:r})[y]},b=a.length>=2?tn(a[1].coordinate-a[0].coordinate):1,k=Jwe(o,b,y);return d==="equidistantPreserveStart"?e2e(b,k,S,a,i):(d==="preserveStart"||d==="preserveStartEnd"?g=o2e(b,k,S,a,i,d==="preserveStartEnd"):g=a2e(b,k,S,a,i),g.filter(function(C){return C.isShow}))}var i2e=["viewBox"],s2e=["viewBox"],l2e=["ticks"];function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nc.apply(this,arguments)}function pM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(r),!0).forEach(function(n){r4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rE(e,t){if(e==null)return{};var r=c2e(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function u2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d9(n.key),n)}}function d2e(e,t,r){return t&&hM(e.prototype,t),r&&hM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f2e(e,t,r){return t=Fy(t),p2e(e,u9()?Reflect.construct(t,r||[],Fy(e).constructor):t.apply(e,r))}function p2e(e,t){if(t&&(Yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h2e(e)}function h2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u9=function(){return!!e})()}function Fy(e){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fy(e)}function m2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uj(e,t)}function Uj(e,t){return Uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uj(e,t)}function r4(e,t,r){return t=d9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d9(e){var t=g2e(e,"string");return Yc(t)=="symbol"?t:t+""}function g2e(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gu=function(e){function t(r){var n;return u2e(this,t),n=f2e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return m2e(t,e),d2e(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=rE(n,i2e),c=this.props,d=c.viewBox,f=rE(c,s2e);return!fc(o,d)||!fc(i,f)||!fc(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,c=a.width,d=a.height,f=a.orientation,p=a.tickSize,m=a.mirror,g=a.tickMargin,y,w,S,b,k,C,$=m?-1:1,L=n.tickSize||p,T=Oe(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":y=w=n.coordinate,b=i+ +!m*d,S=b-$*L,C=S-$*g,k=T;break;case"left":S=b=n.coordinate,w=o+ +!m*c,y=w-$*L,k=y-$*g,C=T;break;case"right":S=b=n.coordinate,w=o+ +m*c,y=w+$*L,k=y+$*g,C=T;break;default:y=w=n.coordinate,b=i+ +m*d,S=b+$*L,C=S+$*g,k=T;break}return{line:{x1:y,y1:S,x2:w,y2:b},tick:{x:k,y:C}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,c=n.height,d=n.orientation,f=n.mirror,p=n.axisLine,m=Xr(Xr(Xr({},Qe(this.props,!1)),Qe(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!f||d==="bottom"&&f);m=Xr(Xr({},m),{},{x1:a,y1:o+g*c,x2:a+i,y2:o+g*c})}else{var y=+(d==="left"&&!f||d==="right"&&f);m=Xr(Xr({},m),{},{x1:a+y*i,y1:o,x2:a+y*i,y2:o+c})}return H.createElement("line",nc({},m,{className:Ue("recharts-cartesian-axis-line",Mn(p,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,c=this.props,d=c.tickLine,f=c.stroke,p=c.tick,m=c.tickFormatter,g=c.unit,y=t4(Xr(Xr({},this.props),{},{ticks:n}),a,o),w=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),b=Qe(this.props,!1),k=Qe(p,!1),C=Xr(Xr({},b),{},{fill:"none"},Qe(d,!1)),$=y.map(function(L,T){var P=i.getTickLineCoord(L),O=P.line,N=P.tick,R=Xr(Xr(Xr(Xr({textAnchor:w,verticalAnchor:S},b),{},{stroke:"none",fill:f},k),N),{},{index:T,payload:L,visibleTicksCount:y.length,tickFormatter:m});return H.createElement(gt,nc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},Gs(i.props,L,T)),d&&H.createElement("line",nc({},C,O,{className:Ue("recharts-cartesian-axis-tick-line",Mn(d,"className"))})),p&&t.renderTickItem(p,R,"".concat(tt(m)?m(L.value,T):L.value).concat(g||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},$)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,c=a.height,d=a.ticksGenerator,f=a.className,p=a.hide;if(p)return null;var m=this.props,g=m.ticks,y=rE(m,l2e),w=g;return tt(d)&&(w=g&&g.length>0?d(this.props):d(y)),i<=0||c<=0||!w||!w.length?null:H.createElement(gt,{className:Ue("recharts-cartesian-axis",f),ref:function(b){n.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),$r.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i;return H.isValidElement(n)?i=H.cloneElement(n,a):tt(n)?i=n(a):i=H.createElement(Ks,nc({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(_.Component);r4(gu,"displayName","CartesianAxis");r4(gu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var y2e=["x1","y1","x2","y2","key"],v2e=["offset"];function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function mM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mM(Object(r),!0).forEach(function(n){x2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x2e(e,t,r){return t=b2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b2e(e){var t=w2e(e,"string");return Js(t)=="symbol"?t:t+""}function w2e(e,t){if(Js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ks.apply(this,arguments)}function gM(e,t){if(e==null)return{};var r=S2e(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var E2e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,c=t.height,d=t.ry;return H.createElement("rect",{x:a,y:o,ry:d,width:i,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function f9(e,t){var r;if(H.isValidElement(e))r=H.cloneElement(e,t);else if(tt(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,c=t.key,d=gM(t,y2e),f=Qe(d,!1);f.offset;var p=gM(f,v2e);r=H.createElement("line",ks({},p,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:c}))}return r}function j2e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(c,d){var f=Ur(Ur({},e),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(d),index:d});return f9(a,f)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function C2e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(c,d){var f=Ur(Ur({},e),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(d),index:d});return f9(a,f)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function $2e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,c=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var p=c.map(function(g){return Math.round(g+a-a)}).sort(function(g,y){return g-y});a!==p[0]&&p.unshift(0);var m=p.map(function(g,y){var w=!p[y+1],S=w?a+i-g:p[y+1]-g;if(S<=0)return null;var b=y%t.length;return H.createElement("rect",{key:"react-".concat(y),y:g,x:n,height:S,width:o,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function T2e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,c=e.width,d=e.height,f=e.verticalPoints;if(!r||!n||!n.length)return null;var p=f.map(function(g){return Math.round(g+o-o)}).sort(function(g,y){return g-y});o!==p[0]&&p.unshift(0);var m=p.map(function(g,y){var w=!p[y+1],S=w?o+c-g:p[y+1]-g;if(S<=0)return null;var b=y%n.length;return H.createElement("rect",{key:"react-".concat(y),x:g,y:i,width:S,height:d,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var k2e=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return fB(t4(Ur(Ur(Ur({},gu.defaultProps),n),{},{ticks:Do(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},A2e=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return fB(t4(Ur(Ur(Ur({},gu.defaultProps),n),{},{ticks:Do(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},Ul={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function pg(e){var t,r,n,a,o,i,c=X5(),d=J5(),f=gwe(),p=Ur(Ur({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ul.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ul.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ul.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ul.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Ul.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Ul.verticalFill,x:Oe(e.x)?e.x:f.left,y:Oe(e.y)?e.y:f.top,width:Oe(e.width)?e.width:f.width,height:Oe(e.height)?e.height:f.height}),m=p.x,g=p.y,y=p.width,w=p.height,S=p.syncWithTicks,b=p.horizontalValues,k=p.verticalValues,C=pwe(),$=hwe();if(!Oe(y)||y<=0||!Oe(w)||w<=0||!Oe(m)||m!==+m||!Oe(g)||g!==+g)return null;var L=p.verticalCoordinatesGenerator||k2e,T=p.horizontalCoordinatesGenerator||A2e,P=p.horizontalPoints,O=p.verticalPoints;if((!P||!P.length)&&tt(T)){var N=b&&b.length,R=T({yAxis:$?Ur(Ur({},$),{},{ticks:N?b:$.ticks}):void 0,width:c,height:d,offset:f},N?!0:S);ka(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Js(R),"]")),Array.isArray(R)&&(P=R)}if((!O||!O.length)&&tt(L)){var D=k&&k.length,j=L({xAxis:C?Ur(Ur({},C),{},{ticks:D?k:C.ticks}):void 0,width:c,height:d,offset:f},D?!0:S);ka(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Js(j),"]")),Array.isArray(j)&&(O=j)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(E2e,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),H.createElement(j2e,ks({},p,{offset:f,horizontalPoints:P,xAxis:C,yAxis:$})),H.createElement(C2e,ks({},p,{offset:f,verticalPoints:O,xAxis:C,yAxis:$})),H.createElement($2e,ks({},p,{horizontalPoints:P})),H.createElement(T2e,ks({},p,{verticalPoints:O})))}pg.displayName="CartesianGrid";var O2e=["type","layout","connectNulls","ref"],P2e=["key"];function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function yM(e,t){if(e==null)return{};var r=_2e(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},af.apply(this,arguments)}function vM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vM(Object(r),!0).forEach(function(n){Ea(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vl(e){return I2e(e)||R2e(e)||M2e(e)||D2e()}function D2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M2e(e,t){if(e){if(typeof e=="string")return Vj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vj(e,t)}}function R2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I2e(e){if(Array.isArray(e))return Vj(e)}function Vj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h9(n.key),n)}}function L2e(e,t,r){return t&&xM(e.prototype,t),r&&xM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function B2e(e,t,r){return t=qy(t),z2e(e,p9()?Reflect.construct(t,r||[],qy(e).constructor):t.apply(e,r))}function z2e(e,t){if(t&&(Gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F2e(e)}function F2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p9=function(){return!!e})()}function qy(e){return qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qy(e)}function q2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wj(e,t)}function Wj(e,t){return Wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wj(e,t)}function Ea(e,t,r){return t=h9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h9(e){var t=H2e(e,"string");return Gc(t)=="symbol"?t:t+""}function H2e(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ni=function(e){function t(){var r;N2e(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=B2e(this,t,[].concat(a)),Ea(r,"state",{isAnimationFinished:!0,totalLength:0}),Ea(r,"generateSimpleStrokeDasharray",function(i,c){return"".concat(c,"px ").concat(i-c,"px")}),Ea(r,"getStrokeDasharray",function(i,c,d){var f=d.reduce(function(k,C){return k+C});if(!f)return r.generateSimpleStrokeDasharray(c,i);for(var p=Math.floor(i/f),m=i%f,g=c-i,y=[],w=0,S=0;w<d.length;S+=d[w],++w)if(S+d[w]>m){y=[].concat(Vl(d.slice(0,w)),[m-S]);break}var b=y.length%2===0?[0,g]:[g];return[].concat(Vl(t.repeat(d,p)),Vl(y),b).map(function(k){return"".concat(k,"px")}).join(", ")}),Ea(r,"id",du("recharts-line-")),Ea(r,"pathRef",function(i){r.mainCurve=i}),Ea(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ea(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return q2e(t,e),L2e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,c=o.xAxis,d=o.yAxis,f=o.layout,p=o.children,m=Rn(p,xp);if(!m)return null;var g=function(S,b){return{x:S.x,y:S.y,value:S.value,errorVal:gr(S.payload,b)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return H.createElement(gt,y,m.map(function(w){return H.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:i,xAxis:c,yAxis:d,layout:f,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.dot,f=c.points,p=c.dataKey,m=Qe(this.props,!1),g=Qe(d,!0),y=f.map(function(S,b){var k=Cn(Cn(Cn({key:"dot-".concat(b),r:3},m),g),{},{index:b,cx:S.x,cy:S.y,value:S.value,dataKey:p,payload:S.payload,points:f});return t.renderDotItem(d,k)}),w={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return H.createElement(gt,af({className:"recharts-line-dots",key:"dots"},w),y)}},{key:"renderCurveStatically",value:function(n,a,o,i){var c=this.props,d=c.type,f=c.layout,p=c.connectNulls;c.ref;var m=yM(c,O2e),g=Cn(Cn(Cn({},Qe(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:d,layout:f,connectNulls:p});return H.createElement(Sy,af({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,c=i.points,d=i.strokeDasharray,f=i.isAnimationActive,p=i.animationBegin,m=i.animationDuration,g=i.animationEasing,y=i.animationId,w=i.animateNewValues,S=i.width,b=i.height,k=this.state,C=k.prevPoints,$=k.totalLength;return H.createElement(ao,{begin:p,duration:m,isActive:f,easing:g,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(L){var T=L.t;if(C){var P=C.length/c.length,O=c.map(function(A,I){var B=Math.floor(I*P);if(C[B]){var F=C[B],U=On(F.x,A.x),Y=On(F.y,A.y);return Cn(Cn({},A),{},{x:U(T),y:Y(T)})}if(w){var W=On(S*2,A.x),Q=On(b/2,A.y);return Cn(Cn({},A),{},{x:W(T),y:Q(T)})}return Cn(Cn({},A),{},{x:A.x,y:A.y})});return o.renderCurveStatically(O,n,a)}var N=On(0,$),R=N(T),D;if(d){var j="".concat(d).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});D=o.getStrokeDasharray(R,$,j)}else D=o.generateSimpleStrokeDasharray($,R);return o.renderCurveStatically(c,n,a,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,c=o.isAnimationActive,d=this.state,f=d.prevPoints,p=d.totalLength;return c&&i&&i.length&&(!f&&p>0||!vp(f,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,c=a.points,d=a.className,f=a.xAxis,p=a.yAxis,m=a.top,g=a.left,y=a.width,w=a.height,S=a.isAnimationActive,b=a.id;if(o||!c||!c.length)return null;var k=this.state.isAnimationFinished,C=c.length===1,$=Ue("recharts-line",d),L=f&&f.allowDataOverflow,T=p&&p.allowDataOverflow,P=L||T,O=rt(b)?this.id:b,N=(n=Qe(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=N.r,D=R===void 0?3:R,j=N.strokeWidth,A=j===void 0?2:j,I=wce(i)?i:{},B=I.clipDot,F=B===void 0?!0:B,U=D*2+A;return H.createElement(gt,{className:$},L||T?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(O)},H.createElement("rect",{x:L?g:g-y/2,y:T?m:m-w/2,width:L?y:y*2,height:T?w:w*2})),!F&&H.createElement("clipPath",{id:"clipPath-dots-".concat(O)},H.createElement("rect",{x:g-U/2,y:m-U/2,width:y+U,height:w+U}))):null,!C&&this.renderCurve(P,O),this.renderErrorBar(P,O),(C||i)&&this.renderDots(P,F,O),(!S||k)&&Uo.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(Vl(n),[0]):n,i=[],c=0;c<a;++c)i=[].concat(Vl(i),Vl(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(H.isValidElement(n))o=H.cloneElement(n,a);else if(tt(n))o=n(a);else{var i=a.key,c=yM(a,P2e),d=Ue("recharts-line-dot",typeof n!="boolean"?n.className:"");o=H.createElement(Wv,af({key:i},c,{className:d}))}return o}}])}(_.PureComponent);Ea(Ni,"displayName","Line");Ea(Ni,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!al.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ea(Ni,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,c=e.bandSize,d=e.displayedData,f=e.offset,p=t.layout,m=d.map(function(g,y){var w=gr(g,i);return p==="horizontal"?{x:S8({axis:r,ticks:a,bandSize:c,entry:g,index:y}),y:rt(w)?null:n.scale(w),value:w,payload:g}:{x:rt(w)?null:r.scale(w),y:S8({axis:n,ticks:o,bandSize:c,entry:g,index:y}),value:w,payload:g}});return Cn({points:m,layout:p},f)});function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function U2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y9(n.key),n)}}function W2e(e,t,r){return t&&V2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y2e(e,t,r){return t=Hy(t),G2e(e,m9()?Reflect.construct(t,r||[],Hy(e).constructor):t.apply(e,r))}function G2e(e,t){if(t&&(Kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K2e(e)}function K2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m9=function(){return!!e})()}function Hy(e){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hy(e)}function Q2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yj(e,t)}function Yj(e,t){return Yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yj(e,t)}function g9(e,t,r){return t=y9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y9(e){var t=X2e(e,"string");return Kc(t)=="symbol"?t:t+""}function X2e(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gj(){return Gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gj.apply(this,arguments)}function J2e(e){var t=e.xAxisId,r=X5(),n=J5(),a=t9(t);return a==null?null:H.createElement(gu,Gj({},a,{className:Ue("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Do(i,!0)}}))}var Bs=function(e){function t(){return U2e(this,t),Y2e(this,t,arguments)}return Q2e(t,e),W2e(t,[{key:"render",value:function(){return H.createElement(J2e,this.props)}}])}(H.Component);g9(Bs,"displayName","XAxis");g9(Bs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function Z2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b9(n.key),n)}}function tSe(e,t,r){return t&&eSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rSe(e,t,r){return t=Uy(t),nSe(e,v9()?Reflect.construct(t,r||[],Uy(e).constructor):t.apply(e,r))}function nSe(e,t){if(t&&(Qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aSe(e)}function aSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v9=function(){return!!e})()}function Uy(e){return Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uy(e)}function oSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kj(e,t)}function Kj(e,t){return Kj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kj(e,t)}function x9(e,t,r){return t=b9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b9(e){var t=iSe(e,"string");return Qc(t)=="symbol"?t:t+""}function iSe(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qj(){return Qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qj.apply(this,arguments)}var sSe=function(t){var r=t.yAxisId,n=X5(),a=J5(),o=r9(r);return o==null?null:H.createElement(gu,Qj({},o,{className:Ue("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(c){return Do(c,!0)}}))},zs=function(e){function t(){return Z2e(this,t),rSe(this,t,arguments)}return oSe(t,e),tSe(t,[{key:"render",value:function(){return H.createElement(sSe,this.props)}}])}(H.Component);x9(zs,"displayName","YAxis");x9(zs,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function bM(e){return dSe(e)||uSe(e)||cSe(e)||lSe()}function lSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cSe(e,t){if(e){if(typeof e=="string")return Xj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xj(e,t)}}function uSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dSe(e){if(Array.isArray(e))return Xj(e)}function Xj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jj=function(t,r,n,a,o){var i=Rn(t,e4),c=Rn(t,tx),d=[].concat(bM(i),bM(c)),f=Rn(t,nx),p="".concat(a,"Id"),m=a[0],g=r;if(d.length&&(g=d.reduce(function(S,b){if(b.props[p]===n&&eo(b.props,"extendDomain")&&Oe(b.props[m])){var k=b.props[m];return[Math.min(S[0],k),Math.max(S[1],k)]}return S},g)),f.length){var y="".concat(m,"1"),w="".concat(m,"2");g=f.reduce(function(S,b){if(b.props[p]===n&&eo(b.props,"extendDomain")&&Oe(b.props[y])&&Oe(b.props[w])){var k=b.props[y],C=b.props[w];return[Math.min(S[0],k,C),Math.max(S[1],k,C)]}return S},g)}return o&&o.length&&(g=o.reduce(function(S,b){return Oe(b)?[Math.min(S[0],b),Math.max(S[1],b)]:S},g)),g},nE={exports:{}},wM;function fSe(){return wM||(wM=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function o(d,f,p,m,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new a(p,m||d,g),w=r?r+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],y]:d._events[w].push(y):(d._events[w]=y,d._eventsCount++),d}function i(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)t.call(p,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=r?r+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,y=m.length,w=new Array(y);g<y;g++)w[g]=m[g].fn;return w},c.prototype.listenerCount=function(f){var p=r?r+f:f,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,p,m,g,y,w){var S=r?r+f:f;if(!this._events[S])return!1;var b=this._events[S],k=arguments.length,C,$;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),k){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,p),!0;case 3:return b.fn.call(b.context,p,m),!0;case 4:return b.fn.call(b.context,p,m,g),!0;case 5:return b.fn.call(b.context,p,m,g,y),!0;case 6:return b.fn.call(b.context,p,m,g,y,w),!0}for($=1,C=new Array(k-1);$<k;$++)C[$-1]=arguments[$];b.fn.apply(b.context,C)}else{var L=b.length,T;for($=0;$<L;$++)switch(b[$].once&&this.removeListener(f,b[$].fn,void 0,!0),k){case 1:b[$].fn.call(b[$].context);break;case 2:b[$].fn.call(b[$].context,p);break;case 3:b[$].fn.call(b[$].context,p,m);break;case 4:b[$].fn.call(b[$].context,p,m,g);break;default:if(!C)for(T=1,C=new Array(k-1);T<k;T++)C[T-1]=arguments[T];b[$].fn.apply(b[$].context,C)}}return!0},c.prototype.on=function(f,p,m){return o(this,f,p,m,!1)},c.prototype.once=function(f,p,m){return o(this,f,p,m,!0)},c.prototype.removeListener=function(f,p,m,g){var y=r?r+f:f;if(!this._events[y])return this;if(!p)return i(this,y),this;var w=this._events[y];if(w.fn)w.fn===p&&(!g||w.once)&&(!m||w.context===m)&&i(this,y);else{for(var S=0,b=[],k=w.length;S<k;S++)(w[S].fn!==p||g&&!w[S].once||m&&w[S].context!==m)&&b.push(w[S]);b.length?this._events[y]=b.length===1?b[0]:b:i(this,y)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&i(this,p)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c}(nE)),nE.exports}var pSe=fSe();const hSe=dt(pSe);var aE=new hSe,oE="recharts.syncMouseEvents";function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function mSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w9(n.key),n)}}function ySe(e,t,r){return t&&gSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iE(e,t,r){return t=w9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w9(e){var t=vSe(e,"string");return Gf(t)=="symbol"?t:t+""}function vSe(e,t){if(Gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xSe=function(){function e(){mSe(this,e),iE(this,"activeIndex",0),iE(this,"coordinateList",[]),iE(this,"layout","horizontal")}return ySe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,c=i===void 0?null:i,d=r.layout,f=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,g=r.mouseHandlerCallback,y=g===void 0?null:g;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,c=a.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=o+d+f,g=i+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])}();function bSe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Oe(n)&&Oe(a))return!0}return!1}function wSe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function S9(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Rt(t,r,n,a),c=Rt(t,r,n,o);return{points:[i,c],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function SSe(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var c=t.cx,d=t.cy,f=t.innerRadius,p=t.outerRadius,m=t.angle,g=Rt(c,d,f,m),y=Rt(c,d,p,m);n=g.x,a=g.y,o=y.x,i=y.y}else return S9(t);return[{x:n,y:a},{x:o,y:i}]}function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(r),!0).forEach(function(n){ESe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ESe(e,t,r){return t=jSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jSe(e){var t=CSe(e,"string");return Kf(t)=="symbol"?t:t+""}function CSe(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Se(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,c=e.activePayload,d=e.offset,f=e.activeTooltipIndex,p=e.tooltipAxisBandSize,m=e.layout,g=e.chartName,y=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!o||!i||g!=="ScatterChart"&&a!=="axis")return null;var w,S=Sy;if(g==="ScatterChart")w=i,S=Y0e;else if(g==="BarChart")w=wSe(m,i,d,p),S=Y5;else if(m==="radial"){var b=S9(i),k=b.cx,C=b.cy,$=b.radius,L=b.startAngle,T=b.endAngle;w={cx:k,cy:C,startAngle:L,endAngle:T,innerRadius:$,outerRadius:$},S=EB}else w={points:SSe(m,i,d)},S=Sy;var P=zm(zm(zm(zm({stroke:"#ccc",pointerEvents:"none"},d),w),Qe(y,!1)),{},{payload:c,payloadIndex:f,className:Ue("recharts-tooltip-cursor",y.className)});return _.isValidElement(y)?_.cloneElement(y,P):_.createElement(S,P)}var TSe=["item"],kSe=["children","className","width","height","style","compact","title","desc"];function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ac.apply(this,arguments)}function EM(e,t){return PSe(e)||OSe(e,t)||j9(e,t)||ASe()}function ASe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,c=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(f)throw a}}return c}}function PSe(e){if(Array.isArray(e))return e}function jM(e,t){if(e==null)return{};var r=_Se(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Se(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C9(n.key),n)}}function RSe(e,t,r){return t&&MSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ISe(e,t,r){return t=Vy(t),NSe(e,E9()?Reflect.construct(t,r||[],Vy(e).constructor):t.apply(e,r))}function NSe(e,t){if(t&&(Xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LSe(e)}function LSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E9=function(){return!!e})()}function Vy(e){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vy(e)}function BSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zj(e,t)}function Zj(e,t){return Zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zj(e,t)}function Jc(e){return qSe(e)||FSe(e)||j9(e)||zSe()}function zSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j9(e,t){if(e){if(typeof e=="string")return eC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eC(e,t)}}function FSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qSe(e){if(Array.isArray(e))return eC(e)}function eC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(r),!0).forEach(function(n){Xe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xe(e,t,r){return t=C9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C9(e){var t=HSe(e,"string");return Xc(t)=="symbol"?t:t+""}function HSe(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var USe={xAxis:["bottom","top"],yAxis:["left","right"]},VSe={width:"100%",height:"100%"},$9={x:0,y:0};function Fm(e){return e}var WSe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},YSe=function(t,r,n,a){var o=r.find(function(p){return p&&p.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,c=a.radius;return fe(fe(fe({},a),Rt(a.cx,a.cy,c,i)),{},{angle:i,radius:c})}var d=o.coordinate,f=a.angle;return fe(fe(fe({},a),Rt(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return $9},ax=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(c,d){var f=d.props.data;return f&&f.length?[].concat(Jc(c),Jc(f)):c},[]);return i.length>0?i:t&&t.length&&Oe(a)&&Oe(o)?t.slice(a,o+1):[]};function T9(e){return e==="number"?[0,"auto"]:void 0}var tC=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,c=ax(r,t);return n<0||!o||!o.length||n>=c.length?null:o.reduce(function(d,f){var p,m=(p=f.props.data)!==null&&p!==void 0?p:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(i.dataKey&&!i.allowDuplicatedCategory){var y=m===void 0?c:m;g=Gg(y,i.dataKey,a)}else g=m&&m[n]||c[n];return g?[].concat(Jc(d),[yB(f,g)]):d},[])},$M=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=WSe(o,n),c=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,p=vye(i,c,f,d);if(p>=0&&f){var m=f[p]&&f[p].value,g=tC(t,r,p,m),y=YSe(n,c,p,o);return{activeTooltipIndex:p,activeLabel:m,activePayload:g,activeCoordinate:y}}return null},GSe=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,m=t.children,g=t.stackOffset,y=dB(p,o);return n.reduce(function(w,S){var b,k=S.type.defaultProps!==void 0?fe(fe({},S.type.defaultProps),S.props):S.props,C=k.type,$=k.dataKey,L=k.allowDataOverflow,T=k.allowDuplicatedCategory,P=k.scale,O=k.ticks,N=k.includeHidden,R=k[i];if(w[R])return w;var D=ax(t.data,{graphicalItems:a.filter(function(K){var se,he=i in K.props?K.props[i]:(se=K.type.defaultProps)===null||se===void 0?void 0:se[i];return he===R}),dataStartIndex:d,dataEndIndex:f}),j=D.length,A,I,B;bSe(k.domain,L,C)&&(A=mj(k.domain,null,L),y&&(C==="number"||P!=="auto")&&(B=ef(D,$,"category")));var F=T9(C);if(!A||A.length===0){var U,Y=(U=k.domain)!==null&&U!==void 0?U:F;if($){if(A=ef(D,$,C),C==="category"&&y){var W=fce(A);T&&W?(I=A,A=_y(0,j)):T||(A=$8(Y,A,S).reduce(function(K,se){return K.indexOf(se)>=0?K:[].concat(Jc(K),[se])},[]))}else if(C==="category")T?A=A.filter(function(K){return K!==""&&!rt(K)}):A=$8(Y,A,S).reduce(function(K,se){return K.indexOf(se)>=0||se===""||rt(se)?K:[].concat(Jc(K),[se])},[]);else if(C==="number"){var Q=Eye(D,a.filter(function(K){var se,he,me=i in K.props?K.props[i]:(se=K.type.defaultProps)===null||se===void 0?void 0:se[i],ne="hide"in K.props?K.props.hide:(he=K.type.defaultProps)===null||he===void 0?void 0:he.hide;return me===R&&(N||!ne)}),$,o,p);Q&&(A=Q)}y&&(C==="number"||P!=="auto")&&(B=ef(D,$,"category"))}else y?A=_y(0,j):c&&c[R]&&c[R].hasStack&&C==="number"?A=g==="expand"?[0,1]:gB(c[R].stackGroups,d,f):A=uB(D,a.filter(function(K){var se=i in K.props?K.props[i]:K.type.defaultProps[i],he="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return se===R&&(N||!he)}),C,p,!0);if(C==="number")A=Jj(m,A,R,o,O),Y&&(A=mj(Y,A,L));else if(C==="category"&&Y){var Z=Y,V=A.every(function(K){return Z.indexOf(K)>=0});V&&(A=Z)}}return fe(fe({},w),{},Xe({},R,fe(fe({},k),{},{axisType:o,domain:A,categoricalDomain:B,duplicateDomain:I,originalDomain:(b=k.domain)!==null&&b!==void 0?b:F,isCategorical:y,layout:p})))},{})},KSe=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,m=t.children,g=ax(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),y=g.length,w=dB(p,o),S=-1;return n.reduce(function(b,k){var C=k.type.defaultProps!==void 0?fe(fe({},k.type.defaultProps),k.props):k.props,$=C[i],L=T9("number");if(!b[$]){S++;var T;return w?T=_y(0,y):c&&c[$]&&c[$].hasStack?(T=gB(c[$].stackGroups,d,f),T=Jj(m,T,$,o)):(T=mj(L,uB(g,n.filter(function(P){var O,N,R=i in P.props?P.props[i]:(O=P.type.defaultProps)===null||O===void 0?void 0:O[i],D="hide"in P.props?P.props.hide:(N=P.type.defaultProps)===null||N===void 0?void 0:N.hide;return R===$&&!D}),"number",p),a.defaultProps.allowDataOverflow),T=Jj(m,T,$,o)),fe(fe({},b),{},Xe({},$,fe(fe({axisType:o},a.defaultProps),{},{hide:!0,orientation:Mn(USe,"".concat(o,".").concat(S%2),null),domain:T,originalDomain:L,isCategorical:w,layout:p})))}return b},{})},QSe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.children,m="".concat(a,"Id"),g=Rn(p,o),y={};return g&&g.length?y=GSe(t,{axes:g,graphicalItems:i,axisType:a,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:f}):i&&i.length&&(y=KSe(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:f})),y},XSe=function(t){var r=_i(t),n=Do(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:b5(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:xy(r,n)}},TM=function(t){var r=t.children,n=t.defaultShowTooltip,a=kn(r,qc),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},JSe=function(t){return!t||!t.length?!1:t.some(function(r){var n=qo(r&&r.type);return n&&n.indexOf("Bar")>=0})},kM=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ZSe=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,c=t.yAxisMap,d=c===void 0?{}:c,f=n.width,p=n.height,m=n.children,g=n.margin||{},y=kn(m,qc),w=kn(m,Fi),S=Object.keys(d).reduce(function(T,P){var O=d[P],N=O.orientation;return!O.mirror&&!O.hide?fe(fe({},T),{},Xe({},N,T[N]+O.width)):T},{left:g.left||0,right:g.right||0}),b=Object.keys(i).reduce(function(T,P){var O=i[P],N=O.orientation;return!O.mirror&&!O.hide?fe(fe({},T),{},Xe({},N,Mn(T,"".concat(N))+O.height)):T},{top:g.top||0,bottom:g.bottom||0}),k=fe(fe({},b),S),C=k.bottom;y&&(k.bottom+=y.props.height||qc.defaultProps.height),w&&r&&(k=wye(k,a,n,r));var $=f-k.left-k.right,L=p-k.top-k.bottom;return fe(fe({brushBottom:C},k),{},{width:Math.max($,0),height:Math.max(L,0)})},eEe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},n4=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,c=i===void 0?["axis"]:i,d=t.axisComponents,f=t.legendContent,p=t.formatAxisMap,m=t.defaultProps,g=function(k,C){var $=C.graphicalItems,L=C.stackGroups,T=C.offset,P=C.updateId,O=C.dataStartIndex,N=C.dataEndIndex,R=k.barSize,D=k.layout,j=k.barGap,A=k.barCategoryGap,I=k.maxBarSize,B=kM(D),F=B.numericAxisName,U=B.cateAxisName,Y=JSe($),W=[];return $.forEach(function(Q,Z){var V=ax(k.data,{graphicalItems:[Q],dataStartIndex:O,dataEndIndex:N}),K=Q.type.defaultProps!==void 0?fe(fe({},Q.type.defaultProps),Q.props):Q.props,se=K.dataKey,he=K.maxBarSize,me=K["".concat(F,"Id")],ne=K["".concat(U,"Id")],ve={},we=d.reduce(function(ye,Pe){var Ze=C["".concat(Pe.axisType,"Map")],lt=K["".concat(Pe.axisType,"Id")];Ze&&Ze[lt]||Pe.axisType==="zAxis"||Xs();var We=Ze[lt];return fe(fe({},ye),{},Xe(Xe({},Pe.axisType,We),"".concat(Pe.axisType,"Ticks"),Do(We)))},ve),de=we[U],Ae=we["".concat(U,"Ticks")],_e=L&&L[me]&&L[me].hasStack&&_ye(Q,L[me].stackGroups),le=qo(Q.type).indexOf("Bar")>=0,Je=xy(de,Ae),G=[],pe=Y&&xye({barSize:R,stackGroups:L,totalSize:eEe(we,U)});if(le){var Ce,He,je=rt(he)?I:he,re=(Ce=(He=xy(de,Ae,!0))!==null&&He!==void 0?He:je)!==null&&Ce!==void 0?Ce:0;G=bye({barGap:j,barCategoryGap:A,bandSize:re!==Je?re:Je,sizeList:pe[ne],maxBarSize:je}),re!==Je&&(G=G.map(function(ye){return fe(fe({},ye),{},{position:fe(fe({},ye.position),{},{offset:ye.position.offset-re/2})})}))}var Se=Q&&Q.type&&Q.type.getComposedData;Se&&W.push({props:fe(fe({},Se(fe(fe({},we),{},{displayedData:V,props:k,dataKey:se,item:Q,bandSize:Je,barPosition:G,offset:T,stackedData:_e,layout:D,dataStartIndex:O,dataEndIndex:N}))),{},Xe(Xe(Xe({key:Q.key||"item-".concat(Z)},F,we[F]),U,we[U]),"animationId",P)),childIndex:jce(Q,k.children),item:Q})}),W},y=function(k,C){var $=k.props,L=k.dataStartIndex,T=k.dataEndIndex,P=k.updateId;if(!zP({props:$}))return null;var O=$.children,N=$.layout,R=$.stackOffset,D=$.data,j=$.reverseStackOrder,A=kM(N),I=A.numericAxisName,B=A.cateAxisName,F=Rn(O,n),U=Oye(D,F,"".concat(I,"Id"),"".concat(B,"Id"),R,j),Y=d.reduce(function(K,se){var he="".concat(se.axisType,"Map");return fe(fe({},K),{},Xe({},he,QSe($,fe(fe({},se),{},{graphicalItems:F,stackGroups:se.axisType===I&&U,dataStartIndex:L,dataEndIndex:T}))))},{}),W=ZSe(fe(fe({},Y),{},{props:$,graphicalItems:F}),C==null?void 0:C.legendBBox);Object.keys(Y).forEach(function(K){Y[K]=p($,Y[K],W,K.replace("Map",""),r)});var Q=Y["".concat(B,"Map")],Z=XSe(Q),V=g($,fe(fe({},Y),{},{dataStartIndex:L,dataEndIndex:T,updateId:P,graphicalItems:F,stackGroups:U,offset:W}));return fe(fe({formattedGraphicalItems:V,graphicalItems:F,offset:W,stackGroups:U},Z),Y)},w=function(b){function k(C){var $,L,T;return DSe(this,k),T=ISe(this,k,[C]),Xe(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Xe(T,"accessibilityManager",new xSe),Xe(T,"handleLegendBBoxUpdate",function(P){if(P){var O=T.state,N=O.dataStartIndex,R=O.dataEndIndex,D=O.updateId;T.setState(fe({legendBBox:P},y({props:T.props,dataStartIndex:N,dataEndIndex:R,updateId:D},fe(fe({},T.state),{},{legendBBox:P}))))}}),Xe(T,"handleReceiveSyncEvent",function(P,O,N){if(T.props.syncId===P){if(N===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(O)}}),Xe(T,"handleBrushChange",function(P){var O=P.startIndex,N=P.endIndex;if(O!==T.state.dataStartIndex||N!==T.state.dataEndIndex){var R=T.state.updateId;T.setState(function(){return fe({dataStartIndex:O,dataEndIndex:N},y({props:T.props,dataStartIndex:O,dataEndIndex:N,updateId:R},T.state))}),T.triggerSyncEvent({dataStartIndex:O,dataEndIndex:N})}}),Xe(T,"handleMouseEnter",function(P){var O=T.getMouseInfo(P);if(O){var N=fe(fe({},O),{},{isTooltipActive:!0});T.setState(N),T.triggerSyncEvent(N);var R=T.props.onMouseEnter;tt(R)&&R(N,P)}}),Xe(T,"triggeredAfterMouseMove",function(P){var O=T.getMouseInfo(P),N=O?fe(fe({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(N),T.triggerSyncEvent(N);var R=T.props.onMouseMove;tt(R)&&R(N,P)}),Xe(T,"handleItemMouseEnter",function(P){T.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Xe(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),Xe(T,"handleMouseMove",function(P){P.persist(),T.throttleTriggeredAfterMouseMove(P)}),Xe(T,"handleMouseLeave",function(P){T.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};T.setState(O),T.triggerSyncEvent(O);var N=T.props.onMouseLeave;tt(N)&&N(O,P)}),Xe(T,"handleOuterEvent",function(P){var O=Ece(P),N=Mn(T.props,"".concat(O));if(O&&tt(N)){var R,D;/.*touch.*/i.test(O)?D=T.getMouseInfo(P.changedTouches[0]):D=T.getMouseInfo(P),N((R=D)!==null&&R!==void 0?R:{},P)}}),Xe(T,"handleClick",function(P){var O=T.getMouseInfo(P);if(O){var N=fe(fe({},O),{},{isTooltipActive:!0});T.setState(N),T.triggerSyncEvent(N);var R=T.props.onClick;tt(R)&&R(N,P)}}),Xe(T,"handleMouseDown",function(P){var O=T.props.onMouseDown;if(tt(O)){var N=T.getMouseInfo(P);O(N,P)}}),Xe(T,"handleMouseUp",function(P){var O=T.props.onMouseUp;if(tt(O)){var N=T.getMouseInfo(P);O(N,P)}}),Xe(T,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Xe(T,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseDown(P.changedTouches[0])}),Xe(T,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseUp(P.changedTouches[0])}),Xe(T,"handleDoubleClick",function(P){var O=T.props.onDoubleClick;if(tt(O)){var N=T.getMouseInfo(P);O(N,P)}}),Xe(T,"handleContextMenu",function(P){var O=T.props.onContextMenu;if(tt(O)){var N=T.getMouseInfo(P);O(N,P)}}),Xe(T,"triggerSyncEvent",function(P){T.props.syncId!==void 0&&aE.emit(oE,T.props.syncId,P,T.eventEmitterSymbol)}),Xe(T,"applySyncEvent",function(P){var O=T.props,N=O.layout,R=O.syncMethod,D=T.state.updateId,j=P.dataStartIndex,A=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)T.setState(fe({dataStartIndex:j,dataEndIndex:A},y({props:T.props,dataStartIndex:j,dataEndIndex:A,updateId:D},T.state)));else if(P.activeTooltipIndex!==void 0){var I=P.chartX,B=P.chartY,F=P.activeTooltipIndex,U=T.state,Y=U.offset,W=U.tooltipTicks;if(!Y)return;if(typeof R=="function")F=R(W,P);else if(R==="value"){F=-1;for(var Q=0;Q<W.length;Q++)if(W[Q].value===P.activeLabel){F=Q;break}}var Z=fe(fe({},Y),{},{x:Y.left,y:Y.top}),V=Math.min(I,Z.x+Z.width),K=Math.min(B,Z.y+Z.height),se=W[F]&&W[F].value,he=tC(T.state,T.props.data,F),me=W[F]?{x:N==="horizontal"?W[F].coordinate:V,y:N==="horizontal"?K:W[F].coordinate}:$9;T.setState(fe(fe({},P),{},{activeLabel:se,activeCoordinate:me,activePayload:he,activeTooltipIndex:F}))}else T.setState(P)}),Xe(T,"renderCursor",function(P){var O,N=T.state,R=N.isTooltipActive,D=N.activeCoordinate,j=N.activePayload,A=N.offset,I=N.activeTooltipIndex,B=N.tooltipAxisBandSize,F=T.getTooltipEventType(),U=(O=P.props.active)!==null&&O!==void 0?O:R,Y=T.props.layout,W=P.key||"_recharts-cursor";return H.createElement($Se,{key:W,activeCoordinate:D,activePayload:j,activeTooltipIndex:I,chartName:r,element:P,isActive:U,layout:Y,offset:A,tooltipAxisBandSize:B,tooltipEventType:F})}),Xe(T,"renderPolarAxis",function(P,O,N){var R=Mn(P,"type.axisType"),D=Mn(T.state,"".concat(R,"Map")),j=P.type.defaultProps,A=j!==void 0?fe(fe({},j),P.props):P.props,I=D&&D[A["".concat(R,"Id")]];return _.cloneElement(P,fe(fe({},I),{},{className:Ue(R,I.className),key:P.key||"".concat(O,"-").concat(N),ticks:Do(I,!0)}))}),Xe(T,"renderPolarGrid",function(P){var O=P.props,N=O.radialLines,R=O.polarAngles,D=O.polarRadius,j=T.state,A=j.radiusAxisMap,I=j.angleAxisMap,B=_i(A),F=_i(I),U=F.cx,Y=F.cy,W=F.innerRadius,Q=F.outerRadius;return _.cloneElement(P,{polarAngles:Array.isArray(R)?R:Do(F,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(D)?D:Do(B,!0).map(function(Z){return Z.coordinate}),cx:U,cy:Y,innerRadius:W,outerRadius:Q,key:P.key||"polar-grid",radialLines:N})}),Xe(T,"renderLegend",function(){var P=T.state.formattedGraphicalItems,O=T.props,N=O.children,R=O.width,D=O.height,j=T.props.margin||{},A=R-(j.left||0)-(j.right||0),I=lB({children:N,formattedGraphicalItems:P,legendWidth:A,legendContent:f});if(!I)return null;var B=I.item,F=jM(I,TSe);return _.cloneElement(B,fe(fe({},F),{},{chartWidth:R,chartHeight:D,margin:j,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),Xe(T,"renderTooltip",function(){var P,O=T.props,N=O.children,R=O.accessibilityLayer,D=kn(N,An);if(!D)return null;var j=T.state,A=j.isTooltipActive,I=j.activeCoordinate,B=j.activePayload,F=j.activeLabel,U=j.offset,Y=(P=D.props.active)!==null&&P!==void 0?P:A;return _.cloneElement(D,{viewBox:fe(fe({},U),{},{x:U.left,y:U.top}),active:Y,label:F,payload:Y?B:[],coordinate:I,accessibilityLayer:R})}),Xe(T,"renderBrush",function(P){var O=T.props,N=O.margin,R=O.data,D=T.state,j=D.offset,A=D.dataStartIndex,I=D.dataEndIndex,B=D.updateId;return _.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Im(T.handleBrushChange,P.props.onChange),data:R,x:Oe(P.props.x)?P.props.x:j.left,y:Oe(P.props.y)?P.props.y:j.top+j.height+j.brushBottom-(N.bottom||0),width:Oe(P.props.width)?P.props.width:j.width,startIndex:A,endIndex:I,updateId:"brush-".concat(B)})}),Xe(T,"renderReferenceElement",function(P,O,N){if(!P)return null;var R=T,D=R.clipPathId,j=T.state,A=j.xAxisMap,I=j.yAxisMap,B=j.offset,F=P.type.defaultProps||{},U=P.props,Y=U.xAxisId,W=Y===void 0?F.xAxisId:Y,Q=U.yAxisId,Z=Q===void 0?F.yAxisId:Q;return _.cloneElement(P,{key:P.key||"".concat(O,"-").concat(N),xAxis:A[W],yAxis:I[Z],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:D})}),Xe(T,"renderActivePoints",function(P){var O=P.item,N=P.activePoint,R=P.basePoint,D=P.childIndex,j=P.isRange,A=[],I=O.props.key,B=O.item.type.defaultProps!==void 0?fe(fe({},O.item.type.defaultProps),O.item.props):O.item.props,F=B.activeDot,U=B.dataKey,Y=fe(fe({index:D,dataKey:U,cx:N.x,cy:N.y,r:4,fill:W5(O.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Qe(F,!1)),Kg(F));return A.push(k.renderActiveDot(F,Y,"".concat(I,"-activePoint-").concat(D))),R?A.push(k.renderActiveDot(F,fe(fe({},Y),{},{cx:R.x,cy:R.y}),"".concat(I,"-basePoint-").concat(D))):j&&A.push(null),A}),Xe(T,"renderGraphicChild",function(P,O,N){var R=T.filterFormatItem(P,O,N);if(!R)return null;var D=T.getTooltipEventType(),j=T.state,A=j.isTooltipActive,I=j.tooltipAxis,B=j.activeTooltipIndex,F=j.activeLabel,U=T.props.children,Y=kn(U,An),W=R.props,Q=W.points,Z=W.isRange,V=W.baseLine,K=R.item.type.defaultProps!==void 0?fe(fe({},R.item.type.defaultProps),R.item.props):R.item.props,se=K.activeDot,he=K.hide,me=K.activeBar,ne=K.activeShape,ve=!!(!he&&A&&Y&&(se||me||ne)),we={};D!=="axis"&&Y&&Y.props.trigger==="click"?we={onClick:Im(T.handleItemMouseEnter,P.props.onClick)}:D!=="axis"&&(we={onMouseLeave:Im(T.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Im(T.handleItemMouseEnter,P.props.onMouseEnter)});var de=_.cloneElement(P,fe(fe({},R.props),we));function Ae(Pe){return typeof I.dataKey=="function"?I.dataKey(Pe.payload):null}if(ve)if(B>=0){var _e,le;if(I.dataKey&&!I.allowDuplicatedCategory){var Je=typeof I.dataKey=="function"?Ae:"payload.".concat(I.dataKey.toString());_e=Gg(Q,Je,F),le=Z&&V&&Gg(V,Je,F)}else _e=Q==null?void 0:Q[B],le=Z&&V&&V[B];if(ne||me){var G=P.props.activeIndex!==void 0?P.props.activeIndex:B;return[_.cloneElement(P,fe(fe(fe({},R.props),we),{},{activeIndex:G})),null,null]}if(!rt(_e))return[de].concat(Jc(T.renderActivePoints({item:R,activePoint:_e,basePoint:le,childIndex:B,isRange:Z})))}else{var pe,Ce=(pe=T.getItemByXY(T.state.activeCoordinate))!==null&&pe!==void 0?pe:{graphicalItem:de},He=Ce.graphicalItem,je=He.item,re=je===void 0?P:je,Se=He.childIndex,ye=fe(fe(fe({},R.props),we),{},{activeIndex:Se});return[_.cloneElement(re,ye),null,null]}return Z?[de,null,null]:[de,null]}),Xe(T,"renderCustomized",function(P,O,N){return _.cloneElement(P,fe(fe({key:"recharts-customized-".concat(N)},T.props),T.state))}),Xe(T,"renderMap",{CartesianGrid:{handler:Fm,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Fm},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Fm},YAxis:{handler:Fm},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat(($=C.id)!==null&&$!==void 0?$:du("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=sL(T.triggeredAfterMouseMove,(L=C.throttleDelay)!==null&&L!==void 0?L:1e3/60),T.state={},T}return BSe(k,b),RSe(k,[{key:"componentDidMount",value:function(){var $,L;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:($=this.props.margin.left)!==null&&$!==void 0?$:0,top:(L=this.props.margin.top)!==null&&L!==void 0?L:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var $=this.props,L=$.children,T=$.data,P=$.height,O=$.layout,N=kn(L,An);if(N){var R=N.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,j=tC(this.state,T,R,D),A=this.state.tooltipTicks[R].coordinate,I=(this.state.offset.top+P)/2,B=O==="horizontal",F=B?{x:A,y:I}:{y:A,x:I},U=this.state.formattedGraphicalItems.find(function(W){var Q=W.item;return Q.type.name==="Scatter"});U&&(F=fe(fe({},F),U.props.points[R].tooltipPosition),j=U.props.points[R].tooltipPayload);var Y={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:D,activePayload:j,activeCoordinate:F};this.setState(Y),this.renderCursor(N),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function($,L){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==L.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==$.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==$.margin){var T,P;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function($){NE([kn($.children,An)],[kn(this.props.children,An)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var $=kn(this.props.children,An);if($&&typeof $.props.shared=="boolean"){var L=$.props.shared?"axis":"item";return c.indexOf(L)>=0?L:o}return o}},{key:"getMouseInfo",value:function($){if(!this.container)return null;var L=this.container,T=L.getBoundingClientRect(),P=upe(T),O={chartX:Math.round($.pageX-P.left),chartY:Math.round($.pageY-P.top)},N=T.width/L.offsetWidth||1,R=this.inRange(O.chartX,O.chartY,N);if(!R)return null;var D=this.state,j=D.xAxisMap,A=D.yAxisMap,I=this.getTooltipEventType(),B=$M(this.state,this.props.data,this.props.layout,R);if(I!=="axis"&&j&&A){var F=_i(j).scale,U=_i(A).scale,Y=F&&F.invert?F.invert(O.chartX):null,W=U&&U.invert?U.invert(O.chartY):null;return fe(fe({},O),{},{xValue:Y,yValue:W},B)}return B?fe(fe({},O),B):null}},{key:"inRange",value:function($,L){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,O=$/T,N=L/T;if(P==="horizontal"||P==="vertical"){var R=this.state.offset,D=O>=R.left&&O<=R.left+R.width&&N>=R.top&&N<=R.top+R.height;return D?{x:O,y:N}:null}var j=this.state,A=j.angleAxisMap,I=j.radiusAxisMap;if(A&&I){var B=_i(A);return A8({x:O,y:N},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var $=this.props.children,L=this.getTooltipEventType(),T=kn($,An),P={};T&&L==="axis"&&(T.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Kg(this.props,this.handleOuterEvent);return fe(fe({},O),P)}},{key:"addListener",value:function(){aE.on(oE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){aE.removeListener(oE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function($,L,T){for(var P=this.state.formattedGraphicalItems,O=0,N=P.length;O<N;O++){var R=P[O];if(R.item===$||R.props.key===$.key||L===qo(R.item.type)&&T===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var $=this.clipPathId,L=this.state.offset,T=L.left,P=L.top,O=L.height,N=L.width;return H.createElement("defs",null,H.createElement("clipPath",{id:$},H.createElement("rect",{x:T,y:P,height:O,width:N})))}},{key:"getXScales",value:function(){var $=this.state.xAxisMap;return $?Object.entries($).reduce(function(L,T){var P=EM(T,2),O=P[0],N=P[1];return fe(fe({},L),{},Xe({},O,N.scale))},{}):null}},{key:"getYScales",value:function(){var $=this.state.yAxisMap;return $?Object.entries($).reduce(function(L,T){var P=EM(T,2),O=P[0],N=P[1];return fe(fe({},L),{},Xe({},O,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function($){var L;return(L=this.state.xAxisMap)===null||L===void 0||(L=L[$])===null||L===void 0?void 0:L.scale}},{key:"getYScaleByAxisId",value:function($){var L;return(L=this.state.yAxisMap)===null||L===void 0||(L=L[$])===null||L===void 0?void 0:L.scale}},{key:"getItemByXY",value:function($){var L=this.state,T=L.formattedGraphicalItems,P=L.activeItem;if(T&&T.length)for(var O=0,N=T.length;O<N;O++){var R=T[O],D=R.props,j=R.item,A=j.type.defaultProps!==void 0?fe(fe({},j.type.defaultProps),j.props):j.props,I=qo(j.type);if(I==="Bar"){var B=(D.data||[]).find(function(W){return T0e($,W)});if(B)return{graphicalItem:R,payload:B}}else if(I==="RadialBar"){var F=(D.data||[]).find(function(W){return A8($,W)});if(F)return{graphicalItem:R,payload:F}}else if(Xv(R,P)||Jv(R,P)||Hf(R,P)){var U=Xbe({graphicalItem:R,activeTooltipItem:P,itemData:A.data}),Y=A.activeIndex===void 0?U:A.activeIndex;return{graphicalItem:fe(fe({},R),{},{childIndex:Y}),payload:Hf(R,P)?A.data[U]:R.props.data[U]}}}return null}},{key:"render",value:function(){var $=this;if(!zP(this))return null;var L=this.props,T=L.children,P=L.className,O=L.width,N=L.height,R=L.style,D=L.compact,j=L.title,A=L.desc,I=jM(L,kSe),B=Qe(I,!1);if(D)return H.createElement(aM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(BE,ac({},B,{width:O,height:N,title:j,desc:A}),this.renderClipPath(),qP(T,this.renderMap)));if(this.props.accessibilityLayer){var F,U;B.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,B.role=(U=this.props.role)!==null&&U!==void 0?U:"application",B.onKeyDown=function(W){$.accessibilityManager.keyboardEvent(W)},B.onFocus=function(){$.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return H.createElement(aM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",ac({className:Ue("recharts-wrapper",P),style:fe({position:"relative",cursor:"default",width:O,height:N},R)},Y,{ref:function(Q){$.container=Q}}),H.createElement(BE,ac({},B,{width:O,height:N,title:j,desc:A,style:VSe}),this.renderClipPath(),qP(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(_.Component);Xe(w,"displayName",r),Xe(w,"defaultProps",fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Xe(w,"getDerivedStateFromProps",function(b,k){var C=b.dataKey,$=b.data,L=b.children,T=b.width,P=b.height,O=b.layout,N=b.stackOffset,R=b.margin,D=k.dataStartIndex,j=k.dataEndIndex;if(k.updateId===void 0){var A=TM(b);return fe(fe(fe({},A),{},{updateId:0},y(fe(fe({props:b},A),{},{updateId:0}),k)),{},{prevDataKey:C,prevData:$,prevWidth:T,prevHeight:P,prevLayout:O,prevStackOffset:N,prevMargin:R,prevChildren:L})}if(C!==k.prevDataKey||$!==k.prevData||T!==k.prevWidth||P!==k.prevHeight||O!==k.prevLayout||N!==k.prevStackOffset||!fc(R,k.prevMargin)){var I=TM(b),B={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},F=fe(fe({},$M(k,$,O)),{},{updateId:k.updateId+1}),U=fe(fe(fe({},I),B),F);return fe(fe(fe({},U),y(fe({props:b},U),k)),{},{prevDataKey:C,prevData:$,prevWidth:T,prevHeight:P,prevLayout:O,prevStackOffset:N,prevMargin:R,prevChildren:L})}if(!NE(L,k.prevChildren)){var Y,W,Q,Z,V=kn(L,qc),K=V&&(Y=(W=V.props)===null||W===void 0?void 0:W.startIndex)!==null&&Y!==void 0?Y:D,se=V&&(Q=(Z=V.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&Q!==void 0?Q:j,he=K!==D||se!==j,me=!rt($),ne=me&&!he?k.updateId:k.updateId+1;return fe(fe({updateId:ne},y(fe(fe({props:b},k),{},{updateId:ne,dataStartIndex:K,dataEndIndex:se}),k)),{},{prevChildren:L,dataStartIndex:K,dataEndIndex:se})}return null}),Xe(w,"renderActiveDot",function(b,k,C){var $;return _.isValidElement(b)?$=_.cloneElement(b,k):tt(b)?$=b(k):$=H.createElement(Wv,k),H.createElement(gt,{className:"recharts-active-dot",key:C},$)});var S=_.forwardRef(function(k,C){return H.createElement(w,ac({},k,{ref:C}))});return S.displayName=w.displayName,S},AM=n4({chartName:"LineChart",GraphicalChild:Ni,axisComponents:[{axisType:"xAxis",AxisComp:Bs},{axisType:"yAxis",AxisComp:zs}],formatAxisMap:YB}),tEe=n4({chartName:"BarChart",GraphicalChild:ll,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Bs},{axisType:"yAxis",AxisComp:zs}],formatAxisMap:YB}),rEe=n4({chartName:"PieChart",GraphicalChild:ei,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Qv},{axisType:"radiusAxis",AxisComp:Gv}],formatAxisMap:qye,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const OM=new Yr;function k9(){const[e,t]=_.useState(!1),{accessToken:r}=wt(),[n,a]=_.useState(!0),[o,i]=_.useState(null),[c,d]=_.useState(!1),[f,p]=_.useState("7d"),[m,g]=_.useState("all"),[y,w]=_.useState([]),[S,b]=_.useState([]),[k,C]=_.useState([]),[$,L]=_.useState([]),[T,P]=_.useState([]),O=async()=>{try{a(!0),i(null),d(!0);try{const A=await OM.getTasks(r);Array.isArray(A)&&P(A)}catch(A){console.error("Error al obtener tareas:",A)}try{const A=await OM.getTransferStats(r,{timeRange:f,taskId:m!=="all"?m:void 0});A.success?(w(A.transfersByDay||[]),b(A.successRate||[]),C(A.taskPerformance||[]),L(A.serverResponseTimes||[])):(console.warn("Respuesta sin éxito:",A),R())}catch(A){console.error("Error al obtener estadísticas:",A),R()}}catch(A){console.error("Error general:",A),i("No se pudieron cargar las estadísticas. Por favor, intente nuevamente."),R()}finally{a(!1),d(!1)}},N=()=>{O()};_.useEffect(()=>{O()},[r,f,m]);const R=()=>{const I=(B=>{const F=[];for(let U=B-1;U>=0;U--){const Y=new Date;Y.setDate(Y.getDate()-U);const W=Y.toISOString().split("T")[0];F.push(W)}return F})(7);w([{date:I[0],completed:12,failed:2},{date:I[1],completed:15,failed:1},{date:I[2],completed:18,failed:3},{date:I[3],completed:14,failed:2},{date:I[4],completed:21,failed:0},{date:I[5],completed:25,failed:4},{date:I[6],completed:22,failed:3}]),b([{name:"Exitosas",value:85},{name:"Fallidas",value:15}]),C([{name:"Clientes",executed:24,avgTime:45,successRate:92},{name:"Productos",executed:32,avgTime:38,successRate:96},{name:"Ventas",executed:18,avgTime:62,successRate:88},{name:"Inventario",executed:28,avgTime:41,successRate:94}]),L([{date:I[0],server1:42,server2:58},{date:I[1],server1:38,server2:62},{date:I[2],server1:45,server2:55},{date:I[3],server1:52,server2:68},{date:I[4],server1:48,server2:60},{date:I[5],server1:43,server2:59},{date:I[6],server1:40,server2:53}])},D={completed:"#28a745",failed:"#dc3545",server1:"#007bff",server2:"#6c757d"},j={"24h":"Últimas 24 horas","7d":"Últimos 7 días","30d":"Últimos 30 días","90d":"Últimos 90 días"};return l.jsxs(nEe,{children:[l.jsx("section",{className:"area1",children:l.jsxs(aEe,{children:[l.jsx(oEe,{children:"Estadísticas del Sistema"}),l.jsx(iEe,{children:"Análisis detallado del rendimiento de transferencias"})]})}),l.jsx("section",{className:"area2",children:l.jsxs(sEe,{children:[l.jsxs(PM,{children:[l.jsxs(_M,{children:[l.jsx(Ui,{})," Período"]}),l.jsxs(DM,{value:f,onChange:A=>p(A.target.value),children:[l.jsx("option",{value:"24h",children:"Últimas 24 horas"}),l.jsx("option",{value:"7d",children:"Últimos 7 días"}),l.jsx("option",{value:"30d",children:"Últimos 30 días"}),l.jsx("option",{value:"90d",children:"Últimos 90 días"})]})]}),l.jsxs(PM,{children:[l.jsxs(_M,{children:[l.jsx(jg,{})," Tarea"]}),l.jsxs(DM,{value:m,onChange:A=>g(A.target.value),children:[l.jsx("option",{value:"all",children:"Todas las tareas"}),T.map(A=>l.jsx("option",{value:A._id,children:A.name},A._id))]})]}),l.jsx(lEe,{onClick:N,disabled:c,children:c?l.jsxs(l.Fragment,{children:[l.jsx(Zt,{className:"spinning"})," Actualizando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Zt,{})," Actualizar"]})})]})}),l.jsx("section",{className:"main",children:n&&!c?l.jsxs(pEe,{children:[l.jsx(hEe,{}),l.jsx(mEe,{children:"Cargando estadísticas..."})]}):o?l.jsxs(gEe,{children:[l.jsx(yEe,{children:o}),l.jsx(vEe,{onClick:N,children:"Intentar nuevamente"})]}):l.jsxs(cEe,{children:[l.jsxs(zd,{fullWidth:!0,children:[l.jsx(Fd,{children:l.jsxs(qd,{children:[l.jsx(cf,{})," Transferencias por día (",j[f],")"]})}),l.jsx(Hd,{children:y.length>0?l.jsx(Pm,{width:"100%",height:300,children:l.jsxs(AM,{data:y,children:[l.jsx(pg,{strokeDasharray:"3 3"}),l.jsx(Bs,{dataKey:"date"}),l.jsx(zs,{}),l.jsx(An,{}),l.jsx(Fi,{}),l.jsx(Ni,{type:"monotone",dataKey:"completed",name:"Completadas",stroke:D.completed,activeDot:{r:8}}),l.jsx(Ni,{type:"monotone",dataKey:"failed",name:"Fallidas",stroke:D.failed})]})}):l.jsx(qm,{children:"No hay datos disponibles para este período"})})]}),l.jsxs(zd,{children:[l.jsx(Fd,{children:l.jsx(qd,{children:"Tasa de éxito"})}),l.jsx(Hd,{children:S.length>0&&S.some(A=>A.value>0)?l.jsx(Pm,{width:"100%",height:250,children:l.jsxs(rEe,{children:[l.jsx(ei,{data:S,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:A,percent:I})=>`${A}: ${(I*100).toFixed(0)}%`,children:S.map((A,I)=>l.jsx(Mv,{fill:A.name==="Exitosas"?D.completed:D.failed},`cell-${I}`))}),l.jsx(An,{})]})}):l.jsx(qm,{children:"No hay datos disponibles para este período"})})]}),l.jsxs(zd,{children:[l.jsx(Fd,{children:l.jsxs(qd,{children:[l.jsx(uf,{})," Tiempos de respuesta (ms)"]})}),l.jsx(Hd,{children:$.length>0?l.jsx(Pm,{width:"100%",height:250,children:l.jsxs(AM,{data:$,children:[l.jsx(pg,{strokeDasharray:"3 3"}),l.jsx(Bs,{dataKey:"date"}),l.jsx(zs,{}),l.jsx(An,{}),l.jsx(Fi,{}),l.jsx(Ni,{type:"monotone",dataKey:"server1",name:"Server 1",stroke:D.server1}),l.jsx(Ni,{type:"monotone",dataKey:"server2",name:"Server 2",stroke:D.server2})]})}):l.jsx(qm,{children:"No hay datos disponibles para este período"})})]}),l.jsxs(zd,{fullWidth:!0,children:[l.jsx(Fd,{children:l.jsxs(qd,{children:[l.jsx(jg,{})," Rendimiento por tarea"]})}),l.jsx(Hd,{children:k.length>0?l.jsxs(uEe,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Tarea"}),l.jsx("th",{children:"Ejecuciones"}),l.jsx("th",{children:"Tiempo promedio (s)"}),l.jsx("th",{children:"Tasa de éxito"}),l.jsx("th",{children:"Rendimiento"})]})}),l.jsx("tbody",{children:k.map((A,I)=>l.jsxs("tr",{children:[l.jsx("td",{children:A.name}),l.jsx("td",{children:A.executed}),l.jsx("td",{children:A.avgTime}),l.jsxs("td",{children:[A.successRate,"%"]}),l.jsx("td",{children:l.jsx(dEe,{value:A.successRate,children:l.jsx(fEe,{value:A.successRate})})})]},I))})]}):l.jsx(qm,{children:"No hay datos de rendimiento disponibles"})})]}),l.jsxs(zd,{fullWidth:!0,children:[l.jsx(Fd,{children:l.jsxs(qd,{children:[l.jsx(Zf,{})," Volumen por hora del día"]})}),l.jsx(Hd,{children:l.jsx(Pm,{width:"100%",height:250,children:l.jsxs(tEe,{data:[{hour:"00:00",transfers:12},{hour:"01:00",transfers:8},{hour:"02:00",transfers:20},{hour:"03:00",transfers:15},{hour:"04:00",transfers:5},{hour:"05:00",transfers:3},{hour:"06:00",transfers:2},{hour:"07:00",transfers:6},{hour:"08:00",transfers:10},{hour:"09:00",transfers:14},{hour:"10:00",transfers:18},{hour:"11:00",transfers:25},{hour:"12:00",transfers:30},{hour:"13:00",transfers:28},{hour:"14:00",transfers:24},{hour:"15:00",transfers:22},{hour:"16:00",transfers:19},{hour:"17:00",transfers:16},{hour:"18:00",transfers:12},{hour:"19:00",transfers:8},{hour:"20:00",transfers:5},{hour:"21:00",transfers:3},{hour:"22:00",transfers:2},{hour:"23:00",transfers:4}],children:[l.jsx(pg,{strokeDasharray:"3 3"}),l.jsx(Bs,{dataKey:"hour"}),l.jsx(zs,{}),l.jsx(An,{}),l.jsx(ll,{dataKey:"transfers",name:"Transferencias",fill:"#007bff"})]})})})]})]})})]})}const nEe=v.div`
  min-height: 100vh;
  padding: 15px;
  width: 100%;
  background-color: ${e=>e.theme.bg};
  color: ${e=>e.theme.text};
  display: grid;
  grid-template:
    "header" auto
    "area1" auto
    "area2" auto
    "main" 1fr;

  .header {
    grid-area: header;
    display: flex;
    align-items: center;
    margin-bottom: 20px;
  }

  .area1 {
    grid-area: area1;
    margin-bottom: 20px;
  }

  .area2 {
    grid-area: area2;
    margin-bottom: 20px;
  }

  .main {
    grid-area: main;
    margin-top: 10px;
    overflow-x: auto;
  }
`,aEe=v.div`
  text-align: center;
  padding: 15px 0;
`,oEe=v.h1`
  font-size: 1.8rem;
  font-weight: 600;
  margin: 0;
  color: ${({theme:e})=>e.title||e.text};
`,iEe=v.p`
  font-size: 1rem;
  margin: 5px 0 0;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,sEe=v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  padding: 15px;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  align-items: flex-end;

  @media (max-width: 768px) {
    flex-direction: column;
  }
`,PM=v.div`
  display: flex;
  flex-direction: column;
  gap: 5px;
  flex: 1;

  @media (max-width: 768px) {
    width: 100%;
  }
`,_M=v.label`
  font-size: 14px;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 5px;

  svg {
    color: ${({theme:e})=>e.primary||"#007bff"};
  }
`,DM=v.select`
  padding: 8px 12px;
  border: 1px solid ${({theme:e})=>e.border||"#ddd"};
  border-radius: 4px;
  background-color: ${({theme:e})=>e.inputBg||"#fff"};
  color: ${({theme:e})=>e.text};

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.primary||"#007bff"};
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
  }
`,lEe=v.button`
  padding: 8px 15px;
  background-color: ${({theme:e})=>e.info||"#17a2b8"};
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;
  min-width: 120px;

  &:hover:not(:disabled) {
    background-color: ${({theme:e})=>e.infoHover||"#138496"};
  }

  &:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }

  .spinning {
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    100% {
      transform: rotate(360deg);
    }
  }

  @media (max-width: 768px) {
    width: 100%;
  }
`,cEe=v.div`
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;

  @media (max-width: 992px) {
    grid-template-columns: 1fr;
  }
`,zd=v.div`
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  grid-column: ${({fullWidth:e})=>e?"1 / -1":"auto"};
`,Fd=v.div`
  padding: 15px;
  border-bottom: 1px solid ${({theme:e})=>e.border||"#eee"};
`,qd=v.h2`
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;

  svg {
    color: ${({theme:e})=>e.primary||"#007bff"};
  }
`,Hd=v.div`
  padding: 15px;
`,qm=v.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
  font-style: italic;
`,uEe=v.table`
  width: 100%;
  border-collapse: collapse;

  th,
  td {
    padding: 10px;
    text-align: left;
    border-bottom: 1px solid ${({theme:e})=>e.border||"#eee"};
  }

  th {
    font-weight: 600;
    color: ${({theme:e})=>e.textSecondary||"#666"};
  }
`,dEe=v.div`
  height: 8px;
  background-color: ${({theme:e})=>e.border||"#eee"};
  border-radius: 4px;
  overflow: hidden;
  width: 100%;
`,fEe=v.div`
  height: 100%;
  width: ${({value:e})=>`${e}%`};
  background-color: ${({value:e})=>e>=90?"#28a745":e>=75?"#5cb85c":e>=60?"#ffc107":e>=40?"#f0ad4e":"#dc3545"};
  border-radius: 4px;
`,pEe=v.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 400px;
`,hEe=v.div`
  border: 4px solid ${({theme:e})=>e.border||"#eee"};
  border-top: 4px solid ${({theme:e})=>e.primary||"#007bff"};
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
  margin-bottom: 20px;

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
`,mEe=v.div`
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,gEe=v.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 30px;
  background-color: rgba(220, 53, 69, 0.05);
  border-radius: 8px;
  margin-top: 20px;
`,yEe=v.div`
  color: #dc3545;
  margin-bottom: 20px;
  text-align: center;
`,vEe=v.button`
  background-color: ${({theme:e})=>e.primary||"#007bff"};
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 15px;
  cursor: pointer;
  font-size: 14px;

  &:hover {
    background-color: ${({theme:e})=>e.primaryHover||"#0069d9"};
  }
`;v.div`
  min-height: 100vh;
  padding: 15px;
  width: 100%;
  background-color: ${e=>e.theme.bg};
  color: ${e=>e.theme.text};
  display: grid;
  grid-template:
    "header" 90px
    "area1" auto
    "area2" auto
    "main" 1fr;

  @media (max-width: 768px) {
    grid-template:
      "header" 70px
      "area1" auto
      "area2" auto
      "main" 1fr;
    padding: 10px;
  }

  @media (max-width: 480px) {
    grid-template:
      "header" 60px
      "area1" auto
      "area2" auto
      "main" 1fr;
    padding: 5px;
  }

  .header {
    grid-area: header;
    display: flex;
    align-items: center;
    margin-bottom: 20px;
  }

  .area1 {
    grid-area: area1;
    margin-bottom: 10px;
  }

  .area2 {
    grid-area: area2;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    margin-bottom: 20px;

    @media (max-width: 768px) {
      margin-top: 15px;
      margin-bottom: 10px;
    }

    @media (max-width: 480px) {
      margin-top: 10px;
      margin-bottom: 5px;
      flex-direction: column;
    }
  }

  .main {
    grid-area: main;
    margin-top: 10px;
    overflow-x: auto;

    @media (max-width: 768px) {
      padding: 10px;
    }

    @media (max-width: 480px) {
      padding: 5px;
    }
  }
`;v.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 15px 0;
`;v.div`
  display: flex;
  flex-direction: column;
  gap: 5px;
  text-align: center;
  position: relative;

  h2 {
    margin: 0;
    font-size: 1.5rem;
    color: ${({theme:e})=>e.title||e.text};
  }

  p {
    margin: 0;
    color: ${({theme:e})=>e.textSecondary||"#666"};
  }
`;v.button`
  position: absolute;
  left: 0;
  top: 0;
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 8px 15px;
  background-color: #6c757d;
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.3s;

  &:hover {
    background-color: #5a6268;
  }
`;v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  padding: 15px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

  @media (max-width: 768px) {
    flex-direction: column;
    padding: 10px;
  }
`;v.div`
  display: flex;
  flex-direction: column;
  gap: 5px;
  flex: 1;
  min-width: 150px;

  @media (max-width: 768px) {
    width: 100%;
  }
`;v.label`
  font-size: 14px;
  font-weight: 500;
  color: ${({theme:e})=>e.textSecondary||"#666"};
  display: flex;
  align-items: center;
  gap: 5px;
`;v.input`
  padding: 8px 12px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};

  &:focus {
    outline: none;
    border-color: #007bff;
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
  }
`;v.select`
  padding: 8px 12px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};

  &:focus {
    outline: none;
    border-color: #007bff;
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
  }
`;v.div`
  display: flex;
  gap: 10px;
  align-items: flex-end;
  margin-top: 5px;

  @media (max-width: 768px) {
    width: 100%;
    flex-wrap: wrap;
  }

  @media (max-width: 480px) {
    flex-direction: column;
  }
`;v.button`
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;

  &:hover {
    background-color: #0069d9;
  }

  @media (max-width: 480px) {
    width: 100%;
  }
`;v.button`
  background-color: #6c757d;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 15px;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.3s;

  &:hover {
    background-color: #5a6268;
  }

  @media (max-width: 480px) {
    width: 100%;
  }
`;v.button`
  background-color: #17a2b8;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;

  &:hover {
    background-color: #138496;
  }

  @media (max-width: 480px) {
    width: 100%;
  }
`;v.div`
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  overflow-x: auto; // Ya tienes esto, correcto
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);

  /* Añadir esto */
  -webkit-overflow-scrolling: touch; /* Para mejor scroll en iOS */

  @media (max-width: 576px) {
    /* Mejora la visualización en móviles pequeños */
    margin-left: -10px;
    margin-right: -10px;
    width: calc(100% + 20px);
    border-radius: 0;
  }
`;v.table`
  width: 100%;
  border-collapse: collapse;
  color: ${({theme:e})=>e.text};

  th,
  td {
    padding: 12px 15px;
    text-align: left;
  }

  th {
    background-color: ${({theme:e})=>e.tableHeader||"#f0f0f0"};
    color: ${({theme:e})=>e.tableHeaderText||"#333"};
    font-weight: bold;
    white-space: nowrap;
  }

  tr {
    border-bottom: 1px solid ${({theme:e})=>e.border||"#ddd"};

    &:last-child {
      border-bottom: none;
    }

    &:hover {
      background-color: ${({theme:e})=>e.tableHover||"#f8f9fa"};
    }

    &.returned {
      background-color: rgba(220, 53, 69, 0.1);
    }

    &.partial-returned {
      background-color: rgba(255, 193, 7, 0.1);
    }
  }
`;v.div`
  display: inline-block;
  padding: 5px 10px;
  border-radius: 50px;
  font-size: 12px;
  font-weight: 500;
  color: white;
  background-color: ${e=>{switch(e.status){case"completed":return"#28a745";case"partial_return":return"#ffc107";case"full_return":return"#dc3545";default:return"#6c757d"}}};
`;v.div`
  display: flex;
  gap: 8px;
  justify-content: center;
`;v.button`
  background: none;
  border: none;
  color: ${e=>e.color||"#0275d8"};
  font-size: 16px;
  cursor: pointer;
  padding: 5px;
  border-radius: 4px;
  transition: all 0.2s;

  &:hover {
    color: ${e=>e.color||"#0275d8"};
    background-color: rgba(0, 0, 0, 0.05);
  }

  &:disabled {
    color: #adb5bd;
    cursor: not-allowed;
  }
`;v.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
`;v.div`
  padding: 20px;
  text-align: center;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`;v.div`
  padding: 20px;
  text-align: center;
  color: #dc3545;
  background-color: rgba(220, 53, 69, 0.1);
  border-radius: 8px;
  margin: 20px 0;
`;v.div`
  padding: 30px;
  text-align: center;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
`;v.div`
  display: flex;
  gap: 10px;
  justify-content: center;
  align-items: center;
  margin-top: 20px;

  @media (max-width: 480px) {
    flex-wrap: wrap;
  }
`;v.button`
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 15px;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.3s;

  &:hover {
    background-color: #0069d9;
  }

  &:disabled {
    background-color: #6c757d;
    cursor: not-allowed;
    opacity: 0.65;
  }
`;v.div`
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  padding: 0 10px;
`;const xEe=new Yr;function A9(){const[e,t]=_.useState(!1),{accessToken:r}=wt(),[n,a]=_.useState([]),[o,i]=_.useState(!0),[c,d]=_.useState(null),[f,p]=_.useState(!1),[m,g]=_.useState({completedToday:0,failedToday:0,total:0});console.log("stats",m);const[y,w]=_.useState({dateFrom:null,dateTo:null,status:"all",taskName:"",search:""}),[S,b]=_.useState({page:1,limit:20,total:0,pages:1}),k=async()=>{var N,R;try{i(!0),d(null);const D=new URLSearchParams;y.dateFrom&&D.append("dateFrom",y.dateFrom.toISOString()),y.dateTo&&D.append("dateTo",y.dateTo.toISOString()),y.status!=="all"&&D.append("status",y.status),y.taskName&&D.append("taskName",y.taskName),D.append("page",S.page),D.append("limit",S.limit);const j=await xEe.getTransferHistory(r,Object.fromEntries(D));if(j.success)a(j.history||[]),g({completedToday:j.completedToday||0,failedToday:j.failedToday||0,total:((N=j.pagination)==null?void 0:N.total)||((R=j.history)==null?void 0:R.length)||0}),j.pagination&&b(j.pagination);else throw new Error(j.error||"No se pudo cargar el historial")}catch(D){console.error("Error fetching transfer history:",D),d(D.message||"Error al cargar el historial de transferencias")}finally{i(!1),p(!1)}};_.useEffect(()=>{k()},[r,y.status,S.page,S.limit]),_.useEffect(()=>{const N=setTimeout(()=>{(y.dateFrom||y.dateTo||y.taskName)&&k()},500);return()=>clearTimeout(N)},[y.dateFrom,y.dateTo,y.taskName]);const C=(N,R)=>{w(D=>({...D,[N]:R})),N!=="page"&&b(D=>({...D,page:1}))},$=()=>{f||(p(!0),k())},L=N=>{N<1||N>S.pages||N===S.page||b(R=>({...R,page:N}))},T=n.filter(N=>y.search?(N.name||N.taskName||"").toLowerCase().includes(y.search.toLowerCase())||(N.status||"").toLowerCase().includes(y.search.toLowerCase())||JSON.stringify(N).toLowerCase().includes(y.search.toLowerCase()):!0),P=()=>{if(n.length===0)return;const R=[["Fecha","Tarea","Estado","Registros Procesados","Duración (ms)"].join(","),...T.map(I=>[new Date(I.date).toLocaleString(),I.taskName||I.name||"N/A",I.status||"N/A",I.totalRecords||I.successfulRecords||0,I.executionTime||0].join(","))].join(`
`),D=new Blob([R],{type:"text/csv;charset=utf-8;"}),j=URL.createObjectURL(D),A=document.createElement("a");A.setAttribute("href",j),A.setAttribute("download",`transfer_history_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(A),A.click(),document.body.removeChild(A)},O=N=>{switch(N==null?void 0:N.toLowerCase()){case"completed":return l.jsx(Sg,{color:"#28a745"});case"failed":case"error":return l.jsx(tI,{color:"#dc3545"});case"cancelled":return l.jsx(XR,{color:"#ffc107"});default:return null}};return l.jsxs(bEe,{children:[l.jsx("section",{className:"area1",children:l.jsx(wEe,{children:l.jsxs(SEe,{children:[l.jsx("h2",{children:"Historial de Transferencias"}),l.jsx("p",{children:"Visualiza el historial de operaciones de transferencia de datos"})]})})}),l.jsx("section",{className:"area2",children:l.jsxs(EEe,{children:[l.jsxs(jEe,{children:[l.jsx(CEe,{type:"text",placeholder:"Buscar en historial...",value:y.search,onChange:N=>C("search",N.target.value)}),l.jsx($Ee,{children:l.jsx(Zs,{})})]}),l.jsxs(TEe,{children:[l.jsxs(sE,{children:[l.jsx(lE,{children:"Completadas hoy:"}),l.jsx(cE,{color:"#28a745",children:m.completedToday})]}),l.jsxs(sE,{children:[l.jsx(lE,{children:"Fallidas hoy:"}),l.jsx(cE,{color:"#dc3545",children:m.failedToday})]}),l.jsxs(sE,{children:[l.jsx(lE,{children:"Total en historial:"}),l.jsx(cE,{children:m.total})]})]}),l.jsxs(kEe,{children:[l.jsxs(Hm,{children:[l.jsx(Um,{children:"Desde:"}),l.jsxs(MM,{children:[l.jsx(RM,{selected:y.dateFrom,onChange:N=>C("dateFrom",N),dateFormat:"dd/MM/yyyy",placeholderText:"Fecha inicio",isClearable:!0}),l.jsx(IM,{children:l.jsx(Ui,{})})]})]}),l.jsxs(Hm,{children:[l.jsx(Um,{children:"Hasta:"}),l.jsxs(MM,{children:[l.jsx(RM,{selected:y.dateTo,onChange:N=>C("dateTo",N),dateFormat:"dd/MM/yyyy",placeholderText:"Fecha fin",isClearable:!0}),l.jsx(IM,{children:l.jsx(Ui,{})})]})]}),l.jsxs(Hm,{children:[l.jsx(Um,{children:"Estado:"}),l.jsxs(AEe,{value:y.status,onChange:N=>C("status",N.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"completed",children:"Completadas"}),l.jsx("option",{value:"failed",children:"Fallidas"}),l.jsx("option",{value:"cancelled",children:"Canceladas"})]})]}),l.jsxs(Hm,{children:[l.jsx(Um,{children:"Tarea:"}),l.jsx(OEe,{type:"text",placeholder:"Nombre de tarea",value:y.taskName,onChange:N=>C("taskName",N.target.value)})]}),l.jsxs(PEe,{children:[l.jsxs(NM,{onClick:$,disabled:f,children:[l.jsx(Zt,{})," ",f?"Actualizando...":"Actualizar"]}),l.jsxs(NM,{onClick:P,disabled:n.length===0,children:[l.jsx(QR,{})," Exportar"]})]})]})]})}),l.jsx("section",{className:"main",children:o&&!f?l.jsx(_Ee,{children:l.jsx(DEe,{children:"Cargando historial..."})}):c?l.jsx(MEe,{children:c}):n.length===0?l.jsx(LM,{children:"No hay registros de transferencias disponibles."}):l.jsx(REe,{children:T.length===0?l.jsx(LM,{children:"No se encontraron registros con los filtros actuales."}):l.jsxs(l.Fragment,{children:[l.jsxs(IEe,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Fecha"}),l.jsx("th",{children:"Tarea"}),l.jsx("th",{children:"Estado"}),l.jsx("th",{children:"Registros"}),l.jsx("th",{children:"Duración"})]})}),l.jsx("tbody",{children:T.map((N,R)=>{var D,j;return l.jsxs(NEe,{status:(D=N.status)==null?void 0:D.toLowerCase(),children:[l.jsx("td",{children:new Date(N.date).toLocaleString()}),l.jsx("td",{children:N.taskName||N.name||"N/A"}),l.jsx("td",{children:l.jsxs(LEe,{status:(j=N.status)==null?void 0:j.toLowerCase(),children:[O(N.status)," ",N.status==="completed"?"Completada":N.status==="failed"?"Fallida":N.status==="cancelled"?"Cancelada":N.status||"Desconocido"]})}),l.jsx("td",{children:N.totalRecords||N.successfulRecords||0}),l.jsx("td",{children:N.executionTime?`${N.executionTime}ms`:"N/A"})]},R)})})]}),l.jsxs(BEe,{children:[l.jsxs(zEe,{children:["Mostrando ",T.length," de ",m.total," ","registros"]}),l.jsxs(FEe,{children:[l.jsx(Vm,{disabled:S.page<=1,onClick:()=>L(1),children:"«"}),l.jsx(Vm,{disabled:S.page<=1,onClick:()=>L(S.page-1),children:"‹"}),l.jsxs(qEe,{children:["Página ",S.page," de ",S.pages]}),l.jsx(Vm,{disabled:S.page>=S.pages,onClick:()=>L(S.page+1),children:"›"}),l.jsx(Vm,{disabled:S.page>=S.pages,onClick:()=>L(S.pages),children:"»"})]})]})]})})})]})}const bEe=v.div`
  min-height: 100vh;
  padding: 15px;
  width: 100%;
  background-color: ${e=>e.theme.bg};
  color: ${({theme:e})=>e.text};
  display: grid;
  grid-template:
    "header" 90px
    "area1" auto
    "area2" auto
    "main" 1fr;

  @media (max-width: 768px) {
    grid-template:
      "header" 70px
      "area1" auto
      "area2" auto
      "main" 1fr;
    padding: 10px;
  }

  .header {
    grid-area: header;
    display: flex;
    align-items: center;
    margin-bottom: 10px;
  }

  .area1 {
    grid-area: area1;
    margin-bottom: 20px;
  }

  .area2 {
    grid-area: area2;
    margin-bottom: 20px;
  }

  .main {
    grid-area: main;
    margin-top: 10px;
  }
`,wEe=v.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 15px 0;
`,SEe=v.div`
  display: flex;
  flex-direction: column;
  text-align: center;
  gap: 5px;

  h2 {
    margin: 0;
    font-size: 1.5rem;
    color: ${({theme:e})=>e.title||e.text};
  }

  p {
    margin: 0;
    color: ${({theme:e})=>e.textSecondary||"#666"};
  }
`,EEe=v.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
`,jEe=v.div`
  display: flex;
  width: 100%;
  justify-content: center;
  margin-bottom: 10px;
`,CEe=v.input`
  width: 100%;
  max-width: 800px;
  padding: 10px 15px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px 0 0 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};

  &:focus {
    outline: none;
    border-color: #007bff;
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
  }
`,$Ee=v.button`
  padding: 10px 15px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-left: none;
  border-radius: 0 4px 4px 0;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  color: ${({theme:e})=>e.text};
  cursor: pointer;

  &:hover {
    background-color: ${({theme:e})=>e.hoverBg||"#f8f9fa"};
  }
`,TEe=v.div`
  display: flex;
  justify-content: center;
  gap: 30px;
  margin-bottom: 15px;

  @media (max-width: 768px) {
    flex-wrap: wrap;
    gap: 15px;
  }
`,sE=v.div`
  display: flex;
  flex-direction: column;
  align-items: center;
`,lE=v.div`
  font-size: 14px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,cE=v.div`
  font-size: 24px;
  font-weight: 600;
  color: ${e=>{var t;return e.color||((t=e.theme)==null?void 0:t.text)||"#333"}};
`,kEe=v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  justify-content: center;
  align-items: center;
  margin-bottom: 10px;

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: stretch;
  }
`,Hm=v.div`
  display: flex;
  align-items: center;
  gap: 8px;

  @media (max-width: 768px) {
    width: 100%;
  }
`,Um=v.span`
  font-size: 14px;
  font-weight: 500;
  color: ${({theme:e})=>e.textSecondary||"#666"};
  white-space: nowrap;
`,AEe=v.select`
  padding: 8px 12px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};

  @media (max-width: 768px) {
    flex: 1;
  }
`,OEe=v.input`
  padding: 8px 12px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};

  @media (max-width: 768px) {
    flex: 1;
  }
`,MM=v.div`
  position: relative;
`,RM=v(nN)`
  padding: 8px 12px;
  padding-right: 30px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};
  width: 130px;

  &:focus {
    outline: none;
    border-color: #007bff;
  }

  @media (max-width: 768px) {
    width: 100%;
  }
`,IM=v.div`
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  color: ${({theme:e})=>e.textSecondary||"#666"};
  pointer-events: none;
`,PEe=v.div`
  display: flex;
  gap: 10px;

  @media (max-width: 768px) {
    width: 100%;
    justify-content: space-between;
  }
`,NM=v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 15px;
  border: none;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;
  background-color: ${({theme:e})=>e.primary||"#007bff"};
  color: white;
  transition: background-color 0.2s;

  &:hover:not(:disabled) {
    background-color: ${({theme:e})=>e.primaryHover||"#0069d9"};
  }

  &:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }

  @media (max-width: 768px) {
    flex: 1;
    justify-content: center;
  }
`,_Ee=v.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
`,DEe=v.div`
  padding: 20px;
  text-align: center;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,MEe=v.div`
  padding: 20px;
  text-align: center;
  color: #dc3545;
  background-color: rgba(220, 53, 69, 0.1);
  border-radius: 8px;
  margin: 20px 0;
`,LM=v.div`
  padding: 30px;
  text-align: center;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
`,REe=v.div`
  max-width: 1200px;
  margin: 0 auto;
`,IEe=v.table`
  width: 100%;
  border-collapse: collapse;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);

  th,
  td {
    padding: 12px 15px;
    text-align: left;
  }

  th {
    background-color: ${({theme:e})=>e.tableHeader||"#f0f0f0"};
    color: ${({theme:e})=>e.tableHeaderText||"#333"};
    font-weight: 600;
    font-size: 14px;
  }

  tbody tr:not(:last-child) {
    border-bottom: 1px solid ${({theme:e})=>e.border||"#eee"};
  }
`,NEe=v.tr`
  background-color: ${({status:e,theme:t})=>{switch(e){case"completed":return"rgba(40, 167, 69, 0.05)";case"failed":case"error":return"rgba(220, 53, 69, 0.05)";case"cancelled":return"rgba(255, 193, 7, 0.05)";default:return(t==null?void 0:t.cardBg)||"#fff"}}};

  &:hover {
    background-color: ${({theme:e})=>e.hoverBg||"#f8f9fa"};
  }
`,LEe=v.div`
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  border-radius: 50px;
  font-size: 12px;
  font-weight: 500;
  color: white;
  background-color: ${({status:e})=>{switch(e){case"completed":return"#28a745";case"failed":case"error":return"#dc3545";case"cancelled":return"#ffc107";default:return"#6c757d"}}};
`,BEe=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 20px;
  padding: 10px 0;
  flex-wrap: wrap;
  gap: 15px;

  @media (max-width: 768px) {
    flex-direction: column;
  }
`,zEe=v.div`
  font-size: 14px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,FEe=v.div`
  display: flex;
  gap: 5px;
  align-items: center;
`,Vm=v.button`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 32px;
  height: 32px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  color: ${({theme:e})=>e.text};
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s;

  &:hover:not(:disabled) {
    background-color: ${({theme:e})=>e.hoverBg||"#f8f9fa"};
    border-color: ${({theme:e})=>e.primary||"#007bff"};
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,qEe=v.div`
  padding: 0 10px;
  font-size: 14px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,Ai=new Yr;function O9(){const{getModulePermissions:e}=oo(),t=_.useMemo(()=>e("tasks"),[e]),[r,n]=_.useState(""),[a,o]=_.useState(null),{accessToken:i,user:c}=wt(),[d,f]=_.useState(!1),[p,m]=_.useState("cards"),[g,y]=_.useState("20:30"),[w,S]=_.useState({}),[b,k]=_.useState(!1),[C,$]=_.useState({}),[L,T]=_.useState({}),[P,O]=_.useState(!1),N=_.useRef(null),R=5e3,{canAccessRoute:D}=oo(),[j,A]=_.useState({type:"all",executionMode:"all",transferType:"all",status:"all"});console.log("filters",D("/tasks")),console.log("canAccessRoute",t);const I=_.useCallback(async(G={})=>{try{return await Ai.getTasks(i)}catch(pe){throw console.error("Error al obtener tareas:",pe),pe}},[i]),B=_.useCallback(async(G={})=>{try{return await Ai.getSchuledTime(i)}catch(pe){throw console.error("Error al obtener hora programada:",pe),pe}},[i]),{data:F,loading:U,refreshing:Y,setData:W,error:Q,refetch:Z}=Yi(I,[i],{autoRefresh:!0,refreshInterval:R,enableCache:!0,cacheTime:6e4,initialData:[]}),{data:V,loading:K,refetch:se}=Yi(B,[i],{autoRefresh:!1,initialData:{hour:"02:00",enabled:!0}});_.useEffect(()=>{V!=null&&V.hour&&y(V.hour)},[V==null?void 0:V.hour]),_.useEffect(()=>{(async()=>{if("Notification"in window){const pe=await Notification.requestPermission();O(pe==="granted")}})()},[]),_.useEffect(()=>(F.filter(pe=>pe.status==="running").forEach(pe=>{To.isSubscribed(pe._id)||(To.subscribe(pe._id,{progress:Ce=>{var He;if(W(je=>je.map(re=>re._id===pe._id?{...re,progress:Ce.progress,status:Ce.status||re.status}:re)),(He=C[pe._id])!=null&&He.startTime){const je=C[pe._id].startTime,re=Date.now()-je;if(Ce.progress>0){const Se=re/Ce.progress*100,ye=Se-re;T(Pe=>({...Pe,[pe._id]:{elapsed:re,remaining:ye,total:Se,speed:Ce.progress/(re/1e3/60)}}))}}},status:Ce=>{W(He=>He.map(je=>je._id===pe._id?{...je,status:Ce.status}:je)),Ce.status==="completed"&&P?new Notification("Tarea completada",{body:`La tarea "${pe.name}" ha finalizado correctamente.`,icon:"/favicon.ico"}):Ce.status==="error"&&P&&new Notification("Error en tarea",{body:`La tarea "${pe.name}" ha finalizado con errores.`,icon:"/favicon.ico"})},connected:()=>{console.log(`Conectado a SSE para tarea ${pe._id}`)},error:Ce=>{console.error(`Error en SSE para tarea ${pe._id}:`,Ce)},reconnectFailed:()=>{console.warn(`Reconexión fallida para tarea ${pe._id}`),W(Ce=>Ce.map(He=>He._id===pe._id?{...He,connectionLost:!0}:He))}}),C[pe._id]||$(Ce=>({...Ce,[pe._id]:{startTime:Date.now()}})))}),F.forEach(pe=>{pe.status!=="running"&&To.isSubscribed(pe._id)&&To.unsubscribe(pe._id)}),()=>{To.closeAll()}),[F,C,P]),_.useEffect(()=>{if(!N.current){N.current=F;return}F.forEach(G=>{const pe=N.current.find(Ce=>Ce._id===G._id);if(pe&&pe.status==="running"&&(G.status==="completed"||G.status==="error")&&P){const Ce=G.status==="completed"?"Tarea completada":"Error en tarea",He=G.status==="completed"?`La tarea "${G.name}" ha finalizado correctamente.`:`La tarea "${G.name}" ha finalizado con errores.`;new Notification(Ce,{body:He,icon:"/favicon.ico"})}}),N.current=F},[F,P]);const he=(G,pe)=>{A(Ce=>({...Ce,[G]:pe}))},me=F.filter(G=>{const pe=G.name.toLowerCase().includes(r.toLowerCase()),Ce=j.type==="all"||G.type===j.type,He=j.executionMode==="all"||G.executionMode===j.executionMode,je=j.transferType==="all"||G.transferType===j.transferType,re=j.status==="all"||(j.status==="active"?G.active:!G.active);return pe&&Ce&&He&&je&&re}),ne=G=>{n(G.target.value)},ve=async(G=null)=>{const pe=!!G;if(!t.canCreate&&!t.canUpdate){z.fire({icon:"warning",title:"Acceso Denegado",text:"No tienes permisos para crear/editar tareas.",confirmButtonText:"Entendido"});return}let Ce=null;if(pe&&(G!=null&&G._id))try{Ce=(await Ai.getTaskLinkingInfo(i,G._id)).data||null,console.log("Información de vinculación:",Ce)}catch(re){console.warn("No se pudo obtener info de vinculación:",re),Ce=null}const{value:He}=await z.fire({title:pe?"Editar Tarea":"Nueva Tarea",width:600,html:`
    <div style="max-width:100%;">
      <!-- SECCIÓN 1: CONFIGURACIÓN BÁSICA -->
      <div class="form-section">
        <h4 style="border-bottom: 1px solid #eee; padding-bottom: 8px; margin: 15px 0;">Configuración Básica</h4>
        
        <div class="form-group">
          <label>Nombre de la tarea:</label>
          <input id="swal-name" class="swal2-input" placeholder="Nombre" value="${(G==null?void 0:G.name)||""}" />
        </div>

        <div class="form-group">
          <label>Tipo de tarea:</label>
          <select id="swal-type" class="swal2-select">
            <option value="manual" ${(G==null?void 0:G.type)==="manual"?"selected":""}>Manual</option>
            <option value="auto" ${(G==null?void 0:G.type)==="auto"?"selected":""}>Automática</option>
            <option value="both" ${(G==null?void 0:G.type)==="both"?"selected":""}>Ambas</option>
          </select>
        </div>

        <div class="form-group">
          <label>Tipo de Transferencia:</label>
          <select id="swal-transferType" class="swal2-select">
            <option value="" ${G!=null&&G.transferType?"":"selected"}>General</option>
            <option value="up" ${(G==null?void 0:G.transferType)==="up"?"selected":""}>Transfer Up (Server1 → Server2)</option>
            <option value="down" ${(G==null?void 0:G.transferType)==="down"?"selected":""}>Transfer Down (Server2 → Server1)</option>
            <option value="internal" ${(G==null?void 0:G.transferType)==="internal"?"selected":""}>Transfer Interno (Server1 → Server1)</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>Modo de Ejecución:</label>
          <select id="swal-executionMode" class="swal2-select">
            <option value="normal" ${(G==null?void 0:G.executionMode)==="normal"||!(G!=null&&G.executionMode)?"selected":""}>Normal Transfer</option>
            <option value="batchesSSE" ${(G==null?void 0:G.executionMode)==="batchesSSE"?"selected":""}>Batches SSE</option>
          </select>
        </div>
        
        <div class="swal2-checkbox-container">
          <input id="swal-active" type="checkbox" ${(G==null?void 0:G.active)!==!1?"checked":""} />
          <label for="swal-active">Activo</label>
        </div>

        <div class="swal2-checkbox-container">
          <input id="swal-clearBeforeInsert" type="checkbox" ${G!=null&&G.clearBeforeInsert?"checked":""} />
          <label for="swal-clearBeforeInsert">Borrar registros antes de insertar</label>
        </div>
      </div>
      
      <!-- SECCIÓN 2: CONSULTA Y PARÁMETROS -->
      <div class="form-section">
        <h4 style="border-bottom: 1px solid #eee; padding-bottom: 8px; margin: 15px 0;">Consulta y Parámetros</h4>
        
        <div class="form-group">
          <label>Consulta SQL:</label>
          <textarea id="swal-query" class="textarea-sql" placeholder="Consulta SQL">${(G==null?void 0:G.query)||""}</textarea>
        </div>

        <div class="form-group">
          <label>Parámetros (JSON):</label>
          <textarea id="swal-parameters" class="swal2-textarea" placeholder='[{"field": "nivel_precio", "operator": "=", "value": "Gold"}]'>${JSON.stringify((G==null?void 0:G.parameters)||[],null,2)}</textarea>
        </div>
      </div>

      <!-- SECCIÓN 3: TAREAS VINCULADAS -->
      <div class="form-section">
        <h4 style="border-bottom: 1px solid #eee; padding-bottom: 8px; margin: 15px 0;">🔗 Tareas Vinculadas</h4>
        
        <div style="margin-bottom: 15px; padding: 12px; background-color: #e3f2fd; border-radius: 6px; border-left: 4px solid #2196f3;">
          <div style="font-weight: 600; color: #1565c0; margin-bottom: 8px;">ℹ️ ¿Cómo funciona?</div>
          <ul style="margin: 0; padding-left: 20px; font-size: 13px; color: #424242; line-height: 1.5;">
            <li><strong>Grupo vinculado:</strong> Si esta tarea pertenece a un grupo, al ejecutar CUALQUIER tarea del grupo se ejecutarán TODAS las tareas del grupo</li>
            <li><strong>Post-update coordinado:</strong> Solo se ejecutará UN post-update al final con TODOS los registros procesados</li>
            <li><strong>Evita conflictos:</strong> Perfecto para tareas como IMPLT_Accounts + IMPLT_Accounts_function que actualizan el mismo campo U_ESTATUS</li>
            <li><strong>Orden de ejecución:</strong> Las tareas se ejecutan según el orden especificado</li>
          </ul>
        </div>
        
        <div class="form-group">
          <label>Grupo de vinculación:</label>
          <input id="swal-linkedGroup" class="swal2-input" 
                 placeholder="Ejemplo: IMPLT_Accounts_Group" 
                 value="${(G==null?void 0:G.linkedGroup)||""}" />
          <small style="display: block; margin-top: 5px; font-size: 12px; color: #666;">
            <strong>Importante:</strong> Todas las tareas con el mismo nombre de grupo se ejecutarán juntas automáticamente
          </small>
        </div>

        <div class="form-group">
          <label>Orden de ejecución en el grupo:</label>
          <input id="swal-linkedExecutionOrder" class="swal2-input" type="number" 
                 placeholder="0" min="0" max="100"
                 value="${(G==null?void 0:G.linkedExecutionOrder)||0}" />
          <small style="display: block; margin-top: 5px; font-size: 12px; color: #666;">
            Orden en que se ejecutará dentro del grupo (0 = primera, 1 = segunda, etc.)
          </small>
        </div>

        <div class="swal2-checkbox-container">
          <input id="swal-isCoordinator" type="checkbox" ${G!=null&&G.postUpdateQuery?"checked":""} />
          <label for="swal-isCoordinator">Esta tarea será la coordinadora del post-update del grupo</label>
          <small style="display: block; margin-top: 5px; font-size: 12px; color: #666;">
            <strong>Regla importante:</strong> Solo UNA tarea del grupo debe tener post-update definido (será la coordinadora). 
            Las demás tareas del grupo deben tener post-update vacío.
          </small>
        </div>

        <div class="form-group">
          <label>Tareas vinculadas directamente (alternativa al grupo):</label>
          <select id="swal-linkedTasks" class="swal2-select" multiple style="height: 100px; width: 100%;">
            ${F.filter(re=>re._id!==(G==null?void 0:G._id)).map(re=>`<option value="${re._id}" ${Array.isArray(G==null?void 0:G.linkedTasks)&&G.linkedTasks.some(Se=>Se.toString()===re._id.toString())?"selected":""}>${re.name}</option>`).join("")}
          </select>
          <small style="display: block; margin-top: 5px; font-size: 12px; color: #666;">
            <strong>Alternativa:</strong> Si no usas grupos, puedes vincular tareas específicas aquí. 
            Mantén presionada Ctrl para seleccionar múltiples tareas.
          </small>
        </div>

        ${Ce&&Ce.hasLinkedTasks?`
          <div style="margin-top: 15px; padding: 12px; background-color: #e8f5e8; border-radius: 6px; border-left: 4px solid #4caf50;">
            <div style="font-weight: 600; color: #2e7d32; margin-bottom: 8px;">📊 Estado actual de vinculación</div>
            <div style="font-size: 13px; color: #424242;">
              <div style="margin-bottom: 4px;"><strong>Grupo:</strong> ${Ce.linkedGroup||"Vinculación directa"}</div>
              <div style="margin-bottom: 4px;"><strong>Total de tareas en el grupo:</strong> ${Ce.linkedTasksCount}</div>
              <div style="margin-bottom: 4px;"><strong>Tareas vinculadas:</strong></div>
              <ul style="margin: 4px 0; padding-left: 20px;">
                ${Ce.linkedTasks.map(re=>`<li>${re.name} (orden: ${re.order})</li>`).join("")}
              </ul>
              <div style="margin-top: 8px; padding: 6px; background-color: #fff; border-radius: 4px; font-size: 12px;">
                <strong>💡 Recordatorio:</strong> Al ejecutar cualquiera de estas tareas, se ejecutarán todas automáticamente
              </div>
            </div>
          </div>
        `:Ce===null&&pe?`
          <div style="margin-top: 15px; padding: 12px; background-color: #fff3e0; border-radius: 6px; border-left: 4px solid #ff9800;">
            <div style="font-weight: 500; color: #e65100;">⚠️ No se pudo cargar información de vinculación</div>
            <div style="font-size: 12px; color: #424242; margin-top: 4px;">
              Es posible que esta tarea no tenga vinculaciones configuradas o haya ocurrido un error al cargar la información.
            </div>
          </div>
        `:""}

        <div style="margin-top: 15px; padding: 10px; background-color: #fff3e0; border-radius: 6px; border-left: 4px solid #ff9800;">
          <div style="font-weight: 600; color: #e65100; margin-bottom: 6px;">⚠️ Recomendaciones</div>
          <ul style="margin: 0; padding-left: 20px; font-size: 12px; color: #424242; line-height: 1.4;">
            <li>Usa <strong>grupos</strong> para tareas que siempre se ejecutan juntas</li>
            <li>Usa <strong>vinculación directa</strong> solo para casos especiales</li>
            <li>Define el <strong>orden de ejecución</strong> cuidadosamente</li>
            <li>Solo <strong>una tarea</strong> del grupo debe tener post-update</li>
          </ul>
        </div>
      </div>
      
      <!-- RESTO DE SECCIONES... -->
      ${je(G,F)}
    </div>
    `,confirmButtonText:pe?"Actualizar":"Agregar",showCancelButton:!0,cancelButtonText:"Cancelar",customClass:{container:"swal-container",popup:"swal-popup",htmlContainer:"swal-html-container",input:"swal-input",actions:"swal-actions"},didOpen:()=>{const re=z.getPopup();re.style.maxWidth="500px",re.style.width="95%";const Se=()=>{const Pe=document.getElementById("swal-transferType").value,Ze=document.getElementById("section-field-mapping");Ze.style.display=Pe==="down"?"block":"none";const lt=document.getElementById("section-chain-tasks");lt.style.display=Pe==="down"?"block":"none";const We=document.getElementById("section-target-table");We.style.display=Pe==="internal"?"block":"none";const st=document.getElementById("section-validation"),ge=document.getElementById("section-post-transfer");Pe==="down"?(st.style.display="none",ge.style.display="none"):(st.style.display="block",ge.style.display="block")};document.getElementById("swal-transferType").addEventListener("change",Se),Se();const ye=document.createElement("style");ye.innerHTML=`
        .form-section {
          margin-bottom: 20px;
          padding: 15px;
          background-color: #f9f9f9;
          border-radius: 8px;
          box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .form-section h4 {
          color: #444;
          font-size: 16px;
          margin-top: 0;
        }
        .textarea-sql {
          width: 100%;
          height: 120px;
          padding: 8px;
          font-family: monospace;
          font-size: 14px;
          line-height: 1.5;
          border: 1px solid #d9d9d9;
          border-radius: 4px;
          resize: vertical;
        }
      `,document.head.appendChild(ye)},preConfirm:()=>{try{const re=document.getElementById("swal-name").value.trim(),Se=document.getElementById("swal-type").value.trim(),ye=document.getElementById("swal-transferType").value.trim(),Pe=document.getElementById("swal-executionMode").value.trim(),Ze=document.getElementById("swal-query").value.trim(),lt=document.getElementById("swal-active").checked,We=document.getElementById("swal-clearBeforeInsert").checked;if(!re)return z.showValidationMessage("⚠️ El nombre de la tarea es obligatorio"),!1;if(!Ze)return z.showValidationMessage("⚠️ La consulta SQL es obligatoria"),!1;let st=[];try{const ct=document.getElementById("swal-parameters").value.trim();ct&&(st=JSON.parse(ct))}catch(ct){return console.error("Error al parsear JSON:",ct),z.showValidationMessage("⚠️ Error en el formato de parámetros JSON"),!1}const ge={name:re,type:Se,transferType:ye,executionMode:Pe,query:Ze,parameters:st,active:lt,clearBeforeInsert:We};pe&&(G!=null&&G._id)&&(ge._id=G._id);const De=document.getElementById("swal-linkedGroup").value.trim(),xt=parseInt(document.getElementById("swal-linkedExecutionOrder").value||0),Nt=document.getElementById("swal-isCoordinator").checked;ge.linkedGroup=De||null,ge.linkedExecutionOrder=xt,ge.executeLinkedTasks=De!=="";const Qt=document.getElementById("swal-linkedTasks"),xr=Qt?Array.from(Qt.selectedOptions||[]).map(ct=>ct.value):[];ge.linkedTasks=xr;const at=document.getElementById("swal-requiredFields").value.trim(),J=document.getElementById("swal-existenceTable").value.trim(),$e=document.getElementById("swal-existenceKey").value.trim();ge.validationRules={requiredFields:at?at.split(",").map(ct=>ct.trim()).filter(Boolean):[],existenceCheck:{table:J||"",key:$e||""}};const Ve=document.getElementById("swal-postUpdateQuery").value.trim(),Lt=document.getElementById("swal-postUpdateKeyView").value.trim(),lr=document.getElementById("swal-postUpdateKeyTable").value.trim();if(ge.postUpdateQuery=Ve||null,ge.postUpdateMapping={viewKey:Lt||null,tableKey:lr||null},ge.linkingMetadata={isCoordinator:Nt&&!!ge.postUpdateQuery,lastGroupExecution:null,lastGroupExecutionId:null},De&&!ge.postUpdateQuery&&Nt)return z.showValidationMessage("⚠️ Si marca esta tarea como coordinadora, debe definir una consulta post-transferencia"),!1;if(De&&ge.postUpdateQuery&&!Nt&&(ge.linkingMetadata.isCoordinator=!0,console.log("Auto-marcando como coordinadora porque tiene postUpdateQuery")),ye==="down"){const ct=document.getElementById("swal-source-table").value.trim(),Or=document.getElementById("swal-target-table").value.trim(),br=document.getElementById("swal-source-fields").value.trim(),Bn=document.getElementById("swal-target-fields").value.trim(),ti=document.getElementById("swal-default-values").value.trim(),sa=document.getElementById("swal-down-key-field").value.trim();if(!ct)return z.showValidationMessage("⚠️ Debe especificar la tabla origen en Server2"),!1;if(!Or)return z.showValidationMessage("⚠️ Debe especificar la tabla destino en Server1"),!1;if(!br||!Bn)return z.showValidationMessage("⚠️ Debe especificar los campos origen y destino"),!1;const ri=br.split(",").map(Pr=>Pr.trim()).filter(Boolean),la=Bn.split(",").map(Pr=>Pr.trim()).filter(Boolean);if(ri.length!==la.length)return z.showValidationMessage("⚠️ Debe haber el mismo número de campos origen y destino"),!1;const co=[];if(ti){const Pr=ti.split(",");for(const zn of Pr){const Ma=zn.split(":");if(Ma.length===2){const Ot=Ma[0].trim(),ni=Ma[1].trim();Ot&&co.push({field:Ot,value:ni})}}}ge.fieldMapping={sourceTable:ct,targetTable:Or,sourceFields:ri,targetFields:la,defaultValues:co.length>0?co:[]};const uo=document.getElementById("swal-next-tasks");if(uo){const Pr=Array.from(uo.selectedOptions||[]);ge.nextTasks=Pr.map(zn=>zn.value)}else ge.nextTasks=[];if(sa){if(!la.includes(sa))return z.showValidationMessage(`⚠️ El campo identificador "${sa}" debe estar en la lista de campos destino`),!1;ge.validationRules.existenceCheck.key=sa,ge.validationRules.requiredFields=[sa],ge.validationRules.existenceCheck.table||(ge.validationRules.existenceCheck.table=Or)}else if(la.length>0){const Pr=la[0];console.log(`Usando primer campo destino '${Pr}' como clave para validación en transferencia DOWN`),ge.validationRules.existenceCheck.key=Pr,ge.validationRules.requiredFields=[Pr],ge.validationRules.existenceCheck.table||(ge.validationRules.existenceCheck.table=Or)}else return z.showValidationMessage("⚠️ No se pueden determinar campos para identificar registros. Especifique al menos un campo destino."),!1}else if(ye==="internal"){const ct=document.getElementById("swal-targetTable").value.trim();if(!ct)return z.showValidationMessage("⚠️ Para transferencias internas debe especificar la tabla destino"),!1;if(ge.targetTable=ct,ge.fieldMapping={sourceTable:"",targetTable:"",sourceFields:[],targetFields:[],defaultValues:[]},ge.nextTasks=[],!ge.validationRules.existenceCheck.key&&ge.validationRules.requiredFields.length===0)return z.showValidationMessage("⚠️ Debe especificar al menos una clave primaria o un campo obligatorio para identificar registros"),!1}else if(ge.fieldMapping={sourceTable:"",targetTable:"",sourceFields:[],targetFields:[],defaultValues:[]},ge.nextTasks=[],!ge.validationRules.existenceCheck.key&&ge.validationRules.requiredFields.length===0)return z.showValidationMessage("⚠️ Debe especificar al menos una clave primaria o un campo obligatorio para identificar registros"),!1;return console.log("Campos de vinculación procesados:",{linkedGroup:ge.linkedGroup,executeLinkedTasks:ge.executeLinkedTasks,linkedExecutionOrder:ge.linkedExecutionOrder,isCoordinator:ge.linkingMetadata.isCoordinator,linkedTasks:ge.linkedTasks}),console.log("Datos del formulario:",ge),ge}catch(re){return console.error("Error en el formulario:",re),z.showValidationMessage(`⚠️ Error: ${re.message}`),!1}}});function je(re,Se){var ye,Pe,Ze,lt,We,st,ge,De,xt,Nt,Qt,xr,at,J;return`
     <!-- SECCIÓN 4: MAPEO DE CAMPOS (SOLO PARA DOWN) -->
     <div id="section-field-mapping" class="form-section" style="display: none;">
       <h4 style="border-bottom: 1px solid #eee; padding-bottom: 8px; margin: 15px 0;">Mapeo de Campos (Server2 → Server1)</h4>
       
       <div style="margin-bottom: 10px;">
         <p style="font-size: 13px; color: #666;">Define las tablas y la correspondencia entre campos.</p>
       </div>
       
       <div class="form-group">
         <label>Tabla origen en Server2:</label>
         <input id="swal-source-table" class="swal2-input" placeholder="Ejemplo: dbo.CLIENTES_EXTERNOS" 
           value="${((ye=re==null?void 0:re.fieldMapping)==null?void 0:ye.sourceTable)||""}" />
         <small style="display: block; margin-top: 5px; font-size: 12px; color: #666;">
           Nombre de la tabla en Server2 de donde se obtendrán los datos
         </small>
       </div>

       <div class="form-group">
         <label>Tabla destino en Server1:</label>
         <input id="swal-target-table" class="swal2-input" placeholder="Ejemplo: dbo.Clientes" 
           value="${((Pe=re==null?void 0:re.fieldMapping)==null?void 0:Pe.targetTable)||(re==null?void 0:re.name)||""}" />
         <small style="display: block; margin-top: 5px; font-size: 12px; color: #666;">
           Nombre de la tabla en Server1 donde se insertarán los datos
         </small>
       </div>
       
       <div class="mapping-fields">
         <div style="margin-bottom: 10px;">
           <label for="swal-source-fields">Campos Origen (Server2):</label>
           <textarea id="swal-source-fields" class="swal2-textarea" placeholder="ID, NOMBRE_COMPLETO, TELEFONO_CONTACTO...">${Array.isArray((Ze=re==null?void 0:re.fieldMapping)==null?void 0:Ze.sourceFields)?re.fieldMapping.sourceFields.join(", "):""}</textarea>
         </div>
         
         <div style="margin-bottom: 10px;">
           <label for="swal-target-fields">Campos Destino (Server1):</label>
           <textarea id="swal-target-fields" class="swal2-textarea" placeholder="ClienteID, Nombre, Telefono...">${Array.isArray((lt=re==null?void 0:re.fieldMapping)==null?void 0:lt.targetFields)?re.fieldMapping.targetFields.join(", "):""}</textarea>
         </div>
         
         <div style="margin-bottom: 10px;">
           <label for="swal-default-values">Valores por defecto (opcional):</label>
           <textarea id="swal-default-values" class="swal2-textarea" placeholder="Campo1:Valor1, Campo2:Valor2...">${Array.isArray((We=re==null?void 0:re.fieldMapping)==null?void 0:We.defaultValues)?re.fieldMapping.defaultValues.map($e=>`${$e.field}:${$e.value}`).join(", "):""}</textarea>
           <small style="display: block; margin-top: 5px; font-size: 12px; color: #666;">
             Formato: NombreCampo:Valor (separados por comas)
           </small>
         </div>
       </div>
       
       <div class="form-group" style="margin-top: 20px; padding-top: 15px; border-top: 1px dashed #ddd;">
         <label>Campo identificador único:</label>
         <input id="swal-down-key-field" class="swal2-input" placeholder="Ejemplo: ClienteID, Codigo, etc." 
           value="${((ge=(st=re==null?void 0:re.validationRules)==null?void 0:st.existenceCheck)==null?void 0:ge.key)||""}" />
         <small style="display: block; margin-top: 5px; font-size: 12px; color: #666;">
           <strong>Importante:</strong> Especifique un campo que identifique de manera única cada registro (debe estar en los campos destino).
         </small>
       </div>
       
       <small style="display: block; margin-top: 5px; font-size: 12px; color: #666;">
         Los campos deben estar separados por comas y en el mismo orden para establecer la correspondencia correcta.
       </small>
     </div>
     
     <!-- SECCIÓN DE TAREAS ENCADENADAS (SOLO PARA DOWN) -->
     <div id="section-chain-tasks" class="form-section" style="display: none;">
       <h4 style="border-bottom: 1px solid #eee; padding-bottom: 8px; margin: 15px 0;">Tareas Encadenadas</h4>
       
       <div class="form-group">
         <label>Ejecutar estas tareas al finalizar (opcional):</label>
         <select id="swal-next-tasks" class="swal2-select" multiple style="height: 100px; width: 100%;">
           ${Se.filter($e=>$e._id!==(re==null?void 0:re._id)).map($e=>`<option value="${$e._id}" ${Array.isArray(re==null?void 0:re.nextTasks)&&re.nextTasks.some(Ve=>Ve.toString()===$e._id.toString())?"selected":""}>${$e.name}</option>`).join("")}
         </select>
         <small style="display: block; margin-top: 5px; font-size: 12px; color: #666;">
           Mantén presionada la tecla Ctrl para seleccionar múltiples tareas que se ejecutarán en secuencia al finalizar esta tarea.
         </small>
       </div>
     </div>
     
     <!-- SECCIÓN 5: VALIDACIÓN DE DATOS -->
     <div id="section-validation" class="form-section">
       <h4 style="border-bottom: 1px solid #eee; padding-bottom: 8px; margin: 15px 0;">Validación de Datos</h4>
       
       <div class="form-group">
         <label>Campos obligatorios:</label>
         <input id="swal-requiredFields" class="swal2-input" placeholder="Ejemplo: Code_ofClient, Name1" 
           value="${Array.isArray((De=re==null?void 0:re.validationRules)==null?void 0:De.requiredFields)?re.validationRules.requiredFields.join(", "):""}" />
       </div>

       <div class="form-group">
         <label>Tabla de validación:</label>
         <input id="swal-existenceTable" class="swal2-input" placeholder="Ejemplo: dbo.IMPLT_clients" 
           value="${((Nt=(xt=re==null?void 0:re.validationRules)==null?void 0:xt.existenceCheck)==null?void 0:Nt.table)||""}" />
       </div>

       <div class="form-group">
         <label>Clave primaria:</label>
         <input id="swal-existenceKey" class="swal2-input" placeholder="Ejemplo: Code_ofClient" 
           value="${((xr=(Qt=re==null?void 0:re.validationRules)==null?void 0:Qt.existenceCheck)==null?void 0:xr.key)||""}" />
       </div>
     </div>
     
     <!-- SECCIÓN 6: POST-TRANSFERENCIA -->
     <div id="section-post-transfer" class="form-section">
       <h4 style="border-bottom: 1px solid #eee; padding-bottom: 8px; margin: 15px 0;">Operaciones Post-Transferencia</h4>
       
       <div class="form-group">
         <label>Consulta Post-Transferencia:</label>
         <textarea id="swal-postUpdateQuery" class="swal2-textarea"
           placeholder="Ejemplo: UPDATE CATELLI.CLIENTE SET U_ESTATUS = 'Normal'">${(re==null?void 0:re.postUpdateQuery)||""}</textarea>
         <small style="display: block; margin-top: 5px; font-size: 12px; color: #666;">
           <strong>Para tareas vinculadas:</strong> Solo la tarea coordinadora debe tener esta consulta definida
         </small>
       </div>

       <div class="form-group">
         <label>Clave en Vista:</label>
         <input id="swal-postUpdateKeyView" class="swal2-input" placeholder="Ejemplo: Code_OfClient"
           value="${((at=re==null?void 0:re.postUpdateMapping)==null?void 0:at.viewKey)||""}" />
       </div>
       
       <div class="form-group">
         <label>Clave en Tabla Real:</label>
         <input id="swal-postUpdateKeyTable" class="swal2-input" placeholder="Ejemplo: CLIENTE"
           value="${((J=re==null?void 0:re.postUpdateMapping)==null?void 0:J.tableKey)||""}" />
       </div>
     </div>
     
     <!-- SECCIÓN 7: TABLA DESTINO (SÓLO PARA TRANSFERENCIA INTERNA) -->
     <div id="section-target-table" class="form-section" style="display: none;">
       <h4 style="border-bottom: 1px solid #eee; padding-bottom: 8px; margin: 15px 0;">Configuración de Transferencia Interna</h4>
       
       <div class="form-group">
         <label>Tabla destino:</label>
         <input id="swal-targetTable" class="swal2-input" placeholder="Ejemplo: dbo.IMPLT_Hist_Orders" 
           value="${(re==null?void 0:re.targetTable)||""}" />
         <small style="display: block; margin-top: 5px; font-size: 12px; color: #666;">
           Especifique la tabla destino para transferencias internas en Server1
         </small>
       </div>
     </div>
 `}if(He)try{if(z.fire({title:pe?"Actualizando...":"Creando...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}}),console.log("Enviando al backend:",He),await Ai.upsertTransferTask(i,He))await Z(),z.fire("Éxito",`Tarea ${pe?"actualizada":"creada"} correctamente.`,"success");else throw new Error(`No se pudo ${pe?"actualizar":"crear"} la tarea.`)}catch(re){console.log("Error al guardar:",re),z.fire("Error",re.message||"Error desconocido","error")}},we=async G=>{const pe=F.find(je=>je._id===G);if(!pe){z.fire("Error","No se encontró la tarea.","error");return}if(!pe.active){z.fire("Advertencia","Esta tarea está inactiva y no puede ejecutarse.","warning");return}if(pe.type!=="manual"&&pe.type!=="both"){z.fire("Advertencia","Solo las tareas de tipo 'manual' o 'both' pueden ejecutarse manualmente.","warning");return}if(F.some(je=>je.status==="running"&&["auto","both"].includes(je.type))){z.fire("Advertencia","No puedes ejecutar esta tarea porque hay otra en curso.","warning");return}if((await z.fire({title:"¿Ejecutar tarea?",text:"Esto iniciará la transferencia manualmente.",icon:"info",showCancelButton:!0,confirmButtonText:"Sí, ejecutar",cancelButtonText:"Cancelar"})).isConfirmed)try{z.fire({title:"Ejecutando tarea...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}}),W(re=>re.map(Se=>Se._id===G?{...Se,status:"running",progress:0}:Se)),$(re=>({...re,[G]:{startTime:Date.now()}}));const je=await Ai.executeTask(i,G);if(je!=null&&je.result.success)W(re=>re.map(Se=>Se._id===G?{...Se,status:"completed",progress:100}:Se)),z.fire("Éxito","Tarea ejecutada correctamente.","success"),P&&new Notification("Tarea completada",{body:`La tarea "${pe.name}" ha finalizado correctamente.`,icon:"/favicon.ico"});else throw new Error(je.message||"No se pudo completar la tarea.")}catch(je){W(re=>re.map(Se=>Se._id===G?{...Se,status:"error",progress:0}:Se)),z.fire("Error",je.message||"No se pudo ejecutar la tarea.","error"),P&&new Notification("Error en tarea",{body:`La tarea "${pe.name}" ha finalizado con errores.`,icon:"/favicon.ico"})}},de=async G=>{const pe=F.find(He=>He._id===G);if(!pe){z.fire("Error","No se encontró la tarea.","error");return}if((await z.fire({title:"¿Eliminar tarea?",text:`¿Deseas eliminar la tarea "${pe.name}"? Esta acción no se puede deshacer.`,icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar",confirmButtonColor:"#dc3545"})).isConfirmed)try{z.fire({title:"Eliminando...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}}),await Ai.deleteTask(i,pe.name),await Z(),z.fire("Eliminado","La tarea ha sido eliminada.","success")}catch(He){console.error("Error al eliminar tarea:",He),z.fire("Error","No se pudo eliminar la tarea.","error")}},Ae=async G=>{try{z.fire({title:"Cargando historial...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}});const pe=await Ai.getTaskHistory(i,G);if(!pe.success)throw new Error(pe.message||"Error al obtener historial");console.log(pe);const{task:Ce,history:He}=pe;if(He.length===0){z.fire({title:"Sin historial",text:`No hay registros de ejecuciones para la tarea "${Ce.name}"`,icon:"info"});return}const je=He.map((Se,ye)=>`
     <tr>
       <td>${new Date(Se.date).toLocaleString()}</td>
       <td>${Se.documentId||"N/A"}</td>
       <td>${Se.totalProducts||0}</td>
       <td>${Se.totalQuantity||0}</td>
       <td>
         <span class="status-badge ${Se.status}">
           ${Se.status==="completed"?"Completado":Se.status==="partial_return"?"Devolución Parcial":Se.status==="full_return"?"Devolución Total":Se.status}
         </span>
       </td>
     </tr>
   `).join("");z.fire({title:`Historial de Transferencias: ${Ce.name}`,html:`
       <div class="history-details">
         <p><strong>Total de ejecuciones:</strong> ${Ce.executionCount}</p>
         <p><strong>Última ejecución:</strong> ${Ce.lastExecutionDate?new Date(Ce.lastExecutionDate).toLocaleString():"Nunca"}</p>
         
         <h4>Últimas transferencias</h4>
         <div class="history-table-container">
           <table class="swal2-table">
             <thead>
               <tr>
                 <th>Fecha</th>
                 <th>Documento</th>
                 <th>Productos</th>
                 <th>Cantidad</th>
                 <th>Estado</th>
               </tr>
             </thead>
             <tbody>
               ${je}
             </tbody>
           </table>
         </div>
       </div>
     `,width:"800px",showConfirmButton:!0,customClass:{container:"history-modal"}});const re=document.createElement("style");re.textContent=`
     .history-modal .history-table-container {
       max-height: 400px;
       overflow-y: auto;
     }
     .history-modal .status-badge {
       padding: 3px 8px;
       border-radius: 50px;
       font-size: 12px;
       font-weight: 500;
       color: white;
     }
     .history-modal .status-badge.completed {
       background-color: #28a745;
     }
     .history-modal .status-badge.partial_return {
       background-color: #ffc107;
       color: #212529;
     }
     .history-modal .status-badge.full_return {
       background-color: #dc3545;
     }
   `,document.head.appendChild(re)}catch(pe){console.error("Error al ver historial:",pe),z.fire("Error",pe.message,"error")}},_e=async G=>{const pe=F.find(je=>je._id===G);if(console.log(pe),!pe||!(await z.fire({title:"¿Detener tarea?",text:`¿Estás seguro de que deseas detener la tarea "${pe.name}"? Esta acción no se puede deshacer.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, detener",cancelButtonText:"Cancelar"})).isConfirmed)return;k(!0),W(je=>je.map(re=>re._id===G?{...re,status:"cancelling",cancellationRequested:!0}:re));const He=z.fire({title:"Deteniendo tarea...",html:`
       <div>
         <p>Por favor espera mientras se detiene la tarea "${pe.name}".</p>
         <p>Esta operación puede tardar unos segundos...</p>
         <div class="progress-container" style="width: 100%; background-color: #f3f3f3; border-radius: 4px; height: 10px; margin-top: 15px; overflow: hidden;">
           <div class="progress-bar" style="width: 0; height: 100%; background-color: #dc3545; transition: width 0.3s;"></div>
         </div>
       </div>
     `,allowOutsideClick:!1,showConfirmButton:!1,didOpen:()=>{let je=0;const re=z.getPopup().querySelector(".progress-bar"),Se=setInterval(()=>{je<95&&(je+=5,re.style.width=`${je}%`)},500);z.getPopup().interval=Se},willClose:()=>{clearInterval(z.getPopup().interval)}});try{const je=await Ai.cancelTask(i,G,{force:!1,reason:"Cancelado por el usuario desde la interfaz",onStatusChange:re=>{S(Se=>({...Se,[G]:re.data})),re.data&&re.data.state&&W(Se=>Se.map(ye=>ye._id===G?{...ye,status:re.data.state}:ye))}});if(He.close(),je.success)z.fire({title:"Tarea detenida",text:"La solicitud de cancelación se ha procesado correctamente.",icon:"success",timer:3e3,timerProgressBar:!0}),W(re=>re.map(Se=>Se._id===G?{...Se,status:"cancelled",progress:-1}:Se)),P&&new Notification("Tarea cancelada",{body:`La tarea "${pe.name}" ha sido cancelada.`,icon:"/favicon.ico"});else throw new Error(je.message||"Error al cancelar la tarea");setTimeout(()=>{Z()},2e3)}catch(je){He.close(),z.fire({title:"Error",text:`No se pudo detener la tarea: ${je.message}`,icon:"error"}),Z()}finally{k(!1)}},le=G=>{var ye;const pe=F.find(Pe=>Pe._id===G);if(!pe||pe.status!=="running")return;const Ce=L[G]||{},He=Ce.elapsed?Math.floor(Ce.elapsed/1e3/60):0,je=Ce.elapsed?Math.floor(Ce.elapsed/1e3%60):0,re=Ce.remaining?Math.floor(Ce.remaining/1e3/60):0,Se=Ce.remaining?Math.floor(Ce.remaining/1e3%60):0;z.fire({title:`Progreso de tarea: ${pe.name}`,html:`
       <div class="detailed-progress">
         <div class="progress-container">
           <div class="progress-bar-detailed">
             <div class="progress-fill" style="width: ${pe.progress}%">${pe.progress}%</div>
           </div>
         </div>
         
         <div class="time-estimates">
           <p><strong>Tiempo transcurrido:</strong> ${He}m ${je}s</p>
           <p><strong>Tiempo restante est.:</strong> ${re}m ${Se}s</p>
           <p><strong>Velocidad de procesamiento:</strong> ${((ye=Ce.speed)==null?void 0:ye.toFixed(2))||0}% por minuto</p>
           <p><strong>Hora estimada de finalización:</strong> ${Ce.remaining?new Date(Date.now()+Ce.remaining).toLocaleTimeString():"Desconocida"}</p>
         </div>
         
         <div class="status-info">
           <p><strong>Estado de la tarea:</strong> <span class="status-badge">${pe.status==="running"?"En ejecución":pe.status}</span></p>
           <p><strong>Conexión SSE:</strong> <span class="connection-badge ${To.getConnectionState(G)==="open"?"connected":"disconnected"}">${To.getConnectionState(G)==="open"?"Conectado":To.getConnectionState(G)||"Desconectado"}</span></p>
         </div>
       </div>
     `,showConfirmButton:!0,confirmButtonText:"Cerrar",showCancelButton:!0,cancelButtonText:"Cancelar tarea",cancelButtonColor:"#dc3545",customClass:{container:"progress-modal"},didOpen:()=>{const Pe=document.createElement("style");Pe.innerHTML=`
         .progress-modal .detailed-progress {
           text-align: left;
         }
         .progress-modal .progress-container {
           margin: 20px 0;
         }
         .progress-modal .progress-bar-detailed {
           width: 100%;
           height: 30px;
           background-color: #f3f3f3;
           border-radius: 15px;
           overflow: hidden;
         }
         .progress-modal .progress-fill {
           height: 100%;
           background-color: #17a2b8;
           text-align: center;
           line-height: 30px;
           color: white;
           font-weight: bold;
           transition: width 0.5s ease;
           position: relative;
         }
         .progress-modal .progress-fill::after {
           content: "";
           position: absolute;
           top: 0;
           left: 0;
           right: 0;
           bottom: 0;
           background: linear-gradient(
             90deg, 
             rgba(255,255,255,0) 0%, 
             rgba(255,255,255,0.3) 50%, 
             rgba(255,255,255,0) 100%
           );
           animation: progressShine 2s infinite linear;
           width: 200%;
         }
         @keyframes progressShine {
           from { transform: translateX(-100%); }
           to { transform: translateX(50%); }
         }
         .progress-modal .time-estimates {
           margin: 20px 0;
           padding: 15px;
           background-color: #f8f9fa;
           border-radius: 8px;
         }
         .progress-modal .status-info {
           margin: 20px 0;
           padding: 15px;
           background-color: #e9ecef;
           border-radius: 8px;
         }
         .progress-modal .status-badge {
           display: inline-block;
           padding: 3px 8px;
           border-radius: 4px;
           background-color: #17a2b8;
           color: white;
           font-weight: 500;
         }
         .progress-modal .connection-badge {
           display: inline-block;
           padding: 3px 8px;
           border-radius: 4px;
           font-weight: 500;
         }
         .progress-modal .connection-badge.connected {
           background-color: #28a745;
           color: white;
         }
         .progress-modal .connection-badge.disconnected {
           background-color: #dc3545;
           color: white;
         }
       `,document.head.appendChild(Pe);const Ze=z.getPopup().querySelector(".progress-fill"),lt=setInterval(()=>{const We=F.find(st=>st._id===G);We&&Ze&&(Ze.style.width=`${We.progress}%`,Ze.textContent=`${We.progress}%`)},1e3);z.getPopup().progressInterval=lt},willClose:()=>{clearInterval(z.getPopup().progressInterval)}}).then(Pe=>{Pe.dismiss===z.DismissReason.cancel&&_e(G)})},Je=async()=>{try{z.fire({title:"Cargando métricas...",allowOutsideClick:!1,didOpen:()=>{z.showLoading()}});const G=F.filter(re=>{var Pe;if(!re.lastExecutionDate)return!1;const Se=new Date(re.lastExecutionDate),ye=new Date;return Se.getDate()===ye.getDate()&&Se.getMonth()===ye.getMonth()&&Se.getFullYear()===ye.getFullYear()&&((Pe=re.lastExecutionResult)==null?void 0:Pe.success)===!0}).length,pe=F.filter(re=>{var Pe;if(!re.lastExecutionDate)return!1;const Se=new Date(re.lastExecutionDate),ye=new Date;return Se.getDate()===ye.getDate()&&Se.getMonth()===ye.getMonth()&&Se.getFullYear()===ye.getFullYear()&&((Pe=re.lastExecutionResult)==null?void 0:Pe.success)===!1}).length,He=F.reduce((re,Se)=>re+(Se.executionCount||0),0)>0?F.filter(re=>{var Se;return(Se=re.lastExecutionResult)==null?void 0:Se.success}).length/F.length*100:0,je=[...F].sort((re,Se)=>(Se.executionCount||0)-(re.executionCount||0)).slice(0,5).map(re=>{var Se;return{name:re.name,executions:re.executionCount||0,lastExecution:re.lastExecutionDate?new Date(re.lastExecutionDate).toLocaleString():"Nunca",successRate:(Se=re.lastExecutionResult)!=null&&Se.success?100:0}});z.close(),z.fire({title:"Métricas de Tareas",html:`
         <div class="metrics-panel">
           <div class="metrics-summary">
             <div class="metric-card">
               <h4>Tareas Completadas Hoy</h4>
               <p class="metric-value">${G}</p>
             </div>
             <div class="metric-card">
               <h4>Tareas Fallidas Hoy</h4>
               <p class="metric-value">${pe}</p>
             </div>
             <div class="metric-card">
               <h4>Tasa de Éxito General</h4>
               <p class="metric-value">${He.toFixed(1)}%</p>
             </div>
           </div>
           
           <div class="metrics-table-container">
             <h4>Tareas más ejecutadas</h4>
             <table>
               <thead>
                 <tr>
                   <th>Tarea</th>
                   <th>Ejecuciones</th>
                   <th>Última ejecución</th>
                   <th>Estado</th>
                 </tr>
               </thead>
               <tbody>
                 ${je.map(re=>`
                   <tr>
                     <td>${re.name}</td>
                     <td>${re.executions}</td>
                     <td>${re.lastExecution}</td>
                     <td>${re.successRate===100?'<span class="status-ok">✓</span>':'<span class="status-fail">✗</span>'}</td>
                   </tr>
                 `).join("")}
               </tbody>
             </table>
           </div>
         </div>
       `,width:"600px",showConfirmButton:!0,confirmButtonText:"Cerrar",didOpen:()=>{const re=document.createElement("style");re.innerHTML=`
           .metrics-panel {
             font-family: Arial, sans-serif;
           }
           .metrics-summary {
             display: flex;
             justify-content: space-between;
             gap: 15px;
             margin-bottom: 30px;
           }
           .metric-card {
             flex: 1;
             background-color: #f8f9fa;
             border-radius: 8px;
             padding: 15px;
             text-align: center;
           }
           .metric-card h4 {
             font-size: 14px;
             margin: 0 0 10px;
             color: #495057;
           }
           .metric-value {
             font-size: 24px;
             font-weight: 600;
             margin: 0;
             color: #007bff;
           }
           .metrics-table-container {
             background-color: #fff;
             border-radius: 8px;
             box-shadow: 0 1px 3px rgba(0,0,0,0.1);
             padding: 15px;
           }
           .metrics-table-container h4 {
             margin-top: 0;
             margin-bottom: 15px;
             color: #495057;
           }
           .metrics-table-container table {
             width: 100%;
             border-collapse: collapse;
           }
           .metrics-table-container th, 
           .metrics-table-container td {
             padding: 8px 12px;
             text-align: left;
             border-bottom: 1px solid #dee2e6;
           }
           .metrics-table-container th {
             font-weight: 600;
             background-color: #f8f9fa;
           }
           .status-ok {
             color: #28a745;
             font-weight: bold;
           }
           .status-fail {
             color: #dc3545;
             font-weight: bold;
           }
         `,document.head.appendChild(re)}})}catch(G){console.error("Error al mostrar métricas:",G),z.fire("Error","No se pudieron cargar las métricas","error")}};return l.jsxs(l.Fragment,{children:[l.jsx(vC,{children:l.jsx("title",{children:"Tareas - Sistema Core ERP "})}),l.jsx(HEe,{children:l.jsxs(UEe,{children:[l.jsx("h2",{children:"Gestor de Tareas de Transferencia"}),l.jsx("p",{children:"Configure y administre las tareas de transferencia de datos entre sistemas."})]})}),l.jsxs(VEe,{children:[l.jsx(WEe,{children:l.jsx(YEe,{type:"text",placeholder:"Buscar tarea...",value:r,onChange:ne})}),l.jsxs(jje,{children:[l.jsxs(Ym,{children:[l.jsx(Gm,{children:"Tipo:"}),l.jsxs(Km,{value:j.type,onChange:G=>he("type",G.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"manual",children:"Manual"}),l.jsx("option",{value:"auto",children:"Automática"}),l.jsx("option",{value:"both",children:"Ambas"})]})]}),l.jsxs(Ym,{children:[l.jsx(Gm,{children:"Modo:"}),l.jsxs(Km,{value:j.executionMode,onChange:G=>he("executionMode",G.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"normal",children:"Normal"}),l.jsx("option",{value:"batchesSSE",children:"Batches SSE"})]})]}),l.jsxs(Ym,{children:[l.jsx(Gm,{children:"Dirección:"}),l.jsxs(Km,{value:j.transferType,onChange:G=>he("transferType",G.target.value),children:[l.jsx("option",{value:"all",children:"Todas"}),l.jsx("option",{value:"",children:"General"}),l.jsx("option",{value:"up",children:"Transfer Up"}),l.jsx("option",{value:"down",children:"Transfer Down"}),l.jsx("option",{value:"internal",children:"Transfer Interno"})]})]}),l.jsxs(Ym,{children:[l.jsx(Gm,{children:"Estado:"}),l.jsxs(Km,{value:j.status,onChange:G=>he("status",G.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"active",children:"Activas"}),l.jsx("option",{value:"inactive",children:"Inactivas"})]})]}),l.jsx(Cje,{onClick:()=>A({type:"all",executionMode:"all",transferType:"all",status:"all"}),children:"Limpiar Filtros"})]}),l.jsxs($je,{children:["Mostrando ",me.length," de ",F.length," tareas",a&&` | ${a.name} seleccionada`]}),l.jsxs(GEe,{children:[l.jsxs(QEe,{onClick:()=>ve(),children:[l.jsx(ar,{})," Nueva Tarea"]}),l.jsxs(Oje,{onClick:Z,refreshing:Y,label:"Recargar",className:Y?"refreshing":"",children:[l.jsx(Zt,{className:Y?"spinning":""}),Y?"Actualizando...":"Refrescar"]}),l.jsxs(Pje,{onClick:()=>f(!0),children:[l.jsx(JR,{})," Gestionar Grupos"]}),l.jsxs(XEe,{onClick:Je,children:[l.jsx(cf,{})," Métricas"]}),l.jsxs(JEe,{$enabled:P,onClick:()=>{!P&&"Notification"in window?Notification.requestPermission().then(G=>{O(G==="granted")}):O(!P)},title:P?"Notificaciones activadas":"Activar notificaciones",children:[l.jsx(sV,{})," ",P?"":"Activar Notificaciones"]}),l.jsxs(KEe,{children:[l.jsxs(BM,{$active:p==="cards",onClick:()=>m("cards"),title:"Ver como tarjetas",children:[l.jsx(eI,{})," Cards"]}),l.jsxs(BM,{$active:p==="table",onClick:()=>m("table"),title:"Ver como tabla",children:[l.jsx(SC,{})," Tabla"]})]})]}),l.jsxs(ZEe,{children:[l.jsx(eje,{children:"Programar tareas para las:"}),l.jsx(tje,{type:"time",value:g,onChange:G=>y(G.target.value)}),l.jsx(fv,{disabled:U||K,onSuccess:G=>{G.hour&&y(G.hour),Z(),se()}})]})]}),l.jsxs("div",{style:{position:"relative"},children:[Y&&l.jsx(Tje,{children:l.jsxs(kje,{children:[l.jsx(Zt,{className:"refresh-icon-spin"}),l.jsx(Aje,{children:"Actualizando tareas..."})]})}),U&&!Y&&l.jsx(rje,{children:l.jsx(nje,{children:"Cargando tareas..."})}),Q&&l.jsx(aje,{children:Q}),!U&&!Y&&me.length===0&&l.jsx(oje,{children:'No hay tareas disponibles. Haga clic en "Nueva Tarea" para crear una.'}),F.filter(G=>G.status==="running").length>0&&l.jsxs(ije,{children:[F.filter(G=>G.status==="running").length," tarea(s) en ejecución"]}),!U&&me.length>0&&p==="cards"&&l.jsx(sje,{children:me.map(G=>{var pe;return l.jsxs(lje,{$selected:a&&a._id===G._id,$active:G.active,$transferType:G.transferType,$status:G.status,children:[l.jsxs(cje,{children:[l.jsx(uje,{children:G.name}),l.jsxs(Wm,{$status:G.status,$active:G.active,children:[G.status==="completed"&&"✅ Completada",G.status==="running"&&"🔄 En Progreso",G.status==="cancelling"&&"⏹️ Cancelando...",G.status==="cancelled"&&"⏹️ Cancelada",G.status==="error"&&"⚠️ Error",!G.status&&(G.active?"Activa":"Inactiva")]})]}),l.jsxs(dje,{children:[l.jsxs(fje,{children:[l.jsxs(Wl,{children:[l.jsx(Yl,{children:"Tipo:"}),l.jsx(Gl,{children:G.type})]}),l.jsxs(Wl,{children:[l.jsx(Yl,{children:"Modo de ejecución:"}),l.jsx(Gl,{children:G.executionMode})]}),G.lastExecutionDate&&l.jsxs(Wl,{children:[l.jsx(Yl,{children:"Última ejecución:"}),l.jsxs(Gl,{children:[new Date(G.lastExecutionDate).toLocaleString(),(pe=G.lastExecutionResult)!=null&&pe.success?l.jsx(Wm,{$status:"completed",$small:!0,children:"Éxito"}):l.jsx(Wm,{$status:"error",$small:!0,children:"Error"})]})]}),G.transferType&&l.jsxs(Wl,{children:[l.jsx(Yl,{children:"Dirección:"}),l.jsxs(Gl,{children:[G.transferType==="up"&&"Transfer Up ↑",G.transferType==="down"&&"Transfer Down ↓",G.transferType==="internal"&&l.jsx("span",{style:{color:"#dc3545",fontWeight:"bold"},children:"Interno (Server1→Server1)"}),!G.transferType&&"General"]})]}),G.status==="running"&&L[G._id]&&l.jsxs(Wl,{children:[l.jsx(Yl,{children:"Tiempo est.:"}),l.jsxs(Gl,{children:[Math.floor(L[G._id].remaining/6e4)," ","min",l.jsx(pje,{onClick:()=>le(G._id),title:"Ver detalles de progreso",children:l.jsx(_n,{})})]})]}),G.transferType==="internal"&&G.targetTable&&l.jsxs(Wl,{children:[l.jsx(Yl,{children:"Tabla destino:"}),l.jsx(Gl,{children:G.targetTable})]})]}),l.jsxs(hje,{children:[l.jsx(mje,{children:"Consulta SQL:"}),l.jsx(gje,{readOnly:!0,value:G.query})]}),G.status==="running"&&l.jsxs(l.Fragment,{children:[l.jsx(zM,{onClick:()=>le(G._id),children:l.jsxs(FM,{style:{width:`${G.progress}%`},children:[G.progress,"%"]})}),l.jsx(yje,{children:"Haga clic en la barra de progreso para más detalles"})]}),G.status==="cancelling"&&l.jsx(zM,{$cancelling:!0,children:l.jsx(FM,{$cancelling:!0,style:{width:"100%"},children:"Cancelando..."})})]}),l.jsx(vje,{children:l.jsx(xje,{children:l.jsxs(bje,{children:[l.jsx(Kl,{$color:"#007bff",onClick:()=>ve(G),disabled:G.status==="running"||G.status==="cancelling",title:"Editar tarea",children:l.jsx(Ir,{})}),l.jsx(Kl,{$color:"#dc3545",onClick:()=>de(G._id),disabled:G.status==="running"||G.status==="cancelling",title:"Eliminar tarea",children:l.jsx(Nr,{})}),l.jsx(Kl,{$color:"#17a2b8",onClick:()=>we(G._id),disabled:G.status==="running"||G.status==="cancelling"||!G.active||G.type!=="manual"&&G.type!=="both"||F.some(Ce=>Ce.status==="running"&&["auto","both"].includes(Ce.type)),title:"Ejecutar tarea manualmente",children:l.jsx(Ro,{})}),l.jsx(Kl,{$color:"#6f42c1",onClick:()=>Ae(G._id),title:"Ver historial de ejecuciones",children:l.jsx(Hs,{})}),G.status==="running"&&l.jsx(Kl,{$color:"#dc3545",onClick:()=>_e(G._id),disabled:b||G.status==="cancelling",title:"Detener tarea en ejecución",children:l.jsx(kk,{})}),G.status==="running"&&l.jsx(Kl,{$color:"#17a2b8",onClick:()=>le(G._id),title:"Ver detalles del progreso",children:l.jsx(_n,{})})]})})})]},G._id)})}),!U&&me.length>0&&p==="table"&&l.jsx(wje,{children:l.jsxs(Sje,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nombre"}),l.jsx("th",{children:"Estado"}),l.jsx("th",{children:"Tipo"}),l.jsx("th",{children:"Modo"}),l.jsx("th",{children:"Progreso"}),l.jsx("th",{children:"Acciones"})]})}),l.jsx("tbody",{children:me.map(G=>l.jsxs("tr",{className:`${G.active?"":"disabled"} ${G.transferType==="internal"?"internal-transfer":""} ${G.status==="running"?"running":""} ${G.status==="cancelling"?"cancelling":""}`,children:[l.jsx("td",{children:G.name}),l.jsx("td",{children:l.jsxs(Wm,{$status:G.status,$active:G.active,$small:!0,children:[G.status==="completed"&&"✅ Completada",G.status==="running"&&"🔄 En Progreso",G.status==="cancelling"&&"⏹️ Cancelando...",G.status==="cancelled"&&"⏹️ Cancelada",G.status==="error"&&"⚠️ Error",!G.status&&(G.active?"Activa":"Inactiva")]})}),l.jsx("td",{children:G.transferType==="internal"?l.jsx("span",{style:{color:"#dc3545",fontWeight:"bold"},children:"Interno (Server1→Server1)"}):G.transferType==="up"?"Transfer Up (Server1→Server2)":G.transferType==="down"?"Transfer Down (Server2→Server1)":"General"}),l.jsx("td",{children:G.executionMode}),l.jsxs("td",{children:[G.status==="running"&&l.jsx(qM,{onClick:()=>le(G._id),children:l.jsxs(HM,{style:{width:`${G.progress}%`},children:[G.progress,"%"]})}),G.status==="cancelling"&&l.jsx(qM,{$cancelling:!0,children:l.jsx(HM,{$cancelling:!0,style:{width:"100%"},children:"Cancelando..."})})]}),l.jsx("td",{children:l.jsxs(Eje,{children:[l.jsx(Ql,{title:"Editar",$color:"#007bff",onClick:()=>ve(G),disabled:G.status==="running"||G.status==="cancelling",children:l.jsx(Ir,{})}),l.jsx(Ql,{title:"Eliminar",$color:"#dc3545",onClick:()=>de(G._id),disabled:G.status==="running"||G.status==="cancelling",children:l.jsx(Nr,{})}),l.jsx(Ql,{title:"Ejecutar tarea",$color:"#17a2b8",onClick:()=>we(G._id),disabled:G.status==="running"||G.status==="cancelling"||!G.active||G.type!=="manual"&&G.type!=="both"||F.some(pe=>pe.status==="running"&&["auto","both"].includes(pe.type)),children:l.jsx(Ro,{})}),l.jsx(Ql,{title:"Ver historial",$color:"#6f42c1",onClick:()=>Ae(G._id),children:l.jsx(Hs,{})}),G.status==="running"&&l.jsxs(l.Fragment,{children:[l.jsx(Ql,{title:"Detener tarea",$color:"#dc3545",onClick:()=>_e(G._id),disabled:b||G.status==="cancelling",children:l.jsx(kk,{})}),l.jsx(Ql,{title:"Ver detalles",$color:"#17a2b8",onClick:()=>le(G._id),children:l.jsx(_n,{})})]})]})})]},G._id))})]})})]}),d&&l.jsxs(_je,{children:[l.jsx(Dje,{onClick:()=>f(!1)}),l.jsxs(Mje,{children:[l.jsxs(Rje,{children:[l.jsx("h2",{children:"🔗 Gestión de Grupos Vinculados"}),l.jsx(Ije,{onClick:()=>f(!1),children:"✕"})]}),l.jsx(Nje,{children:l.jsx(ZI,{accessToken:i,onGroupDeleted:()=>{Z()},onClose:()=>f(!1)})})]})]})]})}const HEe=v.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 15px 0;
`,UEe=v.div`
  display: flex;
  flex-direction: column;
  text-align: center;
  gap: 5px;

  h2 {
    margin: 0;
    font-size: 1.5rem;
    color: ${({theme:e})=>e.title||e.text};
  }

  p {
    margin: 0;
    color: ${({theme:e})=>e.textSecondary||"#666"};
  }
`,VEe=v.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;

  @media (max-width: 768px) {
    justify-content: center;
  }
`,WEe=v.div`
  display: flex;
  width: 100%;
  justify-content: center;
  margin-bottom: 10px;
`,YEe=v.input`
  width: 100%;
  max-width: 800px;
  padding: 10px 15px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};

  &:focus {
    outline: none;
    border-color: #007bff;
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
  }
`,GEe=v.div`
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  margin-bottom: 10px;

  @media (max-width: 480px) {
    flex-direction: column;
    width: 100%;
  }
`,KEe=v.div`
  display: flex;
  margin-left: 10px;
`,QEe=v.button`
  background-color: #28a745;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;

  &:hover {
    background-color: #218838;
  }

  @media (max-width: 480px) {
    width: 100%;
  }
`,XEe=v.button`
  background-color: #6f42c1;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;

  &:hover {
    background-color: #5e35b1;
  }

  @media (max-width: 480px) {
    width: 100%;
    justify-content: center;
  }
`,JEe=v.button`
  background-color: ${e=>e.$enabled?"#28a745":"#6c757d"};
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s;

  &:hover {
    background-color: ${e=>e.$enabled?"#218838":"#5a6268"};
  }

  @media (max-width: 480px) {
    width: 100%;
    justify-content: center;
  }
`,BM=v.button`
  background-color: ${e=>e.$active?"#6c757d":"#f8f9fa"};
  color: ${e=>e.$active?"white":"#212529"};
  border: 1px solid #dee2e6;
  border-radius: 4px;
  padding: 8px 12px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.2s;

  &:hover {
    background-color: ${e=>e.$active?"#5a6268":"#e2e6ea"};
  }

  @media (max-width: 480px) {
    flex: 1;
  }
`,ZEe=v.div`
  display: flex;
  align-items: center;
  gap: 10px;
  justify-content: center;

  @media (max-width: 768px) {
    flex-wrap: wrap;
  }

  @media (max-width: 480px) {
    flex-direction: column;
    width: 100%;
  }
`,eje=v.span`
  font-size: 14px;
  font-weight: 500;
  color: ${({theme:e})=>e.text};
`,tje=v.input`
  padding: 8px 12px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  color: ${({theme:e})=>e.text};
  background-color: ${({theme:e})=>e.inputBg||"#fff"};

  @media (max-width: 480px) {
    width: 100%;
  }
`,rje=v.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
`,nje=v.div`
  padding: 20px;
  text-align: center;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,aje=v.div`
  padding: 20px;
  text-align: center;
  color: #dc3545;
  background-color: rgba(220, 53, 69, 0.1);
  border-radius: 8px;
  margin: 20px 0;
`,oje=v.div`
  padding: 30px;
  text-align: center;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
`,ije=v.div`
  padding: 10px 15px;
  background-color: #f8d7da;
  color: #721c24;
  border-radius: 4px;
  margin: 0 auto 20px;
  text-align: center;
  font-weight: 500;
  max-width: 300px;
  animation: pulse 2s infinite;

  @keyframes pulse {
    0% {
      background-color: #f8d7da;
    }
    50% {
      background-color: #fadfe1;
    }
    100% {
      background-color: #f8d7da;
    }
  }
`,sje=v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  justify-content: center;
  padding: 10px;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
`,lje=v.div`
  width: 320px;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  border-left: 4px solid
    ${e=>e.$status==="running"?"#17a2b8":e.$status==="cancelling"||e.$transferType==="internal"?"#dc3545":e.$selected?"#007bff":e.$active?"#28a745":"#6c757d"};
  opacity: ${e=>e.$active?1:.7};
  transition: all 0.2s;

  &:hover {
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
  }
`,cje=v.div`
  padding: 15px;
  border-bottom: 1px solid ${({theme:e})=>e.border||"#eee"};
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: ${({theme:e})=>e.cardHeaderBg||"#f8f9fa"};
`,uje=v.h3`
  margin: 0;
  font-size: 12px;
  font-weight: 600;
  color: ${({theme:e})=>e.title||e.text};
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 10px;
`,Wm=v.div`
  padding: ${e=>e.$small?"3px 8px":"5px 10px"};
  border-radius: 50px;
  font-size: ${e=>e.$small?"12px":"14px"};
  font-weight: 500;
  color: white;
  background-color: ${e=>{if(!e.$active)return"#6c757d";switch(e.$status){case"completed":return"#28a745";case"running":return"#17a2b8";case"cancelling":return"#dc3545";case"cancelled":return"#dc3545";case"error":return"#dc3545";default:return"#17a2b8"}}};
  display: flex;
  align-items: center;
  gap: 5px;
  flex-shrink: 0;
  min-width: 80px;
  justify-content: center;
  animation: ${e=>e.$status==="running"?"blink 1s infinite alternate":"none"};

  @keyframes blink {
    from {
      opacity: 1;
    }
    to {
      opacity: 0.6;
    }
  }
`,dje=v.div`
  padding: 15px;
  margin: 10px;
  flex: 1;
`,fje=v.div`
  margin-bottom: 15px;
`,Wl=v.div`
  display: flex;
  margin-bottom: 8px;
  font-size: 14px;

  &:last-child {
    margin-bottom: 0;
  }
`,Yl=v.span`
  font-weight: 500;
  width: 120px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,Gl=v.span`
  flex: 1;
  display: flex;
  align-items: center;
`,pje=v.button`
  background: none;
  border: none;
  color: #007bff;
  font-size: 14px;
  cursor: pointer;
  margin-left: 10px;
  padding: 2px 5px;
  border-radius: 4px;

  &:hover {
    background-color: rgba(0, 123, 255, 0.1);
  }
`,hje=v.div`
  margin-top: 15px;
`,mje=v.div`
  font-size: 14px;
  font-weight: 500;
  margin-bottom: 5px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,gje=v.textarea`
  width: 100%;
  height: 80px;
  padding: 8px;
  border: 1px solid ${({theme:e})=>e.border||"#ddd"};
  border-radius: 4px;
  font-family: monospace;
  font-size: 12px;
  resize: none;
  background-color: ${({theme:e})=>e.codeBg||"#f5f5f5"};
  color: ${({theme:e})=>e.text};
`,yje=v.div`
  text-align: center;
  font-size: 12px;
  color: #6c757d;
  margin-top: 5px;
  cursor: pointer;
`,zM=v.div`
  width: 100%;
  height: 24px;
  background-color: ${e=>e.$cancelling?"#f8d7da":"#eee"};
  border-radius: 12px;
  margin-top: 15px;
  overflow: hidden;
  cursor: ${e=>e.$cancelling?"default":"pointer"};
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
  position: relative;

  &:hover {
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.2);
  }
`,FM=v.div`
  height: 100%;
  background-color: ${e=>e.$cancelling?"#dc3545":"#17a2b8"};
  text-align: center;
  font-size: 14px;
  font-weight: 600;
  color: white;
  line-height: 24px;
  transition: width 0.3s ease-out;
  position: relative;

  /* Efecto de animación para barras en ejecución */
  &::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      90deg,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.3) 50%,
      rgba(255, 255, 255, 0) 100%
    );
    width: 200%;
    animation: shine 2s infinite linear;
  }

  @keyframes shine {
    from {
      transform: translateX(-100%);
    }
    to {
      transform: translateX(50%);
    }
  }
`,vje=v.div`
  display: flex;
  gap: 8px;
  padding: 15px;
  border-top: 1px solid ${({theme:e})=>e.border||"#eee"};
  background-color: ${({theme:e})=>e.cardFooterBg||"#f8f9fa"};
`,xje=v.div`
  display: flex;
  flex-direction: column;
  width: 100%;
`,bje=v.div`
  display: flex;
  gap: 8px;
  justify-content: space-between;
`,Kl=v.button`
  flex: 1;
  padding: 8px;
  border: none;
  border-radius: 4px;
  background-color: ${e=>e.$color||"#6c757d"};
  color: white;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s;

  &:hover {
    filter: brightness(90%);
  }

  &:disabled {
    background-color: #adb5bd;
    cursor: not-allowed;
    opacity: 0.7;
  }
`,wje=v.div`
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  overflow-x: auto; // Ya tienes esto, correcto
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);

  /* Añadir esto */
  -webkit-overflow-scrolling: touch; /* Para mejor scroll en iOS */

  @media (max-width: 576px) {
    /* Mejora la visualización en móviles pequeños */
    margin-left: -10px;
    margin-right: -10px;
    width: calc(100% + 20px);
    border-radius: 0;
  }
`,Sje=v.table`
  width: 100%;
  border-collapse: collapse;
  background-color: ${({theme:e})=>e.cardBg||"#fff"};
  color: ${({theme:e})=>e.text};

  th,
  td {
    padding: 12px 15px;
    text-align: left;
  }

  th {
    background-color: ${({theme:e})=>e.tableHeader||"#f0f0f0"};
    color: ${({theme:e})=>e.tableHeaderText||"#333"};
    font-weight: bold;
  }

  tr {
    border-bottom: 1px solid ${({theme:e})=>e.border||"#ddd"};

    &:last-child {
      border-bottom: none;
    }

    &:hover {
      background-color: ${({theme:e})=>e.tableHover||"#f8f9fa"};
    }

    &.disabled {
      opacity: 0.6;
      background-color: ${({theme:e})=>e.tableDisabled||"#f2f2f2"};
    }

    &.internal-transfer {
      border-left: 4px solid #dc3545; // Borde rojo para transferencias internas
      background-color: rgba(220, 53, 69, 0.05); // Fondo rojizo muy sutil
    }

    &.running {
      background-color: rgba(23, 162, 184, 0.05);
    }

    &.cancelling {
      background-color: rgba(220, 53, 69, 0.05);
    }

    /* Indicador pulsante para tareas en ejecución */
    &.running td:first-child::before {
      content: "";
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background-color: #17a2b8;
      margin-right: 8px;
      animation: pulse 1.5s infinite;
    }

    &.cancelling td:first-child::before {
      content: "";
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background-color: #dc3545;
      margin-right: 8px;
      animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
      0% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
      100% {
        opacity: 1;
      }
    }
  }
`,qM=v.div`
  width: 100%;
  height: 20px;
  background-color: ${e=>e.$cancelling?"#f8d7da":"#eee"};
  border-radius: 10px;
  overflow: hidden;
  cursor: ${e=>e.$cancelling?"default":"pointer"};
`,HM=v.div`
  height: 100%;
  background-color: ${e=>e.$cancelling?"#dc3545":"#17a2b8"};
  text-align: center;
  font-size: 12px;
  font-weight: 500;
  color: white;
  line-height: 20px;
  transition: width 0.5s ease-in-out;
  position: relative;

  /* Agregar animación para progreso */
  &::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      90deg,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.3) 50%,
      rgba(255, 255, 255, 0) 100%
    );
    width: 200%;
    animation: tableShine 2s infinite linear;
  }

  @keyframes tableShine {
    from {
      transform: translateX(-100%);
    }
    to {
      transform: translateX(50%);
    }
  }
`,Eje=v.div`
  display: flex;
  gap: 8px;
  justify-content: center;
`,Ql=v.button`
  background: none;
  border: none;
  color: ${e=>e.$color||"#0275d8"};
  font-size: 16px;
  cursor: pointer;
  padding: 5px;
  border-radius: 4px;
  transition: all 0.2s;

  &:hover {
    color: ${e=>e.$color||"#0275d8"};
    background-color: rgba(0, 0, 0, 0.05);
  }

  &:disabled {
    color: #adb5bd;
    cursor: not-allowed;
  }
`,jje=v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 15px;
  justify-content: center;

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: center;
  }
`,Ym=v.div`
  display: flex;
  align-items: center;
  gap: 5px;

  @media (max-width: 768px) {
    width: 100%;
    max-width: 300px;
  }
`,Gm=v.label`
  font-size: 14px;
  font-weight: 500;
  color: ${({theme:e})=>e.textSecondary||"#666"};
  white-space: nowrap;
`,Km=v.select`
  padding: 6px 10px;
  border: 1px solid ${({theme:e})=>e.border||"#ccc"};
  border-radius: 4px;
  font-size: 14px;
  background-color: ${({theme:e})=>e.inputBg||"#fff"};
  color: ${({theme:e})=>e.text};

  @media (max-width: 768px) {
    flex: 1;
  }
`,Cje=v.button`
  background-color: #6c757d;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 6px 10px;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: #5a6268;
  }

  @media (max-width: 768px) {
    width: 100%;
    max-width: 300px;
  }
`,$je=v.div`
  text-align: center;
  margin-bottom: 15px;
  font-size: 14px;
  color: ${({theme:e})=>e.textSecondary||"#666"};
`,Tje=v.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(255, 255, 255, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 50;
  animation: fadeIn 0.2s ease-in-out;

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`,kje=v.div`
  background-color: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 20px;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  .refresh-icon-spin {
    font-size: 24px;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`,Aje=v.div`
  font-size: 14px;
  font-weight: 500;
`,Oje=v.button`
  background-color: #17a2b8;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.3s ease;

  &:hover {
    background-color: #138496;
  }

  &:disabled {
    cursor: not-allowed;
  }

  /* Estilo especial cuando está refrescando */
  &.refreshing {
    background-color: #6c757d;
    animation: pulse 2s infinite;
  }

  /* Animación para el ícono */
  .spinning {
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 rgba(23, 162, 184, 0.7);
    }
    70% {
      box-shadow: 0 0 0 10px rgba(23, 162, 184, 0);
    }
    100% {
      box-shadow: 0 0 0 0 rgba(23, 162, 184, 0);
    }
  }

  @media (max-width: 480px) {
    width: 100%;
  }
`,Pje=v.button`
  background-color: #6f42c1;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.3s ease;
  font-weight: 500;

  &:hover {
    background-color: #5e35b1;
    transform: translateY(-1px);
  }

  &:active {
    transform: translateY(0);
  }

  @media (max-width: 480px) {
    width: 100%;
    justify-content: center;
  }
`,_je=v.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
`,Dje=v.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
`,Mje=v.div`
  position: relative;
  background: white;
  border-radius: 12px;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
  max-width: 95vw;
  max-height: 90vh;
  width: 100%;
  max-width: 1000px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  animation: modalSlideIn 0.3s ease-out;

  @keyframes modalSlideIn {
    from {
      opacity: 0;
      transform: translateY(-50px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
`,Rje=v.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 25px;
  border-bottom: 1px solid #eee;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;

  h2 {
    margin: 0;
    font-size: 1.5rem;
    font-weight: 600;
  }
`,Ije=v.button`
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: white;
  font-size: 20px;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;

  &:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: scale(1.1);
  }
`,Nje=v.div`
  flex: 1;
  overflow-y: auto;
  padding: 0;

  /* Personalizar scrollbar */
  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #a1a1a1;
  }
`,ox=_.createContext(),uE=new tv,$o=new LR;function P9({children:e}){const[t,r]=_.useState(null),[n,a]=_.useState(null),[o,i]=_.useState(!0),[c,d]=_.useState(null),f=_.useRef(!1),p=_.useRef(!1),m=_.useCallback(C=>{if(!C||typeof C!="string")return!1;const $=C.split(".");return $.length===3&&$.every(L=>L&&L.length>0)},[]),g=_.useCallback(()=>{console.log("🚪 Cerrando sesión..."),r(null),a(null),d(null),i(!1),$o.removeToken(),p.current=!1},[]),y=_.useCallback(async(C,$=!1)=>{var L;try{if(console.log("🔐 AuthContext.loginWithToken iniciado",{isFromLogin:$}),$||i(!0),d(null),!m(C))throw new Error("Formato de token inválido");const T=await uE.getMe(C);if(console.log("📥 Respuesta de getMe recibida:",!!T),T.data&&T.data._id){delete T.data.password;let P={...T.data,roles:[],permissions:[],consolidatedPermissions:[],isAdmin:T.data.isAdmin||!1};try{const O=await uE.getUserPermissions(C);console.log("🔑 Permisos cargados:",O==null?void 0:O.success),O!=null&&O.success&&(P={...P,roles:O.data.roles||[],permissions:O.data.permissions||[],consolidatedPermissions:O.data.consolidatedPermissions||[],isAdmin:O.data.isAdmin||P.isAdmin})}catch(O){console.warn("⚠️ Error cargando permisos (continuando sin permisos):",O.message)}return r(P),a(C),$o.setAccessToken(C),console.log("✅ Usuario establecido:",{name:P.name,email:P.email,roles:((L=P.roles)==null?void 0:L.length)||0,isAdmin:P.isAdmin}),{success:!0,user:P}}else throw new Error("Respuesta de usuario inválida")}catch(T){return console.error("❌ Error en loginWithToken:",T),d(T.message),$&&g(),{success:!1,error:T.message}}finally{i(!1)}},[m,g]),w=_.useCallback(async C=>{try{i(!0),d(null);const $=await $o.login(C);if($.state&&$.accessToken)return $.refreshToken&&$o.setRefreshToken($.refreshToken),await y($.accessToken,!0);throw new Error($.msg||"Credenciales inválidas")}catch($){return console.error("❌ Error en login:",$),d($.message),{success:!1,error:$.message}}},[y]),S=_.useCallback(async()=>{try{const C=$o.getRefreshToken();if(!C||!m(C))return console.warn("⚠️ Refresh token no válido - no haciendo logout automático"),!1;console.log("🔄 Renovando token de acceso...");const $=await $o.refreshAccessToken(C);if($.state&&$.accessToken){const L=await y($.accessToken,!1);return $.refreshToken&&$o.setRefreshToken($.refreshToken),L.success}else return console.warn("⚠️ No se pudo renovar el token - no haciendo logout automático"),!1}catch(C){return console.error("❌ Error renovando token:",C),!1}},[m,y]),b=_.useCallback(async()=>{if(!n||!t){console.warn("⚠️ No hay usuario o token para recargar permisos");return}try{const C=await uE.getUserPermissions(n);return C!=null&&C.success?(r($=>({...$,roles:C.data.roles||[],permissions:C.data.permissions||[],consolidatedPermissions:C.data.consolidatedPermissions||[],isAdmin:C.data.isAdmin||$.isAdmin||!1})),console.log("🔄 Permisos recargados exitosamente"),!0):!1}catch(C){return console.error("❌ Error recargando permisos:",C),!1}},[n,t]);_.useEffect(()=>{if(p.current||f.current){console.log("🔍 Inicialización ya ejecutada o en proceso, saltando...");return}(async()=>{f.current=!0;try{console.log("🚀 Inicializando autenticación...");const $=$o.getAccessToken(),L=$o.getRefreshToken();$&&m($)?(console.log("🔍 Token de acceso encontrado en localStorage, verificando..."),y($,!1).then(T=>{T.success||(console.log("🔄 Token de acceso inválido, intentando refresh..."),L&&m(L)?S().then(P=>{P||(console.log("❌ Refresh también falló - usuario debe hacer login manual"),i(!1))}):i(!1))})):L&&m(L)?(console.log("🔄 Solo refresh token disponible, intentando renovar..."),S().then(T=>{T||console.log("❌ No se pudo renovar - usuario debe hacer login manual"),i(!1)})):(console.log("❌ No hay tokens válidos disponibles"),i(!1)),p.current=!0}catch($){console.error("❌ Error inicializando autenticación:",$),i(!1)}finally{f.current=!1}})()},[]);const k={user:t,accessToken:n,loading:o,error:c,isAuthenticated:!!t&&!!n,login:w,logout:g,loginWithToken:y,reloadUserPermissions:b,refreshToken:S,isValidTokenFormat:m};return l.jsx(ox.Provider,{value:k,children:e})}const _9=_.createContext(),D9=({children:e})=>{const[t,r]=_.useState(!1);return l.jsx(_9.Provider,{value:{reload:t,setReload:r},children:e})},wt=()=>{const e=_.useContext(ox);if(!e)throw new Error("useAuth debe ser usado dentro de AuthProvider");return e};function Yi(e,t=[],r={}){const{autoRefresh:n=!1,refreshInterval:a=5e3,initialData:o=[],enableCache:i=!1,cacheTime:c=6e4}=r,[d,f]=_.useState(o),[p,m]=_.useState(null),[g,y]=_.useState({initialLoad:!0,refreshing:!1,loadingMore:!1,progress:0,estimatedTime:null}),w=_.useRef(null),S=_.useRef(null),b=_.useRef(!0),k=_.useRef(!0),C=_.useRef(!1),$=_.useRef(0),L=_.useRef(""),T=_.useRef({}),P=_.useRef(null),O=_.useCallback(B=>{k.current&&y(F=>({...F,...B}))},[]),N=_.useMemo(()=>{const B=JSON.stringify(t);return P.current!==B&&(console.log("Dependencias cambiaron:",B),P.current=B),B},[t]),R=_.useCallback(async(B={})=>{const{isManualRefresh:F=!1,silent:U=!1}=B;if(w.current&&!F){console.log("Petición en curso, saltando...");return}try{console.log("Iniciando fetch:",{isManualRefresh:F,silent:U}),w.current&&w.current.abort(),w.current=new AbortController,U||(b.current?O({initialLoad:!0}):F&&O({refreshing:!0,progress:10})),C.current=!F;const Y=await e({signal:w.current.signal});return i&&(T.current[L.current]=Y,$.current=Date.now()),k.current&&(f(Y),m(null),U||(O({initialLoad:!1,refreshing:!1,progress:100}),setTimeout(()=>{k.current&&O({progress:0})},500))),w.current=null,n&&k.current&&!F&&(S.current=setTimeout(()=>{k.current&&R({isManualRefresh:!1,silent:!0})},a)),Y}catch(Y){if(Y.name==="AbortError"){console.log("Petición cancelada");return}throw k.current&&!U&&(console.error("Error en fetchDataFromSource:",Y),m(Y.message||"Error al obtener los datos"),O({initialLoad:!1,refreshing:!1,progress:0})),w.current=null,Y}},[e,O,i,n,a]),D=_.useCallback(async(B={})=>{const{isManualRefresh:F=!1,forceRefresh:U=!1}=B;try{const Y=Date.now();if(i&&!U&&T.current[L.current]&&Y-$.current<c&&!F){f(T.current[L.current]);return}return await R({isManualRefresh:F})}catch(Y){console.error("Error en fetchData:",Y)}},[i,c,R]),j=_.useCallback((B={})=>(console.log("Refetch manual disparado"),D({isManualRefresh:!0,forceRefresh:!0})),[D]);_.useEffect(()=>(console.log("useEffect principal ejecutado - depsKey:",N),k.current=!0,L.current=`${e.name||"anonymous"}-${N}`,D(),b.current=!1,()=>{console.log("Limpieza del hook"),k.current=!1,w.current&&(w.current.abort(),w.current=null),S.current&&(clearTimeout(S.current),S.current=null)}),[N]);const A=g.initialLoad,I=g.refreshing;return{data:d,loading:A,refreshing:I,loadingState:g,error:p,setData:f,refetch:j,isFirstLoad:b.current,isAutoRefreshing:C.current}}function M9(e,t){const[r,n]=_.useState(e),[a,o]=_.useState({});return{formData:r,errors:a,handleChange:d=>{n({...r,[d.target.name]:d.target.value})},handleBlur:()=>{o(t(r))},setErrors:o}}const oo=()=>{const{user:e,accessToken:t}=wt(),r=_.useMemo(()=>(e==null?void 0:e.isAdmin)||!1,[e==null?void 0:e.isAdmin]),n=_.useMemo(()=>(e==null?void 0:e.consolidatedPermissions)||[],[e==null?void 0:e.consolidatedPermissions]),a=_.useMemo(()=>(e==null?void 0:e.roles)||[],[e==null?void 0:e.roles]),o=_.useMemo(()=>(e==null?void 0:e.permissions)||[],[e==null?void 0:e.permissions]),i=_.useMemo(()=>(e==null?void 0:e.modulesSummary)||[],[e==null?void 0:e.modulesSummary]),c=_.useMemo(()=>(e==null?void 0:e.availableModules)||[],[e==null?void 0:e.availableModules]),d=_.useMemo(()=>{const R={};return i.forEach(D=>{if(D.routes&&Array.isArray(D.routes))D.routes.forEach(j=>{j.path&&(R[j.path]=D.resource)});else{const j=`/${D.name}`;R[j]=D.resource}}),c.forEach(D=>{D.routes&&Array.isArray(D.routes)?D.routes.forEach(j=>{j.path&&!R[j.path]&&(R[j.path]=D.resource)}):R[`/${D.name}`]||(R[`/${D.name}`]=D.resource)}),n.forEach(D=>{const j=`/${D.resource}`;R[j]||(R[j]=D.resource)}),R},[i,c,n]),f=_.useMemo(()=>{const R=[];return i.forEach(D=>{var j;(D.isAlwaysAccessible||(j=D.restrictions)!=null&&j.isAlwaysAccessible)&&(D.routes&&Array.isArray(D.routes)?D.routes.forEach(A=>{A.path&&R.push(A.path)}):R.push(`/${D.name}`))}),R.some(D=>D.includes("perfil")||D.includes("profile"))||R.push("/perfil","/profile"),R.includes("/dashboard")||R.push("/dashboard"),R},[i]),p=_.useMemo(()=>{const R=[];return[...i].filter(j=>j.hasAccess&&j.showInMenu!==!1).sort((j,A)=>{var F,U;const I=((F=j.uiConfig)==null?void 0:F.order)||j.priority||999,B=((U=A.uiConfig)==null?void 0:U.order)||A.priority||999;return I-B}).forEach(j=>{var A;j.routes&&Array.isArray(j.routes)?j.routes.forEach(I=>{var B;I.path&&I.isMain!==!1&&R.push({route:I.path,resource:j.resource,priority:((B=j.uiConfig)==null?void 0:B.order)||j.priority||999,category:j.category})}):R.push({route:`/${j.name}`,resource:j.resource,priority:((A=j.uiConfig)==null?void 0:A.order)||j.priority||999,category:j.category})}),R},[i]),m=_.useMemo(()=>{const R=[];return i.forEach(D=>{var j;((j=D.restrictions)!=null&&j.requireAdmin||D.requiresAdmin)&&(D.routes&&Array.isArray(D.routes)?D.routes.forEach(A=>{A.path&&R.push(A.path)}):R.push(`/${D.name}`))}),R},[i]),g=_.useCallback((R,D)=>e?r?!0:n.some(j=>j.resource===R&&(j.actions.includes(D)||j.actions.includes("manage"))):!1,[e,r,n]),y=_.useCallback(R=>Array.isArray(R)?R.some(({resource:D,action:j})=>g(D,j)):!1,[g]),w=_.useCallback(R=>Array.isArray(R)?R.every(({resource:D,action:j})=>g(D,j)):!1,[g]),S=_.useCallback(R=>!e||!a.length?!1:a.some(D=>(D.name===R||D.displayName===R)&&D.isActive!==!1),[e,a]),b=_.useCallback(R=>e!=null&&e.role?Array.isArray(e.role)?e.role.includes(R):e.role===R:!1,[e==null?void 0:e.role]),k=_.useCallback(R=>{var I,B,F,U,Y,W,Q,Z,V,K,se,he,me,ne,ve,we,de,Ae,_e,le,Je;const D=i.find(G=>G.name===R||G.resource===R);if(D)return{canAccess:D.hasAccess,actions:D.permissions||[],availableActions:D.availableActions||[],canCreate:((I=D.permissions)==null?void 0:I.includes("create"))||!1,canRead:((B=D.permissions)==null?void 0:B.includes("read"))||!1,canUpdate:((F=D.permissions)==null?void 0:F.includes("update"))||!1,canDelete:((U=D.permissions)==null?void 0:U.includes("delete"))||!1,canExecute:((Y=D.permissions)==null?void 0:Y.includes("execute"))||!1,canManage:((W=D.permissions)==null?void 0:W.includes("manage"))||!1,moduleName:D.displayName||D.name,category:D.category,icon:(Q=D.uiConfig)==null?void 0:Q.icon,color:(Z=D.uiConfig)==null?void 0:Z.color,showInMenu:D.showInMenu,showInDashboard:D.showInDashboard,priority:((V=D.uiConfig)==null?void 0:V.order)||D.priority};const j=c.find(G=>G.name===R||G.resource===R);if(j)return{canAccess:j.hasAccess,actions:j.permissions||[],availableActions:j.availableActions||[],canCreate:((K=j.permissions)==null?void 0:K.includes("create"))||!1,canRead:((se=j.permissions)==null?void 0:se.includes("read"))||!1,canUpdate:((he=j.permissions)==null?void 0:he.includes("update"))||!1,canDelete:((me=j.permissions)==null?void 0:me.includes("delete"))||!1,canExecute:((ne=j.permissions)==null?void 0:ne.includes("execute"))||!1,canManage:((ve=j.permissions)==null?void 0:ve.includes("manage"))||!1,moduleName:j.displayName||j.name,category:j.category};const A=n.find(G=>G.resource===R);return A?{canAccess:!0,actions:A.actions||[],availableActions:A.actions||[],canCreate:((we=A.actions)==null?void 0:we.includes("create"))||!1,canRead:((de=A.actions)==null?void 0:de.includes("read"))||!1,canUpdate:((Ae=A.actions)==null?void 0:Ae.includes("update"))||!1,canDelete:((_e=A.actions)==null?void 0:_e.includes("delete"))||!1,canExecute:((le=A.actions)==null?void 0:le.includes("execute"))||!1,canManage:((Je=A.actions)==null?void 0:Je.includes("manage"))||!1,moduleName:A.moduleName||A.resource,category:A.category||"unknown"}:{canAccess:!1,actions:[],availableActions:[],canCreate:!1,canRead:!1,canUpdate:!1,canDelete:!1,canExecute:!1,canManage:!1,moduleName:R,category:"unknown"}},[i,c,n]),C=_.useCallback(R=>{if(f.includes(R))return!0;const D=d[R];return D?m.includes(R)&&!r?!1:g(D,"read"):(console.warn(`⚠️ Ruta no mapeada dinámicamente: ${R}`),!1)},[f,d,m,r,g]),$=_.useCallback(()=>{for(const{route:D}of p)if(C(D))return D;const R=Object.keys(d).filter(D=>C(D)&&!f.includes(D));return R.length>0?R[0]:"/dashboard"},[p,C,d,f]),L=_.useCallback(()=>Object.keys(d).filter(R=>C(R)),[d,C]),T=_.useCallback(()=>{const R={};return Object.keys(d).forEach(D=>{var j,A,I;if(C(D)){const B=i.find(U=>{var Y;return((Y=U.routes)==null?void 0:Y.some(W=>W.path===D))||`/${U.name}`===D}),F=(B==null?void 0:B.category)||"general";R[F]||(R[F]=[]),R[F].push({path:D,resource:d[D],displayName:(B==null?void 0:B.displayName)||D,icon:(j=B==null?void 0:B.uiConfig)==null?void 0:j.icon,color:(A=B==null?void 0:B.uiConfig)==null?void 0:A.color,priority:((I=B==null?void 0:B.uiConfig)==null?void 0:I.order)||(B==null?void 0:B.priority)||999})}}),Object.keys(R).forEach(D=>{R[D].sort((j,A)=>(j.priority||999)-(A.priority||999))}),R},[d,C,i]),P=_.useCallback(()=>{const R={};return n.forEach(D=>{const j=D.category||"general";R[j]||(R[j]=[]),R[j].push(D)}),R},[n]),O=_.useCallback((R,D)=>{const j=k(R);return j.canAccess&&(j.actions.includes(D)||j.actions.includes("manage"))},[k]),N=_.useCallback(()=>{const R=L(),D=T();return{isAdmin:r,totalModules:i.length,accessibleModules:i.filter(j=>j.hasAccess).length,totalPermissions:n.length,rolesCount:a.length,specificPermissionsCount:o.length,categories:Object.keys(P()),accessibleRoutes:R.length,defaultRoute:$(),routesByCategory:D,adminRoutes:m.length,alwaysAccessibleRoutes:f.length}},[r,i,n,a,o,P,L,$,T,m,f]);return{user:e,accessToken:t,isAdmin:r,consolidatedPermissions:n,userRoles:a,specificPermissions:o,modulesSummary:i,availableModules:c,routeToResourceMap:d,alwaysAccessibleRoutes:f,priorityRoutes:p,adminRoutes:m,hasPermission:g,hasRole:S,hasLegacyRole:b,hasAnyPermission:y,hasAllPermissions:w,getModulePermissions:k,canPerformAction:O,canAccessRoute:C,getDefaultRoute:$,getAccessibleRoutes:L,getRoutesByCategory:T,getPermissionsByCategory:P,getPermissionsSummary:N,canCreate:R=>g(R,"create"),canRead:R=>g(R,"read"),canUpdate:R=>g(R,"update"),canDelete:R=>g(R,"delete"),canManage:R=>g(R,"manage"),canExecute:R=>g(R,"execute")}};function R9(){return console.log("Auth"),l.jsx(x7,{})}v.div`
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: ${({theme:e})=>e.bg};
  padding: 20px;
`;v.div`
  text-align: center;
  max-width: 500px;
  width: 100%;
`;v.div`
  font-size: 4rem;
  color: ${({theme:e})=>e.error||"#dc3545"};
  margin-bottom: 20px;
`;v.h1`
  font-size: 2rem;
  color: ${({theme:e})=>e.error||"#dc3545"};
  margin-bottom: 15px;
`;v.p`
  font-size: 1.1rem;
  color: ${({theme:e})=>e.text};
  margin-bottom: 25px;
  line-height: 1.5;
`;v.div`
  background-color: ${({theme:e})=>e.cardBg};
  border: 1px solid ${({theme:e})=>e.border};
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 25px;
  text-align: left;
`;v.div`
  margin-bottom: 8px;
  color: ${({theme:e})=>e.text};

  &:last-child {
    margin-bottom: 0;
  }

  strong {
    color: ${({theme:e})=>e.title};
  }
`;v.div`
  display: flex;
  gap: 15px;
  justify-content: center;
  margin-bottom: 25px;
  flex-wrap: wrap;
`;v.button`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 20px;
  border: none;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;

  background-color: ${({$primary:e,theme:t})=>e?t.primary:t.secondary};
  color: white;

  &:hover {
    background-color: ${({$primary:e,theme:t})=>e?t.primaryHover:t.secondaryHover};
    transform: translateY(-2px);
  }
`;v.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-size: 14px;
  color: ${({theme:e})=>e.textSecondary};

  svg {
    color: ${({theme:e})=>e.warning||"#ffc107"};
  }
`;const Lje=()=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",gap:"1rem",fontSize:"18px",color:"#666"},children:[l.jsx("div",{style:{fontSize:"2rem"},children:"🔄"}),l.jsx("div",{children:"Cargando aplicación..."})]}),Wy=()=>{const{getDefaultRoute:e}=oo(),t=e();return console.log("🎯 Redirigiendo a ruta por defecto:",t),l.jsx(Qm,{to:t,replace:!0})},wa=({children:e,resource:t,action:r,requireAdmin:n=!1,fallbackRoute:a=null})=>{const{user:o}=wt(),{hasPermission:i,isAdmin:c}=oo();return o?n&&!c?(console.log("❌ Se requieren privilegios de administrador"),a?l.jsx(Qm,{to:a,replace:!0}):l.jsx(Wy,{})):t&&r&&!i(t,r)?(console.log(`❌ Sin permisos: ${t}.${r}`),a?l.jsx(Qm,{to:a,replace:!0}):l.jsx(Wy,{})):e:(console.log("❌ Usuario no autenticado, redirigiendo a login"),l.jsx(Qm,{to:"/",replace:!0}))},jn=({component:e,title:t,...r})=>l.jsx(XI,{title:t,children:l.jsx(e,{...r})});function I9(){const{user:e,loading:t,error:r}=wt();return t?l.jsx(Lje,{}):(r&&console.error("❌ Error de autenticación:",r),e?l.jsxs(KT,{children:[l.jsx(Mr,{path:"/",element:l.jsx(Wy,{})}),l.jsx(Mr,{path:"/dashboard",element:l.jsx(jn,{component:h7,title:"Panel de Control"})}),l.jsx(Mr,{path:"/tasks",element:l.jsx(wa,{resource:"tasks",action:"read",children:l.jsx(jn,{component:O9,title:"Gestión de Tareas"})})}),l.jsx(Mr,{path:"/loads",element:l.jsx(wa,{resource:"loads",action:"read",children:l.jsx(jn,{component:v7,title:"Cargas de Datos"})})}),l.jsx(Mr,{path:"/documents",element:l.jsx(wa,{resource:"documents",action:"read",children:l.jsx(jn,{component:g7,title:"Gestión de Documentos"})})}),l.jsx(Mr,{path:"/summaries",element:l.jsx(wa,{resource:"reports",action:"read",children:l.jsx(jn,{component:y7,title:"Resúmenes y Reportes"})})}),l.jsx(Mr,{path:"/analytics",element:l.jsx(wa,{resource:"analytics",action:"read",children:l.jsx(jn,{component:k9,title:"Análisis y Estadísticas"})})}),l.jsx(Mr,{path:"/historys",element:l.jsx(wa,{resource:"history",action:"read",children:l.jsx(jn,{component:A9,title:"Historial de Transferencias"})})}),l.jsx(Mr,{path:"/logs",element:l.jsx(wa,{resource:"logs",action:"read",children:l.jsx(jn,{component:aN,title:"Logs"})})}),l.jsx(Mr,{path:"/users",element:l.jsx(wa,{resource:"users",action:"read",requireAdmin:!0,children:l.jsx(jn,{component:BC,title:"Gestión de Usuarios"})})}),l.jsx(Mr,{path:"/roles",element:l.jsx(wa,{resource:"roles",action:"read",requireAdmin:!0,children:l.jsx(jn,{component:a7,title:"Gestión de Roles"})})}),l.jsx(Mr,{path:"/modules",element:l.jsx(wa,{resource:"modules",action:"read",requireAdmin:!0,children:l.jsx(jn,{component:n7,title:"Gestión de Modulos"})})}),l.jsx(Mr,{path:"/configuraciones",element:l.jsx(wa,{resource:"settings",action:"read",children:l.jsx(jn,{component:c7,title:"Configuraciones"})})}),l.jsx(Mr,{path:"/perfil",element:l.jsx(jn,{component:l7,title:"Mi Perfil"})}),l.jsx(Mr,{path:"*",element:l.jsx(Wy,{})})]}):l.jsx(KT,{children:l.jsx(Mr,{path:"/*",element:l.jsx(R9,{})})}))}const N9={body:"#fff",text:"#202020",textBtn:"#f7f6f6",textInput:"#202020",bodyRgba:"255, 255, 255",textRgba:"32,32,32",carouselColor:"#9955ff",fontxs:"0.75em",fontsm:"0.875em",fontmd:"1em",font16px:"16px",fontlg:"1.25em",fontxl:"2em",fontxxl:"3em",fontxxxl:"4em",fontButton:"0.875em",navHeight:"5rem",whiteBg:"#DAC1FF",bg:"rgb(255,255,255)",bgAlpha:"rgba(250,250,250,.3)",bg2:"rgb(245,245,245)",bg3:"#fff",primary:"rgb(52, 131, 235)",bg4:"#eaeaea",bg5:"#9046FF",bg6:"#d3cce0",bgtotal:"#EDF3FB",bgtgderecha:"#fff",colorToggle:"#F9743B",translateToggle:"-12px",linearGradiente:"rgba(189, 155, 155, 0.317), rgba(192, 150, 150, 0.451)",logorotate:"360deg",slideroffset:"0.3em",sizeoficon:"1.4em",colorSubtitle:"#2c2c2c",hover:"#5ea3f3",secondary:"#6c757d",secondaryHover:"#5a6268",info:"#17a2b8",infoHover:"#138496",danger:"#dc3545",dangerHover:"#c82333",success:"#28a745",successHover:"#218838",warning:"#ffc107",warningHover:"#e0a800",tableHeader:"#f0f0f0",tableRow:"#ffffff",tableHeaderText:"#333",border:"#ddd",cardBg:"#fff",inputBg:"#fff",hoverBg:"#f8f9fa",cardHeaderBg:"#f8f9fa",cardFooterBg:"#f8f9fa"},L9={bgtgderecha:"#21252B",body:"#202020",text:"#fff",textBtn:"#202020",textInput:"#202020",bodyRgba:"32,32,32",textRgba:"255, 255, 255",carouselColor:"#9955ff",fontxs:"0.75em",fontsm:"0.875em",fontmd:"1em",font16px:"16px",fontlg:"1.25em",fontxl:"2em",fontxxl:"3em",fontxxxl:"4em",fontButton:"0.875em",navHeight:"5rem",whiteBg:"#DAC1FF",bg:"#2C2C2E",bgAlpha:"rgba(0,0,0,.3)",bg2:"rgb(30,30,30)",bg3:"#2C2C2E",primary:"rgb(52, 131, 235)",bg4:"#4E4E50",bg5:"#BF94FF",bg6:"#f4f2f8",bgtotal:"#1C1C1E",colorToggle:"rgb(52, 131, 235)",translateToggle:"26px",linearGradiente:"rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)",logorotate:"-360deg",slideroffset:"0.3em",sizeoficon:"1.4em",colorSubtitle:"#b7b7b7",hover:"#3488e9",tableHeader:"#343a40",tableRow:"#0c1018",tableChild:"#191d27",tableHeaderText:"#f8f9fa",border:"#444",cardBg:"#2C2C2E",inputBg:"#383838",hoverBg:"#383838",cardHeaderBg:"#343a40",cardFooterBg:"#343a40"};function Bje(e){return Re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2.00488 19H22.0049V21H2.00488V19ZM2.00488 5L7.00488 8L12.0049 2L17.0049 8L22.0049 5V17H2.00488V5Z"},child:[]}]})(e)}function zje(e){return Re({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2A10.13 10.13 0 0 0 2 12a10 10 0 0 0 4 7.92V20h.1a9.7 9.7 0 0 0 11.8 0h.1v-.08A10 10 0 0 0 22 12 10.13 10.13 0 0 0 12 2zM8.07 18.93A3 3 0 0 1 11 16.57h2a3 3 0 0 1 2.93 2.36 7.75 7.75 0 0 1-7.86 0zm9.54-1.29A5 5 0 0 0 13 14.57h-2a5 5 0 0 0-4.61 3.07A8 8 0 0 1 4 12a8.1 8.1 0 0 1 8-8 8.1 8.1 0 0 1 8 8 8 8 0 0 1-2.39 5.64z"},child:[]},{tag:"path",attr:{d:"M12 6a3.91 3.91 0 0 0-4 4 3.91 3.91 0 0 0 4 4 3.91 3.91 0 0 0 4-4 3.91 3.91 0 0 0-4-4zm0 6a1.91 1.91 0 0 1-2-2 1.91 1.91 0 0 1 2-2 1.91 1.91 0 0 1 2 2 1.91 1.91 0 0 1-2 2z"},child:[]}]})(e)}function Fje(e){return Re({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5a2 2 0 0 0-2 2v4h2V5h14v14H5v-4H3v4a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"},child:[]}]})(e)}const qje="/assets/LogoCatelli_Sin_Fondo-CKDgQqz8.png",Zc={boxshadowGray:`box-shadow: -2px 14px 20px -4px rgba(0,0,0,0.4);
    -webkit-box-shadow: -2px 14px 20px -4px rgba(0,0,0,0.4);
    -moz-box-shadow: -2px 14px 20px -4px rgba(0,0,0,0.4);`,iconocorona:Bje,iconoUser:zje,iconoCerrarSesion:Fje,logoLetra:qje},B9=[{text:"Mi perfil",icono:Zc.iconoUser,tipo:"perfil"},{text:"Cerrar sesión",icono:Zc.iconoCerrarSesion,tipo:"cerrarsesion"}];class z9{constructor(){this.enabled=!1,this.permission=Notification.permission,this.initialize()}initialize(){"Notification"in window&&(this.permission=Notification.permission,this.enabled=this.permission==="granted")}async requestPermission(){if("Notification"in window)try{const t=await Notification.requestPermission();return this.permission=t,this.enabled=t==="granted",t}catch(t){return console.error("Error al solicitar permiso de notificaciones:",t),"denied"}return"denied"}isEnabled(){return this.enabled}showNotification(t,r={}){if(!this.enabled)return console.warn("Las notificaciones no están habilitadas"),!1;try{const n=new Notification(t,{icon:"/favicon.ico",...r});return r.onClick&&(n.onclick=r.onClick),!0}catch(n){return console.error("Error al mostrar notificación:",n),!1}}}new z9;class F9{constructor(){ke(this,"baseApi",ue.BASE_API);this.eventSources=new Map,this.eventHandlers=new Map,this.reconnectTimeouts=new Map,this.maxReconnectAttempts=5,this.reconnectAttempts=new Map,this.baseDelay=3e3}subscribe(t,r={}){if(!t)return console.error("Se requiere un taskId para suscribirse a eventos"),!1;this.unsubscribe(t);try{const n=`${this.baseApi}/${ue.API_ROUTERS.TRANSFER_PROGRESS}/progress/${t}`;console.log(`Conectando a SSE: ${n}`);const a=new EventSource(n);return this.reconnectAttempts.set(t,0),this.eventHandlers.set(t,r),a.onopen=()=>{console.log(`Conexión SSE establecida para tarea ${t}`),this.reconnectAttempts.set(t,0),r.connected&&r.connected()},a.onmessage=o=>{try{const i=JSON.parse(o.data);r.message&&r.message(i)}catch(i){console.error(`Error al procesar mensaje SSE: ${i.message}`)}},a.addEventListener("progress",o=>{try{const i=JSON.parse(o.data);r.progress&&r.progress(i)}catch(i){console.error(`Error al procesar evento progress: ${i.message}`)}}),a.addEventListener("status",o=>{try{const i=JSON.parse(o.data);r.status&&r.status(i)}catch(i){console.error(`Error al procesar evento status: ${i.message}`)}}),a.addEventListener("connected",o=>{try{const i=JSON.parse(o.data);r.connected&&r.connected(i)}catch(i){console.error(`Error al procesar evento connected: ${i.message}`)}}),a.onerror=o=>{if(console.error(`Error en conexión SSE para tarea ${t}:`,o),r.error&&r.error(o),a.readyState===EventSource.CLOSED){console.log(`Conexión SSE cerrada para tarea ${t}`),this.eventSources.has(t)&&(this.eventSources.get(t).close(),this.eventSources.delete(t));const i=this.reconnectAttempts.get(t)||0;if(i<this.maxReconnectAttempts){const c=this.baseDelay*Math.pow(2,i);console.log(`Intentando reconectar SSE para tarea ${t} en ${c}ms (intento ${i+1}/${this.maxReconnectAttempts})`),this.reconnectTimeouts.has(t)&&clearTimeout(this.reconnectTimeouts.get(t));const d=setTimeout(()=>{this.reconnectAttempts.set(t,i+1),this.eventHandlers.has(t)&&this.subscribe(t,this.eventHandlers.get(t)),this.reconnectTimeouts.delete(t)},c);this.reconnectTimeouts.set(t,d)}else console.warn(`Máximo número de intentos de reconexión alcanzado para tarea ${t}`),r.reconnectFailed&&r.reconnectFailed()}},this.eventSources.set(t,a),!0}catch(n){return console.error(`Error al configurar SSE para tarea ${t}:`,n),!1}}unsubscribe(t){this.reconnectTimeouts.has(t)&&(clearTimeout(this.reconnectTimeouts.get(t)),this.reconnectTimeouts.delete(t)),this.eventSources.has(t)&&(this.eventSources.get(t).close(),this.eventSources.delete(t),console.log(`Desuscrito de eventos SSE para tarea ${t}`)),this.eventHandlers.delete(t),this.reconnectAttempts.delete(t)}isSubscribed(t){return this.eventSources.has(t)}getConnectionState(t){if(!this.eventSources.has(t))return null;switch(this.eventSources.get(t).readyState){case EventSource.CONNECTING:return"connecting";case EventSource.OPEN:return"open";case EventSource.CLOSED:return"closed";default:return"unknown"}}closeAll(){this.reconnectTimeouts.forEach(t=>{clearTimeout(t)}),this.reconnectTimeouts.clear(),this.eventSources.forEach((t,r)=>{t.close(),console.log(`Cerrada conexión SSE para tarea ${r}`)}),this.eventSources.clear(),this.eventHandlers.clear(),this.reconnectAttempts.clear()}}const To=new F9;function rC(e){let t={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Formato de email inválido"):t.email="El email es obligatorio",e.password?e.password.length<6&&(t.password="La contraseña debe tener al menos 6 caracteres"):t.password="La contraseña es obligatoria",t}const Hje=Object.freeze(Object.defineProperty({__proto__:null,ActionButton:qr,AdminLayout:XI,AdminRouter:I9,App:RR,Auth:R9,AuthApi:LR,AuthContext:ox,AuthProvider:P9,Badge:t7,BotonCircular:HR,Button:LC,ConfigurationPage:c7,ConsecutiveConfigSection:KI,ConsecutiveManager:u7,ControlEmailConfig:d7,ControlPlanilla:f7,CustomerEditor:p7,DBConfigApi:BR,Dark:L9,Dashboard:h7,DataUser:QI,DatabaseConnections:m7,DesplegableUser:B9,Device:dv,DocumentsVisualization:g7,ENV:ue,EmailConfigApi:IR,EmailRecipientApi:zR,Header:JI,Icono:qR,Input:e7,ItemsDesplegable:UR,Light:N9,LinkedGroupsManager:ZI,ListaMenuDesplegable:VR,LoadsResumen:y7,LoadsTasks:v7,LoginForm:x7,LogsPage:aN,MappingEditor:oN,MappingsList:iN,ModuleManager:n7,NotificationService:z9,Pagination:r7,ProgressSseClient:F9,PromotionConfigSection:sN,ProtectedComponent:Yd,ReloadContext:_9,ReloadProvider:D9,RoleManagement:a7,ScheduleConfigButton:fv,ScheduleConfiguration:o7,Sidebar:s7,Statistics:k9,ThemeContext:xC,TransferApi:Yr,TransferHistoryLogs:A9,TransferSummaryApi:NR,TransferTasks:O9,User:tv,UserManagement:BC,UserProfile:l7,moduleApi:FR,progressClient:To,roleApi:bC,useAuth:wt,useFetchData:Yi,useForm:M9,usePermissions:oo,v:Zc,validateForm:rC},Symbol.toStringTag,{value:"Module"}));class Uje extends H.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("Error capturado por ErrorBoundary:",t,r)}render(){return this.state.hasError?l.jsx("h2",{children:"Algo salió mal. Intenta recargar la página."}):this.props.children}}YF.createRoot(document.getElementById("root")).render(l.jsx(Uje,{children:l.jsx(P9,{children:l.jsx(sH,{children:l.jsx(RR,{})})})}));
